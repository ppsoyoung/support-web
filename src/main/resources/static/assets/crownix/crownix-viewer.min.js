/*!
  * Copyright(c) 2014. M2SOFT Co., Ltd. All source codes cannot be copied without permission.
  * 
  * @version: 8.1.0.166
  * @bulid date: 2023/08/08 16:53
  */
var m2soft=m2soft||{};m2soft.ns=function(t){for(var e=t.split("."),i=m2soft,n=0,r=(e="m2soft"===e[0]?e.slice(1):e).length;n<r;n++)void 0===i[e[n]]&&(i[e[n]]={}),i=i[e[n]];return i},m2soft.ns("m2soft.crownix.Constant"),m2soft.crownix.Constant={INFO_TALK_PROTOCOL_VERSION:"1.0",SERVICE_INSERT_HANDLER:1100,SERVICE_EXPORT_HANDLER:1300,SERVICE_SECUCEN_HANDLER:1400,VIEWER_Z_INDEX:2147483545,VIEWER_OVERLAY_Z_INDEX:2147483544,WINDOW_Z_INDEX:2147483547,WINDOW_OVERLAY_Z_INDEX:2147483546,WINDOW_CLOSE_ID:"crownix-window-frame-close",CONTAINER_ID:"m2soft-crownix-container",PAGE_ID:"m2soft-crownix-page",PAGE_CLASS:"m2soft-crownix-page-frame",CANVAS_ID:"m2soft-crownix-canvas",TEXT_ID:"m2soft-crownix-text",NOTE_ID:"m2soft-crownix-note",NOTE_CLASS:"m2soft-crownix-note-container",PREVENTER_ID:"m2soft-crownix-preventer",PAGE_LOADING_ID:"crownix-page-loading",MAGNIFIER_ID:"m2soft-crownix-magnifier",FONT_FAMILY_PREFIX:"crownix-font-",RUNTIME_APPEND_POSTFIX:"_RAP_",CONTAINER_PADDING:12},m2soft.ns("m2soft.crownix.Resource"),m2soft.crownix.Resource.r={close_overlay:{ko:"닫기",ja:"閉じる",en:"Close"},first_page:{ko:"첫 페이지로 이동",ja:"最初のページ",en:"Move to First Page"},pre_page:{ko:"앞 페이지로 이동",ja:"前のページ",en:"Move to Previous Page"},next_page:{ko:"뒷 페이지로 이동",ja:"次のページ",en:"Move to Next page"},last_page:{ko:"마지막 페이지로 이동",ja:"最後のページ",en:"Move to Last page"},move_page:{ko:"페이지 이동",ja:"ページの移動",en:"Go to Page"},prev_doc:{ko:"이전 문서",ja:"前のレポート",en:"Previous Report"},next_doc:{ko:"이후 문서",ja:"次のレポート",en:"Next Report"},zoom_in:{ko:"확대",ja:"ズームイン",en:"Zoom In"},zoom_out:{ko:"축소",ja:"ズームアウト",en:"Zoom Out"},ratio:{ko:"비율",ja:"ズーム",en:"Ratio"},fit_width:{ko:"가로 맞춤",ja:"幅に合わせ",en:"Horizontal Alignment"},fit_height:{ko:"세로 맞춤",ja:"高さに合わせ",en:"Vertical Alignment"},save_pdf:{ko:"PDF 파일로 저장",ja:"PDFファイルとして保存",en:"Save as PDF File"},save_word:{ko:"Microsoft Word 파일로 저장",ja:"Microsoft Wordファイルとして保存",en:"Save as Microsoft Word File"},save_excel:{ko:"Microsoft Excel 파일로 저장",ja:"Microsoft Excelファイルとして保存",en:"Save as Microsoft Excel File"},save_ppt:{ko:"Microsoft Powerpoint 파일로 저장",ja:"Microsoft PowerPointファイルとして保存",en:"Save as Microsoft PowerPoint File"},save_hwp:{ko:"HWP 파일로 저장",ja:"HWPファイルとして保存",en:"Save as HWP File"},save_txt:{ko:"Text 파일로 저장",ja:"テキストファイルとして保存",en:"Save as Text File"},save_cell:{ko:"CELL 파일로 저장",ja:"CELLファイルとして保存",en:"Save as CELL File"},save_brl:{ko:"BRL 파일로 저장",ja:"BRLファイルとして保存",en:"Save as BRL File"},save_csv:{ko:"CSV 파일로 저장",ja:"CSVファイルとして保存",en:"Save as CSV File"},save_xls_no_doc:{ko:"문서 형식 유지하지 않음",ja:"문서 형식 유지하지 않음",en:"문서 형식 유지하지 않음"},print:{ko:"인쇄",ja:"印刷",en:"Print"},print_pdf:{ko:"PDF 파일로 변환하여 인쇄",ja:"PDFファイルに変換して印刷",en:"Convert to PDF file and Print"},print_subpage_next:{ko:"서브페이지 넘김",ja:"サブページを改ページにする",en:"Make a subpage break"},print_page_layout:{ko:"모아찍기",ja:"まとめ印刷",en:"Number of pages per sheet"},not_use:{ko:"사용안함",ja:"使用しない",en:"Disabled"},print_duplex:{ko:"양면인쇄",ja:"両面印刷",en:"Duplex Printing"},print_duplex_flip_up:{ko:"위로 넘김",ja:"短辺綴じ",en:"Turn Upward"},print_duplex_flip_sideway:{ko:"옆으로 넘김",ja:"長辺綴じ",en:"Turn Sideways"},cancel_report:{ko:"중지",ja:"中止",en:"Stop"},storage_report:{ko:"보고서",ja:"レポート",en:"Report"},parsing_error_mml:{ko:"읽을 수 없는 포맷입니다.",ja:"読み込めない形式のファイルです。。",en:"The file format is not readable."},storage_formdata:{ko:"폼 데이터",ja:"フォームデータ",en:"Form Data"},export_file:{ko:"파일을 생성 중입니다.",ja:"ファイルを作成中です。",en:"Creating file."},save_file:{ko:"파일 저장 중입니다.",ja:"ファイルに保存中です。",en:"Saving as file."},print_progress:{ko:"인쇄 준비 중입니다.",ja:"印刷準備中です。",en:"Preparing to print."},print_pdf_export:{ko:"인쇄하기 위해 PDF 파일로 변환 중입니다.",ja:"印刷するためのPDFファイルを作成中です。",en:"Converting to PDF file to print."},print_printviewer_title:{ko:"인쇄 미리 보기",ja:"印刷プレビュー",en:"Print Preview"},print_pdfviewer_title:{ko:"PDF 인쇄 미리 보기",ja:"PDF印刷プレビュー",en:"PDF Print Preview"},print_submit_preview:{ko:"제출 전 미리보기 생성중입니다.",ja:"提出する前のプレビューデータを作成中です。",en:"Converting to PDF file to print."},submit_preview_title:{ko:"미리 보기",ja:"プレビュー",en:"Preview"},insert_page_number:{ko:"페이지 번호를 입력하십시오.",ja:"ページ番号を入力してください。",en:"Please enter the page number."},submit_formfield:{ko:"제출 중입니다.",ja:"提出中です。",en:"Submitting."},submit_formfield_insert_ok:{ko:"제출을 완료했습니다.",ja:"提出を完了しました。",en:"Submission complete."},submit_formfield_insert_fail:{ko:"제출에 실패했습니다.",ja:"提出に失敗しました。",en:"Submission failed."},submit_fail_not_filled_required_form:{ko:"필수 항목을 입력하십시오.",ja:"必須項目を入力してください。",en:"Please fill in the required fields."},not_filled_required_form:{ko:"%s에 값을 입력하십시오.",ja:"%sに値を入力してください。",en:"Enter a value for　%s"},submit_button_text:{ko:"제출",ja:"提出",en:"Submit"},sign_window_title:{ko:"서명",ja:"署名",en:"Signature"},seal_window_title:{ko:"인감",ja:"印鑑",en:"Seal"},seal_window_button:{ko:"인감",ja:"印鑑",en:"Seal"},ok_button_text:{ko:"확인",ja:"OK",en:"OK"},cancel_button_text:{ko:"취소",ja:"キャンセル",en:"Cancel"},apply_button_text:{ko:"적용",ja:"適用",en:"Apply"},refresh_button_text:{ko:"초기화",ja:"初期化",en:"Reset"},pen_size:{ko:"두께",ja:"太さ",en:"Thickness"},pen_transparency:{ko:"투명도",ja:"透明度",en:"Transparency"},color:{ko:"색",ja:"色",en:"Color"},inquery:{ko:"조회 툴바",ja:"照会ツールバー",en:""},report_list:{ko:"보고서 목록",ja:"レポート一覧",en:"Report List"},report_name:{ko:"이름",ja:"ファイル名",en:"Name"},data_size:{ko:"용량",ja:"サイズ",en:"Size"},open:{ko:"열기",ja:"開く",en:"Open"},remove:{ko:"삭제",ja:"削除",en:"Delete"},saved_report_name:{ko:"저장할 보고서 명",ja:"保存するレポート名",en:"Save As.."},include_image_chart_barcode:{ko:"이미지/바코드 포함 저장",ja:"画像/バーコードを含む",en:"With Image and Barcode."},save:{ko:"저장",ja:"保存",en:"Save"},formdata_list:{ko:"폼 데이터 목록",ja:"フォームデータリスト",en:"Form Data List"},formdata_name:{ko:"이름",ja:"フォームデータ名",en:"Name"},apply_data:{ko:"적용",ja:"適用",en:"Import"},saved_formdata_name:{ko:"폼 데이터 명",ja:"保存するフォームデータ名",en:"Export As.."},check_validation:{ko:"유효성 검사",ja:"有効性検査",en:"Validataion"},extract_data:{ko:"저장",ja:"保存",en:"Export"},wrong_page_number:{ko:"잘못된 페이지 번호입니다.",ja:"ページ番号が正しくありません。",en:"The page number is incorrect."},page_not_exist:{ko:"존재하지 않는 페이지입니다.",ja:"存在しないページです。",en:"The page does not exist."},page_not_create:{ko:"생성되지 않은 페이지입니다.",ja:"作成されていないページです。",en:"This page is not created."},execute_error:{ko:"문서를 실행할 수 없습니다.",ja:"レポートは実行できませんでした。",en:"The report cannot be run."},server_connect_error:{ko:"서버와 연결할 수 없습니다.",ja:"サーバに接続できません。",en:"Cannot connect to server."},request_server_error:{ko:"서버 오류",ja:"サーバエラー",en:"Server Error"},request_abort_error:{ko:"요청이 중지되었습니다.",ja:"要求が停止されました。",en:"Request has been cancelled."},request_timeout_error:{ko:"네트워크 오류 (Timeout)",ja:"ネットワークエラー (Timeout)",en:"Network Error (Timeout)"},cross_origin_ie9_error:{ko:"다른 도메인의 원본을 접근할 수 없습니다. <br><br> IE9 사용자의 경우 <br> 인터넷옵션 > 보안설정 > 사용자 지정 수준 > 기타 > 도메인 간의 데이터 원본 액세스 를 사용으로 설정하시기 바랍니다.",ja:"異なるドメインへアクセスできません。<br><br>IE9をご利用の場合は<br>’インタネットオプション’<br>＞’セキュリティ’<br>＞’レベルのカスタマイズ’<br>＞’ドメイン間でのデータソースの<br>アクセス’<br>を有効に設定してください。",en:'Access Denied<br>The cross-origin request is <br>prohibited.<br><br>If you are using IE9, <br>go to Tools<br>->Internet Options<br>->Security tab, click on "Custom Level" button. <br>Find the Miscellaneous <br>-> Access data sources across <br>domains setting and select <br>"Enable" option.'},save_error:{ko:"파일 저장에 실패했습니다.",ja:"ファイル保存に失敗しました。",en:"Failed to save file."},save_connect_error:{ko:"파일 저장에 실패했습니다. 서버 연결 상태를 확인하십시오.",ja:"ファイルの保存に失敗しました。サーバの接続環境を確認してください。",en:"Failed to save file. Please check the server connection."},save_server_error:{ko:"서버에서 오류가 발생하여 파일 저장에 실패했습니다.",ja:"ファイル保存に失敗しました。サーバ状態または、ライセンスを確認してください。",en:"Failed to save file due to server error."},save_timeout_error:{ko:"타임 아웃이 발생하여 파일 저장에 실패했습니다.",ja:"ファイルの保存に失敗しました。サーバと通信中にタイムアウトが発生しました。",en:"Failed to save file due to timeout."},save_stateful_error:{ko:"보고서를 저장할 수 없습니다. 보고서를 저장하려면 StateLessMode(true)로 설정해야 합니다.",ja:"レポートを保存することができません。レポートを保存するには、StateLessMode(true)に設定してください。",en:"Cannot save this report. Please set StateLessMode(true) before saving the report."},print_stateful_error:{ko:"보고서를 인쇄할 수 없습니다. 보고서를 인쇄하려면 StateLessMode(true)로 설정해야 합니다.",ja:"レポートを印刷することができません。レポートを印刷するには、StateLessMode(true)に設定してください。",en:"Cannot print this report. Please set StateLessMode(true) before printing."},print_pdf_error:{ko:"PDF 파일 변환에 실패했습니다.",ja:"PDFファイル変換に失敗しました。",en:"PDF file conversion failed."},print_pdf_connect_error:{ko:"PDF 파일 변환에 실패했습니다. 서버 연결 상태를 확인하십시오.",ja:"PDFファイル変換に失敗しました。サーバへの接続環境を確認してください。",en:"PDF file conversion failed. Please check the server connection."},print_pdf_server_error:{ko:"서버에서 오류가 발생하여 PDF 파일 변환에 실패했습니다.",ja:"PDFファイルの保存に失敗しました。サーバの状況やライセンスを確認してください。",en:"PDF file conversion failed due to server error."},print_pdf_timeout_error:{ko:"타임 아웃이 발생하여 PDF 파일 변환에 실패했습니다.",ja:"タイムアウトが発生し、PDFファイル変換に失敗しました。",en:"PDF file conversion failed due to timeout."},unsupported_canvas_error:{ko:"뷰어를 실행할 수 없습니다. 캔버스를 지원하지 않는 브라우저입니다.",ja:"Viewerが実行できませんでした。キャンバス機能がサポートしていないブラウザです。",en:"The viewer cannot be run. This browser does not support the canvas tag."},download_duplicate_error:{ko:"다른 파일을 다운로드 중입니다. 다운로드 완료 후에 다시 시도 하십시오",ja:"先行のファイルがダウンロード中です。ダウンロード完了した後に再試行してください。",en:"File download in progress. Please try again after download is complete."},image_file_format_error:{ko:"지정한 파일을 삽입할 수 없습니다. 그림 필드에는 이미지 파일을 삽입해야 합니다.",ja:"指定したファイルは挿入できません。画像フィールドには画像フォーマットのみにしてください。",en:"The specified file cannot be inserted. You must insert an image file in an image field."},input_text_validate_error:{ko:"입력한 문장에서 오류가 발생했습니다. 유효한 형식으로 입력하십시오.",ja:"入力した構文が正しくありません。有効な形式で入力してください。",en:"There is an error in the sentence you entered. Please enter a valid sentence."},form_not_submit_print_error:{ko:"보고서를 인쇄할 수 없습니다. 먼저, '제출'을 실행하십시오.",ja:"レポートの印刷ができません。先に「送信」を実行してください。",en:"The report cannot be printed. Run the 'Submit' first."},form_not_submit_save_error:{ko:"보고서를 저장할 수 없습니다. 먼저, '제출'을 실행하십시오.",ja:"レポート保存に失敗しました。先行に「提出」を実行してください。",en:"The report cannot be saved. Run the 'Submit' first."},form_duplicated_id_error:{ko:"중복된 폼필드 ID가 존재합니다.",ja:"フォームフィールドIDが重複しています。IDが一意になるように設計してください。",en:"There is a duplicate form field ID."},form_submit_info_leak_error:{ko:"입력된 폼필드 데이터를 서버로 전송하기 위한 정보가 부족합니다. 데이터 전송에 필요한 정보가 올바르게 지정되어 있는지 확인하십시오.",ja:"提出するためのフォームデータの情報が不足しています。入力したフォームデータ、または必須入力フィールド情報などを確認してください。",en:"Information for sending the entered form field data to the server is insufficient. Please check if the required information for data transmission is correctly specified."},form_submit_not_found_form:{ko:"제출할 수 있는 폼이 없습니다.",ja:"提出するフォームフィールド情報がありません。",en:"There is no form that can be submitted."},unsupported_note_error:{ko:"노트 기능을 실행할 수 없습니다. SVG를 지원하지 않는 브라우저입니다.",ja:"テキストノートが利用できません。SVGをサポートしたブラウザをご利用ください。",en:"The note function cannot be run. This browser does not support the SVG."},insert_inquery_condition:{ko:"검색할 조건을 입력하십시오 (총 %d건)",ja:"検索条件を入力してください。（全 %d 項目）",en:"Please enter the values for searching.(Total %d)"},inquery_formfield_reset:{ko:"조회를 실행하면 폼 필드의 값이 모두 삭제됩니다. 계속하시겠습니까?",ja:"プレビューモードへ切り替えると入力したフォームフィールドのデータは消去されます。<br>続行しますか？",en:"When you run Lookup, the entire contents of the form fields will be deleted. Continue?"},inquery_note_reset:{ko:"조회 기능을 실행하면 노트 내용이 모두 삭제됩니다. 계속하시겠습니까?",ja:"プレビューモードへ切り替えると入力したテキストノートのデータは消去されます。<br>続行しますか？",en:"When you run Lookup, the entire content of the note will be deleted. Continue?"},inquery_calendar_format_error:{ko:"날짜 또는 시간 값이 적절하지 않습니다.",ja:"日付または時刻の書式が正しくありません。",en:"The date or time value is invalid."},image_export_disabled_before_done:{ko:"보고서를 작성 중입니다. 잠시만 기다려 주십시오",ja:"レポートを作成中です。しばらくお待ちください。",en:"Creating a report. Please wait..."},export_before_mrdgroup_done:{ko:"보고서가 모두 조회되지 않아서 사용할 수 없습니다.",ja:"보고서가 모두 조회되지 않아서 사용할 수 없습니다.",en:"보고서가 모두 조회되지 않아서 사용할 수 없습니다."},cannot_use_in_mrdgroup_mode:{ko:"해당 보고서 모드에서는 사용할 수 없습니다.",ja:"해당 보고서 모드에서는 사용할 수 없습니다.",en:"해당 보고서 모드에서는 사용할 수 없습니다."},form_allowed_only_one:{ko:"모든 보고서의 폼 ID가 동일해야 합니다.",ja:"フォームIDを１つのIDにしてください。",en:"Each form ID of all reports must be same."},unsupported_localStorage_error:{ko:"지원하지 않는 브라우저입니다.",ja:"サポートされていないブラウザです。",en:"This browser does not support."},unsupported_format:{ko:"지정한 파일 포맷은 지원하지 않습니다.",ja:"サポートされていないファイル形式です。",en:"The specified file format is not supported."},unsupported_math_field:{ko:"수식 폼 필드 관련 라이브러리인 %s의 로딩에 실패했습니다.",ja:"数式フィールドに必要な%sライブラリのロードに失敗しました。",en:"Failed to load %s, a library related to format form field."},unsupported_feature_localStorage:{ko:"지원하지 않는 기능입니다.",ja:"サポートしない機能です。",en:"This feature is not supported."},unsupported_feature_without_formedit_mode:{ko:"폼 편집 모드에서만 사용할 수 있습니다.",ja:"フォーム編集モードでのみ使用できます。",en:"Only available in Form Edit Mode."},missing_input_mml_name:{ko:"이름을 입력하십시오.",ja:"MMLデータ名を指定してください。",en:"Please enter the Name"},missing_input_formdata_name:{ko:"이름을 입력하십시오.",ja:"フォームデータ名を指定してください。",en:"Please enter the Name"},data_save_error:{ko:"파일 저장에 실패했습니다.",ja:"ファイル保存に失敗しました。",en:"Failed to save the file."},data_load_error:{ko:"데이터를 가져오는데에 실패했습니다.",ja:"データロードに失敗しました。",en:"Failed to load the data."},storage_formfield_import:{ko:"입력한 폼필드 데이터가 모두 삭제됩니다.<br>계속하시겠습니까?",ja:"入力したすべてのデータが損失されます。<br>続行しますか？",en:"All the entered form field data will be deleted.<br>Continue?"},storage_duplicated_id_confirm:{ko:"이미 존재하는 이름입니다.<br>덮어쓰겠습니까?",ja:"既に同じファイル名が存在します。<br>上書きしますか？",en:"This name already exists.<br> Overwrite?"},export_duplicate_error:{ko:"이미 변환된 문서입니다.",ja:"既に保存されたレポートです。",en:"The report has already been converted."},confirm_page_out:{ko:"저장되지 않은 변경 내용이 있습니다.",ja:"保存されてない更新内容があります。",en:"There are changes that have not been saved."},confirm_hyperlink_move:{ko:"하이퍼링크 연결 대상으로 이동하시겠습니까?",ja:"リンク先に移動しますか？",en:"Would you like to go to for hyperlink?"},formfield_event_error:{ko:"폼 필드 스크립트 실행 오류",ja:"フォームフィールドのスクリプト実行エラー",en:"Form Field Script running error"},formfield_event_disable_before_done:{ko:"보고서를 작성 중입니다. 잠시만 기다려 주십시오",ja:"レポートを作成中です。しばらくお待ちください。",en:"Creating a report. Please wait..."},formfield_not_exist:{ko:"존재하지 않는 폼필드입니다.",ja:"存在しないフォームフィールドです。",en:"The form field does not exist."},developer_console_warning:{ko:"이 기능은 개발자용으로 브라우저에서 제공되는 내용입니다. 개발자 도구에서는 Crownix Viewer의 기능을 사용할 수 없으며, 문서를 수정하면 변조된 문서로 취급됩니다.",ja:"開発者向けの機能を利用した場合、偽造されたレポートとして扱います。",en:"This is a browser feature intended for developers. In Developer tools, you cannot use the Crownix Viewer’s features. And then, if you modify this report, it will be considered a forged report."},hyperlink_full_stack_warning:{ko:"더 이상 하이퍼링크 연결 대상으로 이동할 수 없습니다.",ja:"これ以上のハイパーリンク先が存在しません。",en:"No more the hyperlink connection can be opened."},drilldown_not_allowed:{ko:"드릴다운 기능을 사용할 수 없습니다.",ja:"ドリルダウン機能を使用することができません。",en:"The Drill-Down feature cannot be used."},no_data_message:{ko:"데이터를 찾을 수 없습니다.",ja:"データが見つかりません。",en:"Unable to find data."},submit_confirm_message:{ko:"계속 진행하시겠습니까?",ja:"続行しますか？",en:"Continue?"},share_dialog_title:{ko:"스마트폼 공유하기",ja:"スマートフォームシェアリング",en:"Smart Form Sharing"},share_list_title:{ko:"공유 리스트",ja:"共有リスト",en:"Sharing List"},share_report_title:{ko:"이름",ja:"名前",en:"Name"},share_is_public:{ko:"타입",ja:"タイプ",en:"Type"},share_user_count:{ko:"인원수",ja:"人数",en:"Count"},share_join:{ko:"참여",ja:"参加",en:"Join"},share_create_title:{ko:"공유하기",ja:"共有する",en:"Sharing"},share_public:{ko:"공개",ja:"公開",en:"Public"},share_private:{ko:"비공개",ja:"非公開",en:"Private"},share_password:{ko:"패스워드",ja:"パスワード",en:"Password"},share_create:{ko:"등록",ja:"登録",en:"Add"},share_no_select_report:{ko:"공유할 보고서를 선택하십시오.",ja:"共有するレポートを選択してください。",en:"Select a sharing report."},share_need_password:{ko:"비공개 보고서입니다. 패스워드를 입력하십시오.",ja:"非公開レポートです。パスワードを入力してください。",en:"A private report. Enter a password."},share_need_report_title:{ko:"보고서 제목을 입력하십시오.",ja:"レポートのタイトルを入力してください。",en:"Enter a report title."},do_share:{ko:"스마트폼 공유하기",ja:"スマートフォームを共有する",en:"Smart Form Sharing."},do_disconnect:{ko:"스마트폼 접속 끊기",ja:"スマートフォーム共有を切断する",en:"Disconnect Smart Form Sharing."},share_disconnect_confirm:{ko:"보고서 공유를 종료하시겠습니까?",ja:"レポートの共有を停止しますか？",en:"Are your sure to exit sharing reports?"},share_do_lock:{ko:"작성 제어권 해제 상태",ja:"作成ロックの解除状態",en:"User Control Unlock"},share_do_unlock:{ko:"작성 제어권 잠금 상태",ja:"作成ロックの状態",en:"User Control Lock"},share_wrong_password:{ko:"패스워드가 틀립니다.",ja:"パスワードが正しくありません。",en:"Password is incorrect."},share_duplicated_name:{ko:"이미 등록된 제목입니다.",ja:"既に登録したタイトルです。",en:"The title is already registered."},share_session_timeout:{ko:"%s 분동안 아무동작을 하지 않았습니다. 연결을 유지하시겠습니까?",ja:"%s 分間に操作がありませんでした。接続を維持しますか？",en:"No action is made for %s mintutes. Do you want to stay connnected?"},share_undefined_room:{ko:"접속하려는 보고서가 공유 리스트에 없습니다.",ja:"アクセスしようとするレポートが共有リストから見つかりません。",en:"The report to which you want to access is not in the sharing list."},share_stop_sharing:{ko:"보고서 공유가 중단되었습니다.",ja:"レポートの共有が停止されました。",en:"The Report Sharing has been Aborted."},no_share_server_url:{ko:"스마트폼 쉐어링 서비스를 위한 서버와의 연결에 실패하였습니다. 서버 주소를 확인하십시오.",ja:"スマートフォームシェアリングサービスのサーバとの接続に失敗しました。サーバのURLを確認してください。",en:"Connecting to the server for the smart form sharing service was failed. Please check the server address."},share_not_allowed_space:{ko:"패스워드에 공백 문자를 포함할 수 없습니다.",ja:"パスワードに空白文字を含めることはできません。",en:"Password should not contain blank characters."},keep_report_layout_message:{ko:"보고서 레이아웃을 유지할까요?",ja:"レポートレイアウトを維持しますか?",en:"Do you want to keep the report layout?"},yes_button_text:{ko:"네",ja:"はい",en:"Yes"},no_button_text:{ko:"아니요",ja:"いいえ",en:"No"},not_support_file_append:{ko:"첨부 기능을 사용할 수 없는 브라우저입니다. 필수로 적용된 첨부 필드는 필수 속성이 해제됩니다.",ja:"添付ファイル機能がサポートされていないブラウザです。必須入力にチェックした添付フィールドは解除されます。",en:"This browser does not use the attachment function. For the attachment field applied as mandatory option, the mandatory property will be canceled"},attach_file_button:{ko:"파일 선택",ja:"ファイル選択",en:"Select File"},no_attach_file:{ko:"첨부된 파일이 없습니다.",ja:"添付ファイルが存在しません。",en:"There is no file attached."},file_size_over:{ko:"최대 파일 사이즈를 초과했습니다. %d MB 사이즈까지 첨부 가능 합니다.",ja:"ファイルサイズが上限に達しました。%d MB まで利用可能です。",en:"The max file size has been exceeded. Up to %d MB can be attached."},wrong_file_extension:{ko:"잘못된 파일 형식입니다. %s 형식의 파일을 첨부하십시오",ja:"正しくないファイルタイプです。%s タイプのファイルを添付してください。",en:"Wrong file type. extension. Please attach the file type of %s "},invalid_file_name:{ko:"잘못된 파일명입니다.",ja:"ファイル名が正しくありません。",en:"Wrong file name."},invalid_submit_request:{ko:"다른 사용자가 첨부한 파일은 제출할 수 없습니다.",ja:"他のユーザが添付したファイルは提出できません。",en:"The file attached by another user cannot be submitted."},mask_dialog_title:{ko:"이미지",ja:"画像",en:"image"},mask_dialog_black:{ko:"검정색",ja:"黒",en:"black color"},mask_dialog_white:{ko:"흰색",ja:"白",en:"white color"},mask_dialog_thin:{ko:"얇게",ja:"薄い",en:"thin"},mask_dialog_bold:{ko:"굵게",ja:"太い",en:"bold"},text_placeholder:{ko:"메모를 입력해주세요.",ja:"メモを入力してください。",en:"Please enter your memo"},text_attr:{ko:"속성",ja:"プロパティ",en:"Properties"},text_style:{ko:"스타일",ja:"スタイル",en:"Style"},text_font:{ko:"폰트",ja:"フォント",en:"Font"},text_outline:{ko:"테두리",ja:"罫線",en:"Outline"},text_align:{ko:"정렬",ja:"配置",en:"Align"},text_italic:{ko:"기울임",ja:"斜体",en:"Italic"},text_strike:{ko:"취소선",ja:"取り消し線",en:"Strikeout"},text_underline:{ko:"밑줄",ja:"下線",en:"Underline"},text_fontsize:{ko:"폰트 크기",ja:"フォントサイズ",en:"Font Size"},text_fontcolor:{ko:"폰트 색상",ja:"フォントの色",en:"Font Color"},text_background:{ko:"배경",ja:"背景",en:"Background"},text_leftalign:{ko:"왼쪽 정렬",ja:"左揃え",en:"Left Align"},text_centeralign:{ko:"가운데 정렬",ja:"中央揃え",en:"Horizontal Center Align"},text_rightalign:{ko:"오른쪽 정렬",ja:"右揃え",en:"Right Align"},invalid_attached_file:{ko:"첨부한 파일의 크기가 0이거나, 파일을 찾을 수 없어 제출에 실패했습니다.",ja:"添付ファイルの送信に失敗しました。添付ファイルが存在しないか、サポートされないファイルフォーマットです。",en:"You can not submitted because the attached file size is 0 or file cannot found."},textnote_format:{ko:"도형서식",ja:"図形の書式",en:"Format Shape"},page_no:{ko:"%d 페이지",ja:"%d ページ",en:"%d page"},tts_first_parag:{ko:"보고서의 처음 입니다.",ja:"最初のレポートです。",en:"This is the beginning of the report."},tts_last_parag:{ko:"보고서의 마지막 입니다.",ja:"最後のレポートです。",en:"This is the end of the report."},tts_prev_page:{ko:"페이지 업 키로 이전페이지로 이동하십시오.",ja:"PageUpキーを押して前のページに移動してください。",en:"Go to previous page with PageUP key."},tts_next_page:{ko:"PageDown키로 다음페이지로 이동하십시오.",ja:"PageDownキーを押して次のページに移動してください。",en:"Go to the next page with PageDown key."},tts_no_content:{ko:"빈 칸 입니다.",ja:"空欄です。",en:"It is empty space."},tts_report_area:{ko:"본문 입니다. 내용을 읽으려면 화살표 키를 이용하세요. 툴바를 이용하려면 쉬프트키와 탭 키를 함께 누르세요.",ja:"レポートの本文です。 内容を読むには矢印キーをお使いください。 ツールバーを利用するにはシフトキーとタブキーを同時に押してください。",en:"This is the main body. Use the arrow keys to read the contents. To use the toolbar, press the Shift key and the Tab key together."},tts_toolbar_area:{ko:"툴바 입니다. 화살표 키를 이용하여 툴바 메뉴를 이동하고 선택은 엔터키를 누르세요. 본문으로 이동하려면 탭 키를 누르세요.",ja:"ツールバーです。 矢印キーをお使い、ツールバーのメニューを選びます。選んだメニューを実行するにはEnterキーを押します。本文に移動するにはタブキーを押します。",en:"This is the toolbar. Use the arrow keys to move the toolbar menu and press the Enter key to make your selection. Press the tab key to go to the main body."},tts_form_edit_mode:{ko:"편집창에서 입력을 하시려면 화살표 키를 눌러 내용을 읽은 뒤 탭 키를 누르시고, 입력을 완료하면 이에스씨 키를 누르세요.",ja:"編集入力ウィンドウから入力するにはカーソルキーで内容を確認上、Tabキーで押してください。入力が完了するとESCキーで終了します。",en:"To write from the edit window, press the arrow key and check the contents. After read contents, press the Tab key. When you finished writing, press the ESC key to finish."},tts_button:{ko:"버튼",ja:"ボタン",en:"button"},tts_select:{ko:"선택",ja:"選択",en:"Select"},tts_release:{ko:"해제",ja:"解除",en:"Release"},tts_radio_button:{ko:"라디오 버튼",ja:"ラジオボタン",en:"RadioButton"},tts_check_box:{ko:"체크 박스",ja:"チェックボックス",en:"CheckBox"},tts_combo_box:{ko:"콤보 박스",ja:"コンボボックス",en:"Combo box"},cloud_print:{ko:"구글 클라우드 프린트",ja:"Google クラウド プリント",en:"Google Cloud Print"},text_barcode:{ko:"바코드",ja:"バーコード",en:"Barcode"},text_chart:{ko:"차트",ja:"チャート",en:"Chart"},edit_mode:{ko:"노트 모드",ja:"ノートモード",en:"Note mode"},view_mode:{ko:"노트 보이기",ja:"ノート表示",en:"Show Note"},hide_mode:{ko:"노트 숨기기",ja:"ノート非表示",en:"Hide Note"},note_pen:{ko:"펜",ja:"ペン",en:"Pen"},note_highlighter:{ko:"형광펜",ja:"蛍光ペン",en:"Highlighter"},note_text_note:{ko:"텍스트 노트",ja:"テキストノート",en:"Text Note"},note_eraser:{ko:"지우개",ja:"消しゴム",en:"Eraser"},note_erase_all:{ko:"페이지 노트 삭제",ja:"すべてテキストノートを消去",en:"Delete Page Note"},note_undo:{ko:"원래대로",ja:"元に戻す",en:"Undo"},note_redo:{ko:"다시 실행",ja:"やり直し",en:"Redo"},thumbnail:{ko:"썸네일",ja:"サムネイル",en:"Thumbnail"},table_of_contents:{ko:"목차",ja:"目次",en:"TOC"},no_table_of_contents:{ko:"실행 중인 보고서는 목차 항목이 지정되어 있지 않습니다.",ja:"実行中のレポートには目次が指定されていません。",en:"The current report has no TOC items specified."},fingerprint_connect_error:{ko:"지문 인식 장비를 찾을 수 없습니다.",ja:"指紋スキャナーが見つかりませんでした。",en:"The fingerprint scanner was not found."},fingerprint_sign_duplicated:{ko:"지문 인식 필드가 하나 이상 사용되었습니다.",ja:"1つ以上の指紋認識フィールドが使用されます。",en:"One or more fingerprint recognition fields are used."},init_formField:{ko:"%s의 폼필드 데이터가 모두 삭제됩니다. 계속하시겠습니까?",ja:"%sのフォームフィールドデータがすべて初期化されます。続けますか？",en:"The form field data of %s will be initialized.Continue?"},init_all:{ko:"폼필드 데이터가 모두 삭제됩니다. 계속하시겠습니까?",ja:"すべてのフォームフィールドデータが初期化されます。続けますか？",en:"The form field data will be initialized.Continue?"},not_init_formField:{ko:"이미 제출한 폼(%s)의 폼필드는 초기화할 수 없습니다.",ja:"既に提出されたフォーム(%s)のフォームフィールドは初期化できません。",en:"The form fields of form(%s) submitted cannot be initialized."},not_exist_form:{ko:"초기화할 수 없습니다. 폼 ID(%s)를 확인해 주십시오.",ja:"初期化できません。フォームID(%s)を確認してください。",en:"Cannot be initialized. Please check the Form ID(%s)."},not_exist_page:{ko:"초기화할 수 없습니다.페이지 번호(%s)를 확인해  주십시오.",ja:"初期化できません。ページ番号(%s)を確認してください。",en:"Cannot be initialized. Please check the Page Number(%s)."},set_statelessmode:{ko:"%s을/를 사용할 수 없습니다. %s을/를 사용하려면 StateLessMode(true)로 설정해야 합니다.",ja:"%sを使用することができません。%sを使用するには、StateLessMode(true)に設定してください。",en:"Cannot use %s. Please set StateLessMode(true) before using %s"},not_set_formId:{ko:"폼 ID가 지정되어 있지 않습니다.",ja:"フォームIDが設定されていません。",en:"The Form ID is not set."},not_set_pageNo:{ko:"페이지 번호가 지정되어 있지 않습니다.",ja:"ページ番号が設定されていません。",en:"The Page Number is not set."},agree_group_sign:{ko:"일괄 서명에 동의합니다.",ja:"同意して一括署名へ進む",en:"Agree with batch signature"},required_sign:{ko:"필수",ja:"必須",en:"Required"},not_group_signId:{ko:"서명할 수 없습니다. 그룹 ID(%s)를 확인해 주십시오.",ja:"署名できません。グループID(%s)を確認してください。",en:"Cannot sign. Please check the Group ID(%s)."},not_check_require:{ko:"필수 항목을 모두 선택해야 합니다.",ja:"すべての必須項目を選択してください。",en:"Please select all of required items."},validate_tab_title:{ko:"잘못 작성된 필드",ja:"無効なフィールド",en:"Invalid Fields"},validate_invalid_count:{ko:"(총 %d건)",ja:"(総 %d件)",en:"(Total %d)"},validate_invalid_regex:{ko:"입력되지 않은 필수 항목이나 잘못 작성된 항목이 있습니다.",ja:"入力されていない必須項目または無効な項目があります。",en:"There are blank required item or invalid fields."},validate_closed_page:{ko:"페이지를 이동할 수 없습니다.",ja:"ページを移動できません。",en:"Cannot go to this page."},include_note_data:{ko:"노트 포함 저장",ja:"ノートを含む",en:"With Note"},pen_field:{ko:"펜 필드",ja:"ペンフィールド",en:"Pen field"},form_not_exist:{ko:"존재하지 않는 폼입니다.(%s)",ja:"存在しないフォームです。(%s)",en:"The form does not exist.(%s)"},form_readonly:{ko:"해당 폼필드는 읽기전용 입니다.(%s)",ja:"選択されたフォームフィールドは読み取り専用です。(%s)",en:"The form field is for reading only.(%s)"},unsupported_download_error:{ko:"지원하지 않는 브라우저입니다.",ja:"サポートされていないブラウザです。",en:"This browser does not support."},file_not_found:{ko:"파일을 찾을 수 없습니다.",ja:"ファイルが見つかりません。",en:"file cannot be found."},image_crop_mode:{ko:"편집",ja:"編集",en:"Edit"},image_rotate_90:{ko:"90° 회전",ja:"90°回転",en:"Rotate 90°"},no_group_sign_window:{ko:"일괄 서명 창이 활성화되어 있을 경우 사용가능합니다.",ja:"一括署名が有効になった状態のみに使用できます。",en:"It can only be used when batch signing window is enabled."},share_pageSync:{ko:"페이지 동기화",ja:"ページ同期化",en:"Page synchronization"},search:{ko:"검색",ja:"検索",en:"Search"},select_all:{ko:"전체 선택",ja:"すべて選択",en:"Select All"},search_server_error:{ko:"서버에서 오류가 발생하여 검색에 실패했습니다.",ja:"サーバからエラーが返されましたので検索できませんでした。",en:"As error is occurred in the server, search was failed."},share_sync:{ko:"동기화",ja:"同期化",en:"Synchronization"},search_reg:{ko:"정규식 검색",ja:"正規表現検索",en:"RegularExpressions"},share_syncing:{ko:"동기화 중...",ja:"同期化中。。",en:"Synchronizing..."},search_reg_error:{ko:"정규식이 잘못되었습니다.",ja:"正規表現が正しくありません。",en:"RegularExpressions is incorrect."},share_unlock:{ko:"점유 잠금 해제",ja:"シェアロック解除",en:"Unlock share"},search_not_page:{ko:"검색된 페이지가 없습니다.",ja:"存在しないページです。",en:"The page does not exist."},share_hide_lock:{ko:"점유 버튼 숨김",ja:"占有ボタン非表示",en:"Occupied button hidden"},unqualified_stroke:{ko:"획수가 부족합니다.",ja:"画数が不足しています。",en:"There are not enough strokes."},record_ready_state:{ko:"음성녹음",ja:"ボイスレコーダー",en:"Voice recording"},record_no_mobile:{ko:"음성 녹음을 시작 할 수 없습니다.",ja:"ボイスレコーダーが開始できません。",en:"Voice recording cannot begin."},record_request:{ko:"녹음하기",ja:"開始",en:"Record"},play_request:{ko:"재생하기",ja:"再生",en:"Play"},record_no_file:{ko:"녹음된 파일이 없습니다.",ja:"録音したファイルがありません。",en:"There is no recording file."},record_play_fail:{ko:"녹음된 파일을 가져올 수 없습니다.",ja:"要求した録音ファイルがサーバから見つかりませんでした。",en:"Cannot import the recording file."},not_support_audio_record:{ko:"음성 녹음을 할 수 없는 브라우저입니다. 필수로 적용된 녹음 필드는 필수 속성이 해제됩니다.",ja:"ボイスレコーダーがサポートされていないブラウザです。ボイスレコーダー機能が無効になります。",en:'This browser does not support voice recording. Required recording field will discharge "Required" attribute.'},invalid_audio_submit_request:{ko:"다른 사용자가  녹음한 파일은 제출할 수 없습니다.",ja:"他のユーザより作成された録音ファイルは提出できません。",en:"You cannot submit a file recorded by another user."},next:{ko:"다음",ja:"次へ",en:"Next"},back:{ko:"이전",ja:"前へ",en:"Back"},input_type_error:{ko:"입력한 문장에서 오류가 발생했습니다. 유효한 형식으로 입력하십시오.",ja:"入力した構文が正しくありません。有効な形式で入力してください。",en:"There is an error in the sentence you entered. Please enter a valid sentence."},enable_guide:{ko:"폼 입력 가이드 활성화",ja:"フォーム入力ガイドの表示",en:"Activation of Form Input Guide"},disable_guide:{ko:"폼 입력 가이드 비활성화",ja:"フォーム入力ガイドの非表示",en:"Deactivation of Form Input Guide"},init_quick_all:{ko:"취소하면 폼 필드의 값이 모두 삭제됩니다. 계속하시겠습니까?",ja:"キャンセルすると入力したすべてデータが損失されます。続行しますか？",en:"When you Cencel, the entire contents of the form fields will be deleted. Continue?"},quick_header_title:{ko:"모바일 간편 입력",ja:"モバイル簡単入力",en:"Mobile Simple Input"},complete:{ko:"완료",ja:"完了",en:"Complete"},guide_required_input:{ko:"내용을 입력해주세요.",ja:"内容を入力してください。",en:"Please enter content."},non_ttf_font_error:{ko:"잘못된 폰트가 포함되어 있습니다. Client-Side PDF는 TTF 형식 폰트만 지원합니다.",ja:"サポートされないフォント情報が含まれています。Client-Side PDF変換する時にはＴＴＦ形式のフォントのみサポートします。",en:"Incorrect fonts are included, Client-SidePDF only supports TTF-format fonts."},save_as:{ko:"%s 파일로 저장",ja:"%s ファイルとして保存",en:"Save as %s File"},lock_mirroring:{ko:"상대방에서 편집중인 필드가 있어서 페이지를 넘길 수 없습니다.",ja:"ユーザ操作中のフィールドがあるため、改ページすることはできません。",en:"As there is a field in editing, the page cannot be turned."},refresh_all_button_text:{ko:"전체 지우기",ja:"すべて消去",en:"Clear All"},hide_columns:{ko:"열 숨기기",ja:"列の非表示",en:"Hide Columns"},hide_rows:{ko:"행 숨기기",ja:"行の非表示",en:"Hide Rows"},show_all:{ko:"전체 보이기",ja:"すべて展開",en:"Show All"},donot_hide_all_column:{ko:"열 전체를 숨길 수 없습니다.",ja:"すべて列の非表示はサポートしていません。少なくも１列以上に操作してください。",en:"You cannot hide all columns."},font_loading:{ko:"필요한 글꼴 정보를 로드하는 중입니다.",ja:"必要なフォント情報をロード中です。",en:"Loading the required font information."},input_sign:{ko:"서명해주세요",ja:"サインしてください",en:"please sign"},clear_sign:{ko:"지우기",ja:"消去",en:"clear"},infinite_scroll:{ko:"세로스크롤 ",ja:"縦スクロール",en:"Vertical Scroll"},paste_before_sign_text:{ko:"이전에 했던 서명을 붙여넣기 하시겠습니까?",ja:"入力した署名情報をコピーして再利用します。続けますか",en:"Do you want to paste the previously signed information?"},paste_before_seal_text:{ko:"이전에 했던 인감을 붙여넣기 하시겠습니까?",ja:"入力した印鑑情報をコピーして再利用します。続けますか",en:"Do you want to paste the previously sealed information?"},paste_before_sign:{ko:"붙여넣기",ja:"再利用する",en:"Paste"},input_new_sign:{ko:"입력 하기",ja:"新しく入力する",en:"Enter"},page:{ko:"페이지",ja:"ページ",en:"Page"},all:{ko:"모두",ja:"すべて",en:"All"},current_page:{ko:"현재 페이지",ja:"現在のページ",en:"Current Page"},page_range:{ko:"일부 페이지",ja:"一部のページ",en:"Partial Pages"},callate:{ko:"한 부씩 인쇄",ja:"部単位で印刷",en:"Collate"},copies:{ko:"매수",ja:"部数",en:"Copies"},invalid_page_range:{ko:"페이지 번호나 범위를 쉼표(,)로 구분하여 입력하십시오. 예) 3,5-8",ja:"ページ番号や範囲をカンマ(,)で区切って入力してください。例) 3,5-8",en:"Page number or scope can be inserted with comma(,) or hyphen(-). eg) 3,5-8"},exceed_page_range:{ko:"인쇄 범위가 잘못되었습니다. 보고서의 페이지 수를 확인하십시오",ja:"印刷範囲が正しくありません。レポートのページ数を確認してください。",en:"The print range is invalid. Please check the number of pages of the report."},share_sign_mirrorview_title:{ko:"사용자가 입력 중입니다.",ja:"ユーザから入力中です。",en:"Inputting from the user."},keep_report_layout:{ko:"보고서 레이아웃 유지",ja:"レポートレイアウトを維持",en:"Keep the report layout"},print_page_ratio:{ko:"인쇄시 페이지 배율",ja:"拡大縮小印刷",en:"ZOOM SETTING/ENLARGE OR REDUCE"},exceed_ratio_range:{ko:"배율 범위가 잘못되었습니다. (범위: 10 ~ 400)",ja:"拡大縮小範囲が正しくありません。(範囲：10～400)",en:"The scaling range is incorrect. (Range: 10-400)"},editor:{ko:"에디터",ja:"エディター",en:"editor"},invalid_note_path:{ko:"노트 그리기에 실패하였습니다.",ja:"テキストノート実行に失敗しました。",en:"Failed to execute text note."},follow_text:{ko:"따라쓰기",ja:"プレースホルダ―",en:"follow the text"},prevent_save_file:{ko:"저장이 제한된 문서입니다.",ja:"セキュリティ ポリシーにより、このレポートを保存できません。",en:"This report cannot be saved due to security policy."},option:{ko:"옵션",ja:"オプション",en:"Options"},more_option:{ko:"추가 옵션",ja:"拡張オプション",en:"More options"},file_name:{ko:"파일명",ja:"ファイル名",en:"File Name"},save_option:{ko:"저장 옵션",ja:"保存オプション",en:"Options for saving"},all_page:{ko:"전체 페이지",ja:"すべてのページ",en:"All pages"},curr_page:{ko:"현재 페이지",ja:"現在のページ",en:"Current page"},part_page:{ko:"일부 페이지",ja:"ページ指定",en:"Partial pages"},hyper_link:{ko:"하이퍼링크",ja:"ハイパーリンク",en:"Hyperlink"},include:{ko:"포함",ja:"含み",en:"included"},exclude:{ko:"포함 안함",ja:"除き",en:"not included"},chart_ratio:{ko:"CD Chart 배율(%)",ja:"CD Chart倍率(%)",en:"CD Chart ratio(%)"},barcode_img_dpi:{ko:"바코드 이미지 DPI",ja:"バーコード解像度",en:"Barcode image DPI"},save_page_size:{ko:"페이지 분할 저장",ja:"ページを分割して保存",en:"Save page partially"},user_password:{ko:"사용자암호",ja:"開くパスワード",en:"User's password"},owner_password:{ko:"소유자암호",ja:"権限パスワード",en:"Owner's password"},user_master_valid:{ko:"권한 설정을 사용하려면 사용자 암호와 관리자 암호를 다르게 설정하십시오.",ja:"パスワードによるセキュリティを適用するには開くと権限パスワードを個別の文字列で設定してください。",en:"Set user's password and admin's password differently in order to use permission settings."},copy:{ko:"복사",ja:"コピー",en:"Copy"},edit:{ko:"편집",ja:"編集",en:"Edit"},permission:{ko:"권한",ja:"権限",en:"Permission"},max_compression:{ko:"최고압축",ja:"最高圧縮",en:"Maximum compression"},high_compression:{ko:"고압축",ja:"高圧縮",en:"High compression"},low_compression:{ko:"저압축",ja:"低圧縮",en:"Low compression"},no_compression:{ko:"압축안함",ja:"圧縮しない",en:"No compression"},compression_type:{ko:"압축방식",ja:"圧縮設定",en:"Compression type"},save_text_image:{ko:"텍스트를 이미지로 저장",ja:"文字列を画像形式に保存",en:"Save texts as image"},save_svg:{ko:"차트를 svg로 저장",ja:"チャートをSVG形式に保存",en:"Save charts as SVG"},include_font_info:{ko:"글꼴 정보 포함",ja:"フォント埋め込み",en:"Include font information"},document_protect_authority:{ko:"문서 보호 및 권한 설정",ja:"パスワードによるセキュリティ",en:"Protect document and set permissions"},read_password:{ko:"읽기 암호",ja:"読み取りパスワード",en:"PW for reading"},write_password:{ko:"쓰기 암호",ja:"書き込みパスワード",en:"PW for writing"},layout:{ko:"레이아웃",ja:"レイアウト",en:"Layout"},duplicated_image:{ko:"겹친 이미지 저장",ja:"画像を合成して保存",en:"Save duplicated images"},format:{ko:"서식",ja:"書式",en:"Format"},keep_text_format:{ko:"숫자를 문자 서식으로 유지",ja:"数値データを[表示]形式に保存",en:"Keep numbers as text format"},set_numberic_text:{ko:"숫자인 셀을 텍스트 서식으로 설정",ja:"数値データを[文字列]形式に保存",en:"Set numeric cell as text format"},set_text_numberic_text:{ko:"문자형 숫자 셀을 텍스트서식으로 설정",ja:"文字列数値データを[文字列]形式に保存",en:"Set text-type numeric cell as text format"},rotate_portrait_document:{ko:"가로 문서 회전",ja:"横向き回転",en:"Rotate portrait document"},download_text:{ko:"다운로드",ja:"ダウンロード",en:"Download"},notuse_special_filename:{ko:'파일명에는 다음문자를 사용할 수 없습니다. 예) \\ / : * ? " < > |',ja:"ファイル名には次のような「\\\\/:*?”<>|」文字は使えません。",en:"Use a name that doesn't include caracters like \\/:*?<>"},etcdetail_option:{ko:"상세 옵션",ja:"詳細オプション",en:"More options"},default_option:{ko:"기본 옵션",ja:"基本オプション",en:"More options"},incorrect_page:{ko:"잘못된 페이지 범위입니다.",ja:"有効なページ範囲を指定してください。",en:"The start page or end page is incorrect."},example:{ko:"예)",ja:"例)",en:"eg)"},slide:{ko:"슬라이드",ja:"スライド",en:"Slide"},view_more:{ko:"더보기",ja:"もっと見る",en:"watch more"},fold:{ko:"접기",ja:"折りたたみ",en:"folding"},duplicated_id_error:{ko:"중복된 ID가 존재합니다.",ja:"重複されたID存在します。IDが一意になるように指定してください。",en:"There is a duplicate ID."}},m2soft.crownix.Resource.language="en",m2soft.crownix.Resource.setLanguage=function(t){if("string"==typeof t)return 0===t.indexOf("ko")?this.language="ko":0===t.indexOf("ja")?this.language="ja":this.language="en",m2soft.crownix.NativeInterface&&m2soft.crownix.NativeInterface.setLocale(this.language),m2soft.crownix.Viewer&&$.crownixdatepicker&&$.crownixdatepicker.setLanguage(this.language),this.language},m2soft.crownix.Resource.setSystemLanguage=function(){this.setLanguage(navigator.language)||this.setLanguage(navigator.browserLanguage)||this.setLanguage(navigator.systemLanguage)||this.setLanguage(navigator.userLanguage)||this.setLanguage("en")},m2soft.crownix.Resource.setSystemLanguage(),m2soft.crownix.Resource.get=function(e){try{return this.r[e][this.language]}catch(t){return window.console&&"function"==typeof window.console.log&&console.log("[Crownix HTML5 Viewer] resource not found: "+e),"RESOURCE_NOT_FOUND"}},m2soft.ns("m2soft.crownix.resource.Icon"),m2soft.crownix.resource.Icon={CLOSE_OVERLAY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-1 2) translate(1 -2)"/></g><g class="crownix-toolbar-themeB-fill" fill="#cfcfcf"><path d="M118.876 67.746c-.133 0-.236-.043-.335-.14l-8.27-8.052c-.097-.094-.138-.186-.138-.308s.041-.214.138-.308l8.27-8.052c.099-.097.202-.14.335-.14s.236.043.336.14c.096.094.137.186.137.307v4.763h7.311c.132 0 .236.044.336.14.096.094.137.186.137.308v5.684c0 .122-.041.214-.138.308-.099.096-.202.14-.335.14h-7.31v4.763c0 .122-.042.214-.138.308-.1.096-.203.139-.336.139z" transform="translate(-1 2) translate(-107.633 -49.246)"/><path class="crownix-toolbar-themeC-fill" fill="#aaa" d="M118.85 67.209v-5.174h7.783v-5.579h-7.784v-5.173l-8.178 7.963 8.178 7.963m.027 1.037c-.263 0-.492-.094-.684-.281l-8.27-8.053c-.193-.187-.289-.41-.289-.666 0-.257.096-.479.289-.666l8.27-8.053c.192-.187.42-.281.684-.281.264 0 .492.094.684.281.193.188.29.41.29.666v4.263h6.81c.263 0 .491.095.684.282.193.187.289.41.289.666v5.684c0 .257-.096.479-.289.666-.192.188-.42.281-.684.281h-6.81V67.3c0 .256-.097.478-.29.666-.192.187-.42.281-.684.281z" transform="translate(-1 2) translate(-107.633 -49.246)"/></g><path class="crownix-toolbar-themeB-fill" fill="#cfcfcf" d="M616 371h-6v1h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3h-6v1h6a4 4 0 0 0 4-4v-12a4 4 0 0 0-4-4z" transform="translate(-1 2) translate(-596 -371)"/></g></svg>',FIRST_PAGE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-13 -15) translate(13 15)"/></g><path class="crownix-toolbar-themeA-fill" fill="#eee" fill-rule="evenodd" d="M7.915 8l5.834 6.383a1.011 1.011 0 0 1 0 1.336.809.809 0 0 1-1.219 0L6.086 8.665a1.008 1.008 0 0 1 0-1.335L12.531.269a.808.808 0 0 1 1.218 0 1.007 1.007 0 0 1 0 1.335zM2.084 8l5.834 6.383a1.011 1.011 0 0 1 0 1.336.808.808 0 0 1-1.218 0L.255 8.665a1.008 1.008 0 0 1 0-1.335L6.7.269a.81.81 0 0 1 1.219 0 1.01 1.01 0 0 1 0 1.335z" transform="translate(-13 -15) translate(17.998 19.008)"/></g></svg>',PREV_PAGE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-53 -17) translate(53 17)"/></g><path class="crownix-toolbar-themeA-fill" fill="#eee" fill-rule="evenodd" d="M7.433 15.992a.8.8 0 0 0 .6-.277 1.027 1.027 0 0 0 0-1.336L2.316 8 8.03 1.6a1.026 1.026 0 0 0 0-1.335.782.782 0 0 0-1.194 0L.524 7.33a1.024 1.024 0 0 0 0 1.335l6.312 7.05a.8.8 0 0 0 .597.277z" transform="translate(-53 -17) translate(60.723 21.008)"/></g></svg>',NEXT_PAGE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-100 -23) translate(100 23)"/></g><path class="crownix-toolbar-themeA-fill" fill="#eee" fill-rule="evenodd" d="M1.391 15.992a.8.8 0 0 1-.6-.277 1.027 1.027 0 0 1 0-1.336L6.509 8 .793 1.6a1.026 1.026 0 0 1 0-1.335.783.783 0 0 1 1.194 0L8.3 7.33a1.024 1.024 0 0 1 0 1.335l-6.311 7.05a.8.8 0 0 1-.598.277z" transform="translate(-100 -23) translate(107.454 27.008)"/></g></svg>',LAST_PAGE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-105 -23) translate(105 23)"/></g><path class="crownix-toolbar-themeA-fill" fill="#eee" fill-rule="evenodd" d="M14.159 8.665l-6.444 7.05a.809.809 0 0 1-1.219 0 1.011 1.011 0 0 1 0-1.336L12.33 8 6.5 1.6a1.007 1.007 0 0 1 0-1.331.808.808 0 0 1 1.218 0l6.441 7.061a1.008 1.008 0 0 1 0 1.335zM8.58 8a.987.987 0 0 1-.253.668l-6.443 7.05a.822.822 0 0 1-.61.277.825.825 0 0 1-.61-.277 1.009 1.009 0 0 1 0-1.336L6.5 8 .665 1.6a1.007 1.007 0 0 1 0-1.335.81.81 0 0 1 1.219 0L8.327 7.33A.987.987 0 0 1 8.58 8z" transform="translate(-105 -23) translate(109.588 27.008)"/></g></svg>',MOVE_PAGE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>\t<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="10.3,19.8 10.1,28.7 21,28.7 27.5,21.5 27.5,9.7 10.3,9.7 10.3,12.45"/>\t<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="21.5,9 21.5,3.85 3.5,3.85 3.5,22.577 10.1,22.577"/>\t<polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="8.825,14.800 14.9,14.800 14.9,12.728 18.613,15.681 18.613,16.365 18.613,17.052 14.9,20.003 14.9,17.900 8.825,17.900"/>\t<polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/></g></svg>',ZOOM_IN:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.zoomin2{fill:#eee;fill-rule:evenodd}</style></defs><g id="crownix-toolbar-zoomin" transform="translate(-298 -15)"><g id="area" transform="translate(298 15)"><path fill="none" d="M0 0H24V24H0z"/></g><path class="crownix-toolbar-themeA-fill" d="M12.833 2H1.167A1.092 1.092 0 0 1 0 1a1.092 1.092 0 0 1 1.167-1h11.666A1.093 1.093 0 0 1 14 1a1.093 1.093 0 0 1-1.167 1z" class="zoomin2" transform="translate(303 26)"/><path class="crownix-toolbar-themeA-fill" d="M12.833 2H1.167A1.092 1.092 0 0 1 0 1a1.092 1.092 0 0 1 1.167-1h11.666A1.093 1.093 0 0 1 14 1a1.093 1.093 0 0 1-1.167 1z" class="zoomin2" transform="rotate(90 145.5 165.5)"/></g></svg>',ZOOM_OUT:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(21 -6) translate(-21 6)"/></g><path class="crownix-toolbar-themeA-fill" fill="#eee" fill-rule="evenodd" d="M12.833 2H1.167A1.092 1.092 0 0 1 0 1a1.092 1.092 0 0 1 1.167-1h11.666A1.093 1.093 0 0 1 14 1a1.093 1.093 0 0 1-1.167 1z" transform="translate(21 -6) translate(-16 17)"/></g></svg>',FIT_WIDTH:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>\t<rect x="1.649" y="2.531" fill="none" stroke-miterlimit="10" width="20.701" height="18.938"/>\t<polygon stroke="none" points="17.384,9.217 20.087,11.006 20.087,12.8 17.407,14.634 17.407,12.862 14.68,12.862 14.68,11.006 17.384,11.006"/>\t<polygon stroke="none" points="6.604,9.217 3.9,11.006 3.9,12.8 6.579,14.634 6.579,12.862 9.308,12.862 9.308,11.006 6.604,11.006"/></g></svg>',FIT_HEIGHT:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>\t<rect x="1.65" y="2.531" fill="none" stroke-miterlimit="10" width="20.699" height="18.938"/>\t<polygon stroke="none"  points="14.709,16.479 12.92,19.182 11.127,19.182 9.291,16.502 11.063,16.502 11.063,13.774 12.92,13.774 12.92,16.479"/>\t<polygon stroke="none"  points="14.709,7.447 12.92,4.743 11.127,4.743 9.291,7.422 11.063,7.422 11.063,10.15 12.92,10.15 12.92,7.447"/></g></svg>',SAVE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.save1{fill:none}.save3{stroke:#aaa;fill:#fff}.save4{stroke:none}</style></defs><g id="crownix-toolbar-save" transform="translate(-620 -10)"><g id="area" transform="translate(620 10)"><path d="M0 0H24V24H0z" class="save1"/></g><g class="crownix-toolbar-themeB-fill crownix-toolbar-themeC-stroke" fill="#cfcfcf" stroke="#aaa"><path d="M2 0h14a6 6 0 0 1 6 6v14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z" class="save4" transform="translate(621 11)"/><path d="M2 .5h14A5.5 5.5 0 0 1 21.5 6v14a1.5 1.5 0 0 1-1.5 1.5H2A1.5 1.5 0 0 1 .5 20V2A1.5 1.5 0 0 1 2 .5z" class="save1" transform="translate(621 11)"/></g><g class="save3 crownix-toolbar-themeC-stroke"><path d="M0 0H16V9H0z" class="save4" transform="translate(624 24)"/><path d="M0.5 0.5H15.5V8.5H0.5z" class="save1" transform="translate(624 24)"/></g><g class="save3 crownix-toolbar-themeC-stroke" transform="translate(626 11)"><path d="M0 0h12v5a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V0z" class="save4"/><rect width="11" height="5" x=".5" y=".5" class="save1" rx=".5"/></g></g></svg>',PDF:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><path fill="#E41737" stroke="#E41737" stroke-width="0.2" stroke-miterlimit="10" d="M11.549,9.045c0,0-4.489,10.481-7.78,11.242\tc0,0-0.171-1.122,2.911-3.31c0,0-3.005,1.294-3.386,3.12c0,0,0.095,0.476,1.198,0.438c0,0,0.932,0.19,4.014-4.261\tc0,0,0.026-0.04,0.075-0.114c0.44-0.678,2.685-4.181,3.216-6.049c0,0,1.121,2.929,3.252,4.47c0,0-4.311,0.605-6.624,1.641\tl-0.072,0.1c0,0,3.652-1.17,7.39-1.298c0,0,4.337,2.254,5.065,0.998v-0.057c0,0-0.999,0.442-3.867-0.999\tc0,0,4.052-0.171,3.938,0.828c0,0,0.756-0.757-1.256-1.228c0,0-2.026-0.229-3.566-0.1c0,0-2.994-1.228-3.901-5.521\tc0,0,0.563-2.839,0.505-3.923L11.92,7.847c0,0-0.711-3.41,0.236-4.223c0,0,0.392,0.1,0.563,1.027c0,0,0.458-1.084-0.563-1.17\tc0,0-0.764-0.257-0.893,1.127C11.264,4.608,10.955,7.21,11.549,9.045z"/></svg>',DOC:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><path fill="#3578BD" d="M4.362,6.428h5.344v0.806c0,0-1.35,0.469-1.444,1.481l-0.075,5.42l3.787-7.708h2.494v7.708L17.3,8.584\tc0,0,0.618-1.237-0.749-1.313l-0.039-0.844h4.127v0.769l-0.281,0.112l-5.945,11.063h-2.438l-0.056-6.881l-3.975,6.788l-2.531,0.094\tL5.394,8.697c0,0-0.169-1.257-1.031-1.388V6.428z"/></svg>',XLS:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><polygon fill="#6CA75C" points="4.625,6.294 9.688,6.294 12.238,9.032 15.088,6.294 20.188,6.294 14.863,12.069 20.188,18.106 \t14.863,18.106 11.713,14.618 9.238,17.094 4.063,17.094 9.463,11.994 "/></svg>',PPT:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><path fill="#C54C1C" d="M11.52,12V7.697c0,0,3.619-0.489,3.619,2.345c0,0,0.174,1.917-3.139,1.958H8.6v6.992h2.981v-4.533h2.668\tc0,0,4.063-0.271,3.906-4.625c0,0,0.136-4.652-5.26-4.826H6.844v2.679H8.6V12H11.52z"/></svg>',HWP:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><g>\t<path fill="#00A0E9" d="M10.689,4.796c0,0,3.411,0.366,4.589,1.954c0,0,0.458,0.326-0.119-0.549c0,0-0.889-2.117-3.075-2.321\t\tc0,0-0.794,0.021-1.25,0.57C10.834,4.451,10.49,4.77,10.689,4.796z"/>\t<path fill="#3897D4" d="M17.922,9.865c0,0-2.691-1.771-6.151,0c0,0-2.667,2.056,0.601,2.809c0,0,1.802,0.081,2.306-2.158\t\tc0,0-0.168-2.789-3.339-3.033c0,0-2.931,0.021-3.339,0.204c0,0-0.265,0.183-0.24-0.407c0,0-0.24-2.015,3.244-1.628\t\tc0,0,5.886,0.264,5.501,5.17c0,0-0.816,3.684-5.141,3.481c0,0-3.604-0.184-3.1-3.013c0,0-0.144-2.606,4.109-3.379\t\tc0,0,3.076-0.692,5.119,0.265c0,0,0.506,0.223,0.553,0.936C18.043,9.112,18.123,9.979,17.922,9.865z"/>\t<path fill="#3897D4" d="M12.516,15.484c0,0-1.177,0.142-1.177,0.997c0,0.854,0.817,0.997,1.177,0.997\t\tc0.361,0,1.153-0.144,1.153-0.978S12.516,15.484,12.516,15.484z"/>\t<path fill="#3897D4" d="M9.201,16.033v1.588c0,0,0.192,0.896,2.018,0.896s5.959-0.121,6.704-0.346\t\tc0.745-0.225-0.48,1.588-0.48,1.588s-4.493,0.61-7.448,0.244c0,0-2.283,0.184-2.835-2.076l-0.12-1.894H9.201z"/></g></svg>',TXT:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#566573" fill="#566573">T</text></g></svg>',CSV:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#6CA75C" fill="#6CA75C">C</text></g></svg>',CELL:'<?xml version="1.0" encoding="utf-8"?>\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><g>\t<path fill="none" stroke="#84919D" stroke-miterlimit="10" d="M0.503,2.992v17.425c0,0-0.196,3.083,3.278,3.083\t\tc3.473,0,16.857,0,16.857,0s2.855-0.221,2.855-2.688c0-2.463,0-17.82,0-17.82s0.234-2.487-2.645-2.487c-2.881,0-17.797,0-17.797,0\t\tS0.503,0.262,0.503,2.992z"/>\t<g>\t\t<polygon fill="#1E965A" points="17.982,17.262 15.959,17.827 15.959,12.274 17.982,12.069 \t\t"/>\t\t<polygon fill="#1E965A" points="14.586,18.234 11.742,19.077 11.742,3.26 14.586,4.053 \t\t"/>\t\t<polygon fill="#1E965A" points="10.368,19.541 6.518,20.737 6.518,8.278 10.368,8.278 \t\t"/>\t</g></g></svg>',BRL:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path fill="none" stroke="#85929E" stroke-width="1" stroke-miterlimit="10" d="M0.505,2.993v17.424c0,0-0.196,3.083,3.278,3.083\tc3.473,0,16.858,0,16.858,0s2.856-0.221,2.856-2.688c0-2.463,0-17.819,0-17.819s0.234-2.488-2.645-2.488c-2.881,0-17.797,0-17.797,0\tS0.505,0.262,0.505,2.993z"/><g><text x="12" y="19" font-family="Times, Arial" text-anchor="middle" font-weight="bold" font-size="20px" stroke="#566573" fill="#566573">B</text></g></svg>',STORAGE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.storage1{fill:none}.storage4{fill:#aaa}.storage6{stroke:none}</style></defs><g id="crownix-toolbar-storage" transform="translate(-522 -376)"><g id="area" transform="translate(522 376)"><path d="M0 0H24V24H0z" class="storage1"/></g><g class="crownix-toolbar-themeC-stroke" fill="#fff" stroke="#aaa" stroke-miterlimit="10"><path d="M2 0h13a2 2 0 0 1 2 2v18a2 2 0 0 1-2 2H0V2a2 2 0 0 1 2-2z" class="storage6" transform="translate(528 377)"/><path d="M2 .5h13A1.5 1.5 0 0 1 16.5 2v18a1.5 1.5 0 0 1-1.5 1.5H1a.5.5 0 0 1-.5-.5V2A1.5 1.5 0 0 1 2 .5z" class="storage1" transform="translate(528 377)"/></g><path fill="#fff" d="M0 0H2V3H0z" transform="translate(527 395)"/><path d="M0 0H6V1H0z" class="crownix-toolbar-themeC-fill" transform="translate(526 398)"/><g class="crownix-toolbar-themeC-stroke crownix-toolbar-themeB-fill" stroke="#aaa" stroke-miterlimit="10" stroke-width="0.908px"><path d="M3 0h2.5a.5.5 0 0 1 .5.5V8a3 3 0 0 1-3 3 3 3 0 0 1-3-3V3a3 3 0 0 1 3-3z" class="storage6" transform="translate(523 388)"/><path d="M3 .454h2.5A.046.046 0 0 1 5.546.5V8A2.546 2.546 0 0 1 3 10.546 2.546 2.546 0 0 1 .454 8V3A2.546 2.546 0 0 1 3 .454z" class="storage1" transform="translate(523 388)"/></g><path d="M0 0H9V1H0z" class="crownix-toolbar-themeC-fill" transform="translate(531 382)"/><path d="M0 0H9V1H0z" class="crownix-toolbar-themeC-fill" transform="translate(531 390)"/><path d="M0 0H10V1H0z" class="crownix-toolbar-themeC-fill" transform="translate(531 386)"/></g></svg>',PRINT:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><style>.print1{fill:none}.print2{fill:#fff;stroke:#aaa}.print4{fill:#aaa}.print5{stroke:none}</style></defs><g id="crownix-toolbar-print" transform="translate(-180 -372)"><g id="area" transform="translate(180 372)"><path d="M0 0H24V24H0z" class="print1"/></g><g class="print2 crownix-toolbar-themeC-stroke" transform="translate(184 373)"><path d="M1 0h14a1 1 0 0 1 1 1v10H0V1a1 1 0 0 1 1-1z" class="print5"/><rect width="15" height="10" x=".5" y=".5" class="print1" rx=".5"/></g><g class="crownix-toolbar-themeB-fill crownix-toolbar-themeC-stroke" fill="#cfcfcf" stroke="#aaa" transform="translate(181 380)"><rect width="22" height="13" class="print5" rx="2"/><rect width="21" height="12" x=".5" y=".5" class="print1" rx="1.5"/></g><g class="print2 crownix-toolbar-themeC-stroke" transform="translate(184 386)"><path d="M0 0h16v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V0z" class="print5"/><rect width="15" height="8" x=".5" y=".5" class="print1" rx=".5"/></g><path class="crownix-toolbar-themeC-fill" d="M0 0H18V1H0z" class="print4" transform="translate(183 386)"/><path class="crownix-toolbar-themeC-fill" d="M0 0H10V1H0z" class="print4" transform="translate(187 389)"/></g></svg>',PRINT_PDF:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><style>.pdf1{fill:none}.pdf2{fill:#fff;stroke:#aaa}.pdf4{fill:#aaa}.pdf6{stroke:none}</style></defs><g id="crownix-toolbar-print_pdf" transform="translate(-180.333 -372.333)"><g id="area" transform="translate(180.333 372.333)"><path d="M0 0H24V24H0z" class="pdf1"/></g><g class="crownix-toolbar-themeC-stroke pdf2" transform="translate(184.333 373.333)"><path d="M1 0h14a1 1 0 0 1 1 1v10H0V1a1 1 0 0 1 1-1z" class="pdf6"/><rect width="15" height="10" x=".5" y=".5" class="pdf1" rx=".5"/></g><g class="crownix-toolbar-themeC-stroke crownix-toolbar-themeB-fill" fill="#cfcfcf" stroke="#aaa" transform="translate(181.333 380.333)"><rect width="22" height="12" class="pdf6" rx="2"/><rect width="21" height="11" x=".5" y=".5" class="pdf1" rx="1.5"/></g><g class="crownix-toolbar-themeC-stroke pdf2" transform="translate(184.333 386.333)"><path d="M0 0h16v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V0z" class="pdf6"/><rect width="15" height="8" x=".5" y=".5" class="pdf1" rx=".5"/></g><path class="crownix-toolbar-themeC-fill" d="M0 0H18V1H0z" class="pdf4" transform="translate(183.333 386.333)"/><path class="crownix-toolbar-themeC-fill" d="M0 0H10V1H0z" class="pdf4" transform="translate(187.333 389.333)"/><g fill="#ec1c1c"><path d="M351.28 952.156c-.1 0-.202-.028-.301-.082-.213-.117-.296-.355-.203-.58.073-.174.203-.29.32-.382.281-.217.604-.367.885-.49.023-.01.048-.032.058-.052.206-.376.383-.795.575-1.356.001-.005 0-.024-.007-.04-.13-.32-.196-.573-.211-.825-.01-.14 0-.289.029-.432.04-.208.179-.348.38-.382.034-.006.068-.009.1-.009.172 0 .318.08.423.228.136.193.154.416.153.629-.01.258-.07.558-.19.946-.016.047-.01.065.007.088.12.156.238.312.356.468l.16.212c.009.01.01.01.019.01l.018-.001c.176-.026.385-.052.595-.052.14 0 .267.011.39.034.136.025.276.074.404.142.185.098.278.296.236.505-.04.198-.184.333-.397.372-.072.012-.145.019-.218.019-.22 0-.44-.057-.672-.174-.14-.07-.269-.16-.393-.246l-.09-.062c-.015-.01-.032-.02-.04-.02h-.008c-.124.034-.249.066-.373.099-.204.053-.415.108-.622.165-.014.004-.039.024-.05.044-.188.31-.4.662-.717.933-.106.09-.24.172-.4.244-.069.031-.142.047-.217.047zm-.098-.479c.01.003.024.005.049.006.005-.001.015-.006.037-.02.163-.107.285-.248.397-.406-.17.09-.33.198-.458.346-.02.024-.024.034-.025.036v.038zm3.055-1.184c.165.1.314.153.472.173h.015c.033 0 .075-.01.108-.029.025-.013.028-.034.029-.046 0-.01-.003-.036-.033-.052-.031-.017-.072-.03-.115-.036-.09-.012-.182-.018-.279-.018-.063 0-.128.002-.197.008zm-1.358-2.635v.1c-.008 0-.032.026-.043.09-.03.17-.014.336.024.49.037-.166.067-.327.05-.49-.005-.055-.02-.09-.031-.09v-.1z" class="pdf6" transform="translate(-160.766 -572.533)"/><path d="M352.906 947.626c-.027 0-.055.003-.084.008-.166.028-.268.143-.3.302-.025.133-.035.272-.027.407.018.276.1.537.204.792.014.034.02.079.01.11-.161.472-.343.935-.582 1.373-.022.04-.064.077-.106.096-.303.132-.6.274-.863.477-.12.094-.23.198-.29.342-.073.176-.008.362.159.453.081.045.167.07.252.07.06 0 .119-.012.176-.038.133-.06.265-.135.376-.23.295-.251.497-.579.695-.907.024-.039.069-.077.11-.089.332-.091.665-.176.997-.264.012-.003.023-.005.034-.005.034 0 .062.016.095.038.154.105.305.218.471.302.2.1.409.163.628.163.066 0 .133-.006.2-.018.175-.031.286-.137.317-.293.032-.156-.03-.315-.185-.397-.117-.062-.247-.108-.376-.132-.124-.023-.247-.032-.37-.032-.195 0-.389.023-.582.05l-.032.003c-.041 0-.071-.015-.098-.05l-.516-.68c-.043-.056-.045-.11-.024-.178.097-.313.176-.63.186-.917 0-.23-.024-.412-.135-.57-.086-.123-.203-.186-.34-.186m-.033 1.272c-.112-.282-.19-.566-.136-.868.02-.11.074-.172.142-.172h.001c.07.002.118.061.13.18.022.22-.032.432-.08.644-.017.073-.038.144-.057.216m-.112 1.552l.288-.695.396.518-.684.177m1.963.316l-.028-.001c-.273-.034-.504-.164-.735-.34.164-.026.32-.04.473-.04.098 0 .195.006.292.019.052.007.105.022.15.047.11.06.114.215.004.274-.046.025-.103.041-.156.041m-3.49 1.018h-.002c-.044-.002-.1-.01-.127-.037-.024-.025-.026-.08-.022-.122.003-.03.027-.062.048-.087.218-.255.515-.39.813-.525-.173.274-.342.55-.62.733-.028.017-.06.038-.09.038m1.672-4.358c.202 0 .38.096.504.27.152.217.172.458.17.687v.006c-.009.265-.07.573-.194.97l-.002.006.35.46.134.177c.176-.025.376-.048.578-.048.146 0 .279.012.407.036.147.027.297.08.433.151.226.12.34.36.288.613-.048.241-.222.405-.477.45-.078.015-.157.022-.236.022-.236 0-.47-.06-.717-.185-.146-.073-.278-.164-.405-.253l-.086-.059-.343.09c-.2.053-.407.107-.61.163l-.003.004c-.19.315-.407.674-.736.955-.113.096-.256.184-.424.26-.082.036-.168.055-.258.055-.117 0-.234-.032-.348-.095-.255-.14-.36-.436-.247-.705.082-.197.23-.33.351-.423.29-.224.62-.377.906-.503.003-.001.01-.007.012-.01.198-.364.372-.77.558-1.315-.132-.327-.199-.589-.215-.85-.01-.147.001-.305.03-.457.049-.248.221-.42.463-.461.04-.007.079-.01.117-.01z" transform="translate(-160.766 -572.533)"/></g></g></svg>',INQUERY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-332 -7) translate(332 7)"/></g><g fill="#fff"><path d="M10 19.5C4.762 19.5.5 15.238.5 10S4.762.5 10 .5s9.5 4.262 9.5 9.5-4.262 9.5-9.5 9.5z" transform="translate(-332 -7) translate(333 8)"/><path class="crownix-toolbar-themeC-fill" fill="#aaa" d="M10 1c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9m0-1c5.523 0 10 4.477 10 10s-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0z" transform="translate(-332 -7) translate(333 8)"/></g><path class="crownix-toolbar-themeC-stroke" fill="none" stroke="#aaa" stroke-width="2px" d="M0 0L4.632 5.053" transform="translate(-332 -7) translate(348.825 24.947)"/><path class="crownix-toolbar-themeC-fill" fill="#aaa" d="M4.616.461a.5.5 0 0 1 .768 0L9.317 5.18a.5.5 0 0 1-.385.82H1.068a.5.5 0 0 1-.384-.82z" transform="translate(-332 -7) rotate(180 174.114 11)"/></g></svg>',CANCEL:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g><g><path fill="none" d="M0 0H24V24H0z" transform="translate(-298 -15) translate(298 15)"/></g><path class="crownix-toolbar-themeB-fill" fill="#d9d9d9" d="M504.348 391.567a10.5 10.5 0 1 1 14.85 0 10.432 10.432 0 0 1-14.85 0zm.856-12.4a8.24 8.24 0 0 0 11.546 11.546zm1.591-1.591l11.546 11.546a8.24 8.24 0 0 0-11.541-11.548z" transform="translate(-298 -15) translate(-201.77 -357.14)"/><path class="crownix-toolbar-themeC-fill" fill="#737373" d="M518.844 377.072a10 10 0 1 0 0 14.142 10 10 0 0 0 0-14.142m-.465 12.793l-12.329-12.329a8.74 8.74 0 0 1 12.329 12.329m-13.213-11.445l12.329 12.329a8.74 8.74 0 0 1-12.329-12.329m14.385-2.055a11 11 0 1 1-7.778-3.222 11.012 11.012 0 0 1 7.778 3.222zm-1.277 11.98a7.739 7.739 0 0 0-10.7-10.7zm-2.3 2.3l-10.7-10.705a7.739 7.739 0 0 0 10.7 10.705z" transform="translate(-298 -15) translate(-201.77 -357.14)"/></g></svg>',LEFT_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="100%" viewBox="0 0 15 32" preserveAspectRatio="none" enable-background="new 0 0 15 32" xml:space="preserve"><g>\t<polyline class="crownix-toolbar-themeA-stroke" fill="none" stroke-width="1.2" stroke-miterlimit="10" points="11.375,25.656 2.625,16.031 11.375,6.344"/></g></svg>',RIGHT_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="100%" viewBox="0 0 15 32" preserveAspectRatio="none" enable-background="new 0 0 15 32" xml:space="preserve"><g>\t<polyline class="crownix-toolbar-themeA-stroke" fill="none" stroke-width="1.2" stroke-miterlimit="10" points="3.625,25.656 12.375,16.031 3.625,6.344"/></g></svg>',TOP_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="15px" viewBox="0 0 32 15" preserveAspectRatio="none" enable-background="new 0 0 32 15" xml:space="preserve"><g>\t<polyline class="crownix-toolbar-themeA-stroke" fill="none" stroke-width="1.2" stroke-miterlimit="10" points="25.656,11.375 16.031,2.625 6.344,11.375"/></g></svg>',BOTTOM_ITEM_MARK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="15px" viewBox="0 0 32 15" preserveAspectRatio="none" enable-background="new 0 0 32 15" xml:space="preserve"><g>\t<polyline class="crownix-toolbar-themeA-stroke" fill="none" stroke-width="1.2" stroke-miterlimit="10" points="25.656,3.625 16.031,12.375 6.344,3.625"/></g></svg>',SEARCH:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.search1{fill:none}</style></defs><g id="crownix-toolbar-search" transform="translate(-332 -7)"><g id="area" transform="translate(332 7)"><path d="M0 0H24V24H0z" class="search1"/></g><g class="crownix-toolbar-themeC-stroke" fill="#fff" stroke="#aaa" transform="translate(333 8)"><circle cx="10" cy="10" r="9.5" stroke="none"/><circle cx="10" cy="10" r="9.5" class="search1"/></g><path class="crownix-toolbar-themeC-stroke" fill="none" stroke="#aaa" stroke-width="2px" d="M0 0L5 5.053" transform="translate(348.825 24.947)"/></g></svg>',VIEW_MODE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle fill="#318ABB" cx="17.5" cy="17.5" r="17.5"/><g>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M9.268,26.041c0,1.85,2.313,1.711,2.313,1.711 s11.332,0,14.015,0s2.289-2.543,2.289-2.543V14.688l-8.44-8.441h-8.049c0,0-2.358,0.046-2.358,2.636s0,6.614,0,6.614"/>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M19.12,6.246v6.222c0,0,0.046,2.034,2.566,2.034 s6.013,0,6.013,0"/>\t<path fill="#FFFFFF" d="M3.378,20.931v-0.356c0,0,2.617-4.343,6.174-4.343h0.533h0.533c3.557,0,6.174,4.343,6.174,4.343v0.356 v-0.184v0.354c0,0-2.617,4.346-6.174,4.346h-0.533H9.552c-3.557,0-6.174-4.346-6.174-4.346v-0.354 M10.085,17.416 c-1.891,0-3.423,1.532-3.423,3.424c0,1.89,1.532,3.422,3.423,3.422s3.423-1.532,3.423-3.422 C13.508,18.948,11.976,17.416,10.085,17.416z M10.121,18.833c-1.107,0-2.005,0.899-2.005,2.007c0,1.105,0.897,2.005,2.005,2.005 c1.108,0,2.005-0.899,2.005-2.005C12.126,19.732,11.229,18.833,10.121,18.833z"/>\t<path fill="#FFFFFF" d="M13.178,10.655c-3.953,3.335,1.513,4.813,4.484,4.934c-0.118-0.435-0.235-0.87-0.354-1.305c-1.255,0.821-5.835,5.793-2.786,7.007c1.405,0.559,2.96-0.313,4.224-0.899c1.099-0.511,2.224-0.963,3.394-1.278c3.602-0.972,1.057,3.864,0.276,4.842c-0.557,0.698,0.427,1.695,0.99,0.99c1.193-1.496,3.894-7.354-0.248-7.315c-1.811,0.017-3.496,0.809-5.118,1.552c-1.116,0.511-3.837,1.719-2.574-0.748c0.556-1.083,1.513-2.265,2.548-2.942c0.586-0.383,0.354-1.276-0.354-1.305c-1.2-0.048-5.783-0.611-3.494-2.543C14.859,11.062,13.864,10.077,13.178,10.655L13.178,10.655z"/></g></svg>',HIDE_MODE:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle fill="#39579a" cx="17.5" cy="17.5" r="17.5"/><g>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M9.268,26.041c0,1.85,2.313,1.711,2.313,1.711 s11.331,0,14.013,0s2.289-2.543,2.289-2.543V14.687l-8.44-8.441h-8.047c0,0-2.358,0.046-2.358,2.636c0,2.591,0,6.614,0,6.614"/>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M19.119,6.246v6.222c0,0,0.046,2.034,2.566,2.034 s6.013,0,6.013,0"/>\t<path fill="#FFFFFF" d="M3.379,20.931v-0.356c0,0,2.617-4.343,6.173-4.343h0.533h0.534c3.557,0,6.173,4.343,6.173,4.343v0.356 v-0.184v0.354c0,0-2.616,4.346-6.173,4.346h-0.534H9.552c-3.556,0-6.173-4.346-6.173-4.346v-0.354 M10.085,17.415 c-1.891,0-3.423,1.533-3.423,3.425c0,1.889,1.532,3.422,3.423,3.422s3.424-1.533,3.424-3.422 C13.509,18.948,11.976,17.415,10.085,17.415z M12.31,20.174H7.676v1.576h4.634V20.174z"/></g></svg>',NORMAL_PEN:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">\t<g class="crownix-icon-pencolor" >\t\t<polygon points="7.795,25.631 11.279,23.791 7.721,21.369"/>\t\t<rect x="10.375" y="25.875" width="17.563" height="2"/>\t</g>\t<g>\t\t<path d="M14.597,8.838l2.698,1.603l-1.832,1.376c0.941-1.275-0.014-1.932-0.014-1.932 c-1.162-0.861-1.981,0.877-1.981,0.877L14.597,8.838z"/>\t\t<path fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" d="M13.822,21.635 c-1.508,1.477-2.871,0.477-2.871,0.477l-2.348-1.619v-2.62l6.849-11.308c0,0,1.472-2.369,4.578-0.756c0,0,2.785,1.453,1.365,4.383 L13.822,21.635z"/>\t\t<line fill="none" stroke="#FFFFFF" stroke-width="1.3" stroke-miterlimit="10" x1="14.402" y1="8.294" x2="20.352" y2="11.965"/>\t\t<path d="M12.344,19.573c-0.273,0.438-0.793,0.606-1.161,0.378l0,0c-0.366-0.226-0.442-0.766-0.168-1.202 l5.277-8.419c0.271-0.438,0.793-0.607,1.16-0.38l0,0c0.366,0.229,0.441,0.768,0.168,1.204L12.344,19.573z"/>\t\t<path d="M17.754,10.626l2.699,1.603l-1.832,1.376c0.939-1.276-0.016-1.932-0.016-1.932 c-1.16-0.861-1.98,0.878-1.98,0.878L17.754,10.626z"/>\t</g></g></svg>',HIGHLIGHTER_PEN:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><circle fill="#FFFFFF" cx="17.45" cy="5.25" r="0.79"/><g class="crownix-icon-highlightercolor">\t<rect x="10.375" y="25.875" width="17.563" height="2"/>\t<polygon points="5.147,25.52 8.643,25.52 9.804,24.465 9.804,23.783 6.91,22.48"/></g><g>\t<polygon fill="#FFFFFF" points="7.34,21.964 9.891,23.19 10.466,23.212 13.025,21.651 13.06,20.657 7.828,17.188 7.49,17.67"/>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.6" stroke-miterlimit="10" d="M14.799,6.273l-5.037,7.828 c0,0-1.416,1.823,0.142,2.817l2.625,1.81c0,0,1.87,1.584,3.415-1.148c1.546-2.729,4.371-7.78,4.371-7.78s1.37-2.321-0.81-3.36 l-1.912-1.176C18.115,5.546,16.215,4.261,14.799,6.273z"/></g></svg>',TEXT:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><g>\t<g id="Ellipse_1">\t\t<g>\t\t\t<circle cx="17.5" cy="17.5" r="17.5"/>\t\t</g>\t</g>\t\t\t<image overflow="visible" width="21" height="22" id="Layer_66_copy_xA0_Image" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAWCAYAAAAvg9c4AAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFVJREFUeNpi/A8EDNQG1DYUbB4tXMrEQAPAQq2gYAQCmoXp4PQ+ipdpmaRo4n2QI0n2Pk4v4wpTYjQM7tgn1QdDx/tDx9ChU6DQxFBGangfPSkCBBgAtpM0FSvAneQAAAAASUVORK5CYII=" transform="matrix(1 0 0 1 7.0005 7)">\t</image>\t<g id="Rectangle_5_copy">\t\t<g>\t\t\t<polygon fill="#FFFFFF" points="29.348,9.015 19.828,18.534 18.002,22.088 21.576,20.319 31.113,10.78 \t\t\t"/>\t\t</g>\t</g>\t<g>\t\t\t\t\t<rect x="25.137" y="23.795" transform="matrix(-0.7076 -0.7066 0.7066 -0.7076 24.9548 63.6009)" fill="#FFFFFF" width="0.999" height="5.684"/>\t\t<rect x="22.985" y="23.939" fill="#FFFFFF" width="5.014" height="0.999"/>\t\t<rect x="22.986" y="24.016" fill="#FFFFFF" width="1" height="4.983"/>\t</g></g></svg>',ERASER:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g stroke="#FFFFFF">\t<path fill="none" stroke-width="1.5" stroke-miterlimit="10" d="M16.452,6.824c0,0,2.003-2.438,5.795,0 c3.791,2.437,4.278,2.708,4.278,2.708s1.572,0.868,1.572,3.033c0,0,0.162,0.975-0.922,2.763 c-1.083,1.787-6.933,12.077-6.933,12.077s-1.19,1.842-2.6,1.842h-0.921c0,0-1.517,0.163-2.762-0.649 c-1.865-1.218-1.862-1.221-5.188-3.427c0,0-0.878-0.635-0.878-1.719s0-0.866,0-0.866s0-1.571,1.138-3.467 C10.169,17.223,16.452,6.824,16.452,6.824z"/>\t<line fill="none" stroke-width="1.5" stroke-miterlimit="10" x1="10.158" y1="17.5" x2="21.738" y2="24.787"/></g></svg>',ERASE_ALL:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g stroke="#FFFFFF">\t<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M26.206,26.041c0,1.85-2.313,1.711-2.313,1.711 s-11.333,0-14.015,0s-2.289-2.543-2.289-2.543V14.688l8.44-8.441h8.049c0,0,2.358,0.046,2.358,2.636s0,2.59,0,2.59"/>\t<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M16.353,6.246v6.222c0,0-0.046,2.034-2.566,2.034 s-6.013,0-6.013,0"/>\t<g>\t\t<path fill="none" stroke-width="1.3" stroke-miterlimit="10" d="M25.298,13.73c0,0,0.953-1.158,2.752,0 c1.801,1.156,2.032,1.286,2.032,1.286s0.745,0.41,0.745,1.44c0,0,0.077,0.463-0.437,1.311c-0.513,0.849-3.292,5.736-3.292,5.736 s-0.565,0.874-1.234,0.874h-0.438c0,0-0.72,0.077-1.312-0.309c-0.886-0.579-0.884-0.58-2.465-1.627c0,0-0.417-0.301-0.417-0.817 c0-0.514,0-0.411,0-0.411s0-0.745,0.54-1.645C22.314,18.668,25.298,13.73,25.298,13.73z"/>\t\t<line fill="none" stroke-width="1.3" stroke-miterlimit="10" x1="22.31" y1="19.142" x2="27.81" y2="22.425"/>\t</g></g><path fill="#FFFFFF" d="M19.967,13.271c1.317,1.109-1.48,1.333-2.235,1.363c-0.708,0.029-0.939,0.921-0.354,1.305c0.595,0.389,1.049,1.006,1.448,1.579c0.923,1.328,0.086,1.162-0.941,0.705c-1.075-0.48-2.319-1.217-3.518-1.228\tc-3.318-0.032-1.992,3.791-0.724,5.38c0.563,0.705,1.547-0.293,0.99-0.99c-0.558-0.699-1.146-1.689-1.02-2.619c0.131-0.966,2.644,0.262,2.974,0.396c1.026,0.42,2.213,1.221,3.352,0.768c2.362-0.939-0.806-4.514-1.854-5.2\tc-0.119,0.435-0.236,0.87-0.354,1.305c2.201-0.089,6.124-1.312,3.225-3.754C20.271,11.703,19.275,12.688,19.967,13.271L19.967,13.271z"/></svg>',UNDO:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">\t<polyline points="14.906,10.406 14.627,10.406 14.627,14.02 9.394,10.638 14.582,6.422 14.627,10.406"/>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.9" stroke-miterlimit="10" d="M17.944,26.6 c0.078-0.002,5.662-2.434,5.662-8.292c0-8.152-9.125-7.829-9.125-7.829h-0.279l0,0"/>\t<circle cx="17.907" cy="26.623" r="0.954"/></g></svg>',REDO:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><circle cx="17.5" cy="17.5" r="17.5"/><g fill="#FFFFFF">\t<polyline points="19.094,10.406 19.373,10.406 19.373,14.02 24.605,10.638 19.418,6.422 19.373,10.406"/>\t<path fill="none" stroke="#FFFFFF" stroke-width="1.9" stroke-miterlimit="10" d="M16.056,26.6 c-0.078-0.002-5.662-2.434-5.662-8.292c0-8.152,9.125-7.829,9.125-7.829h0.278l0,0"/>\t<circle cx="16.093" cy="26.623" r="0.954"/></g></svg>',HOVER_FILTER:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="0px" height="0px" xml:space="preserve">\t<defs>\t\t<filter id="hover">\t\t\t<desc>hover 효과를 위한 필터</desc>\t\t\t<feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur" />\t\t\t<feMerge>\t\t\t\t<feMergeNode in="blur"/>\t\t\t\t<feMergeNode in="SourceGraphic"/>\t\t\t</feMerge>\t\t</filter>\t\t<filter id="active">\t\t\t<desc>mousedown 효과를 위한 필터</desc>\t\t\t<feGaussianBlur in="SourceGraphic" stdDeviation="6" result="active" />\t\t\t<feMerge>\t\t\t\t<feMergeNode in="active"/>\t\t\t\t<feMergeNode in="SourceGraphic"/>\t\t\t</feMerge>\t\t</filter>\t</defs></svg>',PREV_DOC:'<svg version="1.1" id="레이어_1" class="crownix-toolbar-themeA-stroke" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/> <polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="18.613,14.800 12.538,14.800 12.538,12.728 8.825,15.681 8.825,16.365 8.825,17.052 12.538,20.003 12.538,17.900 18.613,17.900"/> <polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',NEXT_DOC:'<svg version="1.1" id="레이어_1" class="crownix-toolbar-themeA-stroke" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/> <polygon fill="none" stroke-width="1.0" stroke-miterlimit="10" points="8.825,14.800 14.9,14.800 14.9,12.728 18.613,15.681 18.613,16.365 18.613,17.052 14.9,20.005 14.9,17.933 8.825,17.933"/> <polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',SHARE_CONNECT:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.share2{fill:#aaa}.share3{fill:#cfcfcf}.share4,.share5{stroke:none}.share5{fill:#aaa}</style></defs><g id="crownix-toolbar-share" transform="translate(-36 -12)"><g id="area" transform="translate(36 12)"><path fill="none" d="M0 0H24V24H0z"/></g><path d="M136.339 96.648a1.016 1.016 0 0 1-.861-.446.834.834 0 0 1 .37-1.2l9.184-4.668a1.055 1.055 0 0 1 1.35.33.834.834 0 0 1-.37 1.2l-9.184 4.668a1.078 1.078 0 0 1-.489.116z" class="crownix-toolbar-themeC-fill" transform="translate(-92.447 -73.089)"/><g class="crownix-toolbar-themeB-fill"><path d="M339.793 23.75c-1.999 0-3.625-1.626-3.625-3.625s1.626-3.625 3.625-3.625 3.625 1.626 3.625 3.625-1.626 3.625-3.625 3.625z" class="share4" transform="translate(-284.918 -3)"/><path d="M339.793 17c-1.723 0-3.125 1.402-3.125 3.125s1.402 3.125 3.125 3.125 3.125-1.402 3.125-3.125S341.516 17 339.793 17m0-1c2.278 0 4.125 1.847 4.125 4.125s-1.847 4.125-4.125 4.125-4.125-1.847-4.125-4.125S337.515 16 339.793 16z" class="crownix-toolbar-themeC-fill" transform="translate(-284.918 -3)"/></g><path d="M145.544 272.652a1.078 1.078 0 0 1-.489-.116l-9.184-4.668a.834.834 0 0 1-.37-1.2 1.055 1.055 0 0 1 1.35-.33l9.184 4.662a.834.834 0 0 1 .37 1.2 1.018 1.018 0 0 1-.861.452z" class="crownix-toolbar-themeC-fill" transform="rotate(-6.02 -2193.45 1026.119)"/><g class="crownix-toolbar-themeB-fill"><path d="M339.793 365.082c-1.999 0-3.625-1.626-3.625-3.625s1.626-3.625 3.625-3.625 3.625 1.626 3.625 3.625c0 2-1.626 3.625-3.625 3.625z" class="share4" transform="translate(-284.918 -330.582)"/><path d="M339.793 358.332c-1.723 0-3.125 1.402-3.125 3.125s1.402 3.125 3.125 3.125 3.125-1.402 3.125-3.125-1.402-3.125-3.125-3.125m0-1c2.278 0 4.125 1.846 4.125 4.125 0 2.278-1.847 4.125-4.125 4.125s-4.125-1.847-4.125-4.125c0-2.279 1.847-4.125 4.125-4.125z" class="crownix-toolbar-themeC-fill" transform="translate(-284.918 -330.582)"/></g><g class="crownix-toolbar-themeB-fill"><path d="M41.125 194.418c-1.999 0-3.625-1.626-3.625-3.625s1.626-3.625 3.625-3.625 3.625 1.626 3.625 3.625-1.626 3.625-3.625 3.625z" class="share4" transform="translate(0 -166.335)"/><path d="M41.125 187.668c-1.723 0-3.125 1.402-3.125 3.125s1.402 3.125 3.125 3.125 3.125-1.402 3.125-3.125-1.402-3.125-3.125-3.125m0-1c2.278 0 4.125 1.847 4.125 4.125s-1.847 4.125-4.125 4.125S37 193.07 37 190.793s1.847-4.125 4.125-4.125z" class="crownix-toolbar-themeC-fill" transform="translate(0 -166.335)"/></g></g></svg>',SHARE_DISCONNECT:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.cancel2{fill:#aaa}.cancel3,.cancel4{fill:#cfcfcf}.cancel5,.cancel6{stroke:none}.cancel6{fill:#aaa}</style></defs><g id="crownix-toolbar-share_cancel" transform="translate(-36 -12)"><g id="area" transform="translate(36 12)"><path fill="none" d="M0 0H24V24H0z"/></g><path d="M136.339 96.648a1.016 1.016 0 0 1-.861-.446.834.834 0 0 1 .37-1.2l9.184-4.668a1.055 1.055 0 0 1 1.35.33.834.834 0 0 1-.37 1.2l-9.184 4.668a1.078 1.078 0 0 1-.489.116z" class="crownix-toolbar-themeC-fill" transform="translate(-92.447 -73.089)"/><g class="crownix-toolbar-themeB-fill"><path d="M339.793 23.75c-1.999 0-3.625-1.626-3.625-3.625s1.626-3.625 3.625-3.625 3.625 1.626 3.625 3.625-1.626 3.625-3.625 3.625z" class="cancel5" transform="translate(-284.918 -3)"/><path d="M339.793 17c-1.723 0-3.125 1.402-3.125 3.125s1.402 3.125 3.125 3.125 3.125-1.402 3.125-3.125S341.516 17 339.793 17m0-1c2.278 0 4.125 1.847 4.125 4.125s-1.847 4.125-4.125 4.125-4.125-1.847-4.125-4.125S337.515 16 339.793 16z" class="crownix-toolbar-themeC-fill" transform="translate(-284.918 -3)"/></g><path d="M145.544 272.652a1.078 1.078 0 0 1-.489-.116l-9.184-4.668a.834.834 0 0 1-.37-1.2 1.055 1.055 0 0 1 1.35-.33l9.184 4.662a.834.834 0 0 1 .37 1.2 1.018 1.018 0 0 1-.861.452z" class="crownix-toolbar-themeC-fill" transform="rotate(-2 -6820.255 2881.134)"/><g class="crownix-toolbar-themeB-fill"><path d="M41.125 194.418c-1.999 0-3.625-1.626-3.625-3.625s1.626-3.625 3.625-3.625 3.625 1.626 3.625 3.625-1.626 3.625-3.625 3.625z" class="cancel5" transform="translate(0 -166.335)"/><path d="M41.125 187.668c-1.723 0-3.125 1.402-3.125 3.125s1.402 3.125 3.125 3.125 3.125-1.402 3.125-3.125-1.402-3.125-3.125-3.125m0-1c2.278 0 4.125 1.847 4.125 4.125s-1.847 4.125-4.125 4.125S37 193.07 37 190.793s1.847-4.125 4.125-4.125z" class="crownix-toolbar-themeC-fill" transform="translate(0 -166.335)"/></g><rect width="10" height="2" class="crownix-toolbar-themeC-fill" rx="1" transform="rotate(-45 65.178 -44.441)"/><rect width="10" height="2" class="crownix-toolbar-themeC-fill" rx="1" transform="rotate(-135 35.935 5.316)"/></g></svg>',SHARE_LOCK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer"><g id="svg_33">   <path id="svg_34" d="m24,14l-16,0c-0.553,0 -1,0.447 -1,1l0,11c0,0.553 0.447,1 1,1l16,0c0.553,0 1,-0.447 1,-1l0,-11c0,-0.553 -0.447,-1 -1,-1zm-6,10l-4,0l1.234,-3.058c-0.751,-0.303 -1.281,-1.036 -1.281,-1.896c0,-1.13 0.916,-2.046 2.047,-2.046s2.047,0.916 2.047,2.047c0,0.859 -0.53,1.593 -1.281,1.896l1.234,3.057z"/>   <g id="svg_35">    <path id="svg_36" d="m16,7c2.205,0 4,1.794 4,4l2,0c0,-3.313 -2.687,-6 -6,-6l0,0c-3.313,0 -6,2.687 -6,6l2,0c0,-2.206 1.794,-4 4,-4"/>    <rect id="svg_37" height="7.334" width="2" y="11" x="20"/>    <rect id="svg_38" height="7.334" width="2" y="11" x="10"/>   </g>  </g> </g></svg>',SHARE_UNLOCK:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"> <g class="layer"><g id="svg_33">   <path id="svg_34" d="m24,14l-16,0c-0.553,0 -1,0.447 -1,1l0,11c0,0.553 0.447,1 1,1l16,0c0.553,0 1,-0.447 1,-1l0,-11c0,-0.553 -0.447,-1 -1,-1zm-6,10l-4,0l1.234,-3.058c-0.751,-0.303 -1.281,-1.036 -1.281,-1.896c0,-1.13 0.916,-2.046 2.047,-2.046s2.047,0.916 2.047,2.047c0,0.859 -0.53,1.593 -1.281,1.896l1.234,3.057z"/>   <g id="svg_35">    <path id="svg_36" d="m16,7c2.205,0 4,1.794 4,4l2,0c0,-3.313 -2.687,-6 -6,-6l0,0c-3.313,0 -6,2.687 -6,6l2,0c0,-2.206 1.794,-4 4,-4"/>    <rect id="svg_37" height="7.334" width="2" y="11" x="20"/>   </g>  </g> </g></svg>',FILE_CLIP:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"> <g class="layer">  <g id="svg_28">   <path id="svg_29" d="m7.085,5.799c0,0.111 -0.083,0.201 -0.183,0.201c-0.101,0 -0.183,-0.09 -0.183,-0.201c0,-0.386 0.144,-0.734 0.377,-0.989l0.012,-0.013c0.231,-0.247 0.545,-0.399 0.892,-0.399c0.352,0 0.672,0.158 0.903,0.412l0.002,0c0.23,0.254 0.375,0.603 0.375,0.989c0,0.111 -0.082,0.201 -0.184,0.201c-0.101,0 -0.182,-0.09 -0.182,-0.201c0,-0.275 -0.103,-0.523 -0.268,-0.707l-0.002,0c-0.164,-0.181 -0.392,-0.292 -0.644,-0.292c-0.247,0 -0.473,0.107 -0.636,0.282l-0.009,0.01c-0.167,0.181 -0.27,0.431 -0.27,0.707l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <path id="svg_30" d="m9.28,12.201c0,0.109 -0.082,0.199 -0.185,0.199c-0.101,0 -0.182,-0.09 -0.182,-0.199l0,-6.402c0,-0.11 0.082,-0.2 0.182,-0.2c0.103,0 0.185,0.09 0.185,0.2l0,6.402zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <g id="svg_31">    <path id="svg_32" d="m7.085,12.4c0,0.109 -0.083,0.198 -0.184,0.198c-0.101,0 -0.183,-0.089 -0.183,-0.198l0,-6.601c0,-0.11 0.083,-0.2 0.183,-0.2c0.102,0 0.184,0.09 0.184,0.2l0,6.601zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>    <path id="svg_33" d="m6.719,12.4c0,-0.11 0.083,-0.199 0.183,-0.199c0.1,0 0.181,0.089 0.181,0.199c0,0.44 0.166,0.843 0.431,1.131c0.265,0.289 0.631,0.471 1.034,0.471c0.403,0 0.768,-0.182 1.033,-0.471c0.266,-0.29 0.43,-0.692 0.43,-1.131c0,-0.11 0.083,-0.199 0.185,-0.199c0.101,0 0.182,0.089 0.182,0.199c0,0.549 -0.206,1.05 -0.537,1.413c-0.332,0.363 -0.79,0.589 -1.292,0.589c-0.503,0 -0.961,-0.226 -1.292,-0.589c-0.334,-0.363 -0.538,-0.864 -0.538,-1.413l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>    <path id="svg_34" d="m5.987,4.198c0,0.109 -0.081,0.2 -0.184,0.2c-0.101,0 -0.182,-0.091 -0.182,-0.2c0,-0.714 0.268,-1.365 0.698,-1.835l0,-0.002c0.43,-0.469 1.026,-0.763 1.681,-0.763c0.651,0 1.247,0.294 1.677,0.764l0,0.002l0.002,0c0.432,0.472 0.697,1.123 0.697,1.835c0,0.109 -0.081,0.2 -0.182,0.2s-0.183,-0.091 -0.183,-0.2c0,-0.604 -0.228,-1.155 -0.592,-1.555c-0.364,-0.399 -0.867,-0.645 -1.419,-0.645c-0.555,0 -1.058,0.246 -1.422,0.645c-0.365,0.399 -0.591,0.948 -0.591,1.554l0,0zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   </g>   <path id="svg_35" d="m5.987,12.601c0,0.11 -0.081,0.2 -0.182,0.2c-0.103,0 -0.184,-0.09 -0.184,-0.2l0,-8.403c0,-0.111 0.082,-0.201 0.184,-0.201c0.101,0 0.182,0.09 0.182,0.201l0,8.403zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>   <path id="svg_36" d="m10.379,12.472c0,0.109 -0.082,0.198 -0.182,0.198c-0.103,0 -0.186,-0.089 -0.186,-0.198l0,-8.404c0,-0.111 0.083,-0.201 0.186,-0.201c0.1,0 0.182,0.09 0.182,0.201l0,8.404zm0,0" fill="#050008" clip-rule="evenodd" fill-rule="evenodd"/>  </g> </g></svg>',BOLD:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="3" y="13" font-family="Times, Arial" font-weight="bold" font-size="80%">T</text></g></g></svg>',ITALIC:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="5" y="13" font-family="Times, Arial" font-style="italic" font-size="80%">I</text></g></g></svg>',UNDERLINE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><g><text x="3" y="12" font-family="Times, Arial" text-decoration="underline" font-size="75%">U</text></g></g></svg>',STRIKE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>\t<g>\t\t<text x="4" y="13" font-family="Times, Arial" text-decoration="line-through" font-size="80%">S</text>\t</g></g></svg>',FONT_COLOR:'<?xml version="1.0" encoding="utf-8"?>\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g id="svg_20">   <g id="svg_21">    <path id="svg_22" d="m9.324,8.198l-2.678,0l-0.71,2.239l-0.94,0l2.489,-7.327l1.029,0l2.489,7.326l-0.979,0l-0.7,-2.238zm-0.228,-0.74l-0.352,-1.119c-0.27,-0.83 -0.499,-1.629 -0.739,-2.479l-0.04,0c-0.23,0.86 -0.47,1.649 -0.73,2.479l-0.359,1.119l2.22,0z"/>   </g>   <rect class="crownix-textnote-fontcolor" id="svg_23" height="1.166" width="6.707" y="11.724" x="4.646"/>  </g></svg>',OUTLINE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g><rect x="2.7" y="2.7" width="11" height="11" style="fill:transparent; stroke-width:1.5;"/></g></svg>',BACKGROUND:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>\t<g>\t<rect x="3.5" y="3.5" width="2.5" height="2.5" stroke-width="1"/>\t<rect x="4.5" y="4.5" width="1" height="1" stroke-width="1"/>\t<rect x="3.5" y="10" width="2.5" height="2.5" stroke-width="1"/>\t<rect x="4.5" y="10.5" width="1" height="1" stroke-width="1"/>\t<rect x="6.5" y="6.5" width="2.5" height="2.5" stroke-width="1"/>\t<rect x="7.5" y="7.5" width="1" height="1" stroke-width="1"/>\t<rect x="10" y="3.5" width="2.5" height="2.5" stroke-width="1"/>\t<rect x="10.5" y="4.5" width="1" height="1" stroke-width="1"/>\t<rect x="10" y="10" width="2.5" height="2.5" stroke-width="1"/>\t<rect x="10.5" y="10.5" width="1" height="1" stroke-width="1"/>\t<rect x="3" y="3" width="10" height="10" stroke-width="1" fill="none"/>\t</g></g></svg>',LEFT_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>\t<g>\t<rect x="3" y="3" width="10" height="0.5"/>\t<rect x="3" y="5.5" width="6" height="0.5"/>\t<rect x="3" y="8" width="10" height="0.5"/>\t<rect x="3" y="10.5" width="6" height="0.5"/>\t<rect x="3" y="13" width="10" height="0.5"/>\t</g></g></svg>',CENTER_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>\t<g>\t<rect x="3" y="3" width="10" height="0.5"/>\t<rect x="6" y="5.5" width="4" height="0.5"/>\t<rect x="3" y="8" width="10" height="0.5"/>\t<rect x="6" y="10.5" width="4" height="0.5"/>\t<rect x="3" y="13" width="10" height="0.5"/>\t</g></g></svg>',RIGHT_ALIGN:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve"><g>\t<g>\t<rect x="3" y="3" width="10" height="0.5"/>\t<rect x="6" y="5.5" width="7" height="0.5"/>\t<rect x="3" y="8" width="10" height="0.5"/>\t<rect x="6" y="10.5" width="7" height="0.5"/>\t<rect x="3" y="13" width="10" height="0.5"/>\t</g></g></svg>',MASK_BLACK:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g class="layer">  <g id="svg_1">   <g id="Shape_1_copy">    <g id="svg_2">     <path id="svg_3" d="m15.564,18.261c-0.75,-0.927 -3.047,-1.236 -4.238,0c-1.193,1.236 -0.576,5.106 -2.826,7.065c2.58,0.293 6.314,-1.236 7.064,-2.826c0.752,-1.59 0.752,-3.312 0,-4.239z"/>    </g>   </g>   <image transform="matrix(1,0,0,1,4.5,26.3389) " xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAECAYAAACUY/8YAAAACXBIWXMAAAsSAAALEgHS3X78AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACxJREFUeNpiZGBgSADieAbagIUsQEIBiB1oZMFBJgYaA0aoDxRoZP4DgAADAPOCA6qqNRP1AAAAAElFTkSuQmCC" id="Layer_52_xA0_Image" height="3" width="23"/>   <g id="Rounded_Rectangle_1">    <g id="svg_4">     <path id="svg_5" d="m24.799,4.295l-2.598,-1.5c-0.479,-0.276 -1.09,-0.112 -1.367,0.366l-7,11.855c-0.275,0.479 -0.111,1.09 0.367,1.366l2.598,1.5c0.479,0.276 1.09,0.112 1.367,-0.366l6.998,-11.855c0.277,-0.478 0.113,-1.091 -0.365,-1.366z"/>    </g>   </g>  </g> </g></svg>',MASK_WHITE:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="svg_6">   <g id="Shape_1_copy_3_">    <g id="svg_7">     <path id="svg_8" d="m15.564,18.261c-0.75,-0.927 -3.047,-1.236 -4.238,0c-1.193,1.236 -0.576,5.106 -2.826,7.065c2.58,0.293 6.314,-1.236 7.064,-2.826c0.752,-1.59 0.752,-3.312 0,-4.239z" stroke-miterlimit="10" stroke="#000000" fill="none"/>    </g>   </g>   <g id="Rounded_Rectangle_1_3_">    <g id="svg_9">     <path id="svg_10" d="m24.799,4.295l-2.598,-1.5c-0.479,-0.276 -1.09,-0.112 -1.367,0.366l-7,11.855c-0.275,0.479 -0.111,1.09 0.367,1.366l2.598,1.5c0.479,0.276 1.09,0.112 1.367,-0.366l6.998,-11.855c0.277,-0.478 0.113,-1.09 -0.365,-1.366z" stroke-miterlimit="10" stroke="#000000" fill="none"/>    </g>   </g>   <rect id="svg_11" height="3" width="23" stroke-miterlimit="10" stroke="#000000" fill="none" y="26.339" x="4.5"/>  </g> </g></svg>',MASK_BOLD:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Shape_3">   <g id="svg_12">    <path id="svg_13" d="m14.601,10.668c-0.299,0.251 -3.682,3.631 -3.959,3.965c-2.85,3.423 -4.947,9.005 -5.336,12.062c3.127,-0.502 8.723,-2.551 12.123,-5.391c0.238,-0.199 3.674,-3.621 4.014,-4.045c2.678,-3.333 4.758,-8.934 5.252,-11.955c-3.04,0.363 -8.651,2.48 -12.094,5.364z"/>   </g>  </g> </g></svg>',MASK_THIN:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Shape_3_copy">   <g id="svg_14">    <path id="svg_15" d="m16.016,12.082c-0.301,0.251 -3.682,3.631 -3.961,3.966c-2.848,3.423 -4.969,8.01 -6.75,10.647c2.508,-1.873 7.311,-3.965 10.709,-6.805c0.24,-0.2 3.674,-3.623 4.014,-4.046c2.678,-3.332 4.76,-8.005 6.668,-10.54c-2.665,1.8 -7.239,3.893 -10.68,6.778z"/>   </g>  </g> </g></svg>',MASK_RESET:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="svg_16">   <g id="Shape_2">    <g id="svg_17">     <polygon id="svg_18" points="12.5,9.312 19.5,13.311 19.5,5.313          "/>    </g>   </g>   <path id="svg_19" d="m16,9.687m0,0c4.136,0 7.5,3.364 7.5,7.5c0,4.137 -3.364,7.501 -7.5,7.501s-7.5,-3.364 -7.5,-7.501c0,-2.14 0.901,-4.073 2.343,-5.441l-1.56,-1.276c-1.72,1.72 -2.783,4.095 -2.783,6.718c0,5.247 4.253,9.501 9.5,9.501c5.247,0 9.5,-4.254 9.5,-9.501c0,-5.246 -4.253,-9.5 -9.5,-9.5l0,0"/>  </g> </g></svg>',MASK_OK:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g class="layer">  <g id="Rectangle_2">   <g id="svg_20">    <polygon id="svg_21" points="24.284,8.575 13.681,19.181 7.716,13.217 5.595,15.339 11.56,21.302 11.558,21.304 13.679,23.425 26.405,10.696" clip-rule="evenodd" fill-rule="evenodd"/>   </g>  </g> </g></svg>',CROP_MODE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g>\t<polygon points="7.97,12.641 9.97,12.641 9.97,10.13 12.49,10.13 12.49,8.13 9.97,8.13 9.97,3.798 7.97,3.798 7.97,8.13 3.64,8.13\t\t3.64,10.13 7.97,10.13 \t"/>\t<polygon points="24.342,22.501 24.342,8.13 14.49,8.13 14.49,10.13 22.342,10.13 22.342,22.501 9.97,22.501 9.97,14.328 7.97,14.328 7.97,24.501 22.342,24.501 22.342,28.831 24.342,28.831 24.342,24.501 28.673,24.501 28.673,22.501 \t"/></g></svg>',ROTATE_90:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><polygon points="16.424,17.294 16.424,8.498 4.986,8.498 4.986,24.526 10.205,24.526 10.205,17.294 "/><polygon points="17.131,18.997 11.911,18.997 11.911,25.229 11.911,29.435 26.939,29.435 26.939,18.997 "/><polygon points="27.015,11.646 19.029,11.646 23.021,17.513 "/><path d="M23.355,13.641l-1.582-0.816c0.427-0.827,0.644-1.722,0.644-2.661c0-3.208-2.61-5.818-5.818-5.818h-0.001\tc-1.859,0-3.621,0.9-4.715,2.409l-1.441-1.045c1.428-1.969,3.729-3.144,6.156-3.144h0.001c4.189,0,7.598,3.409,7.598,7.598\tC24.196,11.372,23.905,12.574,23.355,13.641z"/></svg>',CROP_CANCEL:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path d="M22.323,12.795H10.236V9.692L4.37,13.685l5.866,3.992v-3.103h12.087c1.641,0,2.977,1.336,2.977,2.977\ts-1.336,2.977-2.977,2.977h-4.176v1.779h4.176c2.623,0,4.756-2.133,4.756-4.756S24.946,12.795,22.323,12.795z"/></svg>',CLOUD_PRINT:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><style>.cloud1{fill:none}.cloud3{fill:#fff;stroke:#aaa}.cloud4{fill:#aaa}.cloud5{stroke:none}</style></defs><g id="crownix-toolbar-cloud_print" transform="translate(-180.174 -372.333)"><g id="area" transform="translate(180.174 372.333)"><path d="M0 0H24V24H0z" class="cloud1"/></g><g class="crownix-toolbar-themeB-fill" fill="#cfcfcf"><path d="M17.333 14.289c-1.082 0-2.107-.413-2.887-1.162l-.145-.14H7.7l-.146.14c-.78.75-1.804 1.162-2.886 1.162C2.37 14.289.5 12.419.5 10.12c0-1.674.996-3.18 2.537-3.835l.343-.146-.043-.371c-.015-.134-.023-.27-.023-.405 0-1.93 1.57-3.5 3.5-3.5.766 0 1.493.242 2.103.7l.38.287.305-.365C10.655 1.224 12.22.5 13.896.5c3.04 0 5.514 2.39 5.514 5.328 0 .119-.004.24-.013.359l-.02.291.244.16c1.176.775 1.879 2.077 1.879 3.483 0 2.298-1.87 4.168-4.167 4.168z" class="cloud5" transform="translate(181.174 373.333)"/><path class="crownix-toolbar-themeC-fill" fill="#aaa" d="M17.333 13.789c2.022 0 3.667-1.645 3.667-3.668 0-1.237-.618-2.383-1.654-3.065l-.488-.32.04-.583c.008-.108.012-.218.012-.325C18.91 3.166 16.66 1 13.896 1c-1.527 0-2.953.658-3.91 1.806l-.61.73-.76-.572c-.522-.393-1.145-.6-1.801-.6-1.655 0-3 1.346-3 3 0 .116.006.233.02.348l.084.742-.687.292C1.876 7.323 1 8.648 1 10.121c0 2.023 1.645 3.668 3.667 3.668.952 0 1.854-.363 2.54-1.023l.29-.279h7.005l.29.28c.687.659 1.59 1.022 2.541 1.022m0 1c-1.255 0-2.394-.496-3.233-1.302H7.9c-.839.806-1.978 1.302-3.233 1.302C2.09 14.789 0 12.699 0 10.12c0-1.929 1.17-3.584 2.84-4.295-.017-.152-.026-.306-.026-.462 0-2.21 1.791-4 4-4 .903 0 1.735.298 2.404.801C10.32.845 12.006 0 13.896 0c3.321 0 6.014 2.61 6.014 5.828 0 .132-.005.263-.014.393 1.267.835 2.104 2.27 2.104 3.9 0 2.578-2.09 4.668-4.667 4.668z" transform="translate(181.174 373.333)"/></g><g class="crownix-toolbar-themeC-stroke cloud3" transform="translate(184.174 382.333)"><path d="M0 0h16v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V0z" class="cloud5"/><rect width="15" height="12" x=".5" y=".5" class="cloud1" rx=".5"/></g><path class="crownix-toolbar-themeC-fill" d="M0 0H18V1H0z" class="cloud4" transform="translate(183.174 382.333)"/><path class="crownix-toolbar-themeC-fill" d="M0 0H10V1H0z" class="cloud4" transform="translate(187.174 388.333)"/><path class="crownix-toolbar-themeC-fill" d="M0 0H10V1H0z" class="cloud4" transform="translate(187.174 385.333)"/></g></svg>',EDITOR:'<svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g><polyline fill="none" stroke-width="1.2" stroke-miterlimit="10" points="5.1,28.7 21,28.7 27.5,21.5 27.5,4.7 5.1,4.7 5.1,29.3"/>  <polyline  stroke-width="1.2" stroke-miterlimit="10" points="27,21.5 21.5,21.5 21.5,27.7"/> </g> </svg>',FINGERPRINT_AUTHENTICATION_STAMP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtQAAAJICAYAAABBiXPIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg3QjA1REM3NzMxMDExRTU4Q0FBOTdDODEzRTgwNkEzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg3QjA1REM4NzMxMDExRTU4Q0FBOTdDODEzRTgwNkEzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODdCMDVEQzU3MzEwMTFFNThDQUE5N0M4MTNFODA2QTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODdCMDVEQzY3MzEwMTFFNThDQUE5N0M4MTNFODA2QTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6AuSq0AAGmi0lEQVR42uyd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",SEARCH_ICON:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="22px" height="22px" viewBox="0 0 22 22" fill="gray" enable-background="new 0 0 22 22" xml:space="preserve"><g>\t<path d="M18.694,16.97l-3.531-3.54c-0.205-0.209-0.186-0.499-0.08-0.678c1.552-2.59,1.139-5.896-1.005-8.04\t\tc-1.254-1.255-2.926-1.946-4.708-1.946S5.913,3.458,4.652,4.712c-2.595,2.596-2.595,6.822,0.001,9.42\t\tc1.253,1.256,2.902,1.947,4.644,1.947c1.19,0,2.365-0.328,3.399-0.948c0.021-0.013,0.132-0.075,0.284-0.075\t\tc0.146,0,0.283,0.056,0.394,0.157l3.542,3.545c0.344,0.349,0.774,0.549,1.182,0.549c0.292,0,0.55-0.104,0.748-0.302l0.083-0.093\t\tc0.215-0.213,0.32-0.457,0.322-0.747C19.254,17.762,19.051,17.326,18.694,16.97z M9.366,4.027c1.443,0,2.802,0.563,3.826,1.585\t\tc2.102,2.104,2.102,5.528,0,7.632c-1.023,1.016-2.382,1.575-3.826,1.575c-1.443,0-2.801-0.559-3.822-1.572\t\tc-2.104-2.106-2.104-5.532-0.001-7.635C6.564,4.59,7.922,4.027,9.366,4.027z"/>\t<path d="M7.867,6.997c1.552-0.661,3.363,0.069,4.023,1.63c0.113,0.274,0.376,0.439,0.662,0.439c0.09,0,0.183-0.017,0.272-0.063\t\tc0.365-0.154,0.535-0.569,0.376-0.935c-0.957-2.292-3.612-3.363-5.902-2.393C6.933,5.829,6.76,6.25,6.919,6.615\t\tC7.069,6.98,7.491,7.151,7.867,6.997z"/></g></svg>',SEARCH_CANCEL:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="22px" height="22px" viewBox="0 0 22 22" fill="gray" enable-background="new 0 0 22 22" xml:space="preserve"><path d="M11.679,11l2.705-2.705c0.187-0.187,0.187-0.491,0-0.678s-0.491-0.187-0.678,0l-2.705,2.705L8.296,7.617\tc-0.187-0.187-0.491-0.187-0.678,0c-0.187,0.187-0.187,0.491,0,0.678L10.323,11l-2.706,2.706c-0.187,0.186-0.187,0.49,0,0.676\tc0.094,0.094,0.217,0.142,0.339,0.142c0.123,0,0.246-0.048,0.339-0.142l2.705-2.704l2.705,2.704\tc0.093,0.094,0.216,0.142,0.339,0.142c0.122,0,0.245-0.048,0.339-0.142c0.187-0.186,0.187-0.49,0-0.676L11.679,11z"/><path d="M11,3.4C6.81,3.4,3.4,6.81,3.4,11s3.41,7.6,7.6,7.6c4.191,0,7.601-3.409,7.601-7.6S15.191,3.4,11,3.4z M11,17.384\tc-3.52,0-6.383-2.863-6.383-6.383c0-3.519,2.863-6.382,6.383-6.382c3.519,0,6.382,2.863,6.382,6.382\tC17.383,14.521,14.52,17.384,11,17.384z"/></svg>',RECORD_ICON:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.001 512.001" style="enable-background:new 0 0 512.001 512.001;" xml:space="preserve"><g><g><path d="M412.113,170.747c-6.637,0-12.02,5.381-12.02,12.02v75.104c0,79.452-64.639,144.09-144.092,144.09 S111.91,337.321,111.91,257.87v-75.104c0-6.639-5.383-12.02-12.02-12.02c-6.639,0-12.02,5.381-12.02,12.02v75.104 c0,88.666,68.993,161.512,156.111,167.696v62.395h-62.174c-6.637,0-12.02,5.381-12.02,12.02c0,6.639,5.382,12.02,12.02,12.02 h148.386c6.637,0,12.02-5.381,12.02-12.02c0-6.639-5.382-12.02-12.02-12.02H268.02v-62.395 c87.119-6.184,156.111-79.031,156.111-167.696v-75.104C424.133,176.128,418.75,170.747,412.113,170.747z"/></g></g><g><g><path d="M264.011,0h-16.02c-54.949,0-99.653,44.704-99.653,99.653V265.88c0,54.949,44.704,99.653,99.653,99.653h16.02 c54.949,0,99.653-44.704,99.653-99.653V99.653C363.664,44.704,318.96,0,264.011,0z M339.625,130.853h-43.572 c-6.639,0-12.02,5.381-12.02,12.02c0,6.639,5.381,12.02,12.02,12.02h43.572v33.458h-43.572c-6.639,0-12.02,5.381-12.02,12.02 s5.381,12.02,12.02,12.02h43.572v33.46h-43.572c-6.639,0-12.02,5.381-12.02,12.02s5.381,12.02,12.02,12.02h43.464 c-2.091,39.836-35.157,71.603-75.505,71.603h-16.02c-40.348,0-73.414-31.767-75.505-71.603h43.464 c6.639,0,12.02-5.381,12.02-12.02s-5.381-12.02-12.02-12.02h-43.572v-33.46h43.572c6.639,0,12.02-5.381,12.02-12.02 s-5.381-12.02-12.02-12.02h-43.572v-33.458h43.572c6.639,0,12.02-5.381,12.02-12.02c0-6.639-5.381-12.02-12.02-12.02h-43.572 v-31.2c0-29.964,17.52-55.914,42.854-68.143v33.983c0,6.639,5.382,12.02,12.02,12.02s12.02-5.381,12.02-12.02V24.558 c2.863-0.331,30.595-0.331,33.458,0v40.935c0,6.639,5.381,12.02,12.02,12.02c6.637,0,12.02-5.381,12.02-12.02V31.51 c25.334,12.229,42.854,38.177,42.854,68.142V130.853z"/></g></g></svg>',RECORD_PLAY_ICON:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 510 510" style="enable-background:new 0 0 510 510;" xml:space="preserve"><g><g id="play-circle-fill"><path d="M255,0C114.75,0,0,114.75,0,255s114.75,255,255,255s255-114.75,255-255S395.25,0,255,0z M204,369.75v-229.5L357,255    L204,369.75z" fill="#FFDA44"/></g></g></svg>',PLAY_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 232.153 232.153" style="fill:#565656;enable-background:new 0 0 232.153 232.153;" xml:space="preserve"> <g id="Play"> <path style="clip-rule:evenodd;" d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266 c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267 l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',PAUSE_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 353.562 353.562" style="enable-background:new 0 0 353.562 353.562;" xml:space="preserve"> <g> <g> <g> <path style="fill:#565656;clip-rule:evenodd;" d="M41.064,353.562h109.014V0H41.064V353.562z"/> </g> <g> <path style="fill:#565656;clip-rule:evenodd;" d="M203.482,0v353.562h109.017V0H203.482z"/> </g> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',VOLUME_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 459 459" style="enable-background:new 0 0 459 459;" xml:space="preserve"> <g> <g id="volume-up"> <path style="fill:#565656;clip-rule:evenodd;" d="M0,153v153h102l127.5,127.5v-408L102,153H0z M344.25,229.5c0-45.9-25.5-84.15-63.75-102v204 C318.75,313.65,344.25,275.4,344.25,229.5z M280.5,5.1v53.55C354.45,81.6,408,147.899,408,229.5S354.45,377.4,280.5,400.35V453.9 C382.5,430.949,459,339.15,459,229.5C459,119.85,382.5,28.049,280.5,5.1z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',MUTE_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 461.55 461.55" style="enable-background:new 0 0 461.55 461.55; fill:#565656;clip-rule:evenodd;" xml:space="preserve"> <g> <g id="volume-off"> <path d="M345.525,229.5c0-45.9-25.5-84.15-63.75-102v56.1l63.75,63.75C345.525,239.7,345.525,234.6,345.525,229.5z M409.275,229.5 c0,22.95-5.1,45.9-12.75,66.3l38.25,38.25c17.85-30.6,25.5-68.85,25.5-107.1c0-109.65-76.5-201.45-178.5-224.4V56.1 C355.725,81.6,409.275,147.9,409.275,229.5z M34.425,0L1.275,33.15L121.125,153H1.275v153h102l127.5,127.5V262.65L340.425,372.3 c-17.851,12.75-35.7,22.95-58.65,30.601v53.55c35.7-7.65,66.3-22.95,94.35-45.9l51,51l33.15-33.149l-229.5-229.5L34.425,0z M230.775,25.5l-53.55,53.55l53.55,53.55V25.5z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg> ',REWIND_ICON:'<svg width="100%" height="100%" viewBox="0 -62 436.98 436" xmlns="http://www.w3.org/2000/svg"><g fill="#565656"><path d="m436.980469.488281v311l-196.980469-155.5zm0 0"/><path d="m196.980469.488281v311l-196.980469-155.5zm0 0"/></g></svg>',FAST_FORWARD_ICON:'<svg width="100%" height="100%" viewBox="0 -62 436.98 436" xmlns="http://www.w3.org/2000/svg"><g fill="#565656"><path d="m436.980469 155.988281-196.980469 155.5v-311zm0 0"/><path d="m196.980469 155.988281-196.980469 155.5v-311zm0 0"/></g></svg>',DOWNLOAD_ICON:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 268.476 268.476" style="enable-background:new 0 0 268.476 268.476;" xml:space="preserve"> <g id="Download"> <path style="fill:#565656;clip-rule:evenodd;" d="M232.943,223.73H35.533c-12.21,0-22.109,10.017-22.109,22.373 c0,12.356,9.9,22.373,22.109,22.373h197.41c12.21,0,22.109-10.017,22.109-22.373C255.052,233.747,245.153,223.73,232.943,223.73z M117.881,199.136c4.034,4.041,9.215,6.147,14.491,6.508c0.626,0.053,1.227,0.188,1.866,0.188c0.633,0,1.228-0.135,1.847-0.186 c5.284-0.357,10.473-2.464,14.512-6.51l70.763-70.967c8.861-8.875,8.861-23.267,0-32.142c-8.86-8.876-23.225-8.876-32.086,0 l-32.662,32.756V22.373C156.612,10.017,146.596,0,134.238,0c-12.356,0-22.372,10.017-22.372,22.373v106.41L79.204,96.027 c-8.86-8.876-23.226-8.876-32.086,0c-8.86,8.875-8.86,23.267,0,32.142L117.881,199.136z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>',BACK:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve" width="100%" height="100%"> <g> <g> <path d="M493.519,211.306c-11.937-11.936-27.807-18.509-44.727-18.509l-233.002-0.003l28.465-28.464 c11.957-11.941,18.542-27.823,18.542-44.722c0-34.849-28.354-63.2-63.219-63.2c-16.874,0-32.741,6.573-44.681,18.512 L18.601,211.22c-8.841,8.806-14.828,19.891-17.315,32.056C0.432,247.441,0,251.722,0,256.001c0,16.929,6.607,32.832,18.583,44.761 l136.288,136.287c11.939,11.958,27.822,18.543,44.723,18.543c34.849,0,63.201-28.353,63.203-63.201 c0.002-16.879-6.571-32.752-18.512-44.696l-28.493-28.493h233.034c16.886,0,32.76-6.574,44.694-18.513 C518.16,276.045,518.16,235.949,493.519,211.306z" fill="#8C8C8C"/> </g> </g></svg>',ENABLE_GUIDE:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" d="M3.153,3.719h25.699v22.18h-5.174l-0.484,3.893\tc0,0-0.335,0.459-0.726,0.021s-4.687-3.914-4.687-3.914H3.217L3.153,3.719z"/><line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="9.734" x2="17.422" y2="9.734"/><line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="14.219" x2="25.375" y2="14.219"/><line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.641" y1="18.688" x2="25.375" y2="18.688"/></svg>',DISABLE_GUIDE:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px"\t height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><g id="Layer_1"></g><g id="Layer_2">\t<line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="9.71" x2="17.389" y2="9.71"/>\t<line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="14.195" x2="25.342" y2="14.195"/>\t<line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-miterlimit="10" x1="6.607" y1="18.664" x2="16.219" y2="18.664"/>\t\t\t<polyline class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="\t\t15.156,25.917 3.208,25.875 3.208,3.708 28.813,3.708 28.813,20.828 \t"/>\t<g>\t\t<circle class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-miterlimit="10" cx="21.955" cy="23.077" r="7.075"/>\t\t<g>\t\t\t\t\t\t\t<line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="18.741" y1="19.864" x2="25.168" y2="26.291"/>\t\t\t\t\t\t\t<line class="crownix-toolbar-themeA-stroke" fill="none" stroke="#FFFFFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="25.168" y1="19.864" x2="18.741" y2="26.291"/>\t\t</g>\t</g></g></svg>',CLOSE_BUTTON:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC",RESET_ICON:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  fill="rgb(159, 159, 159)" d="M9.841,0.600 C9.831,0.595 9.825,0.587 9.815,0.583 C8.977,0.216 8.054,0.008 7.083,-0.002 C7.079,-0.002 7.077,-0.002 7.074,-0.002 C7.072,-0.002 7.071,-0.002 7.069,-0.002 C6.915,-0.003 6.764,0.003 6.612,0.013 C6.506,0.018 6.402,0.029 6.297,0.039 C6.280,0.041 6.264,0.042 6.247,0.044 L6.247,0.045 C5.022,0.179 3.888,0.626 2.936,1.311 L2.251,0.302 L1.250,4.516 L5.454,4.062 L4.590,3.248 C5.132,2.896 5.753,2.661 6.420,2.572 C6.420,2.572 6.832,2.548 7.044,2.550 C9.525,2.575 11.516,4.606 11.492,7.087 C11.467,9.568 9.435,11.559 6.955,11.534 C4.474,11.510 2.483,9.479 2.507,6.997 C2.509,6.781 2.532,6.570 2.564,6.362 L0.171,5.458 C0.064,5.933 0.003,6.424 -0.002,6.930 C-0.041,10.798 3.063,13.964 6.930,14.002 C10.797,14.040 13.963,10.937 14.002,7.070 C14.030,4.189 12.315,1.700 9.841,0.600 Z"/></svg>',SIGN_CANCEL:'<svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 21.9 21.9" enable-background="new 0 0 21.9 21.9"> <path d="M14.1,11.3c-0.2-0.2-0.2-0.5,0-0.7l7.5-7.5c0.2-0.2,0.3-0.5,0.3-0.7s-0.1-0.5-0.3-0.7l-1.4-1.4C20,0.1,19.7,0,19.5,0  c-0.3,0-0.5,0.1-0.7,0.3l-7.5,7.5c-0.2,0.2-0.5,0.2-0.7,0L3.1,0.3C2.9,0.1,2.6,0,2.4,0S1.9,0.1,1.7,0.3L0.3,1.7C0.1,1.9,0,2.2,0,2.4  s0.1,0.5,0.3,0.7l7.5,7.5c0.2,0.2,0.2,0.5,0,0.7l-7.5,7.5C0.1,19,0,19.3,0,19.5s0.1,0.5,0.3,0.7l1.4,1.4c0.2,0.2,0.5,0.3,0.7,0.3  s0.5-0.1,0.7-0.3l7.5-7.5c0.2-0.2,0.5-0.2,0.7,0l7.5,7.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l1.4-1.4c0.2-0.2,0.3-0.5,0.3-0.7  s-0.1-0.5-0.3-0.7L14.1,11.3z"/></svg>',SIGN_RESET_ALL:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -25 512.00075 512" ><path d="m379.203125 431.960938h-85.929687l-30.003907 30.003906h115.933594c8.285156 0 15.003906-6.71875 15.003906-15 0-8.285156-6.71875-15.003906-15.003906-15.003906zm0 0"/><path d="m345.253906 4.394531c-2.8125-2.8125-6.628906-4.394531-10.609375-4.394531-3.976562 0-7.792969 1.582031-10.605469 4.394531l-190.765624 190.765625c-5.855469 5.855469-5.855469 15.355469 0 21.214844l162.355468 162.351562c2.929688 2.929688 6.769532 4.394532 10.605469 4.394532 3.839844 0 7.679687-1.464844 10.609375-4.394532l190.761719-190.761718c5.859375-5.859375 5.859375-15.359375 0-21.214844zm0 0"/><path d="m278.691406 404.113281-53.457031 53.457031c-2.8125 2.8125-6.625 4.394532-10.605469 4.394532l-149.601562.011718c-3.980469 0-7.796875-1.578124-10.609375-4.394531l-32.566407-32.566406c-29.136718-29.132813-29.136718-76.535156 0-105.667969l86.035157-86.039062zm0 0"/></svg>',SIGN_CONFIRM:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 26 26" enable-background="new 0 0 26 26">  <path d="m.3,14c-0.2-0.2-0.3-0.5-0.3-0.7s0.1-0.5 0.3-0.7l1.4-1.4c0.4-0.4 1-0.4 1.4,0l.1,.1 5.5,5.9c0.2,0.2 0.5,0.2 0.7,0l13.4-13.9h0.1v-8.88178e-16c0.4-0.4 1-0.4 1.4,0l1.4,1.4c0.4,0.4 0.4,1 0,1.4l0,0-16,16.6c-0.2,0.2-0.4,0.3-0.7,0.3-0.3,0-0.5-0.1-0.7-0.3l-7.8-8.4-.2-.3z"/></svg>',SIGNATURE_CONFIRM:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  d="M14.004,1.910 L4.994,11.005 L3.097,9.090 L3.133,9.054 L0.005,5.896 L1.902,3.982 L5.030,7.139 L12.108,-0.005 L14.004,1.910 Z"/></svg>',NEXT_ITEM_MARK:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path fill-rule="evenodd" d="M8.658,5.939 C6.769,4.074 4.879,2.209 2.990,0.345 C1.880,-0.750 0.247,1.070 1.364,2.171 C2.951,3.739 4.539,5.305 6.126,6.871 C4.527,8.519 2.928,10.168 1.328,11.815 C0.234,12.943 1.864,14.767 2.955,13.643 C4.855,11.684 6.757,9.724 8.658,7.766 C9.098,7.312 9.115,6.390 8.658,5.939 Z"/></svg>',PREV_ITEM_MARK:'<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  d="M0.342,5.939 C2.231,4.074 4.121,2.209 6.010,0.345 C7.120,-0.750 8.753,1.070 7.636,2.171 C6.048,3.739 4.461,5.305 2.874,6.871 C4.473,8.519 6.072,10.168 7.672,11.815 C8.766,12.943 7.136,14.767 6.045,13.643 C4.145,11.684 2.243,9.724 0.342,7.766 C-0.098,7.312 -0.115,6.390 0.342,5.939 Z"/></svg>',SCROLL_LEFT:'<svg xml:space="preserve" class="crownix-scrollPen-arrow" enable-background="new 0 0 15 32" preserveAspectRatio="none" viewBox="0 0 15 32" height="100%" width="15px" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="scroll_left_arrow" version="1.1"><g><polyline stroke-width="1.2" stroke-miterlimit="10" points="11.375,25.656 2.625,16.031 11.375,6.344"></polyline></g></svg>',SCROLL_RIGHT:'<svg xml:space="preserve" class="crownix-scrollPen-arrow" enable-background="new 0 0 15 32" preserveAspectRatio="none" viewBox="0 0 15 32" height="100%" width="15px" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="scroll_right_arrow" version="1.1"><g><polyline stroke-width="1.2" stroke-miterlimit="10" points="3.625,25.656 12.375,16.031 3.625,6.344"></polyline></g></svg>'},m2soft.ns("m2soft.crownix.Channel"),m2soft.ns("m2soft.crownix.ChannelManager"),m2soft.crownix.Channel=function(){function t(t){this.name=t,this.callback=[],this.onceCallback=[],this.asyncTimeout=null}var o=[];return t.prototype.publish=function(t){if(function(t){for(var e=0;e<o.length;e++)if(o[e].channel==t)return o=[],!0;return!1}(this.name))return this;var e,i=this;e=this.name,o.push({channel:e});for(var n=this.callback,r=0;r<n.length;r++)n[r](t);return o.pop(),this.callback=this.callback.filter(function(t){t=i.onceCallback.indexOf(t);return-1!=t&&i.onceCallback.splice(t,1),-1==t}),this},t.prototype.publishAsync=function(e){var i=this,n=this.asyncTimeout,r=this.callback,t=setTimeout(function(){for(var t=0;t<r.length;t++)r[t](e);n=null,this.callback=i.callback.filter(function(t){t=i.onceCallback.indexOf(t);return-1!=t&&i.onceCallback.splice(t,1),-1==t})},10);return clearTimeout(n),this.asyncTimeout=t,this},t.prototype.subscribe=function(t){return 0<=this.callback.indexOf(t)||this.callback.push(t),this},t.prototype.subscribeOnce=function(t){return this.onceCallback.push(t),this.subscribe(t),this},t.prototype.unsubscribe=function(e){"function"==typeof e&&(this.callback=this.callback.filter(function(t){return t!==e}))},t}(),m2soft.crownix.ChannelManager=function(){var e=m2soft.crownix.Channel;return{channels:{},getChannel:function(t){return this.channels[t]||(this.channels[t]=new e(t)),this.channels[t]},clear:function(){this.channels={}},removeChannel:function(t){this.channels[t]&&delete this.channels[t]}}}(),m2soft.ns("m2soft.crownix.CssBuilder"),function(){function i(t,e){this._mapper=[],this.decl=$.extend({},e),this.selector=t}i.prototype.addMapper=function(t){return this._mapper.push(t),this},i.prototype.addDecl=function(t){$.extend(this.decl,t)},i.prototype.toString=function(){var t,e,n=[],i=function(t){for(var e in t)r(e,t[e])},r=function(t,e){if(e instanceof Array)for(var i=0;i<e.length;i++)n.push(t,":",a(t,e[i]),";");else n.push(t,":",a(t,e),";")},o=this._mapper,a=function(t,e){for(var i=0;i<o.length;i++)e=o[i](t,e);return e};return t=this.selector,e=this.decl,n.push(t,"{"),i(e),n.push("} "),n.join("")};var t=m2soft.crownix.CssBuilder=function(){this.cssList=[]};t.prototype.build=function(){for(var t=[],e=this.cssList,i=0;i<e.length;i++)t.push(e[i].toString());return t.join("")},t.prototype.registerRule=function(t,e){e=new i(t,e);return this.cssList.push(e),e},t.prototype.attachWithClass=function(t){$("."+t).remove(),$('<style class="'+t+'" type="text/css">').text(this.build()).appendTo("head")}}(),m2soft.ns("m2soft.crownix.Toolbar"),m2soft.ns("m2soft.crownix.Toolbar.Item"),m2soft.ns("m2soft.crownix.Toolbar.DropItem"),m2soft.ns("m2soft.crownix.Toolbar.FixedItem"),m2soft.ns("m2soft.crownix.Toolbar.PageNum"),m2soft.ns("m2soft.crownix.Toolbar.ScrollButtonPair"),function(){function d(t,e){return e=$(e),"top"===t||"bottom"===t?e.attr("width")||e[0].getBBox&&e[0].getBBox().width:e.attr("height")||e[0].getBBox&&e[0].getBBox().height}var i=m2soft.crownix.resource.Icon,s=m2soft.crownix.ChannelManager;m2soft.crownix.Toolbar.Item=function(t,e,i){this.id=t,this.info=e,this.options=i},m2soft.crownix.Toolbar.Item.prototype={render:function(t){var e=this.info,i=$("<button>").attr({type:"button",title:e.title,"aria-label":e.title,"aria-disabled":!1===e.enable}).addClass("crownix-toolbar-button"),n=e.width,r=this.options.toolbarDirection;this.options.toolbarNavigator&&i.focusin(function(){a.addClass("crownix-toolbar-item-enable-hover")}).focusout(function(){a.removeClass("crownix-toolbar-item-enable-hover")});var o,a=$("<li>").attr({id:"crownix-toolbar-"+this.id,title:e.title}).addClass("crownix-toolbar-item");m2soft.crownix.Util.browser.safari||a.addClass("crownix-toolbar-button-zindex"),n&&r&&(e.svg&&"fit"==n&&!d(r,$(e.svg))||(o="fit"===n?"auto":n+"px",a.css("top"==r||"bottom"==r?{width:o,padding:"0 5px"}:{height:o})));var s=null;e.svg?s=$(e.svg).attr("focusable","false"):e.img?s=$("<img>").attr("src",e.img):e.text&&(s=$("<span>").addClass("crownix-toolbar-icon-color").css(e.textStyle).text(e.text)),e.background&&a.css("background",e.background);var l=null;return!0!==e.separator||t||(l=$("<div>").addClass("crownix-toolbar-separator").css({display:e.visible?"block":"none"})),!0!==e.visible&&a.hide(),!0===e.enable&&e.visible?(a.addClass("crownix-toolbar-item-enable"),this.options.pageMove&&0<this.options.pageMove.wait&&(t=this.id,e.debounced||"first"!==t&&"prev"!==t&&"next"!==t&&"last"!==t||(e.handler=m2soft.crownix.Util.debounce(e.handler,this.options.pageMove.wait,{leading:!0,trailing:this.options.pageMove.lastMove}),e.debounced=!0)),a.bind("click tab",e.handler)):a.addClass("crownix-toolbar-item-disable").bind("click tab",function(t){t.stopPropagation()}),s.appendTo(i),i.appendTo(a),[a,l]},hide:function(){$("#crownix-toolbar-"+this.id).hide()},show:function(){$("#crownix-toolbar-"+this.id).show()},getType:function(){return"item"}},m2soft.crownix.Toolbar.DropItem=function(t,e,i){this.id=t,this.info=e,this.options=i},m2soft.crownix.Toolbar.DropItem.prototype={render:function(){var t=this.info,e=$("<li>").attr({id:"crownix-toolbar-"+this.id,title:this.info.title}).addClass("crownix-toolbar-dropitem").addClass("crownix-toolbar-icon-border"),i=this.options.toolbarDirection;"ja"==m2soft.crownix.Resource.language&&e.css("width","130px"),m2soft.crownix.Util.browser.safari||e.addClass("crownix-toolbar-button-zindex");var n=$("<button>").attr({type:"button",title:this.info.title,"aria-label":this.info.title,"aria-disabled":!1===t.enable}).addClass("crownix-toolbar-button");this.options.toolbarNavigator&&n.focusin(function(){e.addClass("crownix-toolbar-item-enable-hover")}).focusout(function(){e.removeClass("crownix-toolbar-item-enable-hover")});var r=null;t.text&&("left"===this.options.toolbarDirection||"right"===this.options.toolbarDirection?e.addClass("crownix-toolbar-dropitem-ratio-vertical"):e.addClass("crownix-toolbar-dropitem-ratio"),r=$("<div>").addClass("crownix-toolbar-icon-color"),n.appendTo(r).text(this.info.text),$("<div>").addClass("crownix-absolute-100").appendTo(n));var o=null;t.svg?(o=n.appendTo(e),$(t.svg).attr("focusable","false").appendTo(o),"left"!=i&&"right"!=i||n.addClass("crownix-toolbar-dropitem-svg-vertical")):t.img&&(o=n.appendTo(e),$("<img/>").attr("src",t.img).appendTo(o));var a,s=$("<ul>").addClass("dropdown"),l=!1;for(a in t.items){var d=t.items[a],c=$("<li>").attr("id","crownix-toolbar-"+a).appendTo(s),h=$("<button>").attr({type:"button",title:d.title||d.text,"aria-label":d.title||d.text,"aria-disabled":!1===d.enable}).addClass("crownix-toolbar-button").appendTo(c);this.options.toolbarNavigator&&h.focusin(function(){$(this).addClass("crownix-toolbar-dropitem-enable-focus")}).focusout(function(){$(this).removeClass("crownix-toolbar-dropitem-enable-focus")}),d.text&&h.text(d.text),d.svg?$(d.svg).prependTo(h).attr("focusable","false"):d.img&&$("<img/>").attr("src",d.img).prependTo(h),!0!==d.visible?c.css("display","none"):l=!0,!0===d.enable&&d.visible?c.bind("click tab",d.handler):c.bind("click tab",function(t){t.stopPropagation()})}"save"===this.id&&!1===this.options.submitFinished&&(l=!1),t.enable=l;n=null;return!0===t.separator&&(n=$("<div>").addClass("crownix-toolbar-separator").css({display:t.visible?"block":"none"})),!0!==t.visible&&e.hide(),!0===t.enable&&t.visible?e.addClass("crownix-toolbar-dropitem-enable").bind("click tab",function(t){return $('.crownix-toolbar-dropitem[id!="'+$(this).attr("id")+'"]').removeClass("active"),$(this).toggleClass("active"),$(this).find(".crownix-absolute-100").remove(),$("<div>").addClass("crownix-absolute-100").appendTo(this),$(".crownix-toolbar-wrap").hasClass("web-accessibility")&&$(".crownix-toolbar-wrap").css("z-index",$(this).hasClass("active")?"1":"0"),!1}):e.addClass("crownix-toolbar-dropitem-disable").bind("click tab",function(t){t.stopPropagation()}),e.append(r,o,s),[e,n]},hide:function(){$("#crownix-toolbar-"+this.id).hide()},show:function(){$("#crownix-toolbar-"+this.id).show()},getType:function(){return"drop-item"}},m2soft.crownix.Toolbar.FixedItem=function(t,e,i){this.id=t,this.info=e,this.options=i,this.isToolbarHide=!1;var n=this;s.getChannel("toolbar:changeToolbarState").subscribeOnce(function(t){n.isToolbarHide=t.isHide,n.isToolbarHide?n.hide():n.show()})},m2soft.crownix.Toolbar.FixedItem.prototype={render:function(){var t=this.info,e=this.options.toolbarDirection;if(("top"!==e&&"bottom"!==e||"top"!==t.fixed&&"bottom"!==t.fixed)&&("left"!==e&&"right"!==e||"left"!==t.fixed&&"right"!==t.fixed)&&(t.svg||t.img||t.text)){var i=$("<div>").attr({id:"crownix-toolbar-fixed-"+this.id,title:t.title}).addClass("crownix-toolbar-fixed-item").addClass(e+"-"+t.fixed),n=this.getButtonSize();"top"===e||"bottom"===e?i.css("width",n):i.css("height",n),t.background&&i.css("background",t.background);e=$("<button>").addClass("crownix-toolbar-button"),n=null;return t.svg?n=$(t.svg).attr("focusable","false"):t.img?n=$("<img>").attr("src",t.img):t.text&&(n=$("<span>").addClass("crownix-toolbar-icon-color").css(t.textStyle).text(t.text)),t.background&&i.css("background",t.background),n.appendTo(e),e.appendTo(i),!0!==t.visible&&i.hide(),!0===t.enable&&t.visible?i.addClass("crownix-toolbar-item-enable").bind("click tab",t.handler):i.addClass("crownix-toolbar-item-disable").bind("click tab",function(t){t.stopPropagation()}),i}},refresh:function(){var t=$("#"+m2soft.crownix.Constant.CONTAINER_ID),e=$(".crownix-toolbar-mark-left"),i=$(".crownix-toolbar-mark-right"),n=$("#crownix-toolbar-fixed-"+this.id),r=this.info,o=this.options.toolbarDirection,a=this.options.toolbarScale,s=this.options.toolbarWrapper,l=m2soft.crownix.State.Toolbar;if(("top"!==o&&"bottom"!==o||"top"!==r.fixed&&"bottom"!==r.fixed)&&("left"!==o&&"right"!==o||"left"!==r.fixed&&"right"!==r.fixed)){if(!r.visible||l&&l.get("isHide"))return this.hide();var d=("top"===o||"bottom"===o?t.width():t.height())/2,c=this.getButtonSize();switch(o){case"top":case"bottom":var h=Math.min(d,n.width());s.css({width:(t.width()-h*a)/a+"px"}),n.css({width:h+"px"}),e.css("left","left"===r.fixed?h+("fit"===c?10:0):0),i.css("right","right"===r.fixed?h+("fit"===c?10:0):0);break;case"left":case"right":h=Math.min(d,n.height());s.css({height:(t.height()-h*a)/a+"px"}),n.css({height:h+"px"}),e.css("top","top"===r.fixed?h+("fit"===c?10:0):0),i.css("bottom","bottom"===r.fixed?h+("fit"===c?10:0):0)}}},hide:function(){$("#crownix-toolbar-fixed-"+this.id).hide()},show:function(){$("#crownix-toolbar-fixed-"+this.id).show()},getButtonSize:function(){var t=this.info,e=this.options.toolbarDirection,i=t.width||"fit";return i="fit"===i?t.svg&&!d(e,t.svg)?"100px":"auto":i}};var n=null;m2soft.crownix.Toolbar.ScrollButtonPair=function(t,e){this.toolbarDirection=t,this.toolbarScroll=null,this.toolbarDom=e,this.isToolbarHide=!1;var i=this;n=n||function(t){i.isToolbarHide=t.isHide},s.getChannel("toolbar:changeToolbarState").subscribe(n)},m2soft.crownix.Toolbar.ScrollButtonPair.prototype={injectToolbarScroll:function(t){this.toolbarScroll=t},isToolbarVertical:function(){return"left"===this.toolbarDirection||"right"===this.toolbarDirection},renderLHS:function(){var t={},e=$(i.LEFT_ITEM_MARK);switch(this.toolbarDirection){case"top":t={left:"0px",top:"0px"},e=$(i.LEFT_ITEM_MARK);break;case"bottom":t={left:"0px",bottom:"0px",top:"auto"},e=$(i.LEFT_ITEM_MARK);break;case"right":t={right:"0px",top:"0px"},e=$(i.TOP_ITEM_MARK);break;case"left":t={left:"0px",top:"0px"},e=$(i.TOP_ITEM_MARK)}return $("<span>").addClass("crownix-toolbar-mark crownix-toolbar-gradient crownix-toolbar-mark-left").css(t).append('<span class="crownix-helper"></span>').append(e).bind("click",{that:this},function(t){var e,t=t.data.that;t.isToolbarVertical()?0<(e=t.toolbarScroll.y+2*t.toolbarDom.height()/3)?t.toolbarScroll.scrollTo(0,0,1e3):t.toolbarScroll.scrollTo(0,e,1e3):0<(e=t.toolbarScroll.x+2*t.toolbarDom.width()/3)?t.toolbarScroll.scrollTo(0,0,1e3):t.toolbarScroll.scrollTo(e,0,1e3)})},renderRHS:function(){var t={},e=null;switch(this.toolbarDirection){case"top":t={right:"0px",top:"0px"},e=$(i.RIGHT_ITEM_MARK);break;case"bottom":t={right:"0px",bottom:"0px",top:"auto"},e=$(i.RIGHT_ITEM_MARK);break;case"right":t={right:"0px",bottom:"0px",top:"auto"},e=$(i.BOTTOM_ITEM_MARK);break;case"left":t={left:"0px",bottom:"0px",top:"auto"},e=$(i.BOTTOM_ITEM_MARK)}return e.attr("class","crownix-toolbar-icon-svg"),$("<span>").addClass("crownix-toolbar-mark crownix-toolbar-gradient crownix-toolbar-mark-right").css(t).append('<span class="crownix-helper"></span>').append(e).bind("click",{that:this},function(t){var e,t=t.data.that;t.isToolbarVertical()?(e=t.toolbarScroll.y-2*t.toolbarDom.height()/3)<t.toolbarScroll.maxScrollY?t.toolbarScroll.scrollTo(0,t.toolbarScroll.maxScrollY,1e3):t.toolbarScroll.scrollTo(0,e,1e3):(e=t.toolbarScroll.x-2*t.toolbarDom.width()/3)<t.toolbarScroll.maxScrollX?t.toolbarScroll.scrollTo(t.toolbarScroll.maxScrollX,0,1e3):t.toolbarScroll.scrollTo(e,0,1e3)})},render:function(){var t=this.renderLHS(),e=this.renderRHS();return m2soft.crownix.State.Toolbar.get("isFloating")&&(t.addClass("floating-toolbar"),e.addClass("floating-toolbar")),[t,e]},hide:function(){$(".crownix-toolbar-mark-left, .crownix-toolbar-mark-right").hide()},show:function(){$(".crownix-toolbar-mark-left, .crownix-toolbar-mark-right").show()},refresh:function(){var t=$(".crownix-toolbar-mark-left"),e=$(".crownix-toolbar-mark-right");if(this.isToolbarHide||!this.toolbarScroll)return t.hide(),void e.hide();var i=this.isToolbarVertical()?this.toolbarScroll.y:this.toolbarScroll.x,n=this.isToolbarVertical()?this.toolbarScroll.maxScrollY:this.toolbarScroll.maxScrollX;0===i?t.hide():t.show(),i===n?e.hide():e.show()}},m2soft.crownix.Toolbar.PageNum=function(t,e,i){this.id=t,this.itemInfo=e,this.options=i},m2soft.crownix.Toolbar.PageNum.prototype={render:function(t){var e=this.itemInfo,i=this.options,n=$("<li>").attr({id:"crownix-toolbar-pagenum"}).addClass("crownix-toolbar-item").addClass("crownix-toolbar-pagenum");"left"!==i.toolbarDirection&&"right"!==i.toolbarDirection||n.css({"margin-left":0});var r=$("<input>").addClass("crownix-toolbar-pagenum-current").attr({title:e.title,"aria-label":e.title,"aria-disabled":!1}).bind("blur",function(){var t=$(this).val();setTimeout(function(){e.functions.movePage(t)})}).bind("keydown",function(t){13===t.keyCode&&$(this).blur()}).val(i.currentPage),o=$("<div>").addClass("crownix-toolbar-pagenum-total"),a=$("<span>").text("/ "+(i.totalPage||0));"left"!==i.toolbarDirection&&"right"!==i.toolbarDirection||(r.css({display:"block"}),o.css({display:"block"})),r.appendTo(n),a.appendTo(o),o.appendTo(n);o=null;return!0!==e.separator||t||(o=$("<div>").addClass("crownix-toolbar-separator").css({display:e.visible?"block":"none"})),!0!==e.visible&&n.hide(),!0===e.enable&&e.visible&&r.bind("click tab",e.handler),s.getChannel("dialog:changePageNum").subscribe(function(t){a.text("/ "+t.totalPage),r.val(t.currentPage)}),[n,o]},getType:function(){return"item"}}}(),m2soft.ns("m2soft.crownix.State"),m2soft.ns("m2soft.crownix.State.Toolbar"),function(){var i=m2soft.crownix.ChannelManager,r=m2soft.crownix.Resource,o=m2soft.crownix.resource.Icon,e={Normal:m2soft.crownix.Toolbar.Item,Drop:m2soft.crownix.Toolbar.DropItem,Fixed:m2soft.crownix.Toolbar.FixedItem,PageNum:m2soft.crownix.Toolbar.PageNum},a={isHide:!1,isFloating:!1,direction:"top",theme:null,scale:1,items:{close:{type:e.Normal,svg:o.CLOSE_OVERLAY,visible:!1,enable:!0,separator:!0},first:{type:e.Normal,svg:o.FIRST_PAGE,visible:!0,enable:!0},prev:{type:e.Normal,svg:o.PREV_PAGE,visible:!0,enable:!0},next:{type:e.Normal,svg:o.NEXT_PAGE,visible:!0,enable:!0},last:{type:e.Normal,svg:o.LAST_PAGE,visible:!0,enable:!0},move:{type:e.Normal,svg:o.MOVE_PAGE,visible:!1,enable:!1},prevDoc:{type:e.Normal,svg:o.PREV_DOC,visible:!1,enable:!0},nextDoc:{type:e.Normal,svg:o.NEXT_DOC,visible:!1,enable:!0},editor:{type:e.Normal,svg:o.EDITOR,visible:!1,enable:!0,separator:!0},pageNumber:{type:e.PageNum,visible:!0,enable:!0,separator:!0},zoomout:{type:e.Normal,svg:o.ZOOM_OUT,visible:!0,enable:!0},zoomin:{type:e.Normal,svg:o.ZOOM_IN,visible:!0,enable:!0},ratio:{type:e.Drop,text:"100%",visible:!0,enable:!0,items:{25:{type:e.Normal,text:"25%",visible:!0,enable:!0},50:{type:e.Normal,text:"50%",visible:!0,enable:!0},75:{type:e.Normal,text:"75%",visible:!0,enable:!0},100:{type:e.Normal,text:"100%",visible:!0,enable:!0},125:{type:e.Normal,text:"125%",visible:!0,enable:!0},150:{type:e.Normal,text:"150%",visible:!0,enable:!0},200:{type:e.Normal,text:"200%",visible:!0,enable:!0},250:{type:e.Normal,text:"250%",visible:!0,enable:!0},width:{type:e.Normal,visible:!0,enable:!0},height:{type:e.Normal,visible:!0,enable:!0}},separator:!0},save:{type:e.Drop,dialog_type:e.Normal,svg:o.SAVE,visible:!0,enable:!0,items:{pdf:{type:e.Normal,text:"PDF",svg:o.PDF,visible:!0,enable:!0},doc:{type:e.Normal,text:"DOC",svg:o.DOC,visible:!0,enable:!0},xls:{type:e.Normal,text:"XLS",svg:o.XLS,visible:!0,enable:!0},xls_data:{type:e.Normal,text:"XLS data",svg:o.XLS,visible:!1,enable:!0},ppt:{type:e.Normal,text:"PPT",svg:o.PPT,visible:!0,enable:!0},hwp:{type:e.Normal,text:"HWP",svg:o.HWP,visible:!0,enable:!0},txt:{type:e.Normal,text:"TXT",svg:o.TXT,visible:!1,enable:!0},cell:{type:e.Normal,text:"CELL",svg:o.CELL,visible:!1,enable:!0},brl:{type:e.Normal,text:"BRL",svg:o.BRL,visible:!1,enable:!0},csv:{type:e.Normal,text:"CSV",svg:o.CSV,visible:!1,enable:!0}}},storage:{type:e.Drop,svg:o.STORAGE,visible:!1,enable:!0,items:{"storage-mml":{type:e.Normal,visible:!0,enable:!0},"storage-formdata":{type:e.Normal,visible:!1,enable:!0}},separator:!0},print:{type:e.Normal,svg:o.PRINT,visible:!1,enable:!0},cloud_print:{type:e.Normal,svg:o.CLOUD_PRINT,visible:!1},print_pdf:{type:e.Normal,svg:o.PRINT_PDF,visible:!0,enable:!0,separator:!0},search:{type:e.Normal,svg:o.SEARCH,visible:!0,enable:!0},inquery:{type:e.Normal,svg:o.INQUERY,visible:!0,enable:!0,separator:!0},cancel:{type:e.Normal,svg:o.CANCEL,visible:!0,enable:!0},share:{type:e.Normal,svg:o.SHARE_CONNECT,visible:!0,enable:!0},guide:{type:e.Normal,svg:o.ENABLE_GUIDE,visible:!1,enable:!0}},customItems:{},fixedItem:void 0},s=function(t,e){var i,n=e;if(n[t])return n[t];for(i in n){var r=n[i].items;if(r){r=s(t,r);if(r)return r}}};m2soft.crownix.State.Toolbar={get:function(t){for(var e=t.split("."),i=a,n=0;n<e.length;n++)if(!(i=i[e[n]]))return i;return i},set:function(t,e){$.extend(!0,a,t),e||i.getChannel("toolbar:changeToolbarState").publishAsync(a)},refresh:function(){i.getChannel("toolbar:changeToolbarState").publishAsync(a)},addToolbarItem:function(t){if(void 0!==a.items[t.id])throw Error("[Crownix Viewer] could not add item (duplicated id: "+t.id+")");t.type=t.fixed?e.Fixed:e.Normal,t.visible=!0,t.enable=!0,t.type==e.Normal?a.customItems[t.id]=t:t.type==e.Fixed&&(a.fixedItem=t)},showToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++){var n=s(t[e],a.items);n&&(n.visible=!0),(n=s(t[e],a.customItems))&&(n.visible=!0)}a.fixedItem&&a.fixedItem.id==t&&(a.fixedItem.visible=!0),this.enableToolbarItem(t)},hideToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++){var n=s(t[e],a.items);n&&(n.visible=!1),(n=s(t[e],a.customItems))&&(n.visible=!1)}a.fixedItem&&a.fixedItem.id==t&&(a.fixedItem.visible=!1),this.disableToolbarItem(t)},enableToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++){var n=s(t[e],a.items);n&&(n.enable=!0,n.customDom&&n.customDom.enable()),(n=s(t[e],a.customItems))&&(n.enable=!0)}a.fixedItem&&a.fixedItem.id==t&&(a.fixedItem.enable=!0)},disableToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++){var n=s(t[e],a.items);n&&(n.enable=!1,n.customDom&&n.customDom.disable()),(n=s(t[e],a.customItems))&&(n.enable=!1)}a.fixedItem&&a.fixedItem.id==t&&(a.fixedItem.enable=!1)},toggleShareButton:function(t){var e=s("share",a.items),i=$("#crownix-toolbar-share"),n=$('button[title="'+e.title+'"]');n.children().remove(),t?(i.attr("title",r.get("do_disconnect")),n.attr("title",r.get("do_disconnect")),e.title=r.get("do_disconnect"),e.svg=o.SHARE_DISCONNECT):(i.attr("title",r.get("do_share")),n.attr("title",r.get("do_share")),e.title=r.get("do_share"),e.svg=o.SHARE_CONNECT),$(e.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false").css("display","none").appendTo(n).fadeIn(500)},toggleGuideButton:function(t){var e=s("guide",a.items),i=$("#crownix-toolbar-guide"),n=$('button[title="'+e.title+'"]');n.children().remove(),t?(i.attr("title",r.get("disable_guide")),n.attr("title",r.get("disable_guide")),e.title=r.get("disable_guide"),e.svg=o.DISABLE_GUIDE):(i.attr("title",r.get("enable_guide")),n.attr("title",r.get("enable_guide")),e.title=r.get("enable_guide"),e.svg=o.ENABLE_GUIDE),$(e.svg).attr("class","crownix-toolbar-icon-svg").attr("focusable","false").css("display","none").appendTo(n).fadeIn(500)},state:a}}(),m2soft.ns("m2soft.crownix.Message"),m2soft.crownix.Message.log=function(t){window.console&&window.console.log&&window.console.log(t)},m2soft.crownix.Message.error=function(t){window.console&&window.console.error&&window.console.error(t)},m2soft.crownix.Message.progress={show:function(t,e,i){e=e||"Loading",0<$(t).find(".ers_progress").length||$('<div class="ers_progress"><div class="ers_progress_content"></div><img src="data:image/gif;base64,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"/></div>').find(".ers_progress_content").text(e).end().appendTo(t).overlayMessageBox({load:!0,closeOnClick:!1,closeOnEsc:!1,fixed:!1,scrollArrangeDisable:!0,mask:{color:"#000",loadSpeed:200,opacity:.2,maskId:"progress_mask",viewer_id:t},onClose:function(){$("#progress_mask").remove(),$(this).remove()},top:"center",oneInstance:!1}).fadeIn(100,i)},hide:function(t){$(t).find(".ers_progress").overlayMessageBox().close&&$(t).find(".ers_progress").overlayMessageBox().close(),$(t).find(".ers_progress").remove(),$(t).find("#progress_mask").remove()}},m2soft.ns("m2soft.crownix.Window"),m2soft.crownix.Window=function(){function t(t,e,i){this.setting=$.extend({isOverlay:!1,movable:!1,scrollable:0,buttonType:[],isRelative:!1,useResizeHandler:!0,width:"94%",height:"94%",contentWidth:null,contentHeight:null,align:"center",left:null,top:null,isAppending:!1,onClose:function(){},onOk:function(){},onCancel:function(){}},i),this.title="New Window",this.content=e,this.footerHeight=0,this.windowFrame=null,this.resizeHandler=null,"string"==typeof t&&(this.title=t)}var h=m2soft.crownix.Resource,o=m2soft.crownix.Constant,a=m2soft.crownix.ChannelManager,e={"box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"};return t.prototype={constructor:m2soft.crownix.Window,getWindowFrame:function(t,e){var i=$('<div id="crownix-window-frame">').addClass("crownix-window-frame").css({display:"none","z-index":o.WINDOW_Z_INDEX,"margin-left":window.pageXOffset,"margin-top":window.pageYOffset});return null==this.setting.contentWidth&&i.css("width",this.setting.width),null==this.setting.contentHeight&&i.css("height",this.setting.height),e&&i.css(e),i},getWindowHeader:function(){var t=$("<div>").addClass("crownix-window-header").addClass("crownix-toolbar-gradient"),e=$("<span>").addClass("crownix-window-title").addClass("crownix-toolbar-icon-color").text(this.title),i=null;return 0<=this.setting.buttonType.indexOf("close")&&(i=$("<span>").addClass("crownix-window-close").bind("click",$.proxy(function(){this.close.call(this),this.setting.sendEvent&&this.setting.sendEvent("layer-close")},this)).append($("<img>").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC"))),"none"===m2soft.crownix.Layout.currentTheme.toolbarColor&&(t.removeClass("crownix-toolbar-gradient").css("background-color","#fff"),e.removeClass("crownix-toolbar-icon-color")),t.append(e,i)},getWindowBody:function(){var t={"overflow-y":"hidden","overflow-x":"hidden"};return 1!=this.setting.scrollable&&3!=this.setting.scrollable||(t["overflow-x"]="auto"),2!=this.setting.scrollable&&3!=this.setting.scrollable||(t["overflow-y"]="auto"),$("<div>").addClass("crownix-window-body").css(e).css(t).css({width:this.setting.contentWidth||"100%",height:this.setting.contentHeight||null}).append(this.content.css(e))},getWindowFooter:function(){var t=[],e=$("<div>").addClass("crownix-window-footer").addClass("crownix-toolbar-gradient").css("text-align","right");if("none"===m2soft.crownix.Layout.currentTheme.toolbarColor&&e.removeClass("crownix-toolbar-gradient").css("background-color","#fff"),0<=this.setting.buttonType.indexOf("ok")&&t.push(this.buttonFactory.getOkButton(this,this.setting.onOk)),0<=this.setting.buttonType.indexOf("cancel")&&t.push(this.buttonFactory.getCancelButton(this,this.setting.onCancel)),0<t.length)return e.append(t),e},show:function(t,e){var i=(t=t||{}).parent||"body",n=t.css;this.setting.isOverlay&&!this.setting.isAppending&&(this.overlay=$("<div>").addClass("crownix-overlay").css({"z-index":o.WINDOW_OVERLAY_Z_INDEX}).prependTo(i),"body"!==i&&this.overlay.css("position","absolute"),i=this.overlay),this.setting.isAppending&&(this.overlay=$("<div>").addClass("crownix-overlay").appendTo(i),i=this.overlay),this.windowFrame=this.getWindowFrame(i,n);var r=this.getWindowHeader(),t=this.getWindowBody(),n=this.getWindowFooter();i.append(this.windowFrame.append(r,t,n)),this.setting.useResizeHandler&&this.setResizeHandler(i),a.getChannel("window:afterMount").publishAsync(),this.setting.movable&&this.moveHandler.setMoveHandler(r,this.windowFrame),this.windowFrame.fadeIn(500,function(){"function"==typeof e&&e()})},setResizeHandler:function(r){var o=this;this.windowFrame.css({top:this.setting.top,left:this.setting.left});var a=this.windowFrame.find(".crownix-window-header"),s=this.windowFrame.find(".crownix-window-body"),l=this.windowFrame.find(".crownix-window-footer"),d=null,t=0,c=0;this.resizeHandler=function(){0<t&&clearTimeout(t),t=setTimeout($.proxy(function(){this.title==h.get("submit_preview_title")&&(0==c&&$(".crownix-preview-item").each(function(){c+=$(this).width()}),$(".crownix-window-footer").width()<c+68?($(".crownix-window-footer").height(95),o.footerHeight=100):($(".crownix-window-footer").height(50),o.footerHeight=50)),this.setting.onBeforeResize&&this.setting.onBeforeResize.call(this);var t=("body"==r?$(window):$(r)).width(),e=("body"==r?$(window):$(r)).height(),i=this.windowFrame.outerWidth(),n=this.windowFrame.outerHeight();null==this.setting.left||null==this.setting.top?(d||((d={}).width=this.windowFrame.outerWidth(),d.height=this.windowFrame.outerHeight()),d.top=(e-n)/2,d.left=(t-i)/2):(d||((d=this.windowFrame.position()).width=this.windowFrame.outerWidth(),d.height=this.windowFrame.outerHeight()),this.setting.isRelative&&(d=$.extend(d,{top:this.setting.top,left:this.setting.left})));i=$.extend({},d);i.top<0&&(i.top=0),i.left<0&&(i.left=0),i.top+i.height>e&&(i.height=e-i.top),i.left+i.width>t&&(i.width=t-i.left),this.windowFrame.css(i),s.add(s.find("div:first")).css({width:i.width,height:i.height-l.outerHeight()-a.outerHeight()})},this),this.title==h.get("submit_preview_title")?0:100)},this.resizeHandler(),$(window).on("resize",$.proxy(this.resizeHandler,this))},setFooterHeight:function(t){this.footerHeight=t},close:function(t){this.resizeHandler&&$(window).off("resize",this.resizeHandler),this.windowFrame&&this.windowFrame.fadeOut(500,function(){$(this).remove()}),(this.setting.isOverlay||this.setting.isAppending)&&this.overlay.fadeOut(500,function(){$(this).remove()}),this.setting.movable&&this.moveHandler.deleteMoveHandler(),this.setting.onClose()},buttonFactory:{getOkButton:function(e,i){return $("<button>").text("Ok").addClass("crownix-pen-button").text(h.get("ok_button_text")).css({margin:"2px 5px",width:"80px",height:"34px",background:"#2d94ff"}).bind("click",function(){var t=i();e.setting.sendEvent("layer-onOk"),void 0!==t&&!t||(e.close.apply(e),e.setting.sendEvent("layer-close"))})},getCancelButton:function(e,i){return $("<button>").text("Cancel").addClass("crownix-pen-button").text(h.get("cancel_button_text")).css({margin:"2px 5px",width:"80px",height:"34px",background:"#d2d2d2"}).bind("click",function(){var t=i();e.setting.sendEvent("layer-onCancel"),void 0!==t&&!t||(e.close.apply(e),e.setting.sendEvent("layer-close"))})}},moveHandler:{setMoveHandler:function(t,e){t.data("isMoving",!1),t.on("mousedown",{$handle:t},this.mousedown),$(window).on("mouseup",{$handle:t},this.mouseup),$(window).on("mousemove",{$handle:t,$window:e},this.mousemove)},deleteMoveHandler:function(){$(window).off("mouseup",this.mouseup),$(window).off("mousemove",this.mousemove)},mousedown:function(t){t.data.$handle.data({isMoving:!0,prevX:t.pageX,prevY:t.pageY})},mouseup:function(t){t.data.$handle.data("isMoving",!1)},mousemove:function(t){var e,i=t.data.$window,n=t.data.$handle,r=n.data("isMoving"),o=parseFloat(i.css("top")),a=parseFloat(i.css("left"));r&&(e=t.pageX-n.data("prevX"),r=t.pageY-n.data("prevY"),i.css({top:o+r,left:a+e}),n.data({prevX:t.pageX,prevY:t.pageY}))}},getHeaderHeight:function(){return 30}},t}(),m2soft.ns("m2soft.crownix.DateParser"),function(){var A={en:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:"AM",pm:"PM"},ko:{dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월","1","2","3","4","5","6","7","8","9","10","11","12"],am:"오전",pm:"오후"},ja:{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日","日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月","1","2","3","4","5","6","7","8","9","10","11","12"],am:"午前",pm:"午後"},"zh-CN":{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","周日","周一","周二","周三","周四","周五","周六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],am:"上午",pm:"下午"}};function x(t){return(t<0||9<t?"":"0")+t}function F(t){for(var e=0;e<t.length;e++)if(-1=="1234567890".indexOf(t.charAt(e)))return;return 1}function E(t,e,i,n){for(var r=n;i<=r;r--){var o=t.substring(e,e+r);if(o.length<i)return null;if(F(o))return o}return null}function n(t,e,i,n,r,o,a){void 0===n&&(n=new Date),i=m2soft.crownix.Resource.language,e+="",t+="";var s,l,d,c,h,u=0,p=0,f="",g=n.getFullYear(),m=n.getMonth()+1,w=1,x=n.getHours(),v=n.getMinutes(),b=n.getSeconds(),y="",C=1==r||2==r||3==r||4==r;for(a||"ja"!=i||(1==r||3==r?(c=e.substring(0,2),e=e.substring(2,e.length)):2!=r&&4!=r||(c=e.substring(0,1),e=e.substring(1,e.length)));p<t.length;){for(s=t.charAt(p),f="";t.charAt(p)==s&&p<t.length;)f+=t.charAt(p++);if("yyyy"==(f="1"==o&&"ss"==(f="mm"==(f="hh"==(f="HH"==(f="MM"==(f="dd"==f?"d":f)?"M":f)?"H":f)?"h":f)?"m":f)?"s":f)||"yy"==f){if("yyyy"==f&&(d=l=4),("yy"==f||C&&!a&&"ja"==i)&&(d=l=2),null==(g=3!=r&&4!=r||-1==e.indexOf("元年")?E(e,u,l,d):E(e.replace("元年","1年"),u,l-1,d-1)))return 0;u+=g.length,2!=g.length&&1!=g.length||(g=70<g?+g+1900:+g+2e3),g=C&&!a&&"ja"==i?(M=g,I=c,1==(h=r)||3==h?"令和"==I?M+=18:"平成"==I?M-=12:"昭和"==I?M-=75:"大正"==I?M-=89:"明治"==I?M-=133:void 0:"R"==I?M+=18:"H"==I?M-=12:"S"==I?M-=75:"T"==I?M-=89:"M"==I?M-=133:void 0):g}else if("MMM"==f||"MMMM"==f){for(var m=0,k=0;k<A[i].monthNames.length;k++){var S=A[i].monthNames[k];if(e.substring(u,u+S.length).toLowerCase()==S.toLowerCase()&&(12!=k||!F(e.substring(u,u+S.length+1)))&&("MMM"==f&&11<k||"MMMM"==f)){12<(m=k+1)&&(m-=12),u+=S.length;break}}if(m<1||12<m)return 0}else if("dddd"==f||"ddd"==f)for(k=0;k<A[i].dayNames.length;k++){var T=A[i].dayNames[k];if(e.substring(u,u+T.length).toLowerCase()==T.toLowerCase()){u+=T.length;break}}else if("MM"==f||"M"==f){if(null==(m=E(e,u,f.length,2))||m<1||12<m)return 0;u+=m.length}else if("dd"==f||"d"==f){if(null==(w=E(e,u,f.length,2))||w<1||31<w)return 0;u+=w.length}else if("hh"==f||"h"==f){if(null==(x=E(e,u,f.length,2))||x<1||12<x)return 0;u+=x.length}else if("HH"==f||"H"==f){if(null==(x=E(e,u,f.length,2))||x<0||23<x)return 0;u+=x.length}else if("mm"==f||"m"==f){if(null==(v=E(e,u,f.length,2))||v<0||59<v)return 0;u+=v.length}else if("ss"==f||"s"==f){if(null==(b=E(e,u,f.length,2))||b<0||59<b)return 0;u+=b.length}else if("tt"==f||"t"==f){var I=A[i].am,M=A[i].pm;if(e.substring(u,u+I.length).toLowerCase()==I.toLowerCase())y="AM",u+=I.length;else{if(e.substring(u,u+M.length).toLowerCase()!=M.toLowerCase())return 0;y="PM",u+=M.length}}else{if(e.substring(u,u+f.length)!=f)return 0;u+=f.length}}if(u!=e.length)return 0;if(2==m)if(g%4==0&&g%100!=0||g%400==0){if(29<w)return 0}else if(28<w)return 0;return(4==m||6==m||9==m||11==m)&&30<w?0:(x<12&&"PM"==y?x=+x+12:11<x&&"AM"==y&&(x-=12),new Date(g,m-1,w,x,v,b).getTime())}m2soft.crownix.DateParser.formatDate=function(t,e,i,n,r,o){i=m2soft.crownix.Resource.language,t+="";var a,s=1==n||2==n||3==n||4==n,l="",d=0,c="",h=e.getYear()+"",u=e.getMonth()+1,p=e.getDate(),f=e.getDay(),g=e.getHours(),m=e.getMinutes(),e=e.getSeconds(),w=new Object;for(h.length<4&&(h=""+(+h+1900)),s&&!o&&"ja"==i?(h=function(t,e,i,n){var r="";t=parseInt(t),e=parseInt(e),i=parseInt(i),2019<t||2019==t&&5<e||2019==t&&5==e&&1<=i?(r=1==n||3==n?"令和":"R",t-=2018):1989<t||1989==t&&1<e||1989==t&&1==e&&8<=i?(r=1==n||3==n?"平成":"H",t-=1988):1926<t||1926==t&&12<e||1926==t&&12==e&&25<=i?(r=1==n||3==n?"昭和":"S",t-=1925):1912<t||1912==t&&7<e||1912==t&&7==e&&30<=i?(r=1==n||3==n?"大正":"T",t-=1911):(1868<t||1868==t&&1<e||1868==t&&1==e&&1<=i)&&(r=1==n||3==n?"明治":"M",t-=1867);return{japanYear:r,val:t}}(h,u,p,n),w.y=w.yyyy=w.yy=x(h.val)):(w.y=""+h,w.yyyy=h,w.yy=h.substring(2,4)),w.M=u,w.MM=x(u),w.MMMM=A[i].monthNames[u-1],w.MMM=A[i].monthNames[u+11],w.d=p,w.dd=x(p),w.dddd=A[i].dayNames[f],w.ddd=A[i].dayNames[f+7],w.H=g,w.HH=x(g),w.h=0==g?12:12<g?g-12:g,w.hh=x(w.h),w.K=11<g?g-12:g,w.k=g+1,w.KK=x(w.K),w.kk=x(w.k),11<g?(w.tt=A[i].pm,w.t=A[i].pm):(w.tt=A[i].am,w.t=A[i].am),w.m=m,w.mm=x(m),w.s=e,w.ss=x(e);d<t.length;){for(a=t.charAt(d),c="";t.charAt(d)==a&&d<t.length;)c+=t.charAt(d++);null!=w[c]?l+=w[c="1"==r&&"ss"==(c="mm"==(c="hh"==(c="HH"==(c="MM"==(c="dd"==c?"d":c)?"M":c)?"H":c)?"h":c)?"m":c)?"s":c]:l+=c}return(s&&!o&&"ja"==i?h.japanYear:"")+(3!=n&&4!=n||-1==l.indexOf("01年")?l:l.replace("01年","元年"))},m2soft.crownix.DateParser.getDateFromFormat=n,m2soft.crownix.DateParser.isDate=function(t,e,i){return 0!=n(t,e)}}(),m2soft.ns("m2soft.crownix.Util"),m2soft.ns("m2soft.crownix.Map"),m2soft.crownix.Util.hasTouch=function(){return"ontouchstart"in window},m2soft.crownix.Util.isSupportSVG=function(){return!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},m2soft.crownix.Util.isSupportWebCrypto=function(){return!!(window.crypto&&window.crypto.subtle&&atob&&btoa&&Uint8Array)},m2soft.crownix.Util.getMathLibsInfo=function(){var t={},e=[];return window.MathLive||e.push("Mathlive"),window.MathJax||e.push("MathJax"),t.support=0===e.length,t.need=e,t.version={},window.MathLive&&(t.version.MathLive=window.MathLive.version.mathlive),window.MathJax&&(t.version.MathJax=window.MathJax.version),t},m2soft.crownix.Util.base64={toArray:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";/[^A-Za-z0-9\+\/\=]/g.exec(t)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var i=[],n=0;do{var r=e.indexOf(t.charAt(n++)),o=e.indexOf(t.charAt(n++)),a=e.indexOf(t.charAt(n++)),s=e.indexOf(t.charAt(n++))}while(i.push(r<<2|o>>4),64!=a&&i.push((15&o)<<4|a>>2),64!=s&&i.push((3&a)<<6|s),n<t.length);return i},decode:function(t){for(var e=this.toArray(t),i="",n=0;n<e.length;n++)i+=String.fromCharCode(e[n]);return unescape(i)},utf8Decode:function(t){for(var e=this.toArray(t),i="",n=[],r=0,o=0;o<e.length;o++){var a=e[o];if(0==r&&(r=0==(128&a)?1:192==(224&a)?2:224==(240&a)?3:1),r--,n.push(a),0==r){switch(n.length){case 0:break;case 1:i+=String.fromCharCode(n[0]);break;case 2:i+=String.fromCharCode((31&n[0])<<6|63&n[1]);break;case 3:i+=String.fromCharCode((15&n[0])<<12|(63&n[1])<<6|63&n[2])}n=[]}}return unescape(i)},isImage:function(t){return!!/data:image\/([a-zA-Z]*);base64,([^\"]*)/.exec(t)},toBlob:function(t,e){if(!Blob||!Uint8Array)return console.log("window.Blob을 지원하지 않는 브라우저 입니다."),null;t=new Uint8Array(this.toArray(t));return new Blob([t],{type:e||""})}},m2soft.crownix.Util.getUrlVars=function(){for(var t,e=[],i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<i.length;n++)t=i[n].split("="),e.push(t[0]),e[t[0]]=t[1];return e},m2soft.crownix.Util.getUrlVar=function(t){return decodeURIComponent(m2soft.crownix.Util.getUrlVars()[t])},m2soft.crownix.Util.isArray=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")},m2soft.crownix.Util.escapeXmlEntities=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","[":"&#x5B;","]":"&#x5D;"};return t.replace(/[&<>"'\/]/g,function(t){return e[t]})},m2soft.crownix.Util.browser=function(){var t,e=navigator.userAgent,i=navigator.standalone,n=/edge/i.test(e),r=/(msie|trident)/i.test(e),o=/chrome|crios/i.test(e),a=/phantom/i.test(e),s=/safari/i.test(e)&&!o&&!a,l=/touchpad/i.test(e),d=/android/i.test(e),c=/X11; Linux x86\_64/i.test(e)&&1<navigator.maxTouchPoints&&"ontouchstart"in window,h=/opera/i.test(e)||/opr\//i.test(e),u=/firefox|FxiOS/i.test(e),p=/gecko\//i.test(e),f=/seamonkey\//i.test(e),g=/version\/(\d+(\.\d+)?)/i,m=/firefox|FxiOS\/(\d+(\.\d+)?)/i,w=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!window.MSStream;/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e);var x=p?(t={name:"Gecko",gecko:!0,mozilla:!0,version:e.match(m)[1],mobile:d||w},u&&(t.name="Firefox",t.firefox=!0),t):n?{name:"Edge",edge:e.match(/edge/i)?e.match(/edge\/(\d+(\.\d+)?)/i)[1]:void 0}:r?{name:"Internet Explorer",msie:!0,version:document.documentMode||e.match(/(msie |rv:)(\d+(\.\d+)?)/i)[2],trident:e.match(/trident/i)?e.match(/trident\/(\d+(\.\d+)?)/i)[2]:void 0}:h?{name:"Opera",opera:!0,webkit:e.match(/AppleWebKit/i),version:(e.match(g)?e.match(g):e.match(/opr\/(\d+(\.\d+)?)/i))[1],mobile:d||w}:d?{name:"Android",webkit:!0,android:!0,mobile:!0,samsung:!!e.match(/samsung/i),version:e.match(/Android\s([0-9\.]*)/)[1],chrome:o?{name:"Chrome",webkit:!0,version:e.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:void 0}:c?{name:"Android Desktop Mode",webkit:!0,androidDM:!0,mobile:!0,samsung:!!e.match(/samsung/i),chrome:o?{name:"Chrome",webkit:!0,version:e.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:void 0}:w?(t={name:"iOS",webkit:!0,mobile:!0,ios:!0,uiwebview:!i&&!s,chrome:o?{name:"Chrome",webkit:!0,version:e.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:void 0,firefox:u?{name:"Firefox",firefox:!0}:void 0},g.test(e)&&(t.version=e.match(g)[1]),t):o?{name:"Chrome",webkit:!0,chrome:!0,version:e.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i)[1]}:a?{name:"PhantomJS",webkit:!0,phantom:!0,version:e.match(/phantomjs\/(\d+(\.\d+)+)/i)[1]}:l?{name:"TouchPad",webkit:!0,touchpad:!0,version:e.match(/touchpad\/(\d+(\.\d+)?)/i)[1]}:s?{name:"Safari",webkit:!0,safari:!0,version:e.match(g)[1]}:f?{name:"SeaMonkey",seamonkey:!0,version:e.match(/seamonkey\/(\d+(\.\d+)?)/i)[1]}:{};return x.msie&&8<=x.version||x.chrome&&10<=x.version||x.firefox&&4<=x.version||x.safari&&5<=x.version||x.opera&&10<=x.version?x.a=!0:x.msie&&x.version<8||x.chrome&&x.version<10||x.firefox&&x.version<4||x.safari&&x.version<5||x.opera&&x.version<10?x.c=!0:x.x=!0,x}(),m2soft.crownix.Util.os=function(){var t=navigator.userAgent;return-1!=t.indexOf("NT 7.0")?{name:"Windows 7",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("NT 6.0")?{name:"Windows Vista/Server 2008",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("NT 5.2")?{name:"Windows Server 2003",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("NT 5.1")||-1!=t.indexOf("XP")?{name:"Windows XP",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("NT 5.0")||-1!=t.indexOf("2000")?{name:"Windows 2000",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("NT")?{name:"Windows NT",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("9x 4.90")||-1!=t.indexOf("ME")?{name:"Windows Me",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("Windows 98")?{name:"Windows 98",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("Windows 95")?{name:"Windows 95",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("Win16")?{name:"Windows 3.x",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("Windows")?{name:"Windows",windows:!0,openbsd:!1,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("OpenBSD")?{name:"Open BSD",windows:!1,openbsd:!0,sunos:!1,linux:!1,macos:!1}:-1!=t.indexOf("SunOS")?{name:"Sun OS",windows:!1,openbsd:!1,sunos:!0,linux:!1,macos:!1}:-1!=t.indexOf("Linux")||-1!=t.indexOf("X11")?{name:"Linux",windows:!1,openbsd:!1,sunos:!1,linux:!0,macos:!1}:-1!=t.indexOf("Macintosh")||-1!=t.indexOf("Mac_PowerPC")?{name:"Mac OS",windows:!1,openbsd:!1,sunos:!1,linux:!1,macos:!0}:-1!=t.indexOf("iPhone")||-1!=t.indexOf("iPad")?{name:"iOS",majorVersion:t.match(/OS (\d+)_(\d+)_?(\d+)?/)[1],windows:!1,openbsd:!1,sunos:!1,linux:!1,macos:!1}:""}(),m2soft.crownix.Util.getAcrobatInfo=function(){function t(t){try{return new ActiveXObject(t)}catch(t){}}function e(t){for(key in navigator.plugins){var e=navigator.plugins[key];if(e.name==t)return e}}function i(){return this.plugin=this.plugin||(m2soft.crownix.Util.browser.msie?t("AcroPDF.PDF")||t("PDF.PdfCtrl"):e("Adobe Acrobat")||e("Chrome PDF Viewer")||e("WebKit built-in PDF"))}return{isInstalled:!!i(),version:function(){try{var t=i();if(m2soft.crownix.Util.browser.msie){var e=t.GetVersions().split(",")[0].split("=");return parseFloat(e[1])}return t.version?parseInt(t.version):t.name}catch(t){return null}}()}},m2soft.crownix.Util.formatPageNumber=function(t,e){function n(t,e){for(var i=t.split(""),n=!1,r=0;r<i.length;r++)(n||e.length-1>=r&&("＃"==e[e.length-1-r]||"＄"==e[e.length-1-r]))&&(e.length-1==r&&(n=!0),i[i.length-1-r]=String.fromCharCode(t.charCodeAt(i.length-1-r)+65248));return i.join("")}var r=e.currentPage,o=e.totalPage;return t=(t=t.replace(/(#|＃)+/g,function(t){for(var e=t,i=(e.length,o.toString());i.length<t.length;)i="0"+i;return i=n(i,e)})).replace(/(\$|＄)+/g,function(t){for(var e=t,i=(e.length,r.toString());i.length<t.length;)i="0"+i;return i=n(i,e)})},m2soft.crownix.Map=function(){var i=new Object;this.put=function(t,e){i[t]=e},this.get=function(t){return i[t]},this.containsKey=function(t){return t in i},this.containsValue=function(t){for(var e in i)if(i[e]==t)return!0;return!1},this.isEmpty=function(t){return 0==this.size()},this.clear=function(){for(var t in i)delete i[t]},this.remove=function(t){delete i[t]},this.keys=function(){var t,e=new Array;for(t in i)e.push(t);return e},this.values=function(){var t,e=new Array;for(t in i)e.push(i[t]);return e},this.size=function(){var t,e=0;for(t in i)e++;return e},this.toString=function(){var t,e=[];for(t in i)e.push(t+"="+i[t]);return e.join("\n")},this.toObject=function(){var t,e={};for(t in i)e[t]=i[t];return e}},m2soft.ns("m2soft.crownix.Util.StopWatch"),m2soft.crownix.Util.StopWatch=function(){var e=0,i=0,n=0,r=0;this.start=function(){e=i=Date.now(),n=r=0},this.stop=function(){var t=Date.now();n=t-e,r=t-i},this.lab=function(){var t=Date.now();r=t-i,n=t-e,i=t},this.getElapsedTimeMillis=function(){return n},this.getLabTimeMillis=function(){return r},this.toString=function(){return"elapsedTime="+n}},m2soft.ns("m2soft.crownix.util.Converter"),m2soft.crownix.util.Converter={xml2json:function(t,e){return new X2JS(e).xml_str2json(t)},json2xml:function(t,e){return new X2JS(e).json2xml_str(t)}},m2soft.ns("m2soft.crownix.util.SingleTone"),m2soft.crownix.util.SingleTone=function(i){function t(){var t,e;return void 0===n&&((e=function(){}).prototype=i.prototype,t=new e,e=i.apply(t,Array.prototype.slice.call(arguments)),n="object"==typeof e?e:t),n}var n;return t.getInstance=function(){return t.apply(null,Array.prototype.slice.call(arguments))},t.dispose=function(){n=void 0},t},m2soft.ns("m2soft.crownix.util.DateUtil"),m2soft.crownix.util.DateUtil.convertDateFormat=function(t,e,i,n,r,o){t=m2soft.crownix.DateParser.getDateFromFormat(e,t,void 0,void 0,n,r,!n||!o);if(0===t)return"";t=new Date(t);return m2soft.crownix.DateParser.formatDate(i,t,void 0,n,r,!(!n||!o))},m2soft.crownix.Util.deserialize=function(t){var e={};if(!t)return e;for(var i=t.split("&"),n=0,r=i.length;n<r;n++){var o,a=i[n],s=a.indexOf("=");-1!=s&&(o=decodeURI(a.substring(0,s)),s=decodeURI(a.substring(s+1)),e[o]=s)}return e},m2soft.crownix.Util.ASCENDING_COMPARATOR=function(t,e){return t<e?-1:e<t?1:0},m2soft.crownix.Util.DESCENDING_COMPARATOR=function(t,e){return e<t?-1:t<e?1:0},m2soft.crownix.Util.toFixed=function(t,e){return parseFloat(t.toFixed(e))},m2soft.crownix.Util.adjustFontsize=function(t,e){e=$.extend(!0,{min:0,max:20,limitSize:10},e);var i=t.find("span"),n=t.find("svg"),r=t.width(),o=i.width(),a=parseFloat(i.css("font-size")),s=0<n.length?n.outerWidth():0,a=Math.min(Math.max(e.min,(r-s)/o*a),e.max);t.css("white-space","nowrap"),i.css({"font-size":a,"vertical-align":"middle"}),1<(s=i.outerWidth()/(r-s))&&(a=Math.min(Math.max(e.min,a/s),e.max)),i.css("font-size",a<e.limitSize&&0<n.length?0:a)},m2soft.ns("m2soft.crownix.util.NumberUtil"),m2soft.crownix.util.NumberUtil=function(){function t(t,e,i){this.format=t,this.checkZero=e,this.checkNoZero=i,m2soft.crownix.util.NumberUtil.setLocaleFormat()}function c(t,e,i){var n,r=t.toString().split("."),t=e-(i||0),o="";2===r.length?(n=Math.min(Math.max(r[1].length,t),e),o=r[1].substring(0,n)):n=t;for(var a=o.length;a<n;a++)o=o.concat("0");return isNaN(r[0])||(r[0]=r[0].replace(/(^0+)/,"")||"0"),r=o?r[0]+"."+o:r[0],e-n<i&&(e=new RegExp("\\.?0{1,"+(i-(e-n))+"}$"),r=r.replace(e,"")),r}function o(t,e,i,n,r){var o,a,s=!0,l=!1,d="";if(null===t||!t)return t;if(-1<t.indexOf("+")?(s=!0,t=t.replace(/\+/g,"")):-1<t.indexOf("-")&&(s=!1,t=t.replace(/\-/g,"")),r&&"1"==r&&!Number(t))return"";if(-1<e.indexOf("[.]")&&(l=!0,e=e.replace("[.]",".")),o=t.toString().split(".")[0],a=e.split(".")[1],r=e.indexOf(i),a?(o=(d=-1<a.indexOf("[")?(a=(a=a.replace("]","")).split("["),c(t,a[0].length+a[1].length,a[1].length)):c(t,a.length)).split(".")[0],d=-1<d.indexOf(".")?"."+d.split(".")[1]:"",l&&0===Number(d.slice(1))&&(d="")):o=c(t,null),-1<r&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)),0===e.indexOf(".")&&(o=""),n&&"1"==n&&-1!=d.indexOf(".")){for(d=d.substring(d.indexOf(".")+1,d.length);d&&d.lastIndexOf("0")==d.length-1;)d=d.substring(0,d.length-1);d=(d?".":"")+d}return(s?"":"-")+o+d}function a(t){var e=t;return e=(e=(e="number"==typeof e?e.toString():e).indexOf(".")!=e.lastIndexOf(".")?(t=e.split("."))[0]+"."+t[1]:e).replace(/[^0-9&&^\.&&\-&&\+]/gi,"")}var s={numberFormat:void 0,currencyFormat:void 0};return t.prototype={formatNumber:function(t){var e,i,n,r;return t=a(t),-1!=(e=this.format).toLowerCase().search("(default number format)")?e=e.toLowerCase().replace("(default number format)",s.numberFormat):-1!=e.toLowerCase().search("(default currency format)")&&(e=e.toLowerCase().replace("(default currency format)",s.currencyFormat)),i=e.indexOf("#"),n=e.lastIndexOf("#")+1,r=e.length,t=-1!=(r={front:e.substring(0,i),middle:e.substring(i,n),end:e.substring(n,r)}).middle.search("[']")?o(t,r.middle,"'",this.checkZero,this.checkNoZero):-1!=r.middle.search("[*]")?o(t,r.middle,"*",this.checkZero,this.checkNoZero):o(t,r.middle,",",this.checkZero,this.checkNoZero),r.front+t+r.end},unformatNumber:a,setNumberFormat:function(t){s.numberFormat||(s.numberFormat=t)},getNumberFormat:function(){return s.numberFormat},setCurrencyFormat:function(t){s.currencyFormat||(s.currencyFormat=t)},getCurrencyFormat:function(){return s.currencyFormat}},t}(),m2soft.crownix.util.NumberUtil.setLocaleFormat=function(t,e){var i=t||m2soft.crownix.Resource.language,i=(t="ja"==i?"¥ #,###":"zh-CN"==i||"zh"==i?"¥ #,###[.]##":"en"==i?"$ #,###[.]##":"₩ #,###","#,###[.]###");this.prototype.setCurrencyFormat(void 0!==e&&void 0!==e.currencyFormat?e.currencyFormat:t),this.prototype.setNumberFormat(void 0!==e&&void 0!==e.numberFormat?e.numberFormat:i)},m2soft.ns("m2soft.crownix.util.Color"),m2soft.crownix.util.Color={hexToRgb:function(t,e,i){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if("none"===t)return[0,0,0,0];if(null===n)throw Error("[Crownix Viewer] Invalid Color Value("+t+")");"number"!=typeof e&&(e=0),"number"!=typeof i&&(i=1);e=[parseInt(n[1],16)+e,parseInt(n[2],16)+e,parseInt(n[3],16)+e];return 1!=i&&e.push(i),e},rgbToHex:function(t){for(var e=0,i=t.length;e<i;e++)t[e]<0&&(t[e]=0),255<t[e]&&(t[e]=255);return"#"+t[0].toString(16)+t[1].toString(16)+t[2].toString(16)},toRgbString:function(t){return 4==t.length?"rgba("+t.join(",")+")":"rgb("+t.join(",")+")"},toRgbArray:function(t){t=t.replace(/[^%,.\d]/g,"").split(",");return t.forEach(function(t,e,i){-1<t.indexOf("%")&&(t=Math.round(2.55*parseFloat(t))),1===(t=parseInt(t,10).toString(16)).length&&(t="0"+t),i[e]=t}),t}},m2soft.ns("m2soft.crownix.Util.ActionEvents"),m2soft.crownix.Util.ActionEvents=window.navigator.pointerEnabled||window.PointerEvent?{start:"pointerdown",move:"pointermove",end:"pointerup",out:"pointerout",over:"pointerover"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",out:"MSPointerout",over:"MSPointerover"}:{start:"mousedown",move:"mousemove",end:"mouseup",out:"mouseout",over:"mouseover"},m2soft.crownix.Util.sha256=function(t){function x(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function v(t,e){return t>>>e|t<<32-e}return function(t){for(var e="0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>8*(3-n%4)+4&15)+e.charAt(t[n>>2]>>8*(3-n%4)&15);return i}(function(t,e){var i=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),n=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),r=new Array(64);t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var o,a,s,l=0;l<t.length;l+=16){for(var d=n[0],c=n[1],h=n[2],u=n[3],p=n[4],f=n[5],g=n[6],m=n[7],w=0;w<64;w++)r[w]=w<16?t[w+l]:x(x(x(v(s=r[w-2],17)^v(s,19)^s>>>10,r[w-7]),v(a=r[w-15],7)^v(a,18)^a>>>3),r[w-16]),a=x(x(x(x(m,v(o=p,6)^v(o,11)^v(o,25)),(s=p)&f^~s&g),i[w]),r[w]),s=x(v(o=d,2)^v(o,13)^v(o,22),(s=d)&(o=c)^s&(s=h)^o&s),m=g,g=f,f=p,p=x(u,a),u=h,h=c,c=d,d=x(a,s);n[0]=x(d,n[0]),n[1]=x(c,n[1]),n[2]=x(h,n[2]),n[3]=x(u,n[3]),n[4]=x(p,n[4]),n[5]=x(f,n[5]),n[6]=x(g,n[6]),n[7]=x(m,n[7])}return n}(function(t){for(var e=Array(),i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<24-i%32;return e}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):(127<n&&n<2048?e+=String.fromCharCode(n>>6|192):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128)),e+=String.fromCharCode(63&n|128))}return e}(t)),8*t.length))},m2soft.crownix.Util.isCloudServer=function(){var t=m2soft.crownix.Ajax.xApiKey;return t&&"string"==typeof t},m2soft.crownix.Util.string={ltrim:function(t){for(var e=t.length,i=0,n=0;n<e&&" "===t[n];n++)i++;return t.substring(i,e)},rtrim:function(t){for(var e=t.length,i=e,n=e-1;-1<n&&" "===t[n];n--)i--;return t.substring(0,i)}},m2soft.crownix.Util.wildcardRegExp=function(t){return t=t.split(/\*+/).map(function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}).join(".*"),new RegExp("^"+t+"$")},m2soft.crownix.Util.uuid=function(){for(var t,e="",i=0;i<32;i++)t=16*Math.random()|0,8!=i&&12!=i&&16!=i&&20!=i||(e+="-"),e+=(12==i?4:16==i?3&t|8:t).toString(16);return e},m2soft.crownix.Util.extend=function(){function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?s[toString.call(t)]||"object":typeof t}function t(t){var e,i;if(t&&"object"===n(t)&&!t.nodeType&&(null==(i=t)||i!=i.window)){try{if(t.constructor&&!l.call(t,"constructor")&&!l.call(t.constructor.prototype,"isPrototypeOf"))return}catch(t){return}for(e in t);return void 0===e||l.call(t,e)}}var e,i,r,o,a,s={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},l={}.hasOwnProperty,d=Array.isArray||function(t){return"array"===n(t)},c=arguments[0]||{},h=1,u=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[h]||{},h++),"object"!=typeof c&&(c={});h<u;h++)if(null!=(o=arguments[h]))for(r in o)a=c[r],c!==(i=o[r])&&(p&&i&&(t(i)||(e=d(i)))?(a=e?(e=!1,a&&d(a)?a:[]):a&&t(a)?a:{},c[r]=this.extend(p,a,i)):void 0!==i&&(c[r]=i));return c},m2soft.crownix.Util.debounce=function(n,i,t){var r,o,a,s,l,d,e,c,h=0,u=!1,p=!1,f=!0,g=Math.max,m=Math.min,w=Date.now;if("function"!=typeof n)throw new TypeError("Expected a function");function x(t){var e=r,i=o;return r=o=void 0,h=t,s=n.apply(i,e)}function v(t){var e=t-d;return void 0===d||i<=e||e<0||p&&a<=t-h}function b(){var t,e=w();if(v(e))return y(e);l=setTimeout(b,(e=i-((t=e)-d),p?m(e,a-(t-h)):e))}function y(t){return l=void 0,f&&r?x(t):(r=o=void 0,s)}function C(){var t=w(),e=v(t);if(r=arguments,o=this,d=t,e){if(void 0===l)return h=e=d,l=setTimeout(b,i),u?x(e):s;if(p)return clearTimeout(l),l=setTimeout(b,i),x(d)}return void 0===l&&(l=setTimeout(b,i)),s}return i=parseInt(i)||0,c=typeof(e=t),null==e||"object"!=c&&"function"!=c||(u=!!t.leading,p="maxWait"in t,a=p?g(parseInt(t.maxWait)||0,i):a,f="trailing"in t?!!t.trailing:f),C.cancel=function(){void 0!==l&&clearTimeout(l),r=d=o=l=void(h=0)},C.flush=function(){return void 0===l?s:y(w())},C},m2soft.crownix.Util.REGEXP_EMAIL=new RegExp(/^[-A-Za-z0-9_]+[-A-Za-z0-9_.]*[@]{1}[-A-Za-z0-9_]+[-A-Za-z0-9_.]*[.]{1}[A-Za-z]{1,5}$/),m2soft.crownix.Util.REGEXP_URL=new RegExp(/^(file|gopher|news|nntp|telnet|https?|ftps?|sftp):\/\/([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/),m2soft.crownix.Util.REGEXP_TEL=new RegExp(/^(\+?\d{1,3}\s)?\d{1,3}((\s|\-){1})?\d{2,4}((\s|\-){1})?\d{2,4}((\s|\-){1})?(\d{2,4})?((\s|\-){1})?(\d{2,4})?$/),m2soft.crownix.Util.REGEXP_NUMBER=new RegExp(/^[0-9]*$/),m2soft.crownix.Util.escapeUnicode=function(e,t){if(!t||"string"!=typeof t||!e)return e;var i=t.split("");if(!i.some(function(t){return-1!==e.indexOf(t)}))return e;for(var n=e.split(""),r=0;r<n.length;r++){var o,a=n[r];i.includes(a)&&(a=1==(o=a.charCodeAt(0).toString(16)).length?"000":2==o.length?"00":3==o.length?"0":"",n[r]="\\u"+a+o)}return n.join("")},m2soft.crownix.Util.changeScrollbar=function(t,e,i,n,r){$(".iScrollHorizontalScrollbar").each(function(){$(this).parents(".crownix-tab-content").length||$(this).css({height:t,visibility:"hidden"})}),$(".iScrollVerticalScrollbar").each(function(){$(this).parents(".crownix-tab-content").length||$(this).css({width:e,visibility:"hidden"})}),$(".iScrollHorizontalScrollbar .iScrollIndicator, .iScrollVerticalScrollbar .iScrollIndicator").each(function(){$(this).parents(".crownix-tab-content").length||$(this).css({visibility:"visible",background:i,"border-radius":n+"px"})})},m2soft.crownix.Util.changeScrollbarToTarget=function(t,e,i,n,r,o){e=t.siblings(".iScrollHorizontalScrollbar").css({height:e}),i=t.siblings(".iScrollVerticalScrollbar").css({width:i});e.find(".iScrollIndicator").css({background:n,"border-radius":r+"px"}),i.find(".iScrollIndicator").css({background:n,"border-radius":r+"px"})},m2soft.crownix.Util.jquery=function(){var t=$().jquery.split(".");return{major:+t[0]||0,minor:+t[1]||0,patch:+t[2]||0}}(),$.extend({objectSize:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}}),m2soft.crownix.Util.Promise={},m2soft.crownix.Util.Promise.DeferChain={timingDefer:$.Deferred().resolve(),toResolve:function(){this.timingDefer=this.timingDefer.pipe(null,function(){return $.Deferred().resolve()})},push:function(t,e){return this.toResolve(),this.timingDefer=this.timingDefer.pipe(function(){return t(e)}),this.timingDefer}},function(f){f.crownixtools=f.crownixtools||{version:"@VERSION"},f.crownixtools.overlay={addEffect:function(t,e,i){m[t]=[e,i]},conf:{position:"absolute",close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!m2soft.crownix.Util.browser.msie||6<m2soft.crownix.Util.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var g=[],m={};function i(t,a){var e,s,l=this,d=t.add(l),c=f(a.mask.viewer_id==document?window:a.mask.viewer_id),h=f.crownixtools.expose&&(a.mask||a.expose),u=Math.random().toString().slice(10);h&&((h="string"==typeof h?{color:h}:h).closeOnClick=h.closeOnEsc=!1);var p,i=a.target||t.attr("rel");if(!(p=i?f(i):t).length)throw"Could not find Overlay: "+i;t&&-1==t.index(p)&&t.click(function(t){return l.load(t),t.preventDefault()}),f.extend(l,{load:function(t){if(l.isOpened())return l;var e=m[a.effect];if(!e)throw'Overlay: cannot find effect : "'+a.effect+'"';if(a.oneInstance&&f.each(g,function(){this.close(t)}),(t=t||f.Event()).type="onBeforeLoad",d.trigger(t),t.isDefaultPrevented())return l;s=!0,h&&f(p).expose(h);var i=a.top,n=a.left,r=p.outerWidth({margin:!0}),o=p.outerHeight({margin:!0});return"string"==typeof i&&(i="center"==i?Math.max((c.height()-o)/2,0):parseInt(i,10)/100*c.height()),"center"==n&&(n=Math.max((c.width()-r)/2,0)),e[0].call(l,{top:i,left:n},function(){s&&(t.type="onLoad",d.trigger(t))}),h&&a.closeOnClick&&f.mask.getMask().one("click",l.close),a.closeOnClick&&f(document).on("click."+u,function(t){f(t.target).parents(p).length||l.close(t)}),a.closeOnEsc&&f(document).on("keydown."+u,function(t){27==t.keyCode&&l.close(t)}),l},close:function(t){return l.isOpened()?((t=t||f.Event()).type="onBeforeClose",d.trigger(t),t.isDefaultPrevented()?void 0:(s=!1,m[a.effect][1].call(l,function(){t.type="onClose",d.trigger(t)}),f(document).off("click."+u+" keydown."+u),h&&f.mask.close(h),l)):l},getOverlay:function(){return p},getTrigger:function(){return t},getClosers:function(){return e},isOpened:function(){return s},getConf:function(){return a}}),f.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(t,e){f.isFunction(a[e])&&f(l).on(e,a[e]),l[e]=function(t){return t&&f(l).on(e,t),l}}),(e=p.find(a.close||".close")).length||a.close||(e=f('<a class="close"></a>'),p.prepend(e)),e.click(function(t){l.close(t)}),a.load&&l.load()}f.crownixtools.overlay.addEffect("default",function(t,e){var i=this.getConf(),n=f(window);i.fixed||"relative"==i.position||i.scrollArrangeDisable||(t.top+=n.scrollTop(),t.left+=n.scrollLeft()),t.position=i.fixed?"fixed":i.position,this.getOverlay().css(t).fadeIn(i.speed,e)},function(t){this.getOverlay().fadeOut(this.getConf().closeSpeed,t)}),f.fn.overlayMessageBox=function(t){var e=this.data("overlay");return e||(f.isFunction(t)&&(t={onBeforeLoad:t}),t=f.extend(!0,{},f.crownixtools.overlay.conf,t),this.each(function(){e=new i(f(this),t),g.push(e),f(this).data("overlay",e)}),t.api?e:this)}}(jQuery),function(i){function n(t){if(t)return t.call(i.mask)}i.crownixtools=i.crownixtools||{version:"@VERSION"};var r,o,a,s=i.crownixtools.expose={conf:{viewer_id:document,maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:1e4,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}},l={},d={};i.mask={load:function(t,e){return t=(t="string"==typeof t?{color:t}:t)||o,o=t=i.extend(i.extend({},s.conf),t),d[t.maskId]?this:(l[t.maskId]=i("#"+t.maskId),l[t.maskId].length||(l[t.maskId]=i("<div/>").attr("id",t.maskId),i("body").append(l[t.maskId]),i(t.viewer_id==document?"body":t.viewer_id).append(l[t.maskId])),l[t.maskId].css({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"none",opacity:t.startOpacity,zIndex:t.zIndex}),t.color&&l[t.maskId].css("backgroundColor",t.color),!1===n(t.onBeforeLoad)||(t.closeOnEsc&&i(document).on("keydown.mask",function(t){27==t.keyCode&&i.mask.close(t)}),t.closeOnClick&&l[t.maskId].on("click.mask",function(t){i.mask.close(t)}),e&&e.length&&(a=e.css("z-index"),i.each(e,function(){var t=i(this);/relative|absolute|fixed/i.test(t.css("position"))||t.css("position","relative")}),r=e.css({zIndex:Math.max(t.zIndex+1,"auto"==a?0:a)})),l[t.maskId].css({display:"block"}).fadeTo(t.loadSpeed,t.opacity,function(){n(t.onLoad),d[t.maskId]=!1}),d[t.maskId]=!0),this)},close:function(t){if(d[t.maskId]){if(!1===n(o.onBeforeClose))return this;l[t.maskId].fadeOut(o.closeSpeed,function(){n(o.onClose),d[t.maskId]=!1}),i(document).off("keydown.mask"),l[t.maskId].off("click.mask"),i(window).off("resize.mask")}return this},getMask:function(){var t=i.extend(i.extend({},s.conf),o);return l[t.maskId]},isLoaded:function(t){var e=i.extend(i.extend({},s.conf),o);return t?"full"==d[e.maskId]:d[e.maskId]},getConf:function(){return o},getExposed:function(){return r}},i.fn.mask=function(t){return i.mask.load(t),this},i.fn.expose=function(t){return i.mask.load(t,this),this}}(jQuery),m2soft.ns("m2soft.crownix.util.Unit"),m2soft.crownix.util.Unit={dpi:void 0,detectDPI:function(){var t;void 0===this.dpi&&(t=$("<div>").css({width:"1in",height:"1in",display:"none"}).appendTo("body"),this.dpi=t.width(),t.remove(),window.console&&(console.log("[Crownix Viewer] detect "+this.dpi+" device DPI."),console.log("[Crownix Viewer] detect "+window.devicePixelRatio+" device pixel ratio.")))},inToPx:function(t){return this.detectDPI(),t*this.dpi},pxToIn:function(t){return this.detectDPI(),t/this.dpi},ptToPx:function(t){return this.detectDPI(),t/72*this.dpi},pxToPt:function(t){return this.detectDPI(),t/this.dpi*72}},m2soft.ns("m2soft.crownix.AnimationFrame"),m2soft.crownix.AnimationFrame=function(t){var e=this;e.renderTask=t;function i(){a=r(s)}function n(){a&&(o(a),a=null)}var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)},a=null,s=function(){for(var t=Date.now()+10;e.renderTask.hasNext()&&(e.renderTask.fetchAndExecute(),!(Date.now()>t)););e.renderTask.hasNext()?i():(e.renderTask.onTaskDone(),n())};e.start=i,e.cancel=n},m2soft.ns("m2soft.crownix.PageRenderer"),m2soft.crownix.PageRenderer=function(t){function i(t){var e=m2soft.crownix.AnimationFrame,i=this,n=[],r=[],t=t,o=0,a=0;i.taskID=t,i.priority=h,i.animationFrame=new e(i),i.add=function(t,e){n.push(t),r.push(e),a++},i.fetchAndExecute=function(){n[o].call(null,r[o]),n[o]=null,r[o]=null,o++},i.state=s,i.size=function(){return a},i.hasNext=function(){return o<=a-1},i.start=function(){i.state!==l&&(i.state=l,i.animationFrame.start())},i.clear=function(){n=[],r=[],a=o=0,i.state=d},i.cancel=function(){i.state=c,i.animationFrame.cancel()},i.onTaskDone=function(){i.clear(),u.taskIndex++,i.state=d,delete p[t],u.hasNext()?(f=u.getNextTask(),u.start()):u.clear()}}function e(t){for(var e=[],i=Object.keys(t),n=0,r=i.length;n<r;n++)e.push(t[i[n]]);return e.sort(function(t,e){return t.taskID-e.taskID}),e}function n(){null!==f&&f.cancel()}var s=-1,l=0,d=1,c=2,h=1,u=this,p={},f=null;u.prepare=function(t){t.map(function(t,e){void 0===p[t]&&(p[t]=new i(t))}),null===f&&(f=e(p)[0])},u.hasNext=function(){return 0<e(p).length},u.getNextTask=function(){return e(p)[0]},u.clear=function(){for(var t=Object.keys(p),e=0,i=t.length;e<i;e++)delete p[t[e]];f=null},u.getRenderTask=function(t){return void 0===p[t]&&u.prepare([t]),p[t]},u.start=function(){null===f||f.state!==s&&f.state!==c||f.start()},u.pause=n,u.cancel=function(){n(),u.clear()}},m2soft.ns("m2soft.crownix.DocumentScroller"),m2soft.crownix.DocumentScroller=function(l,n,r){function o(t,e,i){var n=document.createElement("div"),r=n.style;return r.width=e+"px",r.height=i+"px",r.margin="auto",1<t&&(r["padding-top"]=l.options.scrollOptions.pageMargin+"px"),n.setAttribute("class",w.PAGE_CLASS),n.setAttribute("no",t),n.appendChild(A()),n}function d(t){return S.scroller.querySelector(C+'[no="'+t+'"]')}function t(){return Array.prototype.slice.call(S.scroller.querySelectorAll(C))}function a(t){var i=$(t),n=parseInt(t.style.width),r=parseInt(t.style.height);i.attr("loading-state","loading");var e=$("<canvas>").attr({id:w.CANVAS_ID,width:n,height:r,class:"crownix-page"}).css({position:"absolute","z-index":1,width:Math.floor(n),height:Math.floor(r)}),o=$("<div>").attr("id",w.TEXT_ID).addClass("crownix-text").css({position:"absolute",width:n,height:r,"z-index":2,margin:"1px"});$("<div>").addClass("crownix-search-mark").css({position:"absolute",top:0,left:0,width:n,height:r,"pointer-events":"none"}).appendTo(o),M(t),e.appendTo(i),o.appendTo(i),l.license.isAllowedFeature("Note")&&l.options.enableNote&&k&&$("<div>").attr("id",w.NOTE_ID).addClass(w.NOTE_CLASS).css({position:"absolute",display:"block",width:n,height:r,"z-index":3}).appendTo(i),l.options.formField.readonly&&$("<div>").attr("id",w.PREVENTER_ID).css({position:"absolute",width:n,height:r,"z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo(i),$(A()).addClass("transparent").appendTo(i),x.getChannel("toolbar:changeToolbarState").subscribeOnce(function(t){var e=t.theme,t=parseFloat(e.pageBorderWidth),e=e.pageBorderWidth.substr(t.toString().length);1<t&&(i.css({width:n+2*t+e,height:r+2*t+e}),l.scroll.refresh())}),x.getChannel("viewer:createPageDom").publish()}function s(){return $(".m2soft-crownix-page-frame[loading-state=loading], .m2soft-crownix-page-frame[loading-state=done]")}function e(t){var e=s();if(D(g).top,(t||!(e.length<=15))&&0<e.length)if(l.pageRenderer.cancel(),t)e.each(function(){var t=parseInt(this.getAttribute("no"));l.options.enableNote&&l.noteManager.removeNoteElement(t),M(this),this.appendChild(A())});else{var i=e.length-15;if(m===b.TOP)for(var n=e.length-1;n>e.length-1-i;n--){var r=e[n],o=parseInt(r.getAttribute("no"));l.options.enableNote&&l.noteManager.removeNoteElement(o),M(r),r.appendChild(A())}else for(n=0;n<i;n++){r=e[n],o=parseInt(r.getAttribute("no"));l.options.enableNote&&l.noteManager.removeNoteElement(o),M(r),r.appendChild(A())}}}function c(t){t&&e(t),t=_().filter(function(t){return"done"!==t.getAttribute("loading-state")&&"loading"!==t.getAttribute("loading-state")}).map(function(t){return parseInt(t.getAttribute("no"))}),I(t)}function h(){return t().filter(function(t){return"none"!==t.style.display}).map(function(t){return parseFloat(t.style.width)}).reduce(function(t,e){return Math.max(t,e)},-1)}function i(){return t().filter(function(t){return"none"!==t.style.display}).length}function u(){var t=S.getDisplayPageNumber(),e=i();l.isGroupReport?l.mrdGroupManager.setPageToolbarItems(t,l.toolbar):1==e?l.toolbar.disableToolbarItem(["next","last","move"]):1==t?(l.toolbar.disableToolbarItem(["first","prev"]),l.toolbar.enableToolbarItem(["next","last"])):t==e?(l.toolbar.disableToolbarItem(["next","last"]),l.toolbar.enableToolbarItem(["first","prev"])):l.toolbar.enableToolbarItem(["first","prev","next","last"])}function p(t){var e=D(g),i=D(t.firstElementChild),t=i.height;return i.top<e.top&&(t-=e.top-i.top),i.bottom>e.bottom&&(t-=i.bottom-e.bottom),t}function f(){$("."+w.PAGE_CLASS).css("display","none"),S.scroller.style.width=S.scroller.style.height="0px",l.scroll.refresh()}var g,m,w=m2soft.crownix.Constant,x=m2soft.crownix.ChannelManager,v=m2soft.crownix.Util,b=(m2soft.crownix.Resource,{BOTTOM:-1,TOP:1}),y=l.options.scrollOptions.pageMargin,C="."+w.PAGE_CLASS,k=v.isSupportSVG(),S=this,n=n,T=l.mrdGroupManager,I=function(t){0<t.length?(l.pageRenderer.prepare(t),t.map(function(t){var e=d(t),i=l.pageRenderer.getRenderTask(t);0===i.size()&&(i.add(a,e),i.add(l.stateLess?n:r,t))}),l.pageRenderer.start()):x.getChannel("tabOrder:movePage").publish()},M=function(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild);$(t).off(),t.removeAttribute("loading-state")},A=function(){var t=document.createElement("div");return t.setAttribute("class","crownix-page-loading"),t},F=function(t,e){var i=S.scroller,n=parseFloat(t)||0,r=parseFloat(e)||0,o=parseFloat(i.style.width),e=parseFloat(i.style.height);function a(){var t,e=l.options.defaultZoom;e?isNaN(e)?"WIDTH"==e.toUpperCase()?t=E():"HEIGHT"==e.toUpperCase()&&(t=P()):t=e:t=Math.min(1,E()),l.scroll.scale==t?c():l.scroll.zoom(t,$(g).width()/2,$(g).height()/2,0)}isNaN(o)&&(i.style.width=n+"px",a()),isNaN(e)?i.style.height=r+"px":(o<t&&(i.style.width=n+"px",a()),i.style.height=e+Math.round(100*r)/100+y+"px")},E=function(){var t=D(g).width,e=parseFloat(S.scroller.style.width);return(t-2*w.CONTAINER_PADDING*t/e)/e},P=function(){var t=d(S.getCurrentPageNumber()),e=parseFloat(t.style.height),t=D(g).height;return(t-2*w.CONTAINER_PADDING*t/e)/e},D=function(t){var e;return t.getBoundingClientRect?e=t.getBoundingClientRect():t.getClientRects&&(e=t.getClientRects()[0]),e},O=function(t){var e=D(t),i=D(g),n=i.height,t=i.top,i=Math.floor(e.top),e=parseInt(e.height);return i<t&&t<i+e||t<=i&&i+e<=n||t<=i&&i<=n},_=function(){for(var t,e,i,n=[],r=document.querySelectorAll("."+w.PAGE_CLASS),o=D(g),a=o.height,s=o.top,l=0;l<r.length&&(t=r[l],i=(e=D(t)).top-s,O(t)&&n.push(t),!(i+e.height>a));l++);return n};S.scrollToPage=function(t,e){l.scroll.scrollToElement(d(t),200),l.currentPage=t,l.options.showThumbnail&&l.isGroupReport&&(t=l.mrdGroupManager.getCurrentMrdGroup(),l.thumbnail.scrollPage(t.getRelativePageNumber(S.getDisplayPageNumber()))),e&&setTimeout(e,210)},S.getCurrentPageNumber=function(){var t=_();if(0===t.length)return 0;t=t.reduce(function(t,e){var i=p(t);return p(e)<=i?t:e});return parseInt($(t).attr("no"))},S.getDisplayPageNumber=function(){return l.report.getDestPageNum(S.getCurrentPageNumber())},S.removePage=function(t){var e,i=0;t.filter(function(t){return"none"!==d(t).style.display}).map(function(t){e=d(t),i+=parseFloat(e.style.height),1<t&&(i+=y),e.style.display="none"}),S.scroller.style.width=h()+"px",S.scroller.style.height=parseFloat(S.scroller.style.height)-i+"px",l.scroll.refresh(),l.dialog.pagenum(S.getDisplayPageNumber(),l.totalPage,!1),c(),u()},S.restorePage=function(t){var e,i=0;t.filter(function(t){return"none"===d(t).style.display}).map(function(t){e=d(t),i+=parseFloat(e.style.height),1<t&&(i+=y),e.style.display="block"}),S.scroller.style.width=h()+"px",S.scroller.style.height=parseFloat(S.scroller.style.height)+i+"px",l.scroll.refresh(),l.dialog.pagenum(S.getDisplayPageNumber(),l.totalPage,!1),c(),u()},S.removeReport=function(t,e){for(var i,n=0,r=t;r<=e;r++)(i=d(r))&&(n+=parseFloat(i.style.height)+y,i.remove());S.scroller.style.width=h()+"px",S.scroller.style.height=parseFloat(S.scroller.style.height)-n+"px"},S.SCROLL_DIRECT=b,S.SCROLL_DURATION=200,S.updateScrollDirect=function(t){m=0<t?b.TOP:b.BOTTOM},S.getScrollDirect=function(){return m},S.prepare=function(){var t,e;g=document.getElementById(w.CONTAINER_ID),t=document.createElement("div"),e=t.style,t.setAttribute("id","m2soft-document-scroller"),e.position="relative",e.padding=l.options.scrollOptions.pageMargin+"px",$(t).prependTo(g),S.scroller=t},S.refreshSize=F,S.getElementRect=D,S.findVisiblePageArray=_,S.getWidthFitRatio=E,S.getHeightFitRatio=P,S.insertPageFrame=function(t,e,i){var n=new o(t,e,i);S.scroller.appendChild(n),F(e,i),l.scroll&&l.scroll.refresh(),O(n)&&I([t])},S.getPageFrame=d,S.drawVisiblePages=c,S.getLoadedPages=s,S.getLoadedPageCount=function(){return s().length},S.clearLoadedPages=e,S.getWidthFitRatio=E,S.resetToolbarItems=u,S.getTotalPage=function(){return t().length},S.getVisibleTotalPage=i,S.isVisiblePage=O,S.hideAllPages=f,S.showCurrentMrdGroupPages=function(t){if(T){f();for(var e,i=T.getCurrentMrdGroup(),n=l.report.findPage(i.startPage),r=l.report.findPage(i.currentPage),o=n+i.totalPage-1,a=0,s=n;s<=o;s++){if(!(e=d(s)))return;a+=parseFloat(e.style.height),n<s&&(a+=y),e.style.display="block"}S.scroller.style.width=h()+"px",S.scroller.style.height=parseFloat(S.scroller.style.height)+a+"px",l.scroll.refresh(),c(),S.scrollToPage(r,function(){l.dialog.pagenum(S.getDisplayPageNumber(),i.totalPage,!1),u(),"function"==typeof t&&t()})}},S.isLoaded=function(t){t=d(t);return null!==t&&"done"===t.getAttribute("loading-state")}},m2soft.ns("m2soft.crownix.Layout"),function(){function a(t,i){function e(t,e){return e.replace(/%BORDER_COLOR%/g,u.toRgbString(u.hexToRgb(i.toolbarEffectColor,0,.8))).replace(/%SHADOW_COLOR%/g,u.toRgbString(u.hexToRgb(i.toolbarEffectColor,0,.8)))}function n(t,e){return e.replace(/%BORDER_COLOR%/g,u.toRgbString(u.hexToRgb(i.toolbarEffectColor,0,.5))).replace(/%SHADOW_COLOR%/g,u.toRgbString(u.hexToRgb(i.toolbarEffectColor,0,.3)))}t.registerRule(".crownix-toolbar-item-enable:hover",C).addMapper(e),t.registerRule(".crownix-toolbar-item-enable-hover",C).addMapper(e),t.registerRule(".crownix-toolbar-dropitem-enable:hover",C).addMapper(e),t.registerRule(".crownix-toolbar-dropitem-enable-hover",C).addMapper(e),t.registerRule(".crownix-toolbar-pagenum-current:hover",C).addMapper(e),t.registerRule(".crownix-toolbar-item-enable:active",C).addMapper(n),t.registerRule(".crownix-toolbar-dropitem-enable:active",C).addMapper(n)}function s(t,r){t.registerRule(".crownix-field-dialog-countingBar",{background:r.signButtonColor}),t.registerRule(".crownix-field-dialog-progress",y).addMapper(function(t,e){return i=e,n=u.hexToRgb(r.toolbarColor,120),e=u.hexToRgb(r.toolbarColor,80),i=i.replace(/%TOP_COLOR%/g,u.toRgbString(n)).replace(/%BOTTOM_COLOR%/g,u.toRgbString(e)),i="none"===r.toolbarColor?i.replace(/%IE9_TOP_COLOR%/g,"#00FFFFFF").replace(/%IE9_BOTTOM_COLOR%/g,"#00FFFFFF"):i.replace(/%IE9_TOP_COLOR%/g,u.rgbToHex(n)).replace(/%IE9_BOTTOM_COLOR%/g,u.rgbToHex(e));var i,n})}function e(t){var e,i,n,r,o=new d;(function(t){if(null==t.toolbarColor||null==t.toolbarIconColor||null==t.toolbarEffectColor||null==t.toolbarWidth||null==t.containerColor||null==t.pageBorderColor||null==t.pageBorderWidth)throw Error("[Crownix Viewer] null properties in theme is not allowed")})(t=$.extend({},b,t)),l.currentTheme=t,n=t,(e=o).registerRule(".crownix-toolbar-gradient",{background:n.toolbarColor}),"none"==n.toolbarColor?e.registerRule("#crownix-toolbar",{"border-bottom":"0px"}):(r=c.get("direction"),e.registerRule("#crownix-toolbar",{"border-top":"bottom"==r?"1px solid "+n.toolbarBorderColor:"none","border-bottom":"top"==r?"1px solid "+n.toolbarBorderColor:"none","border-left":"right"==r?"1px solid "+n.toolbarBorderColor:"none","border-right":"left"==r?"1px solid "+n.toolbarBorderColor:"none"})),r=t,o.registerRule(".crownix-container-gradient",{background:r.containerColor}),n=t,(r=o).registerRule(".crownix-toolbar-dropitem-enable:after",{content:'"";',width:"0;",height:"0;",position:"absolute;",right:"1.5px;",top:"50%;","margin-top":"-3px;","border-width":"9px 6px 0 6px;","border-style":"solid;","border-color":n.toolbarSVGThemeColorB+" transparent"}),r.registerRule(".crownix-toolbar-icon-color",{color:n.toolbarSVGThemeColorA,stroke:n.toolbarSVGThemeColorA,fill:n.toolbarSVGThemeColorA}),r.registerRule(".crownix-toolbar-separator",{"border-left":"1px solid "+u.toRgbString(u.hexToRgb(n.toolbarSeparatorColor,0,1)),"border-top":"1px solid "+u.toRgbString(u.hexToRgb(n.toolbarSeparatorColor,0,1))}),r.registerRule(".crownix-toolbar-icon-border",{border:"1px solid "+u.toRgbString(u.hexToRgb(n.toolbarIconColor,0,.3))}),r.registerRule(".crownix-toolbar-themeA-stroke",{stroke:n.toolbarSVGThemeColorA+" !important"}),r.registerRule(".crownix-toolbar-themeA-fill",{fill:n.toolbarSVGThemeColorA+" !important"}),r.registerRule(".crownix-toolbar-themeB-stroke",{stroke:n.toolbarSVGThemeColorB+" !important"}),r.registerRule(".crownix-toolbar-themeB-fill",{fill:n.toolbarSVGThemeColorB+" !important"}),r.registerRule(".crownix-toolbar-themeC-stroke",{stroke:n.toolbarSVGThemeColorC+" !important"}),r.registerRule(".crownix-toolbar-themeC-fill",{fill:n.toolbarSVGThemeColorC+" !important"}),r.registerRule(".crownix-toolbar-pagenum-current",{color:n.toolbarCurrentPageNumColor+" !important"}),r.registerRule(".crownix-toolbar-pagenum-total span",{color:n.toolbarTotalPageNumColor+" !important"}),r.registerRule(".crownix-toolbar-fixed-item span",{color:n.toolbarCurrentPageNumColor}),a(o,t),i=t,(r=o).registerRule(".crownix-page",k).addMapper(function(t,e){return e=e.replace(/%BORDER_COLOR%/,u.toRgbString(u.hexToRgb(i.pageBorderColor))),e=0===parseFloat(i.pageBorderWidth)?e.replace(/%BORDER_WIDTH%/g,"0px"):e.replace(/%BORDER_WIDTH%/g,i.pageBorderWidth)}),"1px"!=i.pageBorderWidth&&r.registerRule("#"+h.TEXT_ID,{margin:i.pageBorderWidth||"0px"}),n=t,(r=o).registerRule(".crownix-slide",{"border-right":"1px solid "+n.toolbarBorderColor}),r.registerRule(".crownix-tab",{background:n.toolbarSVGThemeColorB}),r.registerRule(".crownix-slide-toggle",{background:n.toolbarBorderColor}),r.registerRule(".crownix-left-arrow:before, .crownix-right-arrow:before",{"border-color":n.toolbarSVGThemeColorA}),s(o,t),r=t,(n=o).registerRule(".crownix-confirm-background",{background:r.signButtonColor}),n.registerRule(".crownix-refresh-icon-color",{fill:r.signButtonColor}),n.registerRule(".crownix-pen-button-color",{color:r.signButtonColor,fill:r.signButtonColor,"border-color":r.signButtonColor}),r=t,o.registerRule("#crownix-save-desktop .wrapper-middle > .section-top button,#crownix-save-desktop .wrapper-bottom > button#save, #crownix-save-mobile .wrapper-bottom > button#save,#crownix-save-desktop .wrapper-top, #crownix-save-mobile .wrapper-top",{background:r.signButtonColor}),("left"==(r=c.get("direction"))||"right"==r?function(t,e){var i=c.get("direction"),n=c.get("isFloating"),r=c.get("scale"),o=parseFloat(e.toolbarWidth),a=e.toolbarWidth.substr(o.toString().length),o=Math.max(56,o);t.registerRule("#crownix-toolbar",{width:o+a,height:"100%",padding:"10px 0px",position:"absolute"}),n||((s={})[i]=o*r+1+a,t.registerRule("#m2soft-crownix-container",s)),n=function(t){return t-22-2},r=function(t){return o/56*t},t.registerRule(".crownix-toolbar-item",{background:e.toolbarIconBackgroundColor,border:"1px solid "+e.toolbarIconColor,width:n(o)+a,height:n(o)+a,overflow:"hidden",margin:r(5)+a+" 11px","margin-top":r(5)+a,"margin-bottom":r(5)+a}),t.registerRule(".crownix-toolbar-button svg",{width:3*n(o)/4+a,height:3*n(o)/4+a,"vertical-align":"middle"}),t.registerRule(".crownix-toolbar-dropitem",{background:e.toolbarIconBackgroundColor,border:"1px solid "+e.toolbarIconColor,"box-shadow":"none",width:n(o)+2+a,height:r(45)+a+" !important","padding-bottom":r(15)+"px !important",margin:r(5)+a+" 11px"}),t.registerRule(".crownix-toolbar-dropitem button",{width:n(o)+a,height:n(o)+a});var s=r(20);t.registerRule("#crownix-toolbar",{"font-size":s+a}),r(20),t.registerRule(".crownix-toolbar-dropitem div",{"line-height":n(o)-r(9)+"px"}),t.registerRule(".crownix-toolbar-dropitem-ratio-vertical",{background:"transparent",border:"0px solid rgba(0, 0, 0, 0)"}),t.registerRule(".crownix-toolbar-dropitem-ratio-vertical button",{"font-size":r(14)+a}),t.registerRule(".crownix-toolbar-dropitem-svg-vertical svg",{"margin-top":r(2)+a}),t.registerRule(".crownix-toolbar-dropitem-enable:after",{"border-width":r(4)+a+" "+r(3)+a+" 0px "+r(3)+a,"margin-top":-r(3)+a,"margin-left":-r(6)+"px",left:"60%",bottom:"3px",top:"auto"}),t.registerRule(".crownix-toolbar-dropitem-enable.active:after",{"border-width":" 0px "+r(3)+a+" "+r(4)+a+" "+r(3)+a,"margin-top":-r(3)+a,top:"auto",left:"60%",bottom:"3px"}),t.registerRule(".crownix-toolbar-icon-svg",{display:"block",margin:"auto"}),t.registerRule(".crownix-toolbar-separator",{margin:"10px 12px",width:r(32)+a,height:"0px"}),t.registerRule(".crownix-toolbar-mark",{width:o+a,margin:"0px 0px",height:"auto"}),t.registerRule(".crownix-toolbar-mark .crownix-helper",{width:"100%",height:"0px",display:"inline-block",align:"center",float:"left"}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button",{width:"100%",color:"#3e3e3e","font-size":r(12)+a}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li",{width:r(97)+a}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{left:"left"==i?o+15+"px":"auto",right:"right"==i?o+15+"px":"auto",top:"0px",width:r(97)+"px"}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button img",{width:r(24)+a,height:r(24)+a}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button svg",{width:r(24)+a,height:r(24)+a}),t.registerRule(".crownix-toolbar-pagenum",{background:"transparent",border:"1px solid transparent",cursor:"default",width:"auto",height:"auto","margin-top":0,"margin-left":0,"padding-left":0}),t.registerRule(".crownix-toolbar-pagenum-current",{float:"none",width:r(48)+a,height:r(22)+a+" !important","font-size":r(14)+a,"line-height":r(24)+a,"margin-left":r(3)+a,padding:"0px",border:"1px solid rgba(0,0,0,0)",background:e.toolbarCurrentPageNumBackgroundColor,"text-align":"center"}),t.registerRule(".crownix-toolbar-pagenum-total",{width:r(48)+a,height:"auto !important","padding-top":r(3)+a,"padding-left":0,"margin-left":r(4)+a,"font-size":r(13)+a,"text-align":"center"}),t.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:before",{top:"14px",left:"left"==i?"-10px":"100%","border-width":"left"==i?"8px 8px 8px 0px":"8px 0px 8px 8px","border-color":"transparent rgba(0,0,0,0.1)"}),t.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:after",{top:"16px",left:"left"==i?"-6px":"100%","border-width":"left"==i?"6px 6px 6px 0px":"6px 0px 6px 6px","border-color":"transparent #fff"}),t.registerRule(".crownix-toolbar-fixed-item",{position:"absolute",width:o+a,"z-index":9999}),t.registerRule(".crownix-toolbar-fixed-item.left-top",{left:0,top:0,background:e.toolbarSVGThemeColorC,"border-right":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.left-bottom",{left:0,bottom:0,background:e.toolbarSVGThemeColorC,"border-right":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.right-top",{right:0,top:0,background:e.toolbarSVGThemeColorC,"border-left":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.right-bottom",{right:0,bottom:0,background:e.toolbarSVGThemeColorC,"border-left":"1px solid "+e.toolbarBorderColor})}:function(t,e){var i=c.get("direction"),n=c.get("isFloating"),r=c.get("scale"),o=parseFloat(b.toolbarWidth),a=parseFloat(e.toolbarWidth),s=e.toolbarWidth.substr(a.toString().length),a=Math.max(44,a);t.registerRule("#crownix-toolbar",{height:a+s}),n||((l={})[i]=a*r+1+s,t.registerRule("#m2soft-crownix-container",l)),n=function(t){return t-10-2},r=function(t){return a/o*t},t.registerRule(".crownix-toolbar-item",{background:e.toolbarIconBackgroundColor,border:"1px solid "+e.toolbarIconColor,width:n(a)+s,height:n(a)+s,overflow:"hidden","margin-left":r(5)+s}),t.registerRule(".crownix-toolbar-button svg",{width:3*n(a)/4+s,height:3*n(a)/4+s,"vertical-align":"middle"}),t.registerRule(".crownix-toolbar-dropitem",{background:e.toolbarIconBackgroundColor,border:"1px solid "+e.toolbarIconColor,"box-shadow":"none",width:r(45)+s,height:n(a)+2+s,"margin-left":r(5)+s}),t.registerRule(".crownix-toolbar-dropitem-ratio",{width:r(77)+s+" !important"}),t.registerRule(".crownix-toolbar-dropitem-ratio button",{"font-size":r(17)+s});var l=r(20);t.registerRule("#crownix-toolbar",{"font-size":n(l+l/2)+s}),t.registerRule(".crownix-toolbar-dropitem div",{"margin-top":r(5)+s}),t.registerRule(".crownix-toolbar-dropitem-enable:after",{"border-width":r(4)+s+" "+r(3)+s+" 0px "+r(3)+s,"margin-top":-r(3)+s}),t.registerRule(".crownix-toolbar-dropitem-enable.active:after",{"border-width":" 0px "+r(3)+s+" "+r(4)+s+" "+r(3)+s,"margin-top":-r(3)+s}),t.registerRule(".crownix-toolbar-custom-item span",{"text-align":"center"}),t.registerRule(".crownix-toolbar-separator",{height:r(30)+s,"margin-top":r(7)+s}),t.registerRule(".crownix-toolbar-mark",{height:a+s}),t.registerRule(".crownix-toolbar-mark .crownix-helper",{height:"100%",display:"inline-block","vertical-align":"middle"}),t.registerRule(".crownix-toolbar-mark .crownix-helper svg",{width:r(15)+s,height:r(32)+s,"vertical-align":"middle"}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li",{width:r(97)+s}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button",{color:"#3e3e3e","font-size":r(12)+s}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{top:n(a)+11+s,width:r(97)+s,"box-shadow":"none"}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button img",{width:r(24)+s,height:r(24)+s}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown li button svg",{width:r(24)+s,height:r(24)+s}),t.registerRule(".crownix-toolbar-pagenum",{background:"transparent",border:"1px solid transparent",cursor:"default",width:"auto","padding-left":r(5)+s}),t.registerRule(".crownix-toolbar-pagenum-current",{width:r(48)+s,height:r(22)+s+" !important",padding:0,border:"1px solid rgba(0,0,0,0)",background:e.toolbarCurrentPageNumBackgroundColor,float:"left","margin-top":(n(a)-r(22))/2+s,"font-size":r(14)+s,"line-height":r(22)+s,"text-align":"center"}),t.registerRule(".crownix-toolbar-pagenum-total",{height:r(22)+s+" !important",float:"right","margin-top":(n(a)-r(22))/2+s,"line-height":r(22)+s,"padding-left":r(10)+s,"font-size":r(14)+s,"text-align":"center"}),"bottom"==i&&(t.registerRule("#crownix-toolbar",{position:"absolute"}),t.registerRule(".crownix-toolbar-dropitem-enable .dropdown",{top:"auto",bottom:a+"px",width:r(97)+"px"})),t.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:before",{top:"100%","border-width":"8px 8px 0px 8px"}),t.registerRule(".crownix-dock#crownix-toolbar .crownix-toolbar-dropitem-enable .dropdown:after",{top:"100%","border-width":"6px 0px 6px 6px"}),t.registerRule(".crownix-toolbar-fixed-item",{position:"absolute",height:a+s,"z-index":9999}),t.registerRule(".crownix-toolbar-fixed-item.top-left",{left:0,top:0,background:e.toolbarSVGThemeColorC,"border-bottom":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.top-right",{right:0,top:0,background:e.toolbarSVGThemeColorC,"border-bottom":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.bottom-left",{left:0,bottom:0,background:e.toolbarSVGThemeColorC,"border-top":"1px solid "+e.toolbarBorderColor}),t.registerRule(".crownix-toolbar-fixed-item.bottom-right",{right:0,bottom:0,background:e.toolbarSVGThemeColorC,"border-top":"1px solid "+e.toolbarBorderColor})})(o,t),o.attachWithClass("crownix-theme")}var l=m2soft.crownix.Layout,d=m2soft.crownix.CssBuilder,i=m2soft.crownix.ChannelManager,c=m2soft.crownix.State.Toolbar,t=m2soft.crownix.Util,h=(t.browser.msie&&t.browser.version,m2soft.crownix.Constant),u=m2soft.crownix.util.Color,n={toolbarColor:"#8a8a8a",toolbarIconColor:"#6a6a6a",toolbarBorderColor:"#6e6e6e",toolbarIconBackgroundColor:"#7a7a7a",toolbarSeparatorColor:"#a1a1a1",toolbarSVGThemeColorA:"#eee",toolbarSVGThemeColorB:"#cfcfcf",toolbarSVGThemeColorC:"#aaa",toolbarCurrentPageNumBackgroundColor:"#7b7b7b",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#cfcfcf",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#afafaf",pageBorderWidth:"1px",pageBorderColor:"#6e6e6e",signButtonColor:"#7a7a7a"},r={toolbarColor:"#f2f2f2",toolbarIconColor:"#cccccc",toolbarBorderColor:"#b1b1b1",toolbarIconBackgroundColor:"#ffffff",toolbarSeparatorColor:"#d9d9d9",toolbarSVGThemeColorA:"#171717",toolbarSVGThemeColorB:"#d9d9d9",toolbarSVGThemeColorC:"#171717",toolbarCurrentPageNumBackgroundColor:"#ebebeb",toolbarCurrentPageNumColor:"#414141",toolbarTotalPageNumColor:"#171717",toolbarEffectColor:"#000000",toolbarWidth:"44px",containerColor:"#FFFFFF",pageBorderWidth:"1px",pageBorderColor:"#ced0da",signButtonColor:"#171717"},o={toolbarColor:"#424242",toolbarIconColor:"#2d2d2d",toolbarBorderColor:"#242424",toolbarIconBackgroundColor:"#515151",toolbarSeparatorColor:"#545454",toolbarSVGThemeColorA:"#dcdcdc",toolbarSVGThemeColorB:"#b8b8b8",toolbarSVGThemeColorC:"#727272",toolbarCurrentPageNumBackgroundColor:"#363636",toolbarCurrentPageNumColor:"#f3f3f3",toolbarTotalPageNumColor:"#b8b8b8",toolbarEffectColor:"#F5F5F5",toolbarWidth:"44px",containerColor:"#585858",pageBorderWidth:"1px",pageBorderColor:"#2F2F2F",signButtonColor:"#727272"},p={toolbarColor:"#2269af",toolbarIconColor:"#1a5591",toolbarBorderColor:"#2c6aab",toolbarIconBackgroundColor:"#3777b7",toolbarSeparatorColor:"#497eb2",toolbarSVGThemeColorA:"#e8ebfb",toolbarSVGThemeColorB:"#b7cfe5",toolbarSVGThemeColorC:"#245c95",toolbarCurrentPageNumBackgroundColor:"#195ea4",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#b7cfe5",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#c1d2e3",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#245c95"},f={toolbarColor:"#ee8c56",toolbarIconColor:"#d85b16",toolbarBorderColor:"#d6510a",toolbarIconBackgroundColor:"#e9834a",toolbarSeparatorColor:"#f5aa81",toolbarSVGThemeColorA:"#fffaf8",toolbarSVGThemeColorB:"#fce0d1",toolbarSVGThemeColorC:"#c8510f",toolbarCurrentPageNumBackgroundColor:"#e67b3f",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#fce0d1",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#f2f1f1",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#c8510f"},g={toolbarColor:"#2da59a",toolbarIconColor:"#24877e",toolbarBorderColor:"#2b9188",toolbarIconBackgroundColor:"#45a89f",toolbarSeparatorColor:"#7ec1ba",toolbarSVGThemeColorA:"#effffd",toolbarSVGThemeColorB:"#c1e5e1",toolbarSVGThemeColorC:"#338b82",toolbarCurrentPageNumBackgroundColor:"#32978e",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#c1e5e1",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#cae5e3",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#338b82"},m={toolbarColor:"#e868a1",toolbarIconColor:"#d23179",toolbarBorderColor:"#ce4582",toolbarIconBackgroundColor:"#e15290",toolbarSeparatorColor:"#f897c2",toolbarSVGThemeColorA:"#ffebf3",toolbarSVGThemeColorB:"#ffd5e8",toolbarSVGThemeColorC:"#c93074",toolbarCurrentPageNumBackgroundColor:"#de5893",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#ffd5e8",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#f5f1f3",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#c93074"},w={toolbarColor:"#1b8561",toolbarIconColor:"#195d46",toolbarBorderColor:"#1f674e",toolbarIconBackgroundColor:"#338f70",toolbarSeparatorColor:"#509e83",toolbarSVGThemeColorA:"#b9dcd0",toolbarSVGThemeColorB:"#b9dcd0",toolbarSVGThemeColorC:"#325d4e",toolbarCurrentPageNumBackgroundColor:"#0d7853",toolbarCurrentPageNumColor:"#e9e9e9",toolbarTotalPageNumColor:"#b9dcd0",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#b6d5ca",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#325d4e"},x={toolbarColor:"#60b0d6",toolbarIconColor:"#3b98c4",toolbarBorderColor:"#288bb9",toolbarIconBackgroundColor:"#4aa1cb",toolbarSeparatorColor:"#8bcae9",toolbarSVGThemeColorA:"#fcffff",toolbarSVGThemeColorB:"#b7e3f6",toolbarSVGThemeColorC:"#227da8",toolbarCurrentPageNumBackgroundColor:"#4da1c9",toolbarCurrentPageNumColor:"#ffffff",toolbarTotalPageNumColor:"#d6f3ff",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#e0eaef",pageBorderWidth:"1px",pageBorderColor:"#b8b8b8",signButtonColor:"#227da8"},v={toolbarColor:"none",toolbarIconColor:"#d8d8d8",toolbarBorderColor:"#cbcbcb",toolbarIconBackgroundColor:"#FFFFFF",toolbarSeparatorColor:"#d9d9d9",toolbarSVGThemeColorA:"#989898",toolbarSVGThemeColorB:"#d9d9d9",toolbarSVGThemeColorC:"#989898",toolbarCurrentPageNumBackgroundColor:"#ffffff",toolbarCurrentPageNumColor:"#414141",toolbarTotalPageNumColor:"#989898",toolbarEffectColor:"#FFFFFF",toolbarWidth:"44px",containerColor:"#f2f2f2",pageBorderColor:"#d8d8d8",pageBorderWidth:"1px",signButtonColor:"#989898"},b=r,y={background:["%TOP_COLOR%","-moz-linear-gradient(top, %TOP_COLOR% 0%, %BOTTOM_COLOR% 100%);","-webkit-gradient(linear, left top, left bottom, color-stop(0%,%TOP_COLOR%), color-stop(100%,%BOTTOM_COLOR%));","-webkit-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","-o-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","-ms-linear-gradient(top, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);","linear-gradient(to bottom, %TOP_COLOR% 0%,%BOTTOM_COLOR% 100%);"],filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="%IE9_TOP_COLOR%", endColorstr="%IE9_BOTTOM_COLOR%",GradientType=0 );'},C={border:"1px solid %BORDER_COLOR% !important;","box-shadow":"inset 0 0 7px %SHADOW_COLOR%;"},k={border:"%BORDER_WIDTH% solid %BORDER_COLOR%"};c.set({theme:b},!0),l.initialize=function(){i.getChannel("viewer:createPageDom").subscribe(c.refresh),i.getChannel("toolbar:changeToolbarState").subscribe(function(t){l.setTheme(t.theme)})},l.setTheme=function(t){t="string"==typeof t?"GRAY"===(t=t.toUpperCase())?n:"WHITE"===t?r:"BLACK"===t?o:"BLUE"===t?p:"ORANGE"===t?f:"MINT"===t?g:"PINK"===t?m:"GREEN"===t?w:"SKYBLUE"===t?x:"TRANSPARENT"===t?v:c.get("theme"):t||c.get("theme"),e(t),c.set({theme:t},!0),i.getChannel("theme:changeTheme").publish()},l.getTheme=function(){return l.currentTheme}}(),m2soft.ns("m2soft.crownix.License"),m2soft.crownix.License=function(){function t(){this.feature={}}var i=m2soft.crownix.Util;return t.prototype.init=function(t){var e=this;$(i.base64.decode(t)).filter("feature").find("item").each(function(){var t=$(this);e.feature[t.attr("type")]="1"===t.attr("allow")}),$(i.base64.decode(t)).filter("server").find("item").each(function(){var t=$(this);"ShareServer(7)"==t.attr("type")&&"1"===t.attr("allow")&&(e.feature.ShareServer=!0)})},t.prototype.isAllowedFeature=function(t){return this.feature[t]},t}(),m2soft.ns("m2soft.crownix.Toolbar"),m2soft.crownix.Toolbar=function(){function e(){var t=S.get("direction");return"left"==t||"right"==t}var d,r,g,m,a,w,c,o,x,v,s,b,h,l=m2soft.crownix.Resource,u=m2soft.crownix.resource.Icon,p=m2soft.crownix.Util,y=m2soft.crownix.ChannelManager,C=m2soft.crownix.Constant,k=m2soft.crownix.Toolbar.ScrollButtonPair,S=m2soft.crownix.State.Toolbar,T=m2soft.crownix.CssBuilder,I=1,i=[],f=function(){var t=45;a.children().each(function(){"none"!=$(this).css("display")&&(e()?t+=$(this).outerHeight()+parseFloat($(this).css("margin-top"))+parseFloat($(this).css("margin-bottom")):t+=$(this).outerWidth()+parseFloat($(this).css("margin-right"))+parseFloat($(this).css("margin-left")))}),e()?a.css("height",t+"px"):a.css("width",t+"px")};function n(){var t,e=$("<div>").addClass("crownix-toolbar-wrap"),i=S.get("direction"),n=S.get("isFloating"),r="top"==i?"":"crownix-dock",o=$("<div>").attr("id","crownix-toolbar").addClass("crownix-toolbar-gradient "+r),a=S.get("fixedItem"),s=b.options&&b.options.scrollOptions&&b.options.scrollOptions.useInfiniteScroll?b.documentScroller.getDisplayPageNumber():b.currentPage,l=b.totalPage;!b.isGroupReport||0<(t=b.mrdGroupManager.getCurrentMrdGroup()).totalPage&&(s=t.getRelativePageNumber(s),l=t.totalPage),$("#"+C.CONTAINER_ID).addClass(r);var d,c,h=$("<ul>").attr("id","crownix-toolbar-menu");1!=I&&e.css("zoom",I);var u,p=S.get("items");for(u in p)d=p[u],"save"==u&&b.options&&b.options.saveDialog&&(d.type=d.dialog_type),c=new d.type(u,d,{toolbarNavigator:g.enableToolbarNavigator&&!b.isFormEditMode,toolbarDirection:i,currentPage:s,totalPage:l,pageMove:b.options?b.options.toolbar.pageMove:{},mrdGroupManager:b.isGroupReport?b.mrdGroupManager:void 0,submitFinished:b.isFormExportMode||b.formManager&&b.formManager.isAllFormSubmitted()}),d.mirroring&&window.external&&void 0!==window.external.IsSubProcess||h.append(c.render());a&&(w=new(d=a).type(d.id,d,{toolbarWrapper:e,toolbarDirection:i,toolbarScale:I}),e.append(w.render()));var f="crownix-toolbar-separator";return h.find("."+f).each(function(){var t=$(this),e=function(){return"none"!==$(this).css("display")},i=t.prevAll().filter(e).first(),e=t.nextAll().filter(e).first();(0==i.length||0==e.length||i.hasClass(f)||e.hasClass(f))&&$(this).hide(),0==i.length||0==e.length||i.hasClass(f)||e.hasClass(f)||$(this).show()}),x=new k(i,o),$(m).css("overflow","hidden"),n?(o.addClass("floating-toolbar"),$("#"+C.CONTAINER_ID).addClass("floating-toolbar")):(o.removeClass("floating-toolbar"),$("#"+C.CONTAINER_ID).removeClass("floating-toolbar")),M(),y.getChannel("toolbar:changeContainer").publishAsync(),r=i,a=new T,n=S.get("theme.toolbarWidth"),"top"==r||"bottom"==r?v=Math.max(44,parseFloat(n)):"left"!=r&&"right"!=r||(v=Math.max(56,parseFloat(n))),v*=I,n.substr(v.toString().length),n="right"==r||"left"==r?32:22,v=Math.max(n,v),"top"==r?a.registerRule(".crownix-dock#crownix-toolbar",{top:"0px"}):"bottom"==r?a.registerRule(".crownix-dock#crownix-toolbar",{bottom:"0px",top:"auto"}):"left"==r?a.registerRule(".crownix-dock#crownix-toolbar",{left:"0px"}):"right"==r&&a.registerRule(".crownix-dock#crownix-toolbar",{right:"0px"}),a.registerRule(".crownix-dock#m2soft-crownix-container",{top:"top"==r?v+1+"px":"0px",left:"left"==r?v+1+"px":"0px",right:"right"==r?v+1+"px":"0px",bottom:"bottom"==r?v+1+"px":"0px",width:"right"==r||"left"==r?"auto":null}),a.attachWithClass("crownix-dock-theme"),e.append(o.append(h),x.render(w)),S.get("isHide")&&o.hide(),b.config.accessibilityMode&&e.addClass("web-accessibility"),e}function M(){d&&(f(),d.show(),S.get("isHide")&&d.hide(),x.refresh(),c.refresh(),y.getChannel("notetoolbar:relocation").publishAsync())}function A(t){S.hideToolbarItem(t)}function F(t){S.enableToolbarItem(t)}function E(t){S.disableToolbarItem(t)}function P(t){s=t,S.toggleShareButton(s)}function t(t,e,i,n){r=e,g=i,b=n,m=t,o=null,P(!1),t={items:{close:{title:l.get("close_overlay"),handler:function(){$(".crownix-close-button").click()}},first:{title:l.get("first_page"),handler:function(){r.moveFirstPage()}},prev:{title:l.get("pre_page"),handler:function(){r.prevPage()}},next:{title:l.get("next_page"),handler:function(){r.nextPage()}},last:{title:l.get("last_page"),handler:function(){r.moveLastPage()}},move:{title:l.get("move_page"),mirroring:!0,handler:function(){r.showMovePageDialog()}},prevDoc:{title:l.get("prev_doc"),handler:function(){r.prevDoc()}},nextDoc:{title:l.get("next_doc"),handler:function(){r.nextDoc()}},editor:{title:l.get("editor"),handler:function(){r.addEditorPage()}},pageNumber:{title:l.get("current_page"),functions:{movePage:r.movePage}},zoomin:{title:l.get("zoom_in"),handler:function(){var t=r.zoomIn();$("#crownix-toolbar #crownix-toolbar-ratio div button").text(Math.round(100*t)+"%")}},zoomout:{title:l.get("zoom_out"),handler:function(){var t=r.zoomOut();$("#crownix-toolbar #crownix-toolbar-ratio div button").text(Math.round(100*t)+"%")}},ratio:{title:l.get("ratio"),items:{25:{handler:function(){r.zoom(.25),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},50:{handler:function(){r.zoom(.5),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},75:{handler:function(){r.zoom(.75),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},100:{handler:function(){r.zoom(1),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},125:{handler:function(){r.zoom(1.25),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},150:{handler:function(){r.zoom(1.5),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},200:{handler:function(){r.zoom(2),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},250:{handler:function(){r.zoom(2.5),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()}},width:{text:l.get("fit_width"),handler:function(){var t=g.getWidthFitRatio();r.zoom(t),setTimeout(function(){$("#crownix-toolbar #crownix-toolbar-ratio div button").html(u.FIT_WIDTH),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},0)}},height:{text:l.get("fit_height"),handler:function(){var t=g.getHeightFitRatio();r.zoom(t),setTimeout(function(){$("#crownix-toolbar #crownix-toolbar-ratio div button").html(u.FIT_HEIGHT),$("#crownix-toolbar #crownix-toolbar-ratio div button").focus()},0)}}}},save:{title:l.get("save"),items:{pdf:{title:l.get("save_pdf"),handler:function(){r.downloadFile("pdf")}},doc:{title:l.get("save_word"),handler:function(){r.downloadFile("doc")}},xls:{title:l.get("save_excel"),handler:function(){r.downloadFile("xls")}},xls_data:{title:l.get("save_excel")+" ("+l.get("save_xls_no_doc")+")",handler:function(){r.downloadFile("xls_data")}},ppt:{title:l.get("save_ppt"),handler:function(){r.downloadFile("ppt")}},hwp:{title:l.get("save_hwp"),handler:function(){r.downloadFile("hwp")}},txt:{title:l.get("save_txt"),handler:function(){r.downloadFile("txt")}},cell:{title:l.get("save_cell"),handler:function(){r.downloadFile("cell")}},brl:{title:l.get("save_brl"),handler:function(){r.downloadFile("brl")}},csv:{title:l.get("save_csv"),handler:function(){r.downloadFile("csv")}}},handler:function(){r.showSaveDialog()}},storage:{title:l.get("storage_report"),mirroring:!0,items:{"storage-mml":{text:l.get("storage_report"),title:l.get("storage_report"),handler:function(){r.showMMLStorageDialog()}},"storage-formdata":{text:l.get("storage_formdata"),title:l.get("storage_formdata"),handler:function(){r.showFormDataStorageDialog()}}}},print:{title:l.get("print"),handler:function(){r.print({isServerSide:!1})}},cloud_print:{title:l.get("cloud_print"),handler:function(t){r.cloudPrint({gadget:h})}},print_pdf:{title:l.get("print_pdf"),handler:function(){r.print({isServerSide:!0})}},search:{title:l.get("search"),mirroring:!0,handler:function(){b.search.open()}},inquery:{title:l.get("inquery"),handler:function(){r.showInqueryDialog()}},cancel:{title:l.get("cancel_report"),handler:function(){r.cancel()}},share:{title:l.get("do_share"),mirroring:!0,visible:!!g.share,handler:function(){s?r.shareDisconnect():r.showShareDialog()}},guide:{title:"guide",visible:!1,handler:function(){var t=m2soft.crownix.GuideManager.getInstance(b);t.isEnabled?t.close():t.show()}}}},S.set(t,!0),I=g.scale,isNaN(I)?I=1:I<.5?I=.5:2<I&&(I=2),S.set({scale:I},!0),p.browser.mobile&&A(["print","print_pdf"]),"ko"!==m2soft.crownix.Resource.language&&A(["hwp"]),y.getChannel("toolbar:changeToolbar").subscribe(this.render),y.getChannel("toolbar:changeToolbar").publishAsync(),y.getChannel("toolbar:changeToolbarState").subscribe(M),y.getChannel("theme:changeTheme").subscribe(M),$(m).bind("click tab",function(t){$(".crownix-toolbar-dropitem").removeClass("active"),$(".crownix-toolbar-wrap").hasClass("web-accessibility")&&$(".crownix-toolbar-wrap").css("z-index","0")})}return t.prototype={render:function(){var t=n();a=t.find("#crownix-toolbar-menu"),d=t.find("#crownix-toolbar"),o?o.replaceWith(t):b.config.accessibilityMode?t.prependTo(b.parentId):$(m).append(t),o=t,function(){var t,e,i,n=$("#crownix-toolbar-menu"),r=n.children("li:visible"),o=S.get("customItems"),a=S.get("direction");for(i in o)e=new(t=o[i]).type(i,t,{toolbarNavigator:g.enableToolbarNavigator&&!b.isFormEditMode,toolbarDirection:a}),t.index<0?n.prepend(e.render()):isNaN(t.index)||t.index>r.length?n.append(e.render()):$(r.get(t.index-1)).before(e.render()),r=n.children("li:visible");f(),c&&c.destroy(),d.find(".crownix-toolbar-item-enable, .crownix-toolbar-separator").css("opacity","0.9");var s,l=d.get(0);l&&(s={useTransition:!0,scrollX:!0,interactiveScrollbars:!0,click:p.hasTouch()||p.browser.mobile&&!(/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion)),disableMouse:!b.options||!b.options.mirroring.enable,HWCompositing:!0},(p.browser.android||p.browser.ios)&&(s.disablePointer=!0,s.disableTouch=!1),(c=new m2soft.IScroll(l,s)).on("refresh",function(){x.refresh(),w&&w.refresh()}),c.on("scrollEnd",function(){x.refresh()}),c.on("resize",function(){M()}),d.find(".crownix-toolbar-item-enable, .crownix-toolbar-separator").css("opacity",""),x.injectToolbarScroll(c),x.refresh(),w&&w.refresh(),h||"undefined"==typeof cloudprint||(h=new cloudprint.Gadget))}()},dockToolbar:function(t){["top","right","bottom","left"].indexOf(t)<0||(S.set({direction:t}),y.getChannel("toolbar:changeToolbar").publishAsync(),y.getChannel("toolbar:changeContainer").publishAsync())},hideToolbar:function(){S.set({isHide:!0})},showToolbar:function(){S.set({isHide:!1})},floatToolbar:function(){S.set({isFloating:!0}),y.getChannel("toolbar:changeToolbar").publishAsync(),this.hideToolbar()},toggle:function(){this.isFloatingToolbar()&&(this.isHideToolbar()?this.showToolbar():this.hideToolbar())},stickToolbar:function(){S.set({isFloating:!1}),y.getChannel("toolbar:changeToolbar").publishAsync()},isHideToolbar:function(){return S.get("isHide")},isFloatingToolbar:function(){return S.get("isFloating")},getDirection:function(){return S.get("direction")},getWidth:function(){return v},setRatioText:function(t){S.state.items.ratio.text=t,$("#crownix-toolbar #crownix-toolbar-ratio div button").text(t)},addToolbarItem:function(t){t=t,S.addToolbarItem(t)},hideToolbarItem:function(t){A(t),y.getChannel("toolbar:changeToolbar").publishAsync()},showToolbarItem:function(t){t=t,S.showToolbarItem(t),y.getChannel("toolbar:changeToolbar").publishAsync()},disableToolbarItem:function(t){var e=this;0<t.filter(function(t){return e.isEnableItem(t)}).length&&(E(t),y.getChannel("toolbar:changeToolbar").publishAsync())},enableToolbarItem:function(t){var e=this,t=t.filter(function(t){return!e.isEnableItem(t)});0<t.length&&(F(t),y.getChannel("toolbar:changeToolbar").publishAsync())},disableAllItems:function(){!function(){var t,e=[];for(t in S.get("items"))e.push(t);S.disableToolbarItem(e)}(),y.getChannel("toolbar:changeToolbar").publishAsync()},toggleShareButton:function(t){P(t)},getHeight:function(){return d.outerHeight()*I},getToolbarItemInfo:function(){var t,e,i=S.state.items,n=S.state.customItems,r=$.extend({},i,n),o=[];for(e in i)i[e].visible&&o.push(e);for(e in n)(t=n[e].index)<0?o.unshift(e):isNaN(t)||t>$(a.children("li:visible")).length?o.push(e):o.splice(t-1,0,e);return{items:r,menu:o}},isEnableItem:function(t){var e=S.state.items,i=S.state.customItems,t=e[t]||i[t];return t&&t.enable},disable:function(){var t,e=this.getToolbarItemInfo().items;for(t in i=[],e)this.isEnableItem(t)&&i.push(t);E(i),y.getChannel("toolbar:changeToolbar").publish()},enable:function(){F(i),y.getChannel("toolbar:changeToolbar").publish()},beforeToolbar:function(t){$(t).before($(".crownix-toolbar-wrap"))},afterToolbar:function(t){$(t).after($(".crownix-toolbar-wrap"))},refreshToolbar:M},t}(),m2soft.ns("m2soft.crownix.CustomToolbar"),m2soft.crownix.CustomToolbar=function(){function r(t){return e[t]}function o(t,e){var i,n=r(e);n&&(i=$("#"+t))[0]&&(function(t){for(var e=0;e<l.length;e++){var i=l[e];if(i.id==t)return i}}(t)&&function(t){for(var e=0;e<l.length;e++)l[e].id==t&&l.splice(e,1)}(t),i.enable=function(){i.unbind("click tab").bind("click tab",n.handler).removeClass("crownix-custom-toolbar-disable").addClass("crownix-custom-toolbar-enable")},i.disable=function(){i.unbind("click tab").removeClass("crownix-custom-toolbar-enable").addClass("crownix-custom-toolbar-disable")},l.push({id:t,action:e,button:i,handler:n.handler}),n.customDom=i,n.enable?n.customDom.enable():n.customDom.disable())}function i(t){var e=new a;n=$.extend({},s,t),e.registerRule(".crownix-custom-toolbar-enable",n.enable),e.registerRule(".crownix-custom-toolbar-disable",n.disable),e.registerRule(".crownix-custom-toolbar-enable:hover",n.hover),e.attachWithClass("crownix-theme-customToolbar")}function t(t){t=(t=t.getToolbarItemInfo()).items,e={close:t.close,first:t.first,prev:t.prev,next:t.next,last:t.last,move:t.move,prevDoc:t.prevDoc,nextDoc:t.nextDoc,zoomin:t.zoomin,zoomout:t.zoomout,ratio25:t.ratio.items[25],ratio50:t.ratio.items[50],ratio75:t.ratio.items[75],ratio100:t.ratio.items[100],ratio125:t.ratio.items[125],ratio150:t.ratio.items[150],ratio200:t.ratio.items[200],ratio250:t.ratio.items[250],ratioWidthFit:t.ratio.items.width,ratioHeightFit:t.ratio.items.height,savePdf:t.save.items.pdf,saveDoc:t.save.items.doc,saveXls:t.save.items.xls,savePpt:t.save.items.ppt,saveHwp:t.save.items.hwp,saveTxt:t.save.items.txt,saveCell:t.save.items.cell,saveBrl:t.save.items.brl,saveCsv:t.save.items.csv,storageMml:t.storage.items["storage-mml"],storageFormData:t.storage.items["storage-formdata"],print:t.print,cloudPrint:t.cloud_print,printPdf:t.print_pdf,search:t.search,inquery:t.inquery,cancel:t.cancel,share:t.share,guide:t.guide},i(s)}var n,a=m2soft.crownix.CssBuilder,s={enable:{opacity:1,cursor:"pointer"},disable:{opacity:.4,cursor:"default"},hover:{border:"1px solid blue"}},e=void 0,l=[];return t.prototype={set:function(t,e){o(t,e)},setMenuItems:function(t){!function(t){if("object"==typeof t)for(var e=t,i=0;i<e.length;i++){var n=e[i];o(n.id,n.action)}}(t)},getMenuItems:function(){return l},setStateStyle:function(t){i(t)},clear:function(){!function(){new a,i(s);for(var t=0;t<l.length;t++){var e=l[t];e.button.unbind("click tab").removeClass("crownix-custom-toolbar-enable").removeClass("crownix-custom-toolbar-disable").removeClass("crownix-customToolbar-enable:hover");e=r(e.action);e&&(e.customDom=void 0)}l=[]}()}},t}(),m2soft.ns("m2soft.crownix.Ajax"),m2soft.crownix.Ajax=function(){var o,a,s=m2soft.crownix.Util,l=m2soft.crownix.Message,d=m2soft.crownix.Resource,c=s.browser.msie&&8==s.browser.version,h=s.browser.msie&&9==s.browser.version,u=new(c?XDomainRequest:XMLHttpRequest),p="POST",f=!0,g={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},m=3e4,w=!1,x=m2soft.crownix.Ajax.debug;s.isCloudServer()&&(g["x-api-key"]=m2soft.crownix.Ajax.xApiKey),g=s.extend({},m2soft.crownix.Ajax.requestHeader,g),"withCredentials"in u&&m2soft.crownix.Ajax.withCredentials&&(u.withCredentials=!0);this.setHandler=function(t){o=t},this.invoke=function(t,e,i){if("string"!=typeof t)throw new Error("invalid url: "+t);var n;"object"==typeof e&&(e=function(t){if(window.FormData&&t instanceof window.FormData||g["crownix-formdata-encoding"])return t;var e,i=[];for(e in t)i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")}(e)),w=!1,x&&(l.log("[Ajax] url="+t),l.log("[Ajax] parmeters="+e),l.log("[Ajax] method="+p),l.log("[Ajax] async="+f)),c?u.onload=function(){o.done(u)}:(n=null,u.onreadystatechange=function(){var t,e,i=u.readyState;1===i?(x&&l.log("[Ajax][State 1] OPEND"),a=a||setTimeout(function(){w=!0,u.abort("connect timeout"),"function"==typeof o.timeout&&o.timeout("connet timeout")},m)):2===i?(clearTimeout(a),x&&l.log("[Ajax][State 2] HEADER_RECEIVED")):3===i?(clearTimeout(a),x&&(s.browser.msie&&s.browser.version<10?l.log("[Ajax][State 3] LOADING"):l.log("[Ajax][State 3] LOADING (status: "+u.status+", statusText: "+u.statusText+")")),"function"==typeof o.load&&(s.browser.msie&&s.browser.version<10||(n=n||setTimeout(function(){o.load(u),clearTimeout(n),n=null},300)))):4===i&&(clearTimeout(a),clearTimeout(n),w||(t=u.status,e=u.statusText,i="blob"===u.responseType?u.response:u.responseText,x&&l.log("[Ajax][State 4] DONE (status: "+t+", statusText: "+e+", data length: "+i.length+")"),200<=t&&t<300||304===t?"function"==typeof o.done&&o.done(u):w||o.error(u)))});try{u.open(p,"GET"===p?t+"?"+e:t,f),i&&(u.responseType=i)}catch(t){return l.log("[Crownix][Ajax] "+t.toString()),void(h?o.error(u,d.get("cross_origin_ie9_error")):o.error(u))}if(!c)for(var r in g)"Content-Type"===r&&null===g[r]||u.setRequestHeader(r,g[r]);u.send("GET"===p?null:e)},this.setMethod=function(t){"GET"!==t&&"POST"!==t||(p=t)},this.getMethod=function(){return p},this.setAsync=function(t){"boolean"==typeof sync&&(f=t)},this.getAsync=function(){return f},this.abort=function(){w=!0,"function"==typeof o.abort&&o.abort(),u.abort()},this.getResponseHeader=function(t){return c?null:u.getResponseHeader(t)},this.setRequestHeader=function(t,e){g[t]=e},this.setConnectTimeout=function(t){m=1e3*t}},m2soft.ns("m2soft.crownix.Font"),m2soft.crownix.Font=function(){function t(t,e,i,n,r){var o=$("<style/>").attr("type","text/css").attr("id",t),a="@font-face {font-family:'"+t+"';src:"+(a=e,e=i,i=n,n=r,r=-1<navigator.userAgent.toLowerCase().indexOf("android")?"":'local("'+a+'"),',i[a]&&(a=i[a]),r+('url("'+(e=n.fontUrl||e.replace("service","font"))+"/"+a+'.woff") format("woff"), url("'+e+"/"+a+'.ttf") format("truetype")'))+"}";0==$("#"+t).length&&(o.text(a),o.appendTo("head"))}function r(t,e){return e={position:"absolute",top:"-999px",left:"-999px","font-size":"300px",width:"auto",height:"auto","line-height":"normal",margin:0,padding:0,"font-variant":"normal","font-family":"'"+t+"',"+e},$("<span>").text("BEiwyaY").css(e).appendTo("body")}function o(){return(new Date).getTime()}function e(t,e,i,n){this.fontFamily=m2soft.crownix.Constant.FONT_FAMILY_PREFIX+t,this.fontName=t,this.fontUrl=e,this.fontMap="object"==typeof i?i:{},this.fontOption="object"==typeof n?n:{},this.requestedFontA=r(this.fontFamily,"arial,'URW Gothic L',sans-serif"),this.requestedFontB=r(this.fontFamily,"Georgia,'Century Schoolbook L',serif"),this.originalSizeA=this.requestedFontA.width(),this.originalSizeB=this.requestedFontB.width(),this.loaded=!1,a=50,s=n.loadTimeout,l=n.debug}var a,s,l,d=0,c=1;return e.prototype={fontFamily:"",fontName:"",originalSizeA:0,originalSizeB:0,requestedFontA:null,requestedFontB:null,load:function(){t(this.fontFamily,this.fontName,this.fontUrl,this.fontMap,this.fontOption),this.check()},finish:function(t,e){var i;clearInterval(t),l&&(i=[],t=e.loaded,i.push("["+this.fontName+"]: "),t?i.push("loaded"):(i.push("fail ("),i.push(e.cause),i.push(")")),console.log(i.join(""))),this.loaded=!0,this.requestedFontA&&this.requestedFontA.remove(),this.requestedFontB&&this.requestedFontB.remove(),this.onLoad&&this.onLoad()},check:function(){var i,n=this,r=o();n.requestedFontA.width()!=n.requestedFontB.width()?i=setInterval(function(){var t=n.requestedFontA.width(),e=n.requestedFontB.width();t==n.originalSizeA&&e==n.originalSizeB||t!=e?o()-r>=s&&n.finish(i,{loaded:d,cause:"load timeout"}):n.finish(i,{loaded:c})},a):this.finish(null,{loaded:c})}},e}(),m2soft.ns("m2soft.crownix.FontLoader"),m2soft.crownix.FontLoader=function(s){var l=m2soft.crownix.Constant,d=this;d.fontNameList=[],d.fontObjects={},d.fontURL=s.reportingServerURL,d.fontMap=s.webFontMap,d.fontOption={loadTimeout:3e3,showLoadingMessage:!1,debug:!1},d.fontOption=$.extend(!0,d.fontOption,s.webFontOption),d.viewerID=s.viewerId,d.debug=d.fontOption.debug,d.message=null,d.onFirstPageDraw=null,d.firstPageFontCount=void 0,d.showMessage=function(){var t;!0===d.fontOption.showLoadingMessage&&(t=new m2soft.crownix.FormDialog("#"+m2soft.crownix.Constant.CONTAINER_ID),d.message&&(d.message=null),d.message=t.message(m2soft.crownix.Resource.get("font_loading"),"",!1,"top-right"))},d.hideMessage=function(){var t=d;t.message&&t.message.fadeOut(2e3,function(){t.message.remove(),m2soft.crownix.Message.progress.hide(t.viewerID),t.message=null})},d.load=function(t,r){var e,o=d.debug,a=d;void 0===a.fontObjects[t]&&(a.fontObjects[t]=[]),a.fontNameList.indexOf(r)<0?(a.fontNameList.push(r),e=new m2soft.crownix.Font(r,a.fontURL,a.fontMap,a.fontOption),a.fontObjects[t].push(e),"1"==t&&(e.onLoad=function(){if(o&&console.log('[Crownix-FontLoader] "'+r+'".onLoad();'),a.firstPageFontCount&&a.isFinished("1",a.firstPageFontCount)&&a.onFirstPageDraw)if(a.hideMessage(),o&&console.log("%c[Crownix-FontLoader] All loaded. redrawPage();","color:green"),s.options.textOnCanvas)a.onFirstPageDraw();else{var t=$("#m2soft-crownix-text"),e=t.children();t.off("DOMSubtreeModified");for(var i=0;i<e.length;i++)$(e[i]).trigger("onFontLoadComplete");var n=$("#"+l.CANVAS_ID);m2soft.crownix.Forgery.detect(t,n[0],s.isFormEditMode)}}),e.load()):o&&console.log('[Crownix-FontLoader] "'+r+'" is duplicated'),o&&console.log('[Crownix-FontLoader] "'+r+'".load();')},d.isFinished=function(t,e){"Number"==typeof t&&(t=Number(t).toString());var i=d.fontObjects[t],n=!0;if(i.length<e)return!1;for(var r=0;r<i.length;r++)if(!1===i[r].loaded){n=!1;break}return n},d.getFontList=function(t){return"Number"==typeof t&&(t=Number(t).toString()),d.fontObjects[t]||[]}},m2soft.ns("m2soft.crownix.ImageLoader"),m2soft.crownix.ImageLoader=function(s){m2soft.crownix.Util;function n(){if(!i){this.finished=!0;for(var t=0,e=h.length;t<e;t++)if(!h[t].isLoaded())return;i=!0,setTimeout(c)}}function l(t){var e,i=t;this.load=function(){(e=new Image).onload=e.onabort=e.onerror=n,e.src=i},this.getImage=function(){return e},this.isLoaded=function(){return e&&e.finished}}function d(t){var e=t;this.load=function(){e.finished?n.call(e):e.onload=e.onabort=e.onerror=n},this.getImage=function(){return e},this.isLoaded=function(){return e&&e.finished}}var c,h=[],t=0,i=!1,s=$.extend(!0,{},s);this.loadImage=function(t,i,e){c=e;function o(t){var e=$(t),e=(t=e.attr("id"))?new d(i[t]):new l(e.attr("dt"));h.push(e)}var a=function(t){var e=t.tagName&&t.tagName.toUpperCase();if("IM"===e)o(t);else if("CL"===e||"LY"===e)return;var i=$(t).children();if(0<i.length)for(var n=0,r=i.length;n<r;n++)a(i[n])};t instanceof Array?t.map(o):a(t);for(var n=0,r=h.length;n<r;n++)h[n].load();0==h.length&&(!0===s.asyncOnAllLoad?setTimeout(function(){c()},0):c())},this.nextImage=function(){return h[t++].getImage()}},m2soft.ns("m2soft.crownix.Canvas"),m2soft.crownix.Canvas=function(t,e){function a(t,e,i,n){S.lineCap="butt",S.beginPath(),S.moveTo(t,e),S.lineTo(i,n)}function s(t,e,i,n,r,o){var a,s=t,l=e,d=0,c=!0,h=Math.atan2(n-e,i-t),u=t<i,p=e<n;for(S.lineCap="round",S.beginPath(),S.moveTo(t,e);u?s<i:i<s||p?l<n:n<l;)a=o[d]*r,s=u?Math.min(s+Math.cos(h)*a,i):Math.max(s+Math.cos(h)*a,i),l=p?Math.min(l+Math.sin(h)*a,n):Math.max(l+Math.sin(h)*a,n),c?S.lineTo(s,l):S.moveTo(s,l),d=(d+1)%o.length,c=!c;S.closePath()}function n(t,e){S.beginPath(),S.moveTo(t[0][0],t[0][1]);for(var i=1,n=t.length;i<n;i++)S.lineTo(t[i][0],t[i][1]);e&&S.closePath()}function c(t,e,i,n){var r=n.ap,o=n.lc,a=n.wd,s=n.at,n=8*(1+a/5)*n.as,s=1==s?n/Math.sqrt(3):n/3;0!=a&&0!=r&&(S.save(),S.translate(t,e),S.rotate(i),S.lineJoin="miter",S.globalAlpha=1,S.strokeStyle=o,S.lineWidth=a,l&&S.setLineDash([]),S.beginPath(),1==r||2==r||3==r?(S.moveTo(n,-s),S.lineTo(0,0),S.lineTo(n,s),S.lineCap="round"):(S.moveTo(0,0),S.lineTo(n,-s),S.lineTo(n,s),S.lineTo(0,0),S.closePath(),S.fillStyle=4==r||5==r||6==r?"#FFFFFF":S.strokeStyle,S.fill()),S.stroke(),S.restore())}function h(t,e){var i,n;t&&(i=t.fc,n=t.pt,t=t.al,S.save(),S.fillStyle=i,S.globalCompositeOperation="source-over",S.globalAlpha=t,S.fill(),0!==n&&(S.globalAlpha="1",S.fillStyle=r["pattern"+n](e.lc),S.fill()),S.restore())}function u(t){if(t){var e=t.lc,i=t.wd,n=t.al;if(0!=i){var r=[],o=[];if(S.save(),l){1==t.st?r=d:2==t.st?r=p:3==t.st?r=f:4==t.st&&(r=g);for(var a=0,s=r.length;a<s;a++)o[a]=r[a]*i;S.setLineDash(o)}S.lineCap="round",S.lineJoin="round",S.strokeStyle=e,S.lineWidth=i,S.globalAlpha=n,S.stroke(),S.restore()}}}var m,w,x,v,b,y,C=m2soft.crownix.util.Unit,k=t,S=k.getContext("2d"),l="function"==typeof S.setLineDash,d=[2,2],p=[2,2],f=[10,2,2,2],g=[10,2,2,2,2,2],T=0,I=1,M=0,r={pattern1:function(t,e){return img=document.createElement("canvas"),img.width=1,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(0,-.5),imgCtx.lineTo(0,.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern2:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=1,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(-.5,0),imgCtx.lineTo(.5,0),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern3:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(4.5,-.5),imgCtx.lineTo(-.5,4.5),imgCtx.moveTo(8.5,3.5),imgCtx.lineTo(3.5,8.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern4:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(4.5,4.5),imgCtx.lineTo(-.5,-.5),imgCtx.moveTo(8.5,8.5),imgCtx.lineTo(3.5,3.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern5:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(.5,9),imgCtx.lineTo(.5,.5),imgCtx.lineTo(9,.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern6:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(-1,-1),imgCtx.lineTo(9,9),imgCtx.moveTo(-1,9),imgCtx.lineTo(9,-1),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern7:function(t,e){return img=document.createElement("canvas"),img.width=8,img.height=8,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(4.5,-.5),imgCtx.lineTo(4.5,.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern8:function(t,e){return img=document.createElement("canvas"),img.width=4,img.height=4,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(.5,-.5),imgCtx.lineTo(.5,.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern9:function(t,e){return img=document.createElement("canvas"),img.width=4,img.height=2,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(3.5,-.5),imgCtx.lineTo(3.5,.5),imgCtx.stroke(),S.createPattern(img,"repeat")},pattern10:function(t,e){return img=document.createElement("canvas"),img.width=2,img.height=2,imgCtx=img.getContext("2d"),imgCtx.strokeStyle=t||"#000",imgCtx.strokeWidth=1,imgCtx.moveTo(.5,-.5),imgCtx.lineTo(.5,.5),imgCtx.stroke(),S.createPattern(img,"repeat")}};this.setClip=function(t){"1"===t?(S.save(),S.clip()):"2"===t&&S.restore()},this.drawLine=function(t,e,i,n,r){l||0==r.st?a(t,e,i,n):1==r.st?s(t,e,i,n,r.wd,d):2==r.st?s(t,e,i,n,r.wd,p):3==r.st?s(t,e,i,n,r.wd,f):4==r.st?s(t,e,i,n,r.wd,g):a(t,e,i,n),u(r);var o=r.ap;1!=o&&3!=o&&4!=o&&6!=o&&7!=o&&9!=o||c(t,e,Math.atan2(e-n,t-i)+Math.PI,r),2!=o&&3!=o&&5!=o&&6!=o&&8!=o&&9!=o||c(i,n,Math.atan2(n-e,i-t)+Math.PI,r)},this.drawScribble=function(t,e){var i,n,r=[];S.beginPath(),S.moveTo(e[0][0],e[0][1]);for(var o=0,a=e.length-1;o<a;o++)i=e[o],n=e[o+1],r[0]=(i[0]+n[0])/2,r[1]=(i[1]+n[1])/2,0==o?S.lineTo(r[0],r[1]):S.quadraticCurveTo(i[0],i[1],r[0],r[1]),o==a-1&&S.lineTo(n[0],n[1]);u(t)},this.drawRect=function(t,e,i,n,r,o,a,s,l){"number"==typeof a&&"number"==typeof s?(S.beginPath(),S.moveTo(t,e+s),S.lineTo(t,n-s),l?(4&l?S.quadraticCurveTo(t,n,t+a,n):S.lineTo(t,n),S.lineTo(i-a,n),8&l?S.quadraticCurveTo(i,n,i,n-s):S.lineTo(i,n),S.lineTo(i,e+s),2&l?S.quadraticCurveTo(i,e,i-a,e):S.lineTo(i,e),S.lineTo(t+a,e),1&l?S.quadraticCurveTo(t,e,t,e+s):S.lineTo(t,e)):(S.quadraticCurveTo(t,n,t+a,n),S.lineTo(i-a,n),S.quadraticCurveTo(i,n,i,n-s),S.lineTo(i,e+s),S.quadraticCurveTo(i,e,i-a,e),S.lineTo(t+a,e),S.quadraticCurveTo(t,e,t,e+s))):(S.beginPath(),S.moveTo(t,e),S.lineTo(i,e),S.lineTo(i,n),S.lineTo(t,n),S.lineTo(t,e)),S.closePath(),h(o,r),u(r)},this.drawCylinder=function(t,e,i,n,r,o,a){var i=i-t,n=n-e,a=(n-a)/i;S.save(),S.translate(t,e),S.scale(1,a),i=i/2,S.beginPath(),S.arc(i,i,i,0,2*Math.PI,!1),S.lineTo(2*i,n/a-i),S.arc(i,n/a-i,i,0,Math.PI,!1),S.lineTo(0,i),S.restore(),h(o,r),u(r)},this.drawCurve=function(t,e,i,n,r,o,a,s,l){S.beginPath(),"number"==typeof s&&"number"==typeof l?(S.moveTo(t,e),S.bezierCurveTo(o,a,s,l,i,n)):(S.moveTo(t,e),S.quadraticCurveTo(o,a,i,n)),u(r);var d=r.ap;1!=d&&3!=d&&4!=d&&6!=d&&7!=d&&9!=d||c(t,e,Math.atan2(e-a,t-o)+Math.PI,r),2!=d&&3!=d&&5!=d&&6!=d&&8!=d&&9!=d||c(i,n,Math.atan2(n-l,i-s)+Math.PI,r)},this.drawEllipse=function(t,e,i,n,r,o){var i=i-t,n=n-e;S.save(),S.translate(t+i/2,e+n/2),n=n<i?(S.scale(1,n/i),i/2):(S.scale(i/n,1),n/2),S.beginPath(),S.arc(0,0,n,0,2*Math.PI,!1),S.restore(),h(o,r),u(r)},this.drawDiamond=function(t,e,i,n,r,o){S.beginPath(),S.moveTo((t+i)/2,e),S.lineTo(i,(e+n)/2),S.lineTo((t+i)/2,n),S.lineTo(t,(e+n)/2),S.lineTo((t+i)/2,e),S.closePath(),h(o,r),u(r)},this.drawParallelogram=function(t,e,i,n,r,o,a){var s=[t,n],n=[i+t-(a=t+a),n],i=[i,e],e=[a,e];S.beginPath(),S.moveTo(s[0],s[1]),S.lineTo(n[0],n[1]),S.lineTo(i[0],i[1]),S.lineTo(e[0],e[1]),S.lineTo(s[0],s[1]),S.closePath(),h(o,r),u(r)},this.drawPolygon=function(t,e,i){n(i,!0),h(e,t),u(t)},this.drawPolyLine=function(t,e){n(e,!1),u(t);var i=t.ap;1!=i&&3!=i&&4!=i&&6!=i&&7!=i&&9!=i||c(e[0][0],e[0][1],Math.atan2(e[0][1]-e[1][1],e[0][0]-e[1][0])+Math.PI,t),2!=i&&3!=i&&5!=i&&6!=i&&8!=i&&9!=i||c(e[e.length-1][0],e[e.length-1][1],Math.atan2(e[e.length-1][1]-e[e.length-2][1],e[e.length-1][0]-e[e.length-2][0])+Math.PI,t)},this.drawHexaheron=function(t,e,i,n,r,o,a,s){var l=[t,n],d=[t,o=e+o],c=[t+i-(r=t+r),e],t=[i,e],e=[i,n+e-o],n=[r,n];S.beginPath(),S.moveTo(l[0],l[1]),S.lineTo(d[0],d[1]),S.lineTo(c[0],c[1]),S.lineTo(t[0],t[1]),S.lineTo(e[0],e[1]),S.lineTo(n[0],n[1]),S.lineTo(l[0],l[1]),S.closePath(),h(s,a),u(a),S.beginPath(),S.moveTo(n[0],n[1]),S.lineTo(r,o),S.lineTo(t[0],t[1]),S.moveTo(r,o),S.lineTo(d[0],d[1]),u(a)},this.drawImage=function(t,e,i,n,r,o){"1"==o?(S.save(),S.translate(e,i),S.fillStyle=S.createPattern(t,"repeat"),S.fillRect(0,0,n,r),S.restore()):0<t.naturalWidth+t.naturalHeight&&S.drawImage(t,e,i,n,r)},this.measureText=function(t,e){return"object"==typeof e&&(e=[e.fontStyle,e.fontWeight,e.fontSize,e.fontFamily],S.font=e.join(" ")),S.measureText(t)};function A(t){return Math.floor(t)+.5}this.drawText=function(c,t,e,i,n,r,o){var a,s,l,d,h,u,p,f,g;c&&"string"==typeof c&&(S.save(),"object"==typeof r&&(a=[r.fontStyle,r.fontWeight,r.fontSize,r.fontFamily],S.font=a.join(" "),S.textBaseline=r.textBaseline,S.textAlign=r.textAlign,S.fillStyle=S.strokeStyle=r.fillStyle),s="number"==typeof r.letterSpacing?r.letterSpacing:0,l=(o||S.measureText(c).width)+s*c.length,d=C.ptToPx(parseFloat(r.fontSize)),!r.adjustFontSize||1<(h=l/(i-t))&&(o=parseInt(a[2]),a[2]=o/h+"pt",S.font=a.join(" ")),"center"===r.textAlign?f=(u=t+(i-t)/2)-(l-s)/2:"right"===r.textAlign?f=(u=i)-l:u=f=t,"middle"===r.textBaseline?g=(p=e+(n-e)/2)-d/2:"bottom"===r.textBaseline?g=(p=n)-d:p=g=e,S.beginPath(),S.rect(t-2,e-2,i-t+4,n-e+4),S.clip(),S.closePath(),r.fontScale&&1!=r.fontScale?(S.translate(u,p),S.scale(r.fontScale,1),f-=u,g-=p,u=p=0):r.verticalWriting&&(S.translate(t+(i-t)/2,e),S.rotate(90*Math.PI/180),f-=u,g-=p,u=p=0),r.shade&&(S.fillStyle=S.strokeStyle="#000000",S.fillRect(A(f),A(g)-1,A(l)+1,A(d)),S.fillStyle=S.strokeStyle="#000000"===r.fillStyle?"#ffffff":r.fillStyle),0!==s?function(t,e,i,n){var r,o=c.split(""),a=t,s=1;"right"===S.textAlign?(o=o.reverse(),s=-1,a-=i):"center"===S.textAlign&&(a=t-(n-i)/2,S.textAlign="left");for(var l=0,d=o.length;l<d;l++)r=o[l],S.fillText(r,a,e),a+=s*(S.measureText(r).width+i)}(u,p,r.letterSpacing,l):r.adjustFontScale?S.fillText(c,u,p,i-t):S.fillText(c,u,p),r.underLine&&(S.lineWidth=Math.ceil(.06*parseInt(a[2])),S.beginPath(),S.moveTo(f,A(g+d)),S.lineTo(f+l,A(g+d)),S.stroke(),S.closePath()),r.lineThrough&&(S.lineWidth=Math.ceil(.06*parseInt(a[2])),S.beginPath(),S.moveTo(f,A(g+d/2)),S.lineTo(f+l,A(g+d/2)),S.stroke(),S.closePath()),S.restore())},this.wrapText=function(t,e,i,n,r,o){var a,s=e,l=i,d=n-e;S.save(),"object"==typeof o&&(a=[o.fontStyle,o.fontWeight,o.fontSize,o.fontFamily],S.font=a.join(" "),S.fillStyle=S.strokeStyle=o.fillStyle);var c=1.2*C.ptToPx(parseInt(o.fontSize,10));S.textBaseline="top",S.textAlign="left",S.beginPath(),S.rect(e-1,i-1,n-e+1,r-i+1),S.clip(),S.closePath();for(var h=t.split("\n"),u=0,p=h.length;u<p;u++){var f=h[u],g=f.length,m=0;if(0!=g)for(;m<g;){for(var w=1;!(g<m+w);){if(S.measureText(f.substring(m,m+w)).width>d){w--;break}w++}this.drawText(f.substring(m,m+w),s,l,n,r,o),l+=c,m+=w}else l+=c}S.restore()},this.toDataURL=function(t){return k.toDataURL(t)},this.setOffset=function(t){S.translate(t.x,t.y)},this.clear=function(){S.fillStyle="#FFFFFF",S.fillRect(0,0,k.width,k.height)},this.fillRect=function(t,e,i,n,r){S.fillStyle=r,S.fillRect(t,e,i-t,n-e)},this.setTransformInfo=function(t,e,i,n,r){b=t,m=e||1,w=i||2,x=n||-45,v=r||45},this.initTransform=function(){I=m=1,M=y=T=0},this.setRotateAngle=function(t){T=t},this.resetTransform=function(){S.setTransform(1,0,0,1,0,0)},this.scaleAndRotate=function(o,a,s,l,d){var c,h,u=k.height/k.width;1<u&&(u=1/u),o<m?o=m:w<o&&(o=w),a<x?a=x:v+T<a&&(a=v);var p=(o=null==o?I:o)/I,f=a-M+T,g=new Image;g.src=b,g.onload=function(){var t,e,i=f*Math.PI/180;k.width>k.height?(e=k.height,t=k.height*u):(t=k.width,e=k.width*u);var n=(k.width-t)/2,r=(k.height-e)/2;90==T?(c=e-l+r,h=(h=s-n)*k.height/t,c=c*k.width/e):180==T?(c=k.width-s,h=k.height-l):270==T?(c=l-r,h=(h=t-(s-n))*k.height/t,c=c*k.width/e):(c=s,h=l),function(t){if(null!=a){var e=Math.abs(t)*Math.PI/180,t=Math.max(Math.cos(e)-u*Math.sin(e),Math.cos(e)+1/u*Math.sin(e));if(t*=Math.max((k.width+Math.abs(k.width/2-c))/k.width,(k.height+Math.abs(k.height/2-h))/k.height),w<t)return!1;o!=t&&(e<y&&t<o||o<=t)&&(p=(o=t)/I),m=t,y=e}return!0}(a)&&(S.clearRect(-1,-1,k.width+2,k.height+2),S.translate(c,h),S.rotate(-i),S.scale(p,p),90!=T&&270!=T||0!=a||S.scale(u,u),S.translate(-c,-h),S.drawImage(g,0,0,k.width,k.height),I=o,M=a+T,d&&"function"==typeof d&&d(o,a))}}},m2soft.crownix.Canvas.Util={measureAndDrawText:function(t,e,i,n,r,o){var a=e.width,s=e.height,l=e.getContext("2d");l.clearRect(0,0,a,s),l.save();var d,c,h,u;o.formField.useReportStyleOnSign?(d=t.attr("ha"),e=t.attr("va"),h='"'+(c=(u=t.attr("fn")?t.attr("fn"):n.get(r.fi)||"",go.alterFontMap&&go.alterFontMap[u]&&(u+='", "'+go.alterFontMap[u]),u))+'", "'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+c+'"',n=t=0,c=parseInt(r.pt)/10.3,"0"==e?(l.textBaseline="top",n=0):"1"==e?(l.textBaseline="middle",n=s/2):"2"==e&&(l.textBaseline="bottom",n=+s),"0"==d||"3"==d||"4"==d?(l.textAlign="left",t=0):"1"==d?(l.textAlign="center",t=a/2):"2"==d&&(l.textAlign="right",t=+a),l.font=c+"px "+h,l.fillText(i,t,n)):(c=s,h="","string"==typeof o.formField.fontWeightOnTextSign&&(h=o.formField.fontWeightOnTextSign+" "),h+=c+'px "맑은 고딕"',l.font=h,c=l.measureText(i).width,h=function(t){var e=$("<span>Hg</span>").css({fontFamily:t}),i=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>'),t=$("<div></div>");t.append(e,i),$("body").append(t);try{var n={};i.css({verticalAlign:"baseline"}),n.ascent=i.offset().top-e.offset().top,i.css({verticalAlign:"bottom"}),n.height=i.offset().top-e.offset().top,n.descent=n.height-n.ascent}finally{t.remove()}return n}(h),a<c?l.scale(a/c,s/(s+h.descent)):l.scale(1,s/(s+h.descent)),l.fillText(i,0,s-2)),l.restore()}},m2soft.ns("m2soft.crownix.SVG"),m2soft.crownix.SVG=function(h){function u(t,e,i){t[0].setAttribute("stroke",e.lc||"none"),t[0].setAttribute("fill",i.fc||"none"),t[0].setAttribute("stroke-width",e.wd||0)}this.path=function(t,e,i){t=h.path(t);return u(t,e,i),t},this.drawEllipse=function(t,e,i,n,r,o){var a=r.wd||0,i=(i-t)/2,n=(n-e)/2,t=t+i,e=e+n,a=h.ellipse(t,e,i-a/2,n-a/2);return u(a,r,o),a},this.drawRect=function(t,e,i,n,r,o,a){var s=r.wd||0,a=a||0,i=i-t,n=n-e,a=h.rect(t+s/2,e+s/2,i-s,n-s,a);return u(a,r,o),a},this.drawDiamond=function(t,e,i,n,r,o){var a=i-t,s=n-e,l=r.wd||0,d=Math.sqrt(l*l/2),c=t+a/2,i=e+d,n=c+a/2-d,l=i+s/2-d,t=n-a/2+d,e=l+s/2-d,a=t-a/2+d,d=e-s/2+d,d=h.path(["m",c,i,"L",n,l,"L",t,e,"L",a,d,"z"]);return u(d,r,o),d},this.drawParallelogram=function(t,e,i,n,r,o,a){var s=i-t,l=n-e,d=(r.wd||0)/2,i=t+a,n=e+d,t=i+(s-a)-d,e=t-a+d,l=n+l-2*d,d=e-(s-a)+d,l=h.path(["M",i,n,"L",t,n,"L",e,l,"L",d,l,"z"]);return u(l,r,o),l},this.drawText=function(t,e,i,n,r,o){n-=e,e+=n/2,r=i+(r-i)/2,i=h.text(0,0,t).attr({x:e,y:r,"font-size":parseInt(o.fontSize,10)/72*96,"font-family":o.fontFamily,"text-anchor":o.textBaseline,"font-weight":o.fontWeight||"normal"}),t=i.getBBox();return t.width>n&&i.attr("transform",["s",n/t.width,1,e,r]),i[0].setAttribute("fill",o.fillStyle),o.underLine&&i[0].setAttribute("text-decoration","underline"),o.lineThrough&&i[0].setAttribute("text-decoration","line-through"),i}},m2soft.ns("m2soft.crownix.ColorPicker"),m2soft.crownix.ColorPicker=function(){function i(){(s=$("<div>").addClass("crownix-overlay").css({display:"none",position:"absolute","z-index":9}).appendTo(n))[0].addEventListener("touchstart",function(t){t.preventDefault()});var t=$("<div>").attr("id","crownix-note-pen-attribute").css("display","none").addClass("crownix-note-pen-attribute").appendTo(n),e=$("<div>").attr("id","crownix-note-pen-width").appendTo(t);$("<label>",{for:"crownix-note-pen-width-slider",text:o.get("pen_size")}).appendTo(e),$("<div>").attr("id","crownix-note-pen-width-slider").addClass("pen-slider").appendTo(e),$("<input>",{type:"number",id:"crownix-note-pen-width-val"}).addClass("slider-value").appendTo(e),e=$("<div>").attr("id","crownix-note-pen-color").appendTo(t),$("<label>",{for:"colorPicker_palette",text:o.get("color")}).appendTo(e),e=$("<div>").attr("id","colorPicker_palette").addClass("colorPicker_palette").appendTo(e),function(t,e){for(var i=0;i<t.length;i++)$("<div>").addClass("colorPicker-swatch").attr("id",t[i]).attr({style:"background-color: #"+t[i]+";"}).appendTo(e)}(a,e),e=$("<div>").attr("id","crownix-note-pen-transparency").appendTo(t),$("<label>",{for:"crownix-note-pen-transparency-slider",text:o.get("pen_transparency")}).appendTo(e),$("<div>").attr("id","crownix-note-pen-transparency-slider").addClass("pen-slider").appendTo(e),$("<input>",{type:"number",id:"crownix-note-pen-transparency-val"}).addClass("slider-value").appendTo(e),t=$("<div>").attr("id","crownix-note-pen-button").appendTo(t),$("<button>",{text:o.get("ok_button_text"),value:"ok"}).bind("click",function(){"pen"===l?(d.width=$("#crownix-note-pen-width-slider").val(),d.transparency=$("#crownix-note-pen-transparency-slider").val(),d.color=$(".color-selected").attr("id"),h.kind=l,h.attribute=d):(c.width=$("#crownix-note-pen-width-slider").val(),c.transparency=$("#crownix-note-pen-transparency-slider").val(),c.color=$(".color-selected").attr("id"),h.kind=l,h.attribute=c),r(h),$("#crownix-note-pen-attribute").fadeOut(),s.fadeOut()}).appendTo(t),$("<button>",{text:o.get("cancel_button_text"),value:"cancel"}).bind("click",function(){$("#crownix-note-pen-attribute").fadeOut(),s.fadeOut()}).appendTo(t),$(".colorPicker-swatch").click(function(){$(".colorPicker-swatch").removeClass("color-selected"),$(this).addClass("color-selected")})}function t(t,e){n=t,r=e,i()}var n,s,r,l,o=m2soft.crownix.Resource,a=["000000","808080","C0C0C0","FFFFFF","FFFF00","00FF00","00FFFF","FF00FF","FF0000","008000","0000FF","000080","800000","808000","008080","800080"],d={width:2,color:"000000",transparency:0},c={width:10,color:"FFFF00",transparency:50},h={kind:"pen",attribute:d};return t.prototype={show:function(t){var e,i,n,r;s.fadeIn(),l=t;var o=$("#crownix-note-pen-width-slider"),a=$("#crownix-note-pen-transparency-slider");$("#crownix-note-pen-attribute").fadeIn(),r="pen"===t?(e=[1,10],i=d.width,n=d.transparency,d.color):(e=[5,18],i=c.width,n=c.transparency,c.color),o.crownixNoUiSlider({range:e,start:i,handles:1,step:1,margin:20,connect:"lower",direction:"rtl",orientation:"vertical",behaviour:"extend-tap",serialization:{to:$("#crownix-note-pen-width-val"),resolution:1}},!0),a.crownixNoUiSlider({range:[0,100],start:n,handles:1,step:1,margin:20,connect:"lower",direction:"rtl",orientation:"vertical",behaviour:"extend-tap",serialization:{to:$("#crownix-note-pen-transparency-val"),resolution:1}},!0),"pen"===t?(a.removeAttr("disabled"),$("#crownix-note-pen-transparency-val").removeAttr("disabled")):(a.attr("disabled","disabled"),$("#crownix-note-pen-transparency-val").attr("disabled","disabled")),$(".colorPicker-swatch").removeClass("color-selected"),$("#"+r).addClass("color-selected")},hide:function(){$("#crownix-note-pen-attribute").fadeOut(),s.fadeOut()},getPen:function(){return d},getHighlighter:function(){return c},setSelectedTool:function(t,e,i){var n;e&&(e.width&&("number"!=typeof e.width||e.width<1||("pen"===t?10:18)<e.width)&&delete e.width,e.transparency&&("number"!=typeof e.transparency||e.transparency<0||100<e.transparency)&&delete e.transparency,e.color&&("number"!=typeof e.color||e.color<0||15<e.color?delete e.color:e.color=a[e.color]),n={kind:t,attribute:e}),e="pen"===n.kind?this.getPen():this.getHighlighter(),n.attribute=$.extend({},e,n.attribute),"pen"===n.kind?(d=n.attribute,h.attribute=d):(c=n.attribute,h.attribute=c),h.kind=n.kind,i(h)}},t}(),m2soft.ns("m2soft.crownix.NoteToolbar"),m2soft.crownix.NoteToolbar=function(){function n(t){var i="view_mode",e="pen",n="#000000",r="#FFFF00";v={area:{type:"area",id:"note_area",click:function(t){t.preventDefault(),t.stopPropagation(),u()}},edit:{type:"mode",svg:S.NORMAL_PEN,id:"edit_mode",title:k.get("edit_mode"),click:function(t){"edit_mode"!==i&&(t.preventDefault(),t.stopPropagation(),y.setMode("editable"),p(t.data))}},view:{type:"mode",svg:S.VIEW_MODE,id:"view_mode",title:k.get("view_mode"),click:function(t){"view_mode"!==i&&(t.preventDefault(),t.stopPropagation(),y.setMode("disable"),p(t.data))}},hide:{type:"mode",svg:S.HIDE_MODE,title:k.get("hide_mode"),id:"hide_mode",click:function(t){"hide_mode"!==i&&(t.preventDefault(),t.stopPropagation(),y.setMode("hide"),p(t.data))}},pen:{type:"attr",svg:S.NORMAL_PEN,id:"pen",title:k.get("note_pen"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),!w(t.data)||A||t.isAPI?(f(t.data),g(t.data),y.setTool("scribble"),t.data.style&&h.setSelectedTool("pen",t.data.style,c)):x()}},highlighter:{type:"attr",svg:S.HIGHLIGHTER_PEN,id:"highlighter",title:k.get("note_highlighter"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),!w(t.data)||A||t.isAPI?(f(t.data),g(t.data),y.setTool("scribble"),t.data.style&&h.setSelectedTool("highlighter",t.data.style,c)):x()}},textNote:{type:"attr",svg:S.TEXT,id:"text",title:k.get("note_text_note"),visible:!0,mirroring:!0,click:function(t){t.preventDefault(),t.stopPropagation(),f(t.data),g(t.data),y.setTool("text")}},eraser:{type:"attr",svg:S.ERASER,id:"eraser",title:k.get("note_eraser"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),f(t.data),g(t.data),y.setTool("eraser")}},eraseAll:{type:"attr",svg:S.ERASE_ALL,id:"eraseAll",title:k.get("note_erase_all"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),y.isLock()||y.clear(),C.options.mirroring.enable&&C.options.mirroring.scrollToNote&&C.mirroringManager.externalEvent.restoreScroll()}},undo:{type:"attr",svg:S.UNDO,id:"undo",title:k.get("note_undo"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),y.isLock()||y.undo()}},redo:{type:"attr",svg:S.REDO,id:"redo",title:k.get("note_redo"),visible:!0,click:function(t){t.preventDefault(),t.stopPropagation(),y.isLock()||y.redo()}}};var o,a,s,l,d,c=function(t){"pen"===t.kind?(n="#"+t.attribute.color,$(".crownix-icon-pencolor").css("fill",n)):"highlighter"===t.kind&&(r="#"+t.attribute.color,$(".crownix-icon-highlightercolor").css("fill",r)),y.setShapeAttribute({stroke:"#"+t.attribute.color,"stroke-width":t.attribute.width+"pt","stroke-opacity":(100-t.attribute.transparency)/100})},h=new T(t,c),u=function(){M?(M=!1,$(".crownix-note-mode").fadeIn(400),setTimeout(function(){"edit_mode"!==i&&(M=!0),$(".crownix-note-mode").fadeOut(400)},3e3),"edit_mode"===i&&$(".crownix-note-attr").fadeIn(400)):(M=!0,$(".crownix-note-mode").fadeOut(400),"edit_mode"===i&&$(".crownix-note-attr").fadeOut(400))},p=function(t){for(var e in"edit_mode"===(i=t.id)?$(".crownix-note-attr").attr({style:"display: block;"}):$(".crownix-note-attr").attr({style:"display: none"}),$(".crownix-note-area > svg").remove(),$(".crownix-note-area").prepend(t.svg),$(".crownix-note-mode > li").remove(),i&&$(".crownix-note-area").attr("title",k.get(i)),v)"mode"===(o=v[e]).type&&o.id!==t.id&&(a=$("<li>").attr({id:e,title:o.title,style:"display: list-item"}).addClass("crownix-note-icon").addClass("crownix-note-mode-icon").appendTo(s).prepend(o.svg).bind(C.options.mirroring.enable?"mouseup":I,o,o.click));$(".crownix-icon-pencolor").css("fill",n),$(".crownix-icon-highlightercolor").css("fill",r),m()},f=function(t){var e="edit_mode"!==i?"#edit":".crownix-note-area";v.edit.svg=t.svg,$(e+" > svg").remove(),$(e).prepend(t.svg),$(".crownix-icon-pencolor").css("fill",n),$(".crownix-icon-highlightercolor").css("fill",r)},g=function(t){e=t.id,$(".crownix-note-attr-icon").each(function(){$(this).removeClass("crownix-icon-select")}),$("#"+t.id).addClass("crownix-icon-select"),m()},m=function(){var t;if("pen"===e)t=h.getPen();else{if("highlighter"!==e)return;t=h.getHighlighter()}y.setShapeAttribute({stroke:"#"+t.color,"stroke-width":t.width+"pt","stroke-opacity":(100-t.transparency)/100})},w=function(t){return t.id===e},x=function(t){h.show(e)};void 0!==b&&(b.remove(),u()),b=$("<div>").attr("id","crownix-note-toolbar").addClass("crownix-note-toolbar").appendTo(t),function(){for(var t in s=$("<ul>").addClass("crownix-note-mode").appendTo(b),l=$("<ul>").addClass("crownix-note-area").appendTo(b),d=$("<ul>").addClass("crownix-note-attr").appendTo(b),$(".crownix-note-area").attr("title",k.get("view_mode")),v)"mode"===(o=v[t]).type&&"view_mode"!==o.id?a=$("<li>").attr({id:t,title:o.title}).addClass("crownix-note-icon").addClass("crownix-note-mode-icon").appendTo(s).prepend(o.svg).bind(C.options.mirroring.enable?"mouseup":I,o,o.click):"attr"===o.type?o.mirroring&&window.external&&void 0!==window.external.IsSubProcess||(a=$("<li>").attr({id:t,title:o.title}).addClass("crownix-note-icon").addClass("crownix-note-attr-icon").appendTo(d).prepend(o.svg).bind(C.options.mirroring.enable?"mouseup":I,o,o.click),"pen"===o.id&&a.addClass("crownix-icon-select")):"area"===o.type&&l.addClass("crownix-note-icon").addClass("crownix-note-area-icon").prepend(v.view.svg).bind(C.options.mirroring.enable?"mouseup":I,o,o.click)}(),F.prototype.disableToolbarItem(["undo","redo","eraseAll"])}function r(){var t=10,e=10,i=parseInt(C.options.scrollbarOnNote.width);e+=i=Math.max(0,Math.min(50,i)),"left"==C.toolbar.getDirection()?C.toolbar.isFloatingToolbar()&&(!C.toolbar.isFloatingToolbar()||C.toolbar.isHideToolbar())||(t+=C.toolbar.getWidth()):"bottom"==C.toolbar.getDirection()&&(C.toolbar.isFloatingToolbar()&&(!C.toolbar.isFloatingToolbar()||C.toolbar.isHideToolbar())||(e+=C.toolbar.getWidth())),$("#crownix-note-pen-attribute, #crownix-note-toolbar").css({left:t,bottom:e})}function i(){A=!0,b.find(".crownix-note-attr").children().each(function(){var t=this.id;if(("pen"==t||"highlighter"==t||"textNote"==t||"eraser"==t)&&v[t].visible)return $(".crownix-note-attr > #"+t).click(),!1}),v.pen.visible||v.highlighter.visible||v.textNote.visible||v.eraser.visible||$(".crownix-note-attr > #pen").click(),A=!1}var v,b,y,C,k=m2soft.crownix.Resource,S=m2soft.crownix.resource.Icon,t=m2soft.crownix.Util,T=m2soft.crownix.ColorPicker,o=m2soft.crownix.ChannelManager,I=t.hasTouch()?"touchstart mousedown":"click",M=!0,A=!1,F=function(t,e,i){C=i,n(t),y=e,r(),o.getChannel("notetoolbar:relocation").subscribe(r)};return F.prototype={hideToolbar:function(){b.css("display","none")},showToolbar:function(){b.css("display","block")},hideNoteItem:function(t){for(var e=0;e<t.length;e++)b.find("#"+t[e]).css("display","none"),v[t[e]].visible=!1;i()},showNoteItem:function(t){for(var e=0;e<t.length;e++)b.find("#"+t[e]).css("display","list-item"),v[t[e]].visible=!0;i()},disableToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++)v[t[e]]&&"attr"===v[t[e]].type&&b.find("#"+t[e]).removeClass("crownix-note-icon").addClass("crownix-note-icon-disable").off()},enableToolbarItem:function(t){for(var e=0,i=t.length;e<i;e++)v[t[e]]&&"attr"===v[t[e]].type&&(b.find("#"+t[e]).removeClass("crownix-note-icon-disable").addClass("crownix-note-icon"),v[t[e]].click&&b.find("#"+t[e]).off().on(C.options.mirroring.enable?"mouseup":I,v[t[e]].click))},destroy:function(){b.remove()},relocation:r,click:function(t,e){var i={show:"view",note:"edit",hide:"hide"};i[t]?t=i[t]:"text"===t?t="textNote":"remove"===t&&(t="eraseAll");e={data:{id:v[t].id,svg:v[t].svg,style:e},preventDefault:function(){},stopPropagation:function(){},isAPI:!0};v[t].click(e)}},F}(),m2soft.ns("m2soft.crownix.security.IKE"),m2soft.crownix.security.IKE=function(){var o=m2soft.crownix.Util,a=m2soft.crownix.Message,n="",s={},l="OPTIONS",e=function(){$.support.cors=!0;var t={"crownix-command":0};return o.isCloudServer()&&(t["x-api-key"]=m2soft.crownix.Ajax.xApiKey),t=$.extend({},m2soft.crownix.Ajax.requestHeader,t),$.ajax(n,{type:l,headers:t}).pipe(function(t,e,i){try{var n=JSON.parse(i.responseText),r=n.algorithm;o.isSupportWebCrypto()&&o.browser.firefox||(n.algorithm="seed"),a.log("[Crownix Viewer] encrypt enabled. server["+r+"] client["+n.algorithm+"]"),n.rdid=i.getResponseHeader("crownix-rdid")}catch(t){return a.log("[Crownix Viewer] response parsing error: "+i.responseText),$.Deferred().reject(t.message)}return n.status?$.Deferred().resolve(n):$.Deferred().reject(n.message)})},i=function(t){var e=new JSEncrypt;e.setPublicKey(t.pubkey);var i=d(128),e=e.encrypt(i),r=t.rdid,t=t.algorithm,e={"crownix-command":1,"crownix-rdid":r,"crownix-encrypt-algorithm":t,"crownix-encrypt-key":e};return s[r]={secretKey:i,algorithm:t},o.isCloudServer()&&(e["x-api-key"]=m2soft.crownix.Ajax.xApiKey),e=$.extend({},m2soft.crownix.Ajax.requestHeader,e),$.ajax(n,{type:l,headers:e}).pipe(function(t,e,i){try{var n=JSON.parse(i.responseText)}catch(t){return a.log("[Crownix Viewer] response parsing error: "+i.responseText),$.Deferred().reject(t.message)}return n.status?$.Deferred().resolve(r):$.Deferred().reject(n.message)})},d=function(t){for(var e="",i=0;i<t/4;i++)e+=Math.floor(16*Math.random()).toString(16);return e};return{getKey:function(t){return s[t].secretKey},getAlgorithm:function(t){return s[t].algorithm},removeSession:function(t){delete s[t]},request:function(t){return secretKey="",n=t.serverUrl,e().pipe(i)},setMethod:function(t){l="string"==typeof t&&"POST"===t.toUpperCase()?"POST":"OPTIONS"}}}(),m2soft.ns("m2soft.crownix.security.SEED"),m2soft.crownix.security.SEED=function(){function n(t,e){for(var i in t=t||{},e)"object"==typeof e[i]?t[i]=n(t[i],e[i]):null===e[i]?t[i]=null:t[i]=e[i];return t}var l,o,t,e,k,d,r,i,a,s,c,h,f=f||function(s){var t={},e=t.lib={},i=e.Base={extend:function(t){c.prototype=this;var e=new c;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=e.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||r).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var r=0;r<t;r++)e[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<t;r+=4)e[n+r>>>2]=i[r>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(4294967296*s.random()|0);return new l.init(e,t)}}),n=t.enc={},r=n.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++){var r=e[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(i,e/2)}},o=n.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(i,e)}},a=n.Utf8={stringify:function(t){try{return decodeURIComponent(escape(o.stringify(t)))}catch(t){throw log(t),Error("Malformed UTF-8 data")}},parse:function(t){return o.parse(unescape(encodeURIComponent(t)))}},d=e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=a.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,n=e.sigBytes,r=this.blockSize,o=n/(4*r);if(t=(o=t?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*r,n=s.min(4*t,n),t){for(var a=0;a<t;a+=r)this._doProcessBlock(i,a);a=i.splice(0,t),e.sigBytes-=n}return new l.init(a,n)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});function c(){}e.Hasher=d.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,e){return new i.init(e).finalize(t)}},_createHmacHelper:function(i){return function(t,e){return new h.HMAC.init(i,e).finalize(t)}}});var h=t.algo={};return t}(Math);function S(t,e,i,n,r,o,a){return((t=t+(e&i|~e&n)+r+a)<<o|t>>>32-o)+e}function T(t,e,i,n,r,o,a){return((t=t+(e&n|i&~n)+r+a)<<o|t>>>32-o)+e}function I(t,e,i,n,r,o,a){return((t=t+(e^i^n)+r+a)<<o|t>>>32-o)+e}function M(t,e,i,n,r,o,a){return((t=t+(i^(e|~n))+r+a)<<o|t>>>32-o)+e}function u(t){return s[3][t>>>24&255]^s[2][t>>>16&255]^s[1][t>>>8&255]^s[0][255&t]}l=f.lib.WordArray,f.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp(),t=[];for(var r=0;r<i;r+=3)for(var o=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<i;a++)t.push(n.charAt(o>>>6*(3-a)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,i=this._map;!(n=i.charAt(64))||-1!=(n=t.indexOf(n))&&(e=n);for(var n=[],r=0,o=0;o<e;o++)if(o%4){if(i.indexOf(t.charAt(o-1))<0||i.indexOf(t.charAt(o))<0)throw"invalid base64";var a=i.indexOf(t.charAt(o-1))<<o%4*2,s=i.indexOf(t.charAt(o))>>>6-o%4*2;n[r>>>2]|=(a|s)<<24-r%4*8,r++}return l.create(n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o=Math,t=(i=(a=f).lib).WordArray,e=i.Hasher,i=a.algo,k=[],function(){for(var t=0;t<64;t++)k[t]=4294967296*o.abs(o.sin(t+1))|0}(),i=i.MD5=e.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=t[r=e+i];t[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var i=this._hash.words,r=t[e+0],n=t[e+1],o=t[e+2],a=t[e+3],s=t[e+4],l=t[e+5],d=t[e+6],c=t[e+7],h=t[e+8],u=t[e+9],p=t[e+10],f=t[e+11],g=t[e+12],m=t[e+13],w=t[e+14],x=t[e+15],v=S(v=i[0],C=i[1],y=i[2],b=i[3],r,7,k[0]),b=S(b,v,C,y,n,12,k[1]),y=S(y,b,v,C,o,17,k[2]),C=S(C,y,b,v,a,22,k[3]),v=S(v,C,y,b,s,7,k[4]),b=S(b,v,C,y,l,12,k[5]),y=S(y,b,v,C,d,17,k[6]),C=S(C,y,b,v,c,22,k[7]),v=S(v,C,y,b,h,7,k[8]),b=S(b,v,C,y,u,12,k[9]),y=S(y,b,v,C,p,17,k[10]),C=S(C,y,b,v,f,22,k[11]),v=S(v,C,y,b,g,7,k[12]),b=S(b,v,C,y,m,12,k[13]),y=S(y,b,v,C,w,17,k[14]),v=T(v,C=S(C,y,b,v,x,22,k[15]),y,b,n,5,k[16]),b=T(b,v,C,y,d,9,k[17]),y=T(y,b,v,C,f,14,k[18]),C=T(C,y,b,v,r,20,k[19]),v=T(v,C,y,b,l,5,k[20]),b=T(b,v,C,y,p,9,k[21]),y=T(y,b,v,C,x,14,k[22]),C=T(C,y,b,v,s,20,k[23]),v=T(v,C,y,b,u,5,k[24]),b=T(b,v,C,y,w,9,k[25]),y=T(y,b,v,C,a,14,k[26]),C=T(C,y,b,v,h,20,k[27]),v=T(v,C,y,b,m,5,k[28]),b=T(b,v,C,y,o,9,k[29]),y=T(y,b,v,C,c,14,k[30]),v=I(v,C=T(C,y,b,v,g,20,k[31]),y,b,l,4,k[32]),b=I(b,v,C,y,h,11,k[33]),y=I(y,b,v,C,f,16,k[34]),C=I(C,y,b,v,w,23,k[35]),v=I(v,C,y,b,n,4,k[36]),b=I(b,v,C,y,s,11,k[37]),y=I(y,b,v,C,c,16,k[38]),C=I(C,y,b,v,p,23,k[39]),v=I(v,C,y,b,m,4,k[40]),b=I(b,v,C,y,r,11,k[41]),y=I(y,b,v,C,a,16,k[42]),C=I(C,y,b,v,d,23,k[43]),v=I(v,C,y,b,u,4,k[44]),b=I(b,v,C,y,g,11,k[45]),y=I(y,b,v,C,x,16,k[46]),v=M(v,C=I(C,y,b,v,o,23,k[47]),y,b,r,6,k[48]),b=M(b,v,C,y,c,10,k[49]),y=M(y,b,v,C,w,15,k[50]),C=M(C,y,b,v,l,21,k[51]),v=M(v,C,y,b,g,6,k[52]),b=M(b,v,C,y,a,10,k[53]),y=M(y,b,v,C,p,15,k[54]),C=M(C,y,b,v,n,21,k[55]),v=M(v,C,y,b,h,6,k[56]),b=M(b,v,C,y,x,10,k[57]),y=M(y,b,v,C,d,15,k[58]),C=M(C,y,b,v,m,21,k[59]),v=M(v,C,y,b,s,6,k[60]),b=M(b,v,C,y,f,10,k[61]),y=M(y,b,v,C,o,15,k[62]),C=M(C,y,b,v,u,21,k[63]);i[0]=i[0]+v|0,i[1]=i[1]+C|0,i[2]=i[2]+y|0,i[3]=i[3]+b|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32;var r=o.floor(i/4294967296);for(e[15+(64+n>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[14+(64+n>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,i=0;i<4;i++)n=e[i],e[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t}}),a.MD5=e._createHelper(i),a.HmacMD5=e._createHmacHelper(i),a=(h=f).lib,i=a.Base,d=a.WordArray,r=(a=h.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i=(a=this.cfg).hasher.create(),n=d.create(),r=n.words,o=a.keySize,a=a.iterations;r.length<o;){s&&i.update(s);var s=i.update(t).finalize(e);i.reset();for(var l=1;l<a;l++)s=i.finalize(s),i.reset();n.concat(s)}return n.sigBytes=4*o,n}}),h.EvpKDF=function(t,e,i){return r.create(i).compute(t,e)},f.lib.Cipher||function(){var t=(u=f).lib,e=t.Base,a=t.WordArray,i=t.BufferedBlockAlgorithm,n=u.enc.Base64,r=u.algo.EvpKDF,o=t.Cipher=i.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(n){return{encrypt:function(t,e,i){return("string"==typeof e?p:h).encrypt(n,t,e,i)},decrypt:function(t,e,i){return("string"==typeof e?p:h).decrypt(n,t,e,i)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=u.mode={},l=t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),s=s.CBC=((l=l.extend()).Encryptor=l.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;d.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),l.Decryptor=l.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,r=t.slice(e,e+n);i.decryptBlock(t,e),d.call(this,t,e,n),this._prevBlock=r}}),l),l=(u.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=(i=i-t.sigBytes%i)<<24|i<<16|i<<8|i,r=[],o=0;o<i;o+=4)r.push(n);i=a.create(r,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}};function d(t,e,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var r=0;r<i;r++)t[e+r]^=n[r]}t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:s,padding:l}),reset:function(){o.reset.call(this);var t,e=(i=this.cfg).iv,i=i.mode;this._xformMode==this._ENC_XFORM_MODE?t=i.createEncryptor:(t=i.createDecryptor,this._minBufferSize=1),this._mode=t.call(i,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4});var c=t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),s=(u.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?a.create([1398893684,1701076831]).concat(t).concat(e):e).toString(n)},parse:function(t){var e,i=(t=n.parse(t)).words;return 1398893684==i[0]&&1701076831==i[1]&&(e=a.create(i.slice(2,4)),i.splice(0,4),t.sigBytes-=16),c.create({ciphertext:t,salt:e})}},h=t.SerializableCipher=e.extend({cfg:e.extend({format:s}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var r=t.createEncryptor(i,n);return e=r.finalize(e),r=r.cfg,c.create({ciphertext:e,key:i,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),u=(u.kdf={}).OpenSSL={execute:function(t,e,i,n){return n=n||a.random(8),t=r.create({keySize:e+i}).compute(t,n),i=a.create(t.words.slice(e),4*i),t.sigBytes=4*e,c.create({key:t,iv:i,salt:n})}},p=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:u}),encrypt:function(t,e,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize),n.iv=i.iv,(t=h.encrypt.call(this,t,e,i.key,n)).mixIn(i),t},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),i=n.kdf.execute(i,t.keySize,t.ivSize,e.salt),n.iv=i.iv,h.decrypt.call(this,t,e,i.key,n)}})}(),a=(i=f).lib.BlockCipher,s=[[696885672,92635524,382128852,331600848,340021332,487395612,747413676,621093156,491606364,54739776,403181592,504238620,289493328,1020063996,181060296,591618912,671621160,71581764,536879136,495817116,549511392,583197408,147374280,386339604,629514660,261063564,50529024,994800504,999011256,318968592,314757840,785310444,809529456,210534540,1057960764,680042664,839004720,500027868,919007988,876900468,751624428,361075092,185271048,390550356,474763356,457921368,1032696252,16843008,604250148,470552604,860058480,411603096,268439568,214745292,851636976,432656856,738992172,667411428,843215472,58950528,462132120,297914832,109478532,164217288,541089888,272650320,595829664,734782440,218956044,914797236,512660124,256852812,931640244,441078360,113689284,944271480,646357668,302125584,797942700,365285844,557932896,63161280,881111220,21053760,306336336,1028485500,227377548,134742024,521081628,428446104,0,420024600,67371012,323179344,935850996,566354400,1036907004,910586484,789521196,654779172,813740208,193692552,235799052,730571688,578986656,776888940,327390096,223166796,692674920,1011642492,151585032,168428040,1066382268,802153452,868479984,96846276,126321540,335810580,1053750012,608460900,516870876,772678188,189481800,436867608,101057028,553722144,726360936,642146916,33686016,902164980,310547088,176849544,202113036,864269232,1045328508,281071824,977957496,122110788,377918100,633725412,637936164,8421504,764256684,533713884,562143648,805318704,923218740,781099692,906375732,352653588,570565152,940060728,885321972,663200676,88424772,206323788,25264512,701096424,75792516,394761108,889532724,197903304,248431308,1007431740,826372464,285282576,130532292,160006536,893743476,1003222008,449499864,952692984,344232084,424235352,42107520,80003268,1070593020,155795784,956903736,658989924,12632256,265274316,398971860,948482232,252642060,244220556,37896768,587408160,293704080,743202924,466342872,612671652,872689716,834793968,138952776,46318272,793731948,1024274748,755835180,4210752,1049539260,1041117756,1015853244,29475264,713728680,982168248,240009804,356864340,990589752,483184860,675831912,1062171516,478974108,415813848,172638792,373707348,927429492,545300640,768467436,105267780,897954228,722150184,625303908,986379e3,600040416,965325240,830583216,529503132,508449372,969535992,650568420,847426224,822161712,717939432,760045932,525292380,616882404,817950960,231588300,143163528,369496596,973746744,407392344,348442836,574775904,688464168,117900036,855847728,684253416,453710616,84214020,961114488,276861072,709517928,705307176,445289112],[943196208,3894986976,741149985,2753988258,3423588291,3693006546,2956166067,3090712752,2888798115,1612726368,1410680145,3288844227,1141130304,1815039843,1747667811,1478183763,3221472195,1612857954,808649523,3023406513,673777953,2686484640,3760374498,2754054051,3490956243,2417066385,269549841,67503618,471600144,3158084784,875955762,1208699715,3962556387,2282260608,1814842464,2821228704,337053459,3288646848,336987666,4097098992,3221406402,1141196097,3760308705,3558262482,1010765619,1010634033,2349764226,2551744656,673712160,1276005954,4097230578,1010699826,2753922465,4164536817,202181889,3693072339,3625502928,673909539,1680229986,2017086066,606537507,741281571,4029792753,1882342002,1073889858,3558130896,1073824065,3221274816,1882407795,1680295779,2888600736,2282457987,4097296371,2888666529,2147516544,471797523,3356150466,741084192,2821360290,875824176,3490890450,134941443,3962490594,3895052769,1545424209,2484372624,404228112,4164471024,1410811731,2888732322,134744064,3288712641,269681427,3423456705,2215020162,3090778545,4232040435,2084392305,3221340609,808517937,4097164785,2282392194,1747602018,2956034481,3490824657,538968096,3558328275,131586,539099682,67372032,1747470432,1882276209,67569411,3625700307,2619182481,2551810449,1612792161,3158216370,3827746530,1478052177,3692940753,1343308113,2417000592,3692874960,2551876242,2686682019,2821426083,3490758864,2147582337,202313475,1141327683,404359698,3760440291,3962359008,2349698433,3158282163,2484504210,2017151859,1545358416,2686616226,2686550433,1612923747,539165475,1275940161,3356018880,2619248274,2619116688,943327794,202116096,741215778,3090844338,1814974050,2619314067,1478117970,4029858546,2417132178,4029924339,1208568129,2016954480,3423390912,336921873,4164668403,1882210416,1949648241,2084523891,875889969,269484048,197379,1680098400,1814908257,3288778434,1949582448,3558196689,3023340720,3895118562,134809857,1949714034,404293905,4231974642,1073758272,269615634,3760242912,3158150577,67437825,4164602610,65793,4029726960,673843746,1545490002,2821294497,1410745938,1073955651,2214954369,336856080,2282326401,2551942035,2955968688,3827680737,1208502336,2017020273,2484570003,4231843056,471731730,2147648130,539033889,2349632640,404425491,1545555795,1949779827,1410614352,2956100274,471665937,606405921,1276071747,0,1141261890,3962424801,1477986384,1343373906,3895184355,2084458098,3625634514,3356084673,4231908849,808452144,2484438417,1680164193,1010568240,3023472306,3827614944,3090910131,2084326512,202247682,1343242320,943262001,606471714,808583730,2214888576,1747536225,2417197971,876021555,3827812323,606340128,2753856672,3356216259,1343439699,134875650,2215085955,3625568721,1275874368,2147713923,2349830019,3423522498,943393587,1208633922,3023538099],[2712152457,2172913029,3537114822,3553629123,1347687492,287055117,2695638156,556016901,1364991309,1128268611,270014472,303832590,1364201793,4043062476,3267889866,1667244867,539502600,1078199364,538976256,2442927501,3772784832,3806339778,3234334920,320083719,2711889285,2206994319,50332419,1937259339,3015195531,319820547,3536851650,3807129294,1886400576,2156661900,859586319,2695374984,842019330,3520863693,4076091078,1886663748,3773574348,2442401157,50858763,1398019911,1348213836,1398283083,2981903757,16777473,539239428,270277644,1936732995,2425886856,269488128,3234598092,4075827906,3520600521,539765772,3823380423,1919955522,2206204803,2476219275,3520074177,2189690502,3251112393,1616912448,1347424320,2745181059,3823643595,17566989,2998154886,2459704974,1129058127,3014932359,1381505610,3267626694,1886926920,2728666758,303043074,2745970575,3520337349,1633689921,3284140995,2964599940,1094713665,1380979266,1903967565,2173439373,526344,320610063,2442664329,0,286791945,263172,1397756739,4092868551,3789562305,4059839949,1920218694,590098191,589571847,2964336768,2206731147,34344462,2745707403,2728403586,1651256910,2475692931,1095503181,1634216265,1887190092,17303817,34081290,3015458703,3823906767,4092605379,3250849221,2206467975,269751300,4076617422,1617175620,3537641166,573320718,1128794955,303569418,33818118,555753729,1667771211,1650730566,33554946,4059313605,2458915458,2189953674,789516,3014669187,1920745038,3503296704,1920481866,1128531783,2459178630,3789825477,572794374,2155872384,2712415629,3554418639,2711626113,808464384,859059975,2729193102,842282502,286528773,572531202,808990728,4042536132,2745444231,1094976837,1078725708,2172649857,3790088649,2156135556,2475956103,825505029,3284667339,3268153038,809253900,1903178049,286265601,3284404167,2173176201,1903441221,4093131723,3537377994,4042799304,2425623684,1364728137,2189427330,3234071748,4093394895,1095240009,825768201,1667508039,3233808576,3284930511,3553892295,2964863112,51121935,2190216846,1111491138,589308675,2442137985,1617701964,3554155467,2695111812,808727556,4059050433,1078462536,3267363522,1668034383,826031373,556543245,1077936192,2998681230,842808846,2965126284,3250586049,2728929930,2998418058,1112280654,1364464965,859323147,3504086220,1617438792,1937522511,2426150028,3503823048,1112017482,1381242438,1936996167,2694848640,3790351821,1111754310,2981377413,589835019,1633953093,4076354250,3823117251,2981640585,2981114241,2476482447,1381768782,4059576777,3806602950,2997891714,825241857,3806866122,1634479437,1398546255,3773048004,4042272960,3251375565,2156398728,303306246,842545674,1347950664,3503559876,1650467394,556280073,50595591,858796803,3773311176,320346891,17040645,1903704393,2425360512,1650993738,573057546,2459441802],[137377848,3370182696,220277805,2258805798,3485715471,3469925406,2209591347,2293282872,2409868335,1080057888,1162957845,3351495687,1145062404,1331915823,1264805931,1263753243,3284385795,1113743394,53686323,2243015733,153167913,2158010400,3269648418,2275648551,3285438483,2173800465,17895441,100795398,202382364,2360392764,103953462,1262700555,3487820847,2290124808,1281387564,2292230184,118690839,3300967428,101848086,3304125492,3267543042,1161905157,3252805665,3335705622,255015999,221330493,2390920206,2291177496,136325160,1312967694,3337810998,238173246,2241963045,3388078137,218172429,3486768159,3369130008,186853419,1180853286,1249015866,119743527,253963311,3253858353,1114796082,1111638018,3302020116,1094795265,3233857536,1131638835,1197696039,2359340076,2340653067,3354653751,2376182829,2155905024,252910623,3401762826,203435052,2325915690,70267956,3268595730,184748043,3470978094,3387025449,1297177629,2224067604,135272472,3371235384,1196643351,2393025582,134219784,3317810181,51580947,3452029965,2256700422,2310125625,3488873535,1299283005,3250700289,20000817,3320968245,2323810314,1247963178,2175905841,3251752977,2105376,3352548375,33685506,35790882,67109892,1214277672,1097953329,117638151,3419658267,2375130141,2308020249,1096900641,2394078270,3336758310,1230067737,3453082653,1095847953,2156957712,3436239900,2324863002,2208538659,2342758443,3234910224,2172747777,251857935,1195590663,168957978,3286491171,3437292588,2374077453,2410921023,2257753110,1265858619,1280334876,2191695906,2174853153,1130586147,52633635,1296124941,3368077320,2391972894,2358287388,171063354,201329676,237120558,2326968378,1315073070,2408815647,1246910490,3270701106,2190643218,3287543859,1229015049,1215330360,3435187212,85005333,3421763643,1081110576,1165063221,1332968511,87110709,1052688,50528259,1147167780,1298230317,3334652934,1148220468,3318862869,2226172980,3403868202,151062537,1181905974,152115225,3472030782,1077952512,34738194,3235962912,2377235517,83952645,3404920890,16842753,3237015600,170010666,1314020382,2309072937,1179800598,1128480771,2239857669,68162580,2306967561,2341705755,2159063088,3319915557,1212172296,1232173113,2274595863,3438345276,236067870,2189590530,18948129,2357234700,185800731,1330863135,1198748727,1146115092,2192748594,219225117,86058021,1329810447,0,1178747910,3454135341,1213224984,1112690706,3420710955,1316125758,3402815514,3384920073,3455188029,3158064,2240910357,1164010533,204487740,2259858486,3303072804,2343811131,1282440252,235015182,1079005200,154220601,102900774,36843570,2223014916,1231120425,2207485971,120796215,3353601063,69215268,2225120292,3418605579,1129533459,167905290,2273543175,3385972761,1279282188,2206433283,2407762959,3468872718,187906107,1245857802,2276701239]],c=[2654435769,1013904243,2027808486,4055616972,3816266649,3337566003,2380164711,465362127,930724254,1861448508,3722897016,3150826737,2006686179,4013372358,3731777421,3168587547],h=i.algo.SEED=a.extend({_doReset:function(){for(var t,e=(r=this._key).words[0],i=r.words[1],n=r.words[2],r=r.words[3],o=[],a=0;a<16;a++)o[a]=[],o[a][0]=u(e+n-c[a]),o[a][1]=u(i-r+c[a]),0==a%2?(e=(t=e)>>>8|i<<24,i=i>>>8|t<<24):(n=(t=n)<<8|r>>>24,r=r<<8|t>>>24);this._roundKeys=o,this._invRoundKeys=o.slice().reverse()},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._roundKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invRoundKeys)},_doCryptBlock:function(t,e,i){for(var n=[r=t.slice(e,e+2),o=t.slice(e+2,e+4)],r=0;r<16;r++){var o=i[r],a=n[0],n=n[1],s=[];s[0]=n[0]^o[0],s[1]=n[1]^o[1],s[1]^=s[0],s[1]=u(s[1]),s[0]+=s[1],s[0]=u(s[0]),s[1]+=s[0],s[1]=u(s[1]),s[0]+=s[1],a[0]^=s[0],a[1]^=s[1],n=[n,a]}n.reverse(),t.splice(e,4,n[0][0],n[0][1],n[1][0],n[1][1])},keySize:4,ivSize:4,blockSize:4}),i.SEED=a._createHelper(h);var p={finalize:function(t){return f.SEED.encrypt(t.toString(),this.key,{mode:f.mode.CBC,iv:this.iv,padding:f.pad.Pkcs7}).toString()}},g={offset:0,offset2:0,decryptor:null,getDecryptor:function(){return this.decryptor.process||(this.decryptor=f.algo.SEED.createDecryptor(this.key,{mode:f.mode.CBC,iv:this.iv,padding:f.pad.Pkcs7})),this.decryptor},plainTextBuffer:"",failedBuffer:"",process:function(t){this.offset2=192*Math.floor(t.length/192);t=f.enc.Base64.parse(t.substring(this.offset,this.offset2));this.offset=this.offset2;var e=this.getDecryptor().process(t);try{var i=e.toString(f.enc.Latin1);this.plainTextBuffer+=decodeURIComponent(escape(this.failedBuffer+i)),this.failedBuffer=""}catch(t){this.failedBuffer+=i}return this.plainTextBuffer},finalize:function(t){param=f.enc.Base64.parse(t.substring(this.offset));var e=this.getDecryptor().process(param),t=this.getDecryptor().finalize();return this.plainTextBuffer+=decodeURIComponent(escape(this.failedBuffer+e.toString(f.enc.Latin1)+t.toString(f.enc.Latin1))),this.plainTextBuffer}};return function(t,e){if(!e)throw"Key must be shared with server before";this.key=f.enc.Hex.parse(e),this.iv=this.key,this.buffer={sigBytes:0,words:[]},"encrypt"==t?n(this,p):"decrypt"==t&&n(this,g)}},m2soft.ns("m2soft.crownix.WorkerUtil"),m2soft.crownix.WorkerUtil=function(){m2soft.crownix.Util;function n(e,t){if("function"!=typeof e.workerFunction)throw"worker must be function";function i(t){var e,i=t.workerFunction,n=t.dependency,r=["(function(){"];for(e in n)n.hasOwnProperty(e)&&(r.push("var "),r.push(e),r.push("=("),r.push(n[e].toString()),r.push(")();"));return r.push("("),r.push(i.toString()),r.push(")();"),r.push("})()"),r}function n(t){return t=i(t).join(""),new FakeWorker(t)}if(t=!0===t,!r||t)return n(e);try{return function(t){t=new Blob(i(t),{type:"application/javascript"}),t=URL.createObjectURL(t);return new Worker(t)}(e)}catch(t){return n(e)}}var r=function(){var e=!!window.Worker&&!!window.Blob;if(e)try{var t=new Blob(["function() {};"],{type:"application/javascript"}),i=URL.createObjectURL(t),n=new Worker(i)}catch(t){e=!1,console.log("[WorkerUtil]","can not use web worker."),console.log("[WorkerUtil]","cause by: "+t.name),console.log("[WorkerUtil]",t.message)}finally{t&&delete t,i=i&&null,n&&(n.terminate(),delete n)}return e}();return{isAvailable:function(){return r},getCryptoWorker:function(t,e,i){return(e="aes"==e?n(m2soft.crownix.worker.security.AES,!0):n(m2soft.crownix.worker.security.SEED)).postMessage({method:"create",crypt:t,key:i}),e},getIdentifyWorker:function(){return n(m2soft.crownix.worker.Identity)},makeLocalWorker:function(t,e){return n({workerFunction:t,dependency:e})}}}(),m2soft.ns("m2soft.crownix.ExportAgent"),m2soft.crownix.ExportAgent=function(){function C(t){t.disableToolbarItem(["save","print","print_pdf","cloud_print"])}function k(t){S.report&&S.report.isPreventSave()?t.enableToolbarItem(["print","print_pdf","cloud_print"]):t.enableToolbarItem(["save","print","print_pdf","cloud_print"])}function t(t,e,i,n){S=t,this.dialog=e,this.toolbar=i,this.options=n,this.downloadFileName=void 0}var S,u=m2soft.crownix.Resource,T=m2soft.crownix.Message,p=m2soft.crownix.Ajax,o=m2soft.crownix.WorkerUtil,I=m2soft.crownix.security.IKE,h=m2soft.crownix.Util,f=m2soft.crownix.Window;t.prototype.export=function(i,e,n,t,r,o,a,s,l,d,c,h){var u=this.dialog,p=this.toolbar,f="",g="",m="";C(p);var w,x=u.message(d.notice_message),v=500;S.options.saveMmlToPdf&&(v=503),"string"!=typeof h&&(w=h,h=void 0);var b={opcode:v=S.options.saveMmlToExport?504:v,mrd_path:t,mrd_param:r,export_type:n,protocol:h||"sync","crownix-client":"html5viewer"};null!=a&&""!=a&&(b.mrd_data=a),""!=s.toJson()&&(b.runtime_param=s.toJson()),w&&!w.isEmpty()&&(b.ext_param=JSON.stringify(w.toObject())),(this.downloadFileName||S.options.downloadFileName)&&-1==r.indexOf("/rpdfprintdialog ")&&(b.export_name=(this.downloadFileName||S.options.downloadFileName)+"."+n),S.options.download.printFileName&&0<=r.indexOf("/rpdfprintdialog ")&&(b.export_name=S.options.download.printFileName+"."+n),S.options.saveMmlToPdf&&(b.rdid=S.rdid,b.totalpage=S.totalPage),S.options.viewCache&&S.options.exportCache&&(b.use_cache=!0,b.cache_key=S.cacheKey),3<S.encType&&(!c||c.isEmptyPrevDocStack())&&(b.enc_type=S.encType,o&&(b.mrd_plain_param=o));o=S.parameterBuilder.getAttachFileParam();o&&(b.attach_file=o);function y(t){var e,t=0==t.indexOf("1|")?(e=!0,t.substring(2)):(e=!1,t.replace("0|",""));S.emit("server-export",{status:e,message:t,action:i,type:n})}return(this.options.enableSecure?I.request({serverUrl:e}).pipe(function(t){return m=t,f=I.getAlgorithm(m),g=I.getKey(m),M(b,f,g)},function(t){return T.error(t.stack),u.show("Key exchange error("+t+")"),$.Deferred().reject(t)}).pipe(function(t){return A(e,t,d,u,!0,m)}).pipe(function(t){return F(t,f,g)}).pipe(function(t){y(t),l(t,m)}):A(e,b,d,u,!1,S.rdid).pipe(function(t,e){return y(t),l(t,e)})).always(function(t){return x.fadeOut(2e3,function(){T.progress.hide(S.parentId),x.remove(),k(p)}),I.removeSession(m),t}).fail(function(t){y(t)})},t.prototype.downloadFile=function(a,t,e,i,n,r,o){var s,l=this.dialog,d={notice_message:t+" "+u.get("export_file"),connect_error:u.get("save_connect_error"),server_error:u.get("save_server_error"),timeout_error:u.get("save_timeout_error")};return s="function"==typeof n?function(t,e){var i;0==t.indexOf("1|")?((i=t.split("|"))[0],i=encodeURIComponent(i[1]),n(a.replace("/service","/download?crownix-client=html5viewer")+"&filename="+i+"&rdid="+e+"&delete="+S.options.download.deleteOnServer)):n(u.get("save_error")+"("+t.replace("0|","")+")")}:function(t,e){var i,n,r,o;0==t.indexOf("1|")?((i=t.split("|"))[0],n=encodeURIComponent(i[1]),r=a.replace("/service","/download?crownix-client=html5viewer")+"&filename="+n+"&rdid="+e,h.browser.ios?!h.browser.uiwebview||h.browser.chrome||h.browser.firefox?((o=document.createElement("a")).target="_blank",o.href=r,o.dispatchEvent(new MouseEvent("click"))):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.downloadFile?window.webkit.messageHandlers.downloadFile.postMessage(r):document.location="crownixWebView://downloadFile?path="+r:h.browser.android&&window.m2softFormFieldBridge&&window.m2softFormFieldBridge.requestFileDownload?window.m2softFormFieldBridge.requestFileDownload(r,i[1].substring(i[1].lastIndexOf("/")+1)):"post"===S.options.exportMethod?($("#crownix-download-form input[name=filename]").attr("value",n),$("#crownix-download-form input[name=rdid]").attr("value",e),$("#crownix-download-form").attr("action",r).submit()):$("#crownix-download-iframe").attr("src",r+"&delete="+S.options.download.deleteOnServer+"&attatchment=true")):l.show(u.get("save_error")+"("+t.replace("0|","")+")")},T.progress.show(S.parentId,u.get("save_file")),this.export("save",a,t,e.mrdPath,e.mrdParam,S.mrdPlainParam,e.mrdData,i,s,d,r,o)},t.prototype.showPdfWindow=function(o,t,e,i,n){var a=this.dialog,r={notice_message:u.get("print_pdf_export"),connect_error:u.get("print_pdf_connect_error"),server_error:u.get("print_pdf_server_error"),timeout_error:u.get("print_pdf_timeout_error")};return 3<S.encType&&(!i||i.isEmptyPrevDocStack())?(S.mrdPlainParam||(S.mrdPlainParam=""),S.nativeInterface.isInWebView()||(S.mrdPlainParam="/rpdfprintdialog "+S.mrdPlainParam)):S.nativeInterface.isInWebView()||(t.mrdParam="/rpdfprintdialog "+t.mrdParam),T.progress.show(S.parentId,u.get("print_progress")),this.export("print",o,"pdf",t.mrdPath,t.mrdParam,S.mrdPlainParam,t.mrdData,e,function(t,e){var i,n,r;0==t.indexOf("1|")?((r=t.split("|"))[0],n=encodeURIComponent(r[1]),i=S.options.pdfPrintSpoolName?"/"+S.options.pdfPrintSpoolName:"",n=o.replace("/service",i?"/download"+i+"?":"/download?")+"crownix-client=html5viewer&filename="+n+"&rdid="+e+"&delete="+S.options.download.printFileDelete+"&attatchment=false",e=$('<iframe id="crownix-pdf-viewer">').attr("src",n),$("#crownix-pdf-viewer").remove(),S.options.pdfPrintPreview||h.browser.firefox||h.os.macos&&h.browser.safari?(e.css({width:"100%",height:"100%"}),new f(u.get("print_pdfviewer_title"),e,{isOverlay:!0,buttonType:["close"]}).show()):h.browser.edge?e.css("visibility","hidden").appendTo("#m2soft-crownix-container"):h.browser.ios&&h.browser.uiwebview&&!h.browser.chrome&&!h.browser.firefox?window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.printpdf?window.webkit.messageHandlers.printpdf.postMessage(n):document.location="crownixWebView://printpdf?path="+n:window.m2softFormFieldBridge&&window.m2softFormFieldBridge.requestPrint?(r=(r=r[1].substring(r[1].lastIndexOf("/")+1)).substring(0,r.lastIndexOf(".")),window.m2softFormFieldBridge.requestPrint(n,r)):e.css("display","none").appendTo("body")):a.show(u.get("print_pdf_error")+"("+t.replace("0|","")+")")},r,i,n)},t.prototype.downloadFileDirectUseBlob=function(t,e,i,n,r,o){var a=this.dialog,s=this.toolbar,l=new p,d={},c={notice_message:e+" "+u.get("export_file")},h=a.message(c.notice_message);C(s),l.setHandler({done:function(t){var e=t.response||t.responseText,t=decodeURIComponent(t.getResponseHeader("crownix-download-filename"));saveAs(e,t),setTimeout(function(){h.fadeOut(500,function(){h.remove(),k(s)})},1e3)},error:function(t,e){e?S.dialog.show(e):0==t.status?S.dialog.show(u.get("server_connect_error")):S.dialog.show(u.get("request_server_error"))},abort:function(){S.dialog.show(u.get("request_abort_error"))},timeout:function(){S.dialog.show(u.get("request_timeout_error"))}}),d.opcode=500,d.mrd_path=i.mrdPath,d.mrd_param=i.mrdParam,d.export_type=e,d.protocol="file",d.delete_file=S.options.download.deleteOnServer,d.attachment=!0,null!=i.mrdData&&""!=i.mrdData&&(d.mrd_data=i.mrdData),""!=n.toJson()&&(d.runtime_param=n.toJson()),o&&!o.isEmpty()&&(d.ext_Param=JSON.stringify(o.toObject())),(this.downloadFileName||S.options.downloadFileName)&&(d.export_name=(this.downloadFileName||S.options.downloadFileName)+"."+e),3<S.encType&&(!r||r.isEmptyPrevDocStack())&&(d.enc_type=S.encType,null!=S.mrdPlainParam&&""!=S.mrdPlainParam&&(d.mrd_plain_param=S.mrdPlainParam)),S.options.viewCache&&S.options.exportCache&&(d.use_cache=!0,d.cache_key=S.cacheKey),l.invoke(t,d,"blob")},t.prototype.downloadFileDirect=function(t,e,i,n,r,o){var a=this.dialog,s=this.toolbar,l={notice_message:e+" "+u.get("export_file")};C(s);var d=a.message(l.notice_message);$("#crownix-pdf-viewer").remove(),$("#crownix-protocol-file-form").remove();a=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer" src="about:blank"></iframe>'),l=$('<form id="crownix-protocol-file-form" target="crownix-pdf-viewer" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="opcode"/><input type="hidden" name="mrd_path"/><input type="hidden" name="mrd_param"/><input type="hidden" name="export_type"/><input type="hidden" name="protocol"/><input type="hidden" name="delete_file"/><input type="hidden" name="attatchment"/><input type="hidden" name="crownix-client" value="html5viewer"/></form>').appendTo("body");null!=i.mrdData&&""!=i.mrdData&&($('<input type="hidden" name="mrd_data"/>').appendTo(l),$("#crownix-protocol-file-form input[name=mrd_data]").attr("value",i.mrdData)),""!=n.toJson()&&($('<input type="hidden" name="runtime_param"/>').appendTo(l),$("#crownix-protocol-file-form input[name=runtime_param]").attr("value",n.toJson())),o&&!o.isEmpty()&&($('<input type="hidden" name="ext_param"/>').appendTo(l),$("#crownix-protocol-file-form input[name=ext_param]").attr("value",JSON.stringify(o.toObject()))),(this.downloadFileName||S.options.downloadFileName)&&($('<input type="hidden" name="export_name"/>').appendTo(l),$("#crownix-protocol-file-form input[name=export_name]").attr("value",(this.downloadFileName||S.options.downloadFileName)+"."+e)),3<S.encType&&(!r||r.isEmptyPrevDocStack())&&($('<input type="hidden" name="enc_type"/>').appendTo(l),$("#crownix-protocol-file-form input[name=enc_type]").attr("value",S.encType),null!=S.mrdPlainParam&&""!=S.mrdPlainParam&&($('<input type="hidden" name="mrd_plain_param"/>').appendTo(l),$("#crownix-protocol-file-form input[name=mrd_plain_param]").attr("value",S.mrdPlainParam))),S.options.viewCache&&S.options.exportCache&&($('<input type="hidden" name="use_cache"/>').appendTo(l),$("#crownix-protocol-file-form input[name=use_cache]").attr("value","true"),$('<input type="hidden" name="cache_key"/>').appendTo(l),$("#crownix-protocol-file-form input[name=cache_key]").attr("value",S.cacheKey)),S.options.saveMmlToPdf&&($('<input type="hidden" name="rdid"/>').val(S.rdid).appendTo(l),$('<input type="hidden" name="totalpage"/>').val(S.totalPage).appendTo(l));r=S.parameterBuilder.getAttachFileParam();r&&($('<input type="hidden" name="attach_file"/>').appendTo(l),$("#crownix-protocol-file-form input[name=attach_file]").attr("value",r)),$("#crownix-protocol-file-form input[name=opcode]").attr("value",S.options.saveMmlToPdf?503:500),$("#crownix-protocol-file-form input[name=mrd_path]").attr("value",i.mrdPath),$("#crownix-protocol-file-form input[name=mrd_param]").attr("value",i.mrdParam),$("#crownix-protocol-file-form input[name=export_type]").attr("value",e),$("#crownix-protocol-file-form input[name=protocol]").attr("value","file"),$("#crownix-protocol-file-form input[name=delete_file]").attr("value",S.options.download.deleteOnServer),$("#crownix-protocol-file-form input[name=attatchment]").attr("value",!0),l.on("submit",function(t){this.submit(),t.preventDefault(),setTimeout(function(){d.fadeOut(500,function(){d.remove(),k(s)})},1e3)}),a.appendTo("body"),l.attr({action:t+(S.rdid?"?rdid="+S.rdid:""),target:"crownix-pdf-viewer"}).submit(),a.css("display","none")},t.prototype.showPdfWindowDirectUseBlob=function(t,e,i,n,r){var o=this.dialog,a=this.toolbar,s=new p,l={},d={notice_message:u.get("print_pdf_export")};C(a);var c=o.message(d.notice_message);l.opcode=500,l.mrd_path=e.mrdPath,l.mrd_param=e.mrdParam,l.export_type="pdf",l.protocol="file",l.delete_file=S.options.download.printFileDelete,l.attachment=!1,null!=e.mrdData&&""!=e.mrdData&&(l.mrd_data=e.mrdData),""!=i.toJson()&&(l.runtime_param=i.toJson()),r&&!r.isEmpty()&&(l.ext_Param=JSON.stringify(r.toObject())),3<S.encType&&(!n||n.isEmptyPrevDocStack())?(l.enc_type=S.encType,null!=S.mrdPlainParam&&""!=S.mrdPlainParam&&(l.mrd_plain_param="/rpdfprintdialog "+S.mrdPlainParam)):l.mrd_param="/rpdfprintdialog "+e.mrdParam,S.options.viewCache&&S.options.exportCache&&(l.use_cache=!0,l.cache_key=S.cacheKey),s.setHandler({done:function(t){var e=t.response||t.responseText,t=window.URL.createObjectURL(e);$("#crownix-pdf-viewer").remove(),e=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>'),h.browser.msie||h.browser.edge?o.show(u.get("unsupported_download_error")):(h.browser.mobile||(S.options.pdfPrintPreview||h.browser.firefox||h.os.macos&&h.browser.safari?(e.css({width:"100%",height:"100%"}),new f(u.get("print_pdfviewer_title"),e,{isOverlay:!0,buttonType:["close"]}).show()):e.appendTo("body").css("display","none"),(e=e[0].contentDocument).location.href=t),setTimeout(function(){c.fadeOut(500,function(){c.remove(),k(a)})},1e3))},error:function(t,e){e?S.dialog.show(e):0==t.status?S.dialog.show(u.get("server_connect_error")):S.dialog.show(u.get("request_server_error"))},abort:function(){S.dialog.show(u.get("request_abort_error"))},timeout:function(){S.dialog.show(u.get("request_timeout_error"))}});e=S.options.pdfPrintSpoolName?"/"+S.options.pdfPrintSpoolName:"";s.invoke(t+e,l,"blob")},t.prototype.showPdfWindowDirect=function(t,e,i,n,r){var o=this.dialog,a=this.toolbar,s={notice_message:u.get("print_pdf_export")};C(a),T.progress.show(S.parentId,u.get("print_progress"));var l=o.message(s.notice_message);$("#crownix-pdf-viewer").remove(),$("#crownix-protocol-file-form").remove();var d=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>'),s=$('<form id="crownix-protocol-file-form" target="crownix-pdf-viewer" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="opcode"/><input type="hidden" name="mrd_path"/><input type="hidden" name="mrd_param"/><input type="hidden" name="export_type"/><input type="hidden" name="protocol"/><input type="hidden" name="delete_file"/><input type="hidden" name="attatchment"/><input type="hidden" name="crownix-client" value="html5viewer"/></form>').appendTo("body");null!=e.mrdData&&""!=e.mrdData&&($('<input type="hidden" name="mrd_data"/>').appendTo(s),$("#crownix-protocol-file-form input[name=mrd_data]").attr("value",e.mrdData)),""!=i.toJson()&&($('<input type="hidden" name="runtime_param"/>').appendTo(s),$("#crownix-protocol-file-form input[name=runtime_param]").attr("value",i.toJson())),r&&!r.isEmpty()&&($('<input type="hidden" name="ext_param"/>').appendTo(s),$("#crownix-protocol-file-form input[name=ext_param]").attr("value",JSON.stringify(r.toObject())));r="";3<S.encType&&(!n||n.isEmptyPrevDocStack())?($('<input type="hidden" name="enc_type"/>').appendTo(s),$("#crownix-protocol-file-form input[name=enc_type]").attr("value",S.encType),null!=S.mrdPlainParam&&($('<input type="hidden" name="mrd_plain_param"/>').appendTo(s),$("#crownix-protocol-file-form input[name=mrd_plain_param]").attr("value","/rpdfprintdialog "+S.mrdPlainParam))):r="/rpdfprintdialog ",S.options.viewCache&&S.options.exportCache&&($('<input type="hidden" name="use_cache"/>').appendTo(s),$("#crownix-protocol-file-form input[name=use_cache]").attr("value","true"),$('<input type="hidden" name="cache_key"/>').appendTo(s),$("#crownix-protocol-file-form input[name=cache_key]").attr("value",S.cacheKey)),S.options.saveMmlToPdf&&($('<input type="hidden" name="rdid"/>').val(S.rdid).appendTo(s),$('<input type="hidden" name="totalpage"/>').val(S.totalPage).appendTo(s));n=S.parameterBuilder.getAttachFileParam();n&&($('<input type="hidden" name="attach_file"/>').appendTo(s),$("#crownix-protocol-file-form input[name=attach_file]").attr("value",n)),$("#crownix-protocol-file-form input[name=opcode]").attr("value",S.options.saveMmlToPdf?503:500),$("#crownix-protocol-file-form input[name=mrd_path]").attr("value",e.mrdPath),$("#crownix-protocol-file-form input[name=mrd_param]").attr("value",r+e.mrdParam),$("#crownix-protocol-file-form input[name=export_type]").attr("value","pdf"),$("#crownix-protocol-file-form input[name=protocol]").attr("value","file"),$("#crownix-protocol-file-form input[name=delete_file]").attr("value",S.options.download.printFileDelete),$("#crownix-protocol-file-form input[name=attatchment]").attr("value",!1),s.on("submit",function(t){this.submit(),t.preventDefault(),h.browser.msie?setTimeout(function(){T.progress.hide(S.parentId),l.fadeOut(500,function(){l.remove(),k(a)})},1e3):d.load(function(){T.progress.hide(S.parentId),l.fadeOut(1e3,function(){l.remove(),k(a)})})});t=t+(S.options.pdfPrintSpoolName?"/"+S.options.pdfPrintSpoolName:"")+(S.rdid?"?rdid="+S.rdid:"");S.options.pdfPrintPreview||h.browser.firefox||h.os.macos&&h.browser.safari?(d.css({width:"100%",height:"100%"}),new f(u.get("print_pdfviewer_title"),d,{isOverlay:!0,buttonType:["close"]}).show()):h.browser.edge?(d.appendTo($("#m2soft-crownix-container")),d.css("visibility","hidden")):(d.appendTo("body"),d.css("display","none")),s.attr("action",t).attr("target","crownix-pdf-viewer").submit()},t.prototype.base64URI=function(t,e,i,n){var r={notice_message:u.get("export_file"),connect_error:u.get("server_connect_error"),server_error:u.get("request_server_error"),timeout_error:u.get("request_timeout_error")};return this.export("print",t,"pdf",e.mrdPath,e.mrdParam,S.mrdPlainParam,e.mrdData,i,function(t){if(t)return t},r,n,"base64")},t.prototype.setDownloadFileName=function(t){this.downloadFileName=t};var M=function(t,e,i){var n=(e=e,i=i,o.getCryptoWorker("encrypt",e,i)),r=$.Deferred();return n.addEventListener("message",function(t){"object"===t.data.method&&(t=t.data.obj,r.resolve(t),n.terminate())}),n.postMessage({method:"object",obj:t}),r},A=function(t,e,i,n,r,o){var a=new p,s=$.Deferred();return a.setConnectTimeout(S.options.timeout),a.setHandler({load:function(t){},done:function(t){s.resolve(t.responseText,a.getResponseHeader("crownix-rdid"))},error:function(t){t=0==status?i.connect_error:i.server_error+"("+t.status+")";n.show(t),s.reject(t)},abort:function(){s.reject(u.get("request_abort_error"))},timeout:function(){n.show(i.timeout_error),s.reject(i.timeout_error)}}),r&&o&&(e.rdid=o,a.setRequestHeader("crownix-rdid",o),a.setRequestHeader("crownix-encrypt-type","parameter")),a.invoke(t+(o?"?rdid="+o:""),e),s},F=function(t,e,i){var n=(e=e,i=i,o.getCryptoWorker("decrypt",e,i)),r=$.Deferred();return n.addEventListener("message",function(t){var e=t.data.text;"finalize"===t.data.method&&(r.resolve(e),n.terminate())}),n.postMessage({method:"finalize",text:t}),r};return t}(),m2soft.ns("m2soft.crownix.ParameterBuilder"),m2soft.crownix.ParameterBuilder=function(t,e){var l=m2soft.crownix.util.NumberUtil,d=t,c=e;this.concatMrdPath=function(t){return"string"==typeof t?t:t.join("")},this.concatMrdParam=function(a,t,e){t=t||"";function i(t,e,i){var n=[];0==t?$.isEmptyObject(a)?(n.push(e),n.push(d.formManager.makeNormalFieldDataParam(!0))):n.push(d.formManager.makeFormParameter(a,e)):n.push(e),(e=d.report.getDocumentList()[t+1])&&(o=i?d.totalPage:e.lastPage,!s.isPrintPdf&&c("includeNoteInExport")&&n.push(d.noteManager.toNoteParameter(e.firstPage,o,"export")),s.isPrintPdf&&c("includeNoteInPrint")&&n.push(d.noteManager.toNoteParameter(e.firstPage,o,"print"))),d.drilldownManager.getDrilldownLength()&&n.push(" /rdrilldowninfo ["+d.drilldownManager.toXML()+"]"),d.layerManager.getLayerLength()&&n.push(d.layerManager.toParam()),s.isPrint&&n.push(" /rstaticrender");var r,o=void 0;return s.option&&(s.option.partsave||0==s.option.partsave)?o=s.option.partsave:d.options.download.partsave&&(o=d.options.download.partsave),0!=t||s.isPrintPdf||null==o||(0==o?n.push(" /rpartsavedialog [1] ["+d.currentPage+"]"):n.push(" /rpartsavedialog [1] ["+o+"]")),o=(d.isGroupReport?d.mrdGroupManager:d.report).getRemovedPage(),0==t&&0<o.length&&n.push(" /rsavepageexcept ["+o.join()+"]"),o=new l,n.push(" /rformcurformat ["+o.getCurrencyFormat().replace("[.]",".")+"]"),n.push(" /rformnumformat ["+o.getNumberFormat().replace("[.]",".")+"]"),(o=d.formManager.getUniqueObject("fingerprint"))&&n.push(" /rpdfheader m2softFingerBio["+o.bioSignatureForDocument+"]"),n.push(" /rbrowserlocale ["+m2soft.crownix.Resource.language+"]"),d.options.useTableOfContents&&d.stateLess&&!1==!!s.isPrintPdf&&(r=" /rusetableofcontents",d.options.useTableOfContents.mergeNode&&(r+=" [2]"),n.push(r)),d.gridManager&&n.push(" "+d.gridManager.exportGridParameter()),d.cxGridManager&&n.push(" "+d.cxGridManager.exportGridParameter()),s.option&&((r=s.option).pageLayout&&n.push(" /rpagejang ["+r.pageLayout+"]"),r.subPage&&n.push(" /rprnjangopt"),r.duplexPrinting&&n.push(" /rpdup ["+r.duplexPrinting+"]"),r.xlsPageZoom&&n.unshift("/rxlspagezoom ["+r.xlsPageZoom+"] "),r.xlsKeepFormNum&&n.unshift("/rxlskeepformopt ["+r.xlsKeepFormNum+"] "),r.ignoreLink&&n.push(" /rignoreglinktextattr"),r.exportChartRatio&&n.push(" /rexportchartratio ["+r.exportChartRatio+"]"),r.barcodeImgDPI&&n.push(" /rbarcodeimgdpi ["+r.barcodeImgDPI+"]"),r.savePageSize&&n.push(" /rsavepagesize ["+r.savePageSize+"]"),r.setPDFSecurity&&n.push(" /rsetpdfsecurity ["+r.setPDFSecurity+"]"),r.pdfcompmode&&n.push(" /rpdfcompmode ["+r.pdfcompmode+"]"),r.exportApiType&&n.push(" /rpdfexportapitype"),r.useSvg&&n.push(" /rpdfusesvg"),r.pdfNf&&(n.push(" /rpdfnf"),n.push(" /rsetlocalestring ["+r.locale+"]")),r.xlsPassword&&n.push(" /rsetxlspassword ["+r.xlsPassword+"]"),r.xlsopt&&n.push(" /rxlsopt ["+r.xlsopt+"]"),r.xlsimgexcept&&n.push(" /rxlsimgexcept ["+r.xlsimgexcept+"]"),r.norotateimg&&n.push(" /rnorotateimg")),n.join("")}var s=$.extend({isPrintPdf:!1,isPrint:!1},e),e="";if("string"==typeof t)e=i(0,t,!0);else{for(var n=[],r=0;r<t.length;r++)n.push(i(r,t[r],r==t.length-1));e=n.join("")}return e},this.getAttachFileParam=function(){var t=[];return d.editor&&d.editor.getAddedPages().length&&t.push(d.editor.toAddPageParameter()),d.scanPage&&d.scanPage.getAddedPages().length&&t.push(d.scanPage.toAddPageParameter()),t.join("")}},m2soft.crownix.ParameterBuilder.prototype.addParamByOptions=function(t,e){var i=m2soft.crownix.Resource,n=m2soft.crownix.Util;if(e=e||"",t.options.useTableOfContents&&(t.stateLess?(r=" /rusetableofcontents",t.options.useTableOfContents.mergeNode&&(r+=" [2]"),t.isAppendReport?e[0]+=r:e+=r):window.console.log(i.get("set_statelessmode").replace(/%s/g,i.get("table_of_contents")))),t.options.saveMmlToExport){var r=" /rmmlimport";if(t.isAppendReport)for(var o=0;o<e.length;o++)e[o]+=r;else e+=r}return t.options.formField.onInitialize&&t.isAppendReport&&(e=e.map(function(t){return t+" /roninitialize"})),t.rformmode&&(n.isArray(e)?e[0]=e[0].replace(/\/rformmode\s*\[\d\]/g,t.rformmode):e=e.replace(/\/rformmode\s*\[\d\]/g,t.rformmode)),e},m2soft.ns("m2soft.crownix.worker.Identity"),m2soft.crownix.worker.Identity={workerFunction:function(){addEventListener("message",function(t){postMessage(t.data)})}},m2soft.ns("m2soft.crownix.worker.security.SEED"),m2soft.crownix.worker.security.SEED={workerFunction:function(){"undefined"!=typeof console&&console.log("[Crownix Viewer] use SEED with CryptoJS");var a=null;addEventListener("message",function(t){try{var e=t.data,i=t.data.method;if("process"==i){var n=t.data.text;e.text=a.process(n),postMessage(e)}else if("finalize"==i){n=t.data.text;e.text=a.finalize(n),postMessage(e)}else if("create"===i)a=new SEED(t.data.crypt,t.data.key);else if("object"===i){var r,o=t.data.obj;for(r in e.obj={},o)o.hasOwnProperty(r)&&(e.obj[r]=a.finalize(o[r]));postMessage(e)}}catch(t){postMessage(e)}})},dependency:{SEED:m2soft.crownix.security.SEED}},m2soft.ns("m2soft.crownix.worker.security.AES"),m2soft.crownix.worker.security.AES={workerFunction:function(){"undefined"!=typeof console&&console.log("[Crownix Viewer] use AES with WebCrypto");function s(t){return t=function(t){for(var e=new ArrayBuffer(t.length/2),i=new Uint8Array(e),n=0,r=0,o=t.length;n<o;n+=2,r++)i[r]=parseInt("0x"+t[n]+t[n+1]);return i}(t),h.iv=t,l.subtle.importKey("raw",t.buffer,h,!0,["encrypt","decrypt"])}var l=crypto,d="",c=null,h={name:"AES-CBC",iv:null};addEventListener("message",function(t){try{var e,i=t.data,n=t.data.method;if("process"!=n)if("finalize"==n)t.data.text&&(e=function(t){for(var e=atob(t).split(""),i=[],n=0;n<e.length;n++)i.push(e[n].charCodeAt(0));return new Uint8Array(i)}(t.data.text)),c.then(function(t){l.subtle[d](h,t,e).then(function(t){i.text=function(t){for(var e="",i=0;i<t.length;i+=1e4)e+=String.fromCharCode.apply(null,t.subarray(i,i+1e4));return decodeURIComponent(escape(e))}(new Uint8Array(t)),postMessage(i)})},function(){postMessage(i)});else if("create"===n)d=t.data.crypt,c=s(t.data.key);else if("object"===n){var r,o=t.data.obj,a=[];for(r in o)o.hasOwnProperty(r)&&function(e){var t=c.then(function(t){return l.subtle.encrypt(h,t,function(t){for(var e=unescape(encodeURIComponent(t)).split(""),i=[],n=0;n<e.length;n++)i.push(e[n].charCodeAt(0));return new Uint8Array(i)}(""+o[e])).then(function(t){return i.obj[e]=(t=new Uint8Array(t),btoa(String.fromCharCode.apply(null,t))),Promise.resolve(i.obj[e])})});a.push(t)}(r);Promise.all(a).then(function(){postMessage(i)},function(){postMessage(i)})}}catch(t){postMessage(i)}})}};var encCode="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";m2soft.ns("m2soft.crownix.EncEval"),m2soft.crownix.EncEval.eval=function(){for(var C,type,fk=["08b","41f","8c5","3d7","207","f30","019","bdc"],ek=[49,48,49,98,51,98,100,56],kk="",i=0;i<8;i++)kk+=fk[i]+String.fromCharCode(ek[i]);var SEED=m2soft.crownix.security.SEED(),seed=new SEED("decrypt",kk);eval(seed.finalize(encCode)),encCode=void 0,delete encCode},m2soft.ns("m2soft.crownix.FieldOrder"),function(){var A=m2soft.crownix.TabOrder=function(h,r){function u(t){var e=t.indexOf("-");return-1==e?0:parseInt(t.substring(e+1))}function p(t){return-1==t.indexOf("-")?t:t.substring(0,t.indexOf("-"))}function f(){if(s=w.slice(),Array.isArray(l.auth)&&(s=s.filter(function(t){return-1!=l.auth.indexOf(t.auth)})),(s=Array.isArray(l.id)?s.filter(function(t){for(var e=0;e<l.id.length;e++){if(-1!=l.id[e].indexOf("*")&&o.wildcardRegExp(l.id[e]).test(t.fieldID))return!0;if(l.id[e]==t.fieldID)return!0}return!1}):s).sort(function(t,e){return t.formID==e.formID&&0<t.formRepeat&&0<e.formRepeat?t.page>e.page?1:t.page<e.page?-1:t.formRepeat>e.formRepeat?1:t.formRepeat<e.formRepeat?-1:0<t.fieldRepeat&&0<e.fieldRepeat&&t.fieldRepeat>e.fieldRepeat?1:0<t.fieldRepeat&&0<e.fieldRepeat&&t.fieldRepeat<e.fieldRepeat?-1:t.priority==e.priority?h==g||h==m&&"cb"!==t.type&&"cb"!==t.type&&"rb"!==e.type&&"rb"!==e.type?0:t.groupIdx>e.groupIdx?1:t.groupIdx<e.groupIdx?-1:0:t.priority<e.priority?-1:1:t.page>e.page?1:t.page<e.page?-1:0<t.fieldRepeat&&0<e.fieldRepeat&&t.fieldRepeat>e.fieldRepeat?1:0<t.fieldRepeat&&0<e.fieldRepeat&&t.fieldRepeat<e.fieldRepeat?-1:t.priority==e.priority?h==g||h==m&&"cb"!==t.type&&"cb"!==t.type&&"rb"!==e.type&&"rb"!==e.type?0:t.groupIdx>e.groupIdx?1:t.groupIdx<e.groupIdx?-1:0:t.priority<e.priority?-1:1}),h==m)for(var e=0;e<s.length;e++)if(s[e].groupID&&-1==s[e].priority){var i=[];if(s.filter(function(t){t.type==s[e].type&&t.groupID==s[e].groupID&&t.page==s[e].page&&i.push(t)}),!(i.length<2)){var t=s.indexOf(i[0]);i.sort(function(t,e){return t.groupIdx==e.groupIdx?0:t.groupIdx<e.groupIdx?-1:1});for(var n=0;n<i.length;n++)s.splice(s.indexOf(i[n]),1);for(n=0;n<i.length;n++)s.splice(t+n,0,i[n])}}if(h==g&&r.withSign&&!r.formField.skipTabOrder)for(e=0;e<s.length;e++)if("sg"==s[e].type&&s[e].withSignId){i=[];s.filter(function(t){t.type==s[e].type&&t.withSignId==s[e].withSignId&&i.push(t)});for(n=0;n<i.length-1;n++)s.splice(s.indexOf(i[n+1]),1)}}var o=m2soft.crownix.Util,g="tab",m="guide",a=0,w=[],s=[],l={};this.add=function(t){var e,i,n;!t||"1"!==t.editable||!t.element.attr("ti")&&h==g||!t.element.attr("ig")&&h==m||(e=t.element.attr("fi"),i=t.element.attr("id"),"sg"===(n={id:"crownix_form_field_"+e+"_"+("rb"===t.type?t.element.attr("gi")+"_":"")+i,formID:p(e),fieldID:t.id,formRepeat:u(e),fieldRepeat:u(i),type:t.type,page:t.page,priority:h==g?parseInt(t.element.attr("ti")):parseInt(t.element.attr("ig")),auth:t.element.attr("sa")||"All",inputTitle:t.element.attr("gt")||"",inputContent:t.element.attr("gc")||"",inputType:t.inputType,groupID:t.element.attr("gi"),withSignId:t.element.attr("gwid"),validityMessage:t.validityMessage,groupIdx:parseInt(t.element.attr("sig"))||void 0,required:t.required,element:t.element}).type&&(n.signType=t.element.attr("st")||"0",n.aschange=t.element.attr("asc")||"0"),w.some(function(t){return t.id==n.id})||w.push(n),f(),1<s.length&&-1!=s.indexOf(n)&&s.indexOf(n)<=a&&a++)},this.push=function(t,e){var i,n=t.attr("fi"),r=t.attr("id"),o=t.attr("ty"),a=t.attr("ti"),s=t.attr("hd"),l=t.attr("ed"),d=t.attr("gt"),c=t.attr("gc");(h!=g||null!=a&&"1"!==s&&"1"===l)&&(h==m&&null==d&&null==c||"1"===s||("sg"===(i={id:"crownix_form_field_"+n+"_"+("rb"===o?t.attr("gi")+"_":"")+r,formID:p(n),fieldID:r,formRepeat:u(n),fieldRepeat:u(r),type:o,page:e,priority:h==g?parseInt(a):parseInt(t.attr("ig")),auth:t.attr("sa")||"All"}).type&&(i.signType=t.attr("st")||"0",i.aschange=t.attr("asc")||"0"),i.inputTitle=d||"",i.inputContent=c||"",i.inputType=t.attr("it"),i.groupID=t.attr("gi"),i.withSignId=t.attr("gwid"),i.validityMessage=t.attr("rem"),i.groupIdx=parseInt(t.attr("sig"))||void 0,i.required=t.attr("rq"),i.element=t,w.some(function(t){return t.id==i.id})||w.push(i),f()))},this.remove=function(t,e,i){for(var n="crownix_form_field_"+t+"_"+(i?i+"_":"")+e,r=0,o=w.length;r<o;r++)if(w[r].id===n){w.splice(r,1);break}for(r=0,o=s.length;r<o;r++)if(s[r].id===n){r<=a&&a--,s.splice(r,1);break}},this.getNext=function(){return a==s.length?null:s[a+1]},this.getPrev=function(){return 0==a?null:s[a-1]},this.getCurr=function(){return a>=s.length&&(a=s.length-1),s[a]},this.getField=function(t){for(var e=0,i=s.length;e<i;e++)if(s[e].id===t)return s[e]},this.setCurr=function(t){for(var e=0,i=s.length;e<i;e++)if(s[e].id===t)return s[a=e]},this.setPage=function(t){for(var e=0,i=s.length;e<i;e++)if(s[e].page>=t){a=e;break}},this.exist=function(t){for(var e=0,i=s.length;e<i;e++)if(s[e].id===t)return!0;return!1},this.length=function(){return s.length},this.clear=function(){s=[],w=[]},this.getGroupFields=function(e){if(e&&"sg"!=e.type&&e.groupID){var i=[];return s.filter(function(t){e.groupID==t.groupID&&e.page==t.page&&i.push(t)}),i}},this.getOrder=function(){return s},this.getFieldList=function(){return w},this.setFilter=function(t){l=t,f()},this.removeFilter=function(){l={},f()},this.reset=function(){a=0}};m2soft.crownix.FieldOrder=m2soft.crownix.util.SingleTone(function(t){function e(){var t;0!=h.length()?!g&&!h.exist(document.activeElement.id)||d.options.formField.skipTabOrder?C(h.getCurr()):null==(t=h.getPrev())?d.emit("nomore-prev-tab"):C(t):d.emit("nomore-prev-tab")}function i(){var t;0!=h.length()?!g&&!h.exist(document.activeElement.id)||d.options.formField.skipTabOrder?C(h.getCurr()):null==(t=h.getNext())?d.emit("nomore-next-tab"):C(t):d.emit("nomore-next-tab")}function o(t,e,i){function n(){a.find("#"+t+"-canvas").toggleClass("crownix-formfield-blink"),a.find("#"+t).toggleClass("crownix-formfield-blink"),a.find("label[for="+t+'][class*="crownix-radio-boundary"],label[for='+t+'][class*="crownix-checkbox-boundary"]').toggleClass("crownix-formfield-blink")}clearInterval(r),(a=d.options.scrollOptions.useInfiniteScroll?$(document.getElementById(t)).parents(".crownix-text"):a).find('[id^="crownix_form_field_"]').removeClass("crownix-formfield-blink"),a.find('[id="m2soft-crownix-field-wrapper"]').hasClass("invalid-field")?a.find('[id="m2soft-crownix-field-wrapper"]').removeClass("invalid-field"):a.find('[id="m2soft-crownix-field-wrapper"]').css({"-webkit-border-radius":"","-moz-border-radius":"","-ms-border-radius":"","border-radius":"","box-shadow":"","-webkit-box-shadow":"","-moz-box-shadow":""}),a.find('label[class*="crownix-radio-boundary"],[class*="crownix-checkbox-boundary"]').removeClass("crownix-formfield-blink"),n(),"SELECT"===e||i&&-1<i.indexOf("crownix_form_field_file")||e&&(r=setInterval(n,500))}var r,n,a,s,l=m2soft.crownix.Util,d=t,c=t.containerDom,h=new A("tab",d.options),u=!1,p=!1,f=d.options.formField.tabCurrentMode,g=null,m=!1,w=!0,x=d.scroll,v=$("<div>").attr("class","crownix-tab-buttons").appendTo(c),b=$(m2soft.crownix.resource.Icon.LEFT_ITEM_MARK).attr("class","crownix-toolbar-icon-color crownix-toolbar-gradient crownix-tab-button").on("touchstart click",e).appendTo(v),y=$(m2soft.crownix.resource.Icon.RIGHT_ITEM_MARK).attr("class","crownix-toolbar-icon-color crownix-toolbar-gradient crownix-tab-button").on("touchstart click",i).appendTo(v),C=function(n){var r;d.options.formField.skipTabOrder&&(h.reset(),n=h.getCurr()),n&&!p&&(p=!0,r=function(){setTimeout(function(){var t,e,i;null!==document.getElementById(n.id)?(d.options.mirroring.enable&&(d.mirroringManager.unlockField(),d.mirroringManager.externalEvent.focusOut(),d.mirroringManager.externalEvent.setFocus(n.id),g=n),t=$("#"+n.id),e=n.type,d.options.scrollOptions.useInfiniteScroll&&(a=$(document.getElementById(n.id)).parents(".crownix-text")),d.shareManager&&d.shareManager.isConnected()&&(t.hasClass("crownix-auth-lock")||t.hasClass("crownix-field-lock"))&&(M(),o(t[0].id,t[0].tagName),g=n),(d.mirroringManager&&t.hasClass("crownix-auth-lock")||t.hasClass("crownix-field-lock"))&&(M(),o(t[0].id,t[0].tagName),g=n),!("sg"===e&&"0"===d.formManager.getField(n.formID,n.fieldID).signType)&&"pn"!=e||!d.options.formField.tabShowSignWindow||t.hasClass("crownix-auth-lock")||t.hasClass("crownix-field-lock")?("tf"===e||"ta"===e?l.browser.mobile?t.trigger("click"):t.focus():"sm"==e||"rb"==e||"cb"==e||"co"==e?t.focus():"me"===e?(t=t.siblings("svg")).click():(I(),d.options.mirroring.enable&&d.mirroringManager.externalEvent.focusOut(),o(t[0].id)),s.remove(),p=!1,k(t)):(i=function(){var t="1"===n.aschange?$("#"+n.id).parent().find("canvas:visible"):$("#"+n.id);l.browser.mobile?t.trigger("tap"):t.click()},setTimeout(function(){null===document.getElementById(n.id)?m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(i):i()},l.browser.mobile?500:0))):m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(r)},0)},d.options.scrollOptions.useInfiniteScroll?(M(),d.documentScroller.isLoaded(n.page)?d.documentScroller.scrollToPage(n.page,r):(m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribeOnce(r),d.viewer.movePage(d.isGroupReport?d.mrdGroupManager.getRelativePageNumber(n.page):n.page))):n.page!=d.currentPage?(m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribeOnce(r),m=!0,d.viewer.movePage(d.isGroupReport?d.mrdGroupManager.getRelativePageNumber(n.page):n.page)):r(),h.setCurr(n.id),p=!0,s=$("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%","z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo(c),l.browser.mobile&&$(":focus").blur(),g=n,m=!1)},k=function(i){var t,e,n;$(i).is("button")||(0<(i=(i=i.parent()).parent().hasClass("commonFieldHinting")?i.parent():i).parents(".crownix-radio-boundary, .crownix-checkbox-boundary").length&&(i=i.parents(".crownix-radio-boundary, .crownix-checkbox-boundary").parent()),c.scrollLeft(),c.scrollTop(),t=i.offset(),e=c.offset(),n=i.find("input[class*=hasDatepicker]"),(l.browser.mobile&&!n.length||t&&(0<e.left-t.left||0<e.top-t.top||e.left+c.outerWidth()-t.left<0||e.top+c.outerHeight()-t.top<0))&&setTimeout(function(){var t,e;0<$(".crownix-signature-frame, .crownix-pen-footer").length||(t=-(e=i.position()).left,e=45-e.top,d.options.scrollOptions.useInfiniteScroll&&(e+=x.y),0<t?t=0:t<x.maxScrollX&&(t=x.maxScrollX),0<e?e=0:e<x.maxScrollY&&(e=x.maxScrollY),x.scrollToKeepCenter(t,e,0),n.length&&$.crownixdatepicker.dpDiv.css({left:n.offset().left,top:n.offset().top+n.height()}))},l.browser.mobile?500:0))};c.on("scroll",function(){var t=c.scrollLeft(),e=c.scrollTop();d.scroll.scrollBy(-t,-e),c.scrollLeft(0),c.scrollTop(0)});function S(t){v.show(),d.options.formField.keepTabButton||!h.exist(t)||null!=h.getPrev()?b.css("visibility","visible"):b.css("visibility","hidden"),d.options.formField.keepTabButton||!h.exist(t)||null!=h.getNext()?y.css("visibility","visible"):y.css("visibility","hidden")}function T(t){if(t){var e,i=!1;return"tf"==t.type||"ta"==t.type?t.getValue()&&t.valid&&(i=!0):"cb"==t.type?t.getSelected()&&(i=!0):"rb"==t.type?(t.gid&&(e=d.formManager.getField(t.formId,t.gid)),(t.getSelected()||t.gid&&e&&e.selectedId)&&(i=!0)):t.getValue()&&(i=!0),i}}var I=function(){n&&0<n.length&&n[0].focus({preventScroll:!0})},M=function(){clearInterval(r),a&&(a.find('[id^="crownix_form_field_"]').removeClass("crownix-formfield-blink"),a.find('label[class*="crownix-radio-boundary"],[class*="crownix-checkbox-boundary"]').removeClass("crownix-formfield-blink"),a.find(":focus").blur(),d.options.scrollOptions.useInfiniteScroll&&(n=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+d.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")),d.ttsManager?d.ttsManager.setFocus():I()),f&&(g=null),l.browser.mobile&&!l.browser.ios&&0<h.length()&&v.hide(),d.shareManager&&d.shareManager.isConnected()&&d.shareManager.sendFocusOutField(),d.options.mirroring.enable&&d.mirroringManager.externalEvent.focusOut()};this.bind=function(t,e,i){clearInterval(r),x=e,a=t,d.options.scrollOptions.useInfiniteScroll||h.setPage(i),i=a,(n=l.browser.ios?$('<span tabindex="-1">'):$('<input type="radio">')).attr("id","crownix_hidden_tab").css({opacity:0,width:0,height:0}).prependTo(i),l.browser.mobile||d.ttsManager||I(),!0===m&&(m=!1),f||(g=null),a.on("keydown",function(t){if(d.ttsManager&&27===t.keyCode&&M(),9==t.keyCode){if(m2soft.crownix.GuideManager.getInstance().isEnabled&&9==t.keyCode)return t.stopPropagation(),void t.preventDefault();t.preventDefault(),t.stopPropagation(),w&&(g||h.exist(document.activeElement.id)?(d.options.scrollOptions.useInfiniteScroll&&(n=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+d.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")),I(),t.shiftKey?C(h.getPrev()):C(h.getNext())):C(h.getCurr()?h.getCurr():t.shiftkey?h.getPrev():h.getNext()))}}),a.on("focus",'[id^="crownix_form_field_"][readonly!="readonly"][disabled!="disabled"][fieldtype!=file][class!="crownix-field-warning-message"][class!="crownix-field-warning-box"]',function(t){t.preventDefault(),t.stopPropagation(),d.options.mirroring.enable&&!t.relatedTarget||void 0===t.currentTarget.type&&d.options.mirroring.enable&&(d.mirroringManager.externalEvent.isSubProcess()||$(t.currentTarget).hasClass("crownix-formfield-blink-lock"))||(o(document.activeElement.id,document.activeElement.tagName,$(document.activeElement).attr("class")),h.exist(document.activeElement.id)?(d.options.mirroring.enable&&d.mirroringManager.externalEvent.setFocus(document.activeElement.id),g=h.setCurr(document.activeElement.id)):f&&(g=null),u&&"SELECT"!==document.activeElement.tagName&&k($(t.currentTarget)),l.browser.mobile&&!l.browser.ios&&0<h.length()&&d.options.showTabButton&&S(document.activeElement.id),d.shareManager&&d.shareManager.isConnected()&&"submit"!==t.currentTarget.type&&"file"!==t.currentTarget.type&&(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"))&&("radio"===t.currentTarget.type?d.shareManager.sendFocusOnField(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"),document.activeElement.getAttribute("buttonid")):d.shareManager.sendFocusOnField(document.activeElement.getAttribute("formid")||document.activeElement.getAttribute("formname"),document.activeElement.name||$(document.activeElement).attr("name"))))}),$(x.scroller).on(m2soft.crownix.Util.ActionEvents.start+" touchstart",function(t){var e=t.originalEvent?$(t.originalEvent.target):$(t.target),i=e[0].nodeName,t=e.attr("id");if(e.parents(".crownix-textnote-toolbar").length&&e.parents("#m2soft-crownix-field-wrapper").length)return!1;t&&(-1!=t.indexOf("crownix_form_field")||-1!=t.indexOf("m2soft-crownix-normal-combo"))||"OPTION"==i?u=!0:(u=!1,M())}),d.options.mirroring.enable&&$(x.scroller).on(m2soft.crownix.Util.ActionEvents.end,function(t){x.moved&&M()})},this.movePrev=function(){e()},this.moveNext=function(){i()},this.move=function(t){C(h.getField(t))},this.hasPrev=function(){return null!=h.getPrev()},this.hasNext=function(){return null!=h.getNext()},this.exist=function(t){return h.exist(t)},this.length=function(){return h.length()},this.blink=function(t,e){o(t,e)},this.focus=function(t){h.exist(t)||!f?(d.options.mirroring.enable&&d.mirroringManager.externalEvent.setFocus(t),g=h.setCurr(t)):f&&(g=null),o(t),l.browser.mobile&&!l.browser.ios&&0<h.length()&&d.options.showTabButton&&S(t),k($("#"+t))},this.focusField=function(t){h.exist(t)&&(g=h.setCurr(t)),k($("#"+t)),o(t)},this.blur=function(t){t?u=!0:(u=!1,M())},this.focusHiddenTab=function(){d.options.scrollOptions.useInfiniteScroll&&(n=$("."+m2soft.crownix.Constant.PAGE_CLASS).filter("[no="+d.documentScroller.getCurrentPageNumber()+"]").find("#crownix_hidden_tab")),I(),d.shareManager&&d.shareManager.isConnected()&&d.shareManager.sendFocusOutField(),d.options.mirroring.enable&&d.mirroringManager.externalEvent.focusOut()},this.add=function(t){d.formManager.isActive(t.formId)&&h.add(t)},this.push=function(t,e){h.push(t,e)},this.removeField=function(t){for(var e in t)h.remove(t[e].formId,t[e].fieldId,t[e].groupId)},this.clear=function(){h.clear()},this.setPreventMove=function(t){p=t},this.enable=function(){w=!0},this.disable=function(){w=!1},this.scrollToField=function(t){k(t)},this.getFocusField=function(){return g},this.setMovepageFlag=function(t){m=t},this.blinkOff=function(){clearInterval(r)},this.getPreventMove=function(){return p},this.removePreventDom=function(){s&&s.remove()},this.setFilter=function(t){h.setFilter(t)},this.removeFilter=function(){h.removeFilter()},this.reset=function(){g=null,h.reset()},this.redefineSkipTabOrder=function(){for(var t=$.extend(!0,[],h.getFieldList()),e=0;e<t.length;e++){var i=d.formManager.getField(t[e].formID+(t[e].formRepeat?"-"+t[e].formRepeat:""),t[e].fieldID);i&&Object.keys(i).length&&this.skipTabOrder(i)}},this.skipTabOrder=function(t){if(d.options.formField.skipTabOrder)if(T(t))if("rb"==t.type&&t.gid){var e,i,n=[],r=d.formManager.getField(t.formId,t.gid);if(r&&r.selectedId)for(i in e=r.buttonList)n.push({formId:t.formId,fieldId:i,groupId:t.gid});this.removeField(n)}else this.removeField([{formId:t.formId,fieldId:t.id,groupId:t.gid}]);else if(!this.exist(t.elementId)&&"1"==t.editable)if("rb"==t.type&&t.gid){if(r=d.formManager.getField(t.formId,t.gid),r&&!r.selectedId)for(i in e=r.buttonList)this.add(e[i])}else this.add(t)},this.getCurr=function(){return h.getCurr()},this.moveNextRequiredField=function(t){if(t){var e=d.formManager.getField(t.formID+(t.formRepeat?"-"+t.formRepeat:""),t.fieldID);if(T(e)){for(var i=h.getOrder(),n=t,r=0;r<i.length-1;r++)if(i[r].id===n.id){n=i[r+1],e=d.formManager.getField(n.formID+(n.formRepeat?"-"+n.formRepeat:""),n.fieldID);if(!T(e)&&"1"===n.required){C(h.getField(n.id));break}}C(h.getField(t.id))}else C(h.getField(t.id))}}})}(),m2soft.ns("m2soft.crownix.GuideManager"),function(){var l=m2soft.crownix.TabOrder,d=m2soft.crownix.Util,c=m2soft.crownix.State.Toolbar;m2soft.crownix.GuideManager=m2soft.crownix.util.SingleTone(function(t){function e(){return!d.browser.mobile||699<$(window).width()}function i(){var t=s.getCurr(),e=s.getNext();if(e){if("cb"!=e.type&&"rb"!=e.type||t.groupID!=e.groupID)return e;for(var i=s.getOrder(),n=i.indexOf(e);n<i.length;n++)if(t.groupID!=i[n].groupID||!i[n].groupID)return i[n]}}function n(){var t=s.getCurr(),e=s.getPrev();if(e){if("cb"!=e.type&&"rb"!=e.type||t.groupID!=e.groupID)return e;for(var i=s.getOrder(),n=i.indexOf(e);0<=n;n--)if(t.groupID!=i[n].groupID||!i[n].groupID)return i[n]}}var r,o,a=t,s=new l("guide");this.isEnabled=!1,this.push=function(t,e){s.push(t,e)},this.add=function(t){a.formManager.isActive(t.formId)&&s.add(t)},this.removeField=function(t){for(var e in t)s.remove(t[e].formId,t[e].fieldId,t[e].groupId)},this.length=function(){return s.length()},this.getCurr=function(){return s.getCurr()},this.setCurr=function(t){return s.setCurr(t)},this.next=function(){var t=i();return t&&s.setCurr(t.id),t},this.back=function(){var t=n();return t&&s.setCurr(t.id),t},this.exist=function(t){return s.exist(t)},this.hasNext=i,this.hasBack=n,this.getGroupFields=function(t){return s.getGroupFields(t)},this.validateValue=function(){r&&r.validateValue()},this.getGuideOrder=function(){return s.getOrder()},this.clear=function(){s.clear()},this.reset=function(){s.reset()},this.getWindow=function(){return e()?r:o},this.show=function(){a.options.mirroring.enable&&!a.mirroringManager.externalEvent.isSubProcess()||s.length()&&(this.isEnabled=!0,(e()?r=r||new m2soft.crownix.GuideWindow(a):o=o||new m2soft.crownix.QuickWindow(a)).show(),a.toolbar.enable(),a.toolbar.disable(),a.toolbar.enableToolbarItem(["guide"]),c.toggleGuideButton(this.isEnabled))},this.close=function(){var t=m2soft.crownix.GuideManager.getInstance();t.isEnabled=!1,r&&r.close(),a.toolbar.enable(),t.hasNext()||a.toolbar.disableToolbarItem(["guide"]),c.toggleGuideButton(t.isEnabled)}})}(),m2soft.ns("m2soft.crownix.SignWindow"),m2soft.crownix.SignWindow=function(){function c(){O=!1,u.remove(),e&&e.remove(),window.removeEventListener("orientationchange",L,!1),m.removeClass("crownix-formfield-blink"),w.enable(),"bottom"===x&&w.restore(),_=[],b.focusHiddenTab(),M.textOnCanvas&&(M.canvasManager.needRedraw=!0),N.OnClose&&"function"==typeof N.OnClose&&N.OnClose()}function d(t){t=$("#m2soft-crownix-container"),(e=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":F.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(t))[0].addEventListener("touchstart",function(t){t.preventDefault()}),D&&e.fadeIn(100)}function h(){M.cxGridManager&&M.cxGridManager.inactive();var t,e=$("#m2soft-crownix-container"),i=e.width(),n=e.height();0!=T.fixedSignHeight?(t=Math.min(Math.max(T.fixedSignHeight,1),90),l=E.browser.mobile?i-20:780,a=Math.floor(n*t/100)):(o=m.width(),r=m.height(),a=.5*n,l=Math.floor(a*o/r),t=E.browser.mobile?4096:780,(t=Math.min(t,i-20))<l&&(l=t,a=Math.floor(l*r/o)));var r=Math.max(l,130),o=a+30+45,n="bottom"===x?n-o-20:(n-o)/2;u=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({left:(i-r)/2,top:n,width:r+"px",height:o+"px","z-index":F.WINDOW_Z_INDEX,"user-select":"none"}).prependTo(e),"bottom"===x&&(M.textOnCanvas&&(M.canvasManager.needRedraw=!1),w.save(),w.zoom(1),0==m.parents("#crownix-cxgrid-content").length&&w.scrollToElementWithFrame(m[0],1e3,w.isFloating?0:o+20)),$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-title").addClass("crownix-signature-background").append(P).appendTo(u),p=$("<div>").addClass("crownix-window-body").css({width:"100%",height:o-30-45+"px",background:"#DADADA"}).appendTo(u),o=l,l=a,inputCanvasArea=$("<div>").attr({id:m[0].id+"-sign"}).css({width:o,height:l,margin:"auto",background:"#FFFFFF"}).appendTo(p),g=new m2soft.crownix.FormField.Sign(m[0].id+"-sign",{width:m.width(),height:m.height(),dpi:m.data("dpi"),lineCount:S,showStrokeMessage:!0,showResetButton:!0,guideText:T.guideOnSignWindow?C:"",guideTextStyle:k,fixedGuideText:T.guideKeepSignWindow,signature:I.signature,fixedSignPressure:T.fixedSignPressure,onChangeCanvas:function(t,e){t.css({left:0,border:"0px"})},onChangeValue:function(t){t&&t.drawSignature(m[0],{ratioType:0==T.fixedSignHeight}),B(),N.OnChangeValue&&"function"==typeof N.OnChangeValue&&N.OnChangeValue(t.toData(300,100,{dpi:300}))}}),w.disable(),f=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({"line-height":"42px",display:"inline-block"}).appendTo(u);var a=$("<div>").attr("class","crownix-signature-button-dom").appendTo(f),s=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px","max-width":"35%",padding:"0 3px"}).bind("click",function(t){"1"==I.aschange&&(I.signType="0"),R(),c(),t.preventDefault(),t.stopPropagation()}).on("keydown",function(t){t.preventDefault(),t.stopPropagation();g.getSignature();O&&9===t.keyCode&&"disabled"!=$(this).attr("disabled")&&("1"==I.signType&&(I.signType="0"),t.shiftKey?b.hasPrev()&&(R(),c(),b.movePrev()):b.hasNext()&&(R(),c(),b.moveNext()))}).appendTo(a);$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({fill:"#FFFFFF","padding-right":"4px",width:"10%","min-width":"18px","vertical-align":"middle"}).appendTo(s),$("<span>").text(A.get("ok_button_text")).appendTo(s),_.push(s);var o=$("<span>").text(A.get("cancel_button_text")),l=$('<button type="button"></button>').attr("id",F.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").append(o).css({width:"105px","max-width":"35%","margin-right":0}).bind("click",function(){g.reset(),R(!0),c()}).prependTo(a),o={max:20,limitSize:5};("1"==I.aschange&&!M.options.mirroring.enable||"1"==I.aschange&&M.options.mirroring.enable&&!M.mirroringManager.externalEvent.isSubProcess())&&(a.css({width:"400px"}),d=$("<span>").text(A.get("seal_window_button")),d=$('<button type="button"></button>').attr("id",F.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").append(d).css({width:"105px","max-width":"35%","margin-right":0}).bind("click",function(){c(),R(!0),$("#"+I.elementId+"-canvas").click()}).prependTo(a),E.adjustFontsize(d,o)),E.adjustFontsize(s,o),E.adjustFontsize(l,o);var d=$("<div>").css({width:"100%",position:"absolute"}).prependTo(f);(T.keepTabButton||!y.isEnabled&&0<b.length()&&b.exist(m.attr("id"))&&b.hasPrev())&&(l=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({float:"left",padding:"0 5px"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&("1"==I.signType&&(I.signType="0"),R(),c(),b.movePrev())}).appendTo(d),$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px","vertical-align":"middle","fill-opacity":"0.7",margin:"0px -3px 0 0px"}).appendTo(l),$("<span>").text(A.get("back")).appendTo(l),E.adjustFontsize(l,o),_.push(l)),(T.keepTabButton||!y.isEnabled&&0<b.length()&&b.exist(m.attr("id"))&&b.hasNext())&&(d=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({float:"right",padding:"0 5px"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&("1"==I.signType&&(I.signType="0"),R(),c(),b.moveNext())}).appendTo(d),$("<span>").text(A.get("next")).appendTo(d),$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px","vertical-align":"middle",margin:"0px -5px 0 5px"}).appendTo(d),E.adjustFontsize(d,o),_.push(d)),u[0].addEventListener("touchmove",function(t){var e=$(t.target);("canvas"===e[0].tagName.toLowerCase()||e.hasClass("crownix-signature-header")||e.hasClass("crownix-signature-footer"))&&t.preventDefault()}),u.css("visibility","visible").fadeIn(500,function(){var t,e;s.focus(),E.browser.ios&&(t=s.offset().left>window.scrollX&&s.offset().left<window.innerWidth+window.scrollX?window.scrollX:s.offset().left,e=s.offset().top>window.scrollY&&s.offset().top+s.height()<window.innerHeight+window.scrollY?window.scrollY:s.offset().top+s.height(),window.scroll(t,e)),b.setPreventMove(!1),O=!0,b.removePreventDom(),B()})}function t(t){"string"==typeof t&&(P=t),b=m2soft.crownix.FieldOrder.getInstance(),y=m2soft.crownix.GuideManager.getInstance(),b.setPreventMove(!0)}var u,p,f,g,m,e,w,x,v,b,y,C,k,S,T,I,M,A=m2soft.crownix.Resource,F=m2soft.crownix.Constant,E=m2soft.crownix.Util,P="New Window",D=!1,O=!1,_=[],N={},i=void 0,L=function(){i||(D&&e.remove(),u.remove(),m.removeClass("crownix-formfield-blink"),d(),i=setTimeout(function(){"bottom"===x&&0==m.parents("#crownix-cxgrid-content").length&&w.scrollToElementWithFrame(m[0],1e3,10),h(),i=void 0},500))},R=function(t){var e,i=g.getSignature();"function"==typeof v&&(t?v(!t,void 0,i,I):0==i.lines.length?(i.reset(m[0]),v(t,void 0,void 0,I)):(e=i.toData(m.width(),m.height(),{ratioType:0==T.fixedSignHeight,dpi:m.data("dpi")||96}),v(!t,e,i,I)))},B=function(){var t,e=$(".crownix-line-validity-message");for(t in _)0<e.length&&"block"==e.css("display")?(_[t].attr("disabled",!0).css({opacity:.4}),m2soft.crownix.FieldOrder.getInstance().disable()):(_[t].attr("disabled",!1).css({opacity:1}),m2soft.crownix.FieldOrder.getInstance().enable(),_[t][0].innerText==A.get("ok_button_text")&&_[t].focus())};return t.prototype={constructor:m2soft.crownix.SignWindow,show:function(t,e,i,n,r,o,a,s,l){m=t,v=e,D=i,w=n,S=r,C=o,k=a,T=(M=s).options.formField,x=T.signatureMethod,I=l,d(),setTimeout(function(){h()},E.browser.mobile?500:0),window.addEventListener("orientationchange",L,!1)},bind:function(t,e){N[t]=e}},t}(),m2soft.ns("m2soft.crownix.PenWindow"),m2soft.crownix.PenWindow=function(){function c(){h.cxGridManager&&h.cxGridManager.inactive(),h.noteManager&&m2soft.crownix.NoteToolbar.prototype.hideToolbar(),b.isEnabled||h.toolbar.disable(),setTimeout(function(){H(),l=$("<div>"),w?l.appendTo("#crownix-window-frame"):l.appendTo(T);var t=I[0].getBoundingClientRect(),e=l.parent()[0].getBoundingClientRect();l.css({position:"absolute",left:t.left-e.left,top:t.top-e.top,width:I.width()*u.scale*(x&&!w?m:1)}),$("<div>").attr({id:p[0].id+"-pen",width:I.width()*u.scale*(x&&!w?m:1),height:I.height()*u.scale*(x&&!w?m:1)}).css({position:"relative",width:I.width()*u.scale*(x&&!w?m:1),height:I.height()*u.scale*(x&&!w?m:1),"touch-action":"none"}).appendTo(l);var i=y||C||"";0==A.penLineCountPerText?v=0:0<A.penLineCountPerText&&(v=i.replace(/\s/g,"").length*A.penLineCountPerText),p[0].getContext("2d").clearRect(0,0,p[0].width,p[0].height),k.fillStyle=y?"#CCCCCC":k.fillStyle,s=new m2soft.crownix.FormField.Sign(p[0].id+"-pen",{width:p.width(),height:p.height(),dpi:A.penDpi,lineCount:v,showResetButton:!1,showStrokeMessage:!0,guideText:i,guideTextStyle:k,fixedGuideText:C||!1,signature:F,penEventSkipTime:A.penEventSkipTime,fixedSignPressure:A.fixedSignPressure,onChangeCanvas:function(t,e){t.css({left:0,border:"0px"}),$(".crownix-line-validity-message").css({right:2*u.scale+"px",bottom:2*u.scale+"px"})},onChangeValue:function(t){var e;z(),N.OnChangeValue&&"function"==typeof N.OnChangeValue&&(e=t.dpi,t.dpi=300,N.OnChangeValue(t.toData(300,100)),t.dpi=e)}});var n=I.width()*u.scale*(x&&!w?m:1),r=Math.max(I.width()*u.scale*(x&&!w?m:1),320);d=$("<div>").addClass("crownix-pen-footer").css({visibility:"hidden","line-height":"57px","margin-top":3*u.scale*(x&&!w?m:1),width:r+"px"}).appendTo(l);var o=$("<div>").attr("class","crownix-signature-button-dom").appendTo(d);o.css("left",(n-o.outerWidth())/2),M=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px",height:"50px","max-width":"25%",padding:"0 3px"}).on("click",function(){R(),B()}).on("keydown",L).appendTo(o);$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({width:"10%","min-width":"18px",fill:"#FFFFFF","padding-right":"4px","vertical-align":"middle"}).appendTo(M),$("<span>").text(E.get("ok_button_text")).appendTo(M);_.push(M);t=$('<button type="button"></button>').attr("class","crownix-pen-button-color crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"105px",height:"50px","max-width":"35%",padding:"0 3px","margin-right":0}).bind("click",function(t){s.reset(),M.focus()}).prependTo(o),$(m2soft.crownix.resource.Icon.SIGN_RESET_ALL).css({width:"10%","min-width":"18px","padding-right":"4px","vertical-align":"middle"}).appendTo(t),$("<span>").text(E.get("clear_sign")).appendTo(t),e=$("<span>").text(E.get("cancel_button_text")),i=$('<button type="button"></button>').attr("id",D.WINDOW_CLOSE_ID).attr("class","crownix-pen-button-color crownix-signature-button crownix-signature-button-white close-button").append(e).css({height:"50px",width:"105px","max-width":"25%","margin-right":0}).bind("click",function(t){R(!0),B()}).prependTo(o),e={max:20,limitSize:5};O.adjustFontsize(M,e),O.adjustFontsize(t,e),O.adjustFontsize(i,e);i=$("<div>").css({width:r,"line-height":"35px",position:"absolute",left:n<360?-(r-n)/2:0}).prependTo(d);"right"==A.penButtonPosition&&(o.css({float:"right","text-align":"right",left:n<360?-(r-n)/2:0}),i.css({left:n<360?-(r-n)/2:0})),(A.keepTabButton||!b.isEnabled&&0<a.length()&&a.exist(p.attr("id"))&&a.hasPrev())&&(n=$('<button type="button"></button>').attr("class","crownix-pen-button-color crownix-signature-button crownix-signature-tab crownix-signature-button-white").css({float:"left","border-width":"1px",padding:"0 5px"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&(R(),B(),a.movePrev())}).appendTo(i),$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -3px 0 0px","vertical-align":"middle"}).appendTo(n),$("<span>").text(E.get("back")).appendTo(n),O.adjustFontsize(n,e),_.push(n)),(A.keepTabButton||!b.isEnabled&&0<a.length()&&a.exist(p.attr("id"))&&a.hasNext())&&(i=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").css({float:"right"==A.penButtonPosition?"none":"right",padding:"0 5px"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&(R(),B(),a.moveNext())}).appendTo(i),$("<span>").text(E.get("next")).appendTo(i),$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(i),O.adjustFontsize(i,e),_.push(i)),d.css("visibility","visible").fadeIn(200,function(){a.setPreventMove(!1),M.focus(),S.on(P.start,function(t){"disabled"!=M.attr("disabled")&&(R(),B())}),a.removePreventDom()}),l[0].addEventListener("touchmove",function(t){var e=$(t.target);"canvas"!==e[0].tagName.toLowerCase()&&!e.hasClass("crownix-pen-footer")||t.preventDefault()}),O.browser.mobile&&!O.browser.ios&&0<a.length()&&h.options.showTabButton&&$(".crownix-tab-buttons").css("display","none")},m2soft.crownix.ChannelManager.getChannel("toolbar:changeToolbar").asyncTimeout)}function t(t){h=t,(a=m2soft.crownix.FieldOrder.getInstance()).setPreventMove(!0),b=m2soft.crownix.GuideManager.getInstance(h)}var h,u,p,a,f,g,n,m,w,x,v,b,y,C,k,S,T,s,l,d,I,M,A,F,E=m2soft.crownix.Resource,P=m2soft.crownix.Util.ActionEvents,D=m2soft.crownix.Constant,O=m2soft.crownix.Util,_=[],N={},e=void 0,L=function(t){t.preventDefault(),t.stopPropagation(),!a.getPreventMove()&&9===t.keyCode&&0<a.length()&&(t.shiftKey?a.hasPrev()&&(R(),B(),a.movePrev()):a.hasNext()&&(R(),B(),a.moveNext()))},R=function(t){var e,i=s.getSignature();"function"==typeof g&&(C&&i.drawSignature(p[0],{guideTextImageData:!0}),t?(y&&i.drawSignature(p[0],{guideTextImageData:!0}),g(!t,"",i)):0==i.lines.length?(y&&i.drawSignature(p[0],{guideTextImageData:!0}),g(t)):(e=i.toData(p.width(),p.height(),{ratioType:!t,dpi:A.penDpi}),i.drawSignature(p[0],{fixedGuideText:!0,ratioType:!0}),g(!t,e,i)))},B=function(){S.remove(),l.remove(),b.isEnabled||h.toolbar.enable(),u.enable(),b.isEnabled?(u.scrollTo(u.saveScrollX,u.saveScrollY),u.zoom(u.saveScale),u.disable()):u.restore(),u.options.zoomMax=n,p.removeClass("crownix-formfield-blink"),p.removeClass("crownix-pen-blink"),a.focusHiddenTab(),window.removeEventListener("orientationchange",j,!1),h.noteManager&&m2soft.crownix.NoteToolbar.prototype.showToolbar(),_=[],h.textOnCanvas&&(h.canvasManager.needRedraw=!0),O.browser.mobile&&!O.browser.ios&&0<a.length()&&h.options.showTabButton&&$(".crownix-tab-buttons").css("display","block"),N.OnClose&&"function"==typeof N.OnClose&&N.OnClose()},j=function(){e||(l.remove(),u.enable(),u.restore(),b.isEnabled||h.toolbar.enable(),e=setTimeout(function(){u.save(),c(),e=void 0},500))},H=function(){var t=.8*u.wrapperWidth,e=.7*u.wrapperHeight,i=Math.floor(u.wrapperHeight*h.options.formField.fixedPenHeight/100);h.options.formField.fixedPenHeight&&i<e&&(e=i),i=Math.min(t/I.width(),e/(I.height()+90/e*100)),u.save(),n=u.options.zoomMax,u.options.zoomMax=Math.max(i,n);var t=layerY=0;x&&(t=u.scroller.offsetWidth/2/i-f.position().left/m-u.scroller.offsetWidth/2,layerY=u.scroller.offsetHeight/2/i-f.position().top/m-u.scroller.offsetHeight/2,t+=(I.position().left-I.offset().left+f.offset().left)/m,layerY+=(I.position().top-I.offset().top+f.offset().top)/m),e=(I.offset().left-f.offset().left+f.position().left)/m+I.width()/2+(x?t:0),t=(I.offset().top-f.offset().top+f.position().top)/m+I.height()/2+(x?layerY:0),b.isEnabled&&u.enable(),h.textOnCanvas&&(h.canvasManager.needRedraw=!1),u.zoomAndScrollTo(i,e,t),u.disable()},z=function(){var t=$(".crownix-line-validity-message");if(0!=t.length&&0!=_.length){for(var e=0,i=0;i<t.length;i++)"block"==$(t[i]).css("display")&&e++;for(i in _)0==e?(_[i].attr("disabled",!1).css({opacity:1}),m2soft.crownix.FieldOrder.getInstance().enable(),_[i][0].innerText==E.get("ok_button_text")&&_[i].focus()):(_[i].attr("disabled",!0).css({opacity:.4}),m2soft.crownix.FieldOrder.getInstance().disable())}};return t.prototype={show:function(t,e,i,n,r,o,a,s,l,d){I=t,u=r||e,p=i,f=$("#"+D.TEXT_ID),g=n,w=u.isFloating,x=$(u.scroller).is(".crownix-layer-page"),m=(w?r:e).scale,v=o,y=a,C=s,k=l,A=h.options.formField,F=d,p[0].getContext("2d").clearRect(0,0,p.width(),p.height()),p.addClass("crownix-pen-blink"),T=$("#"+h.containerDom.parent().attr("id")),S=$("<div>").addClass("crownix-pen-overflow"),w?S.appendTo("#crownix-window-frame"):(b.isEnabled?b.getWindow().guideWindow().parent():$(".crownix-tab-buttons")).after(S),c(),window.addEventListener("orientationchange",j,!1)},bind:function(t,e){N[t]=e}},t}(),m2soft.ns("m2soft.crownix.ImageTransformer"),m2soft.crownix.ImageTransformer=function(r,h,d){function o(e,n){function t(t){t.preventDefault(),s=!0}function i(t){var e,i;t.preventDefault(),(o=t.originalEvent).touches&&(o=o.targetTouches[0]),a=o.pageX-l-32,s&&(n==x?e=(100*(a-c)/(p-c)+100)/100:i=90*(a-c)/(p-c)-45,u.scaleAndRotate(e,i,d().left,d().top,y))}function r(t){var e,i;s&&(s=!1,(o=t.originalEvent).touches&&(o=o.changedTouches[0]),a=o.pageX-l-32,n==x?e=(100*(a-c)/(p-c)+100)/100:i=90*(a-c)/(p-c)-45,u.scaleAndRotate(e,i,d().left,d().top,y))}var o,a,s=!1,l=e.offset().left;this.on=function(){m.hasTouch()?(e.on("touchstart",t),e.on("touchmove",i),$("body").on("touchend",r)):(e.on(w.start,t),$("body").on(w.move,i),$("body").on(w.end,r))},this.off=function(){m.hasTouch()?(e.off("touchstart",t),e.off("touchmove",i),$("body").off("touchend",r)):(e.off(w.start,t),$("body").off(w.move,i),$("body").off(w.end,r))},this.moveZoomHandle=function(t){e.find($(".crownix-slider-handle")).finish().animate({left:(t-100)*(p-c)/100+8},300)},this.moveRotateHandle=function(t){e.find($(".crownix-slider-handle")).finish().animate({left:(t+45)*(p-c)/90+8},300)}}function a(){function t(t){2<=t.originalEvent.targetTouches.length&&(n.x=t.originalEvent.targetTouches[0].pageX,n.y=t.originalEvent.targetTouches[0].pageY,r.x=t.originalEvent.targetTouches[1].pageX,r.y=t.originalEvent.targetTouches[1].pageY,a=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),o.x=(n.x+r.x)/2-l.offset().left,o.y=(n.y+r.y)/2-l.offset().top,s=!0)}function e(t){var e;s&&(n.x=t.originalEvent.targetTouches[0].pageX,n.y=t.originalEvent.targetTouches[0].pageY,r.x=t.originalEvent.targetTouches[1].pageX,r.y=t.originalEvent.targetTouches[1].pageY,e=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),t=d*e/a,console.log(t),t<1?u.scaleAndRotate(1-t,void 0,o.x,o.y,c):u.scaleAndRotate(t,void 0,o.x,o.y,c),a=e)}function i(){s=s&&!1}var n={x:0,y:0},r={x:0,y:0},o={x:0,y:0},a=0,s=!1,l=h.children(".crownix-crop-window"),d=1,c=function(t){d=t};this.on=function(){h.on("touchstart",t),h.on("touchmove",e),h.on("touchend",i)},this.off=function(){h.off("touchstart",t),h.off("touchmove",e),h.off("touchend",i)}}function s(){var t=$("<div>").css({position:"absolute",width:h.width(),height:32}).addClass("crownix-crop-transformBar"),e=$("<div>").css({position:"absolute",left:32,top:0,width:h.width()-64,height:32,cursor:"pointer"}).appendTo(t),i=$("<canvas>").css({position:"absolute",left:0,top:0,width:e.width(),height:e.height()}).attr({width:e.width(),height:e.height()}).addClass("crownix-slider-segment").appendTo(e),n=$("<span>").css({display:"inline-block",position:"absolute",top:16,"border-left":"8px solid transparent","border-right":"8px solid transparent","border-bottom":"16px solid rgb(133, 190, 250)"}).addClass("crownix-slider-handle").appendTo(e);return c=16,p=e.width()-16,{dom:t,bar:i,handle:n}}function l(t,e,i,n,r,o,a){function s(t,e,i,n){l.lineCap="butt",l.beginPath(),l.moveTo(t,e),l.lineTo(i,n)}var l=t.getContext("2d"),d=r-n,c=e-2*o;l.fillStyle="rgb(133, 190, 250)",l.textAlign="center",l.strokeStyle="rgb(133, 190, 250)";for(var h=0;h<=d;h++)h!=Math.ceil(d/2)&&0!=h&&h!=d||l.fillText((n+h).toString()+(a||""),h*c/d+o,i/4),s(h*c/d+o,i/4+2,h*c/d+o,h%5==0?2*i/3:i/2),l.stroke()}var u,c,p,f,g,m=m2soft.crownix.Util,w=m2soft.crownix.Util.ActionEvents,x=1,v=2,t=0,b=r[0].toDataURL(),y=function(t,e){m.browser.mobile||f.moveZoomHandle(100*t),null!=e&&g.moveRotateHandle(e)};this.create=function(){var t,e,i,n;m.browser.mobile?(new a).on():(e=s(),n=e.dom,i=e.bar,t=e.handle,n.css({left:h.position().left,top:r.position().top-32}).insertBefore(r),t.css("left",c-8),l(e.bar[0],i.width(),i.height(),100,200,16,"%"),(f=new o(n,x)).on()),t=s(),e=t.dom,i=t.bar,n=t.handle,e.css({left:h.position().left,top:r.position().top+r.height()+2}).insertBefore(r),n.css({left:p/2}),l(t.bar[0],i.width(),i.height(),-45,45,16,"˚"),(g=new o(e,v)).on(),(u=new m2soft.crownix.Canvas(r[0])).setTransformInfo(b)},this.remove=function(){u.resetTransform(),$(".crownix-crop-transformBar").remove(),g.off(),f&&f.off()},this.initTransform=function(){t=0,u.initTransform(),u.resetTransform(),u.setRotateAngle(t),u.scaleAndRotate(1,0,r.width()/2,r.height()/2,y)},this.rotateQuarter=function(){0==t?t=90:90==t?t=180:180==t?t=270:270==t&&(t=0),u.initTransform(),u.resetTransform(),u.setRotateAngle(t),u.scaleAndRotate(1,0,r.width()/2,r.height()/2,y)}},m2soft.ns("m2soft.crownix.ImageCrop"),m2soft.crownix.ImageCrop=function(s,t,i){function e(){function t(t){t.preventDefault(),s=t.touches?t.targetTouches[0]:t.originalEvent,$(s.target).children().length||(c=!0,n=$(s.target),r=s.pageX,y1=s.pageY)}function e(t){t.preventDefault(),c&&(s=t.touches?t.targetTouches[0]:t.originalEvent,o=s.pageX,a=s.pageY,n[0]!=u[0]?(d=l=$(n),n[0]!=w[0]&&n[0]!=v[0]||(l=p),n[0]!=x[0]&&n[0]!=b[0]||(l=f),n[0]!=w[0]&&n[0]!=x[0]||(d=g),n[0]!=v[0]&&n[0]!=b[0]||(d=m),t=l[0]==p[0]?f.position().left:I+E,l.css({left:Math.max(E,Math.min(l.position().left+o-r,t))}),t=d[0]==g[0]?m.position().top:M+P,d.css({top:Math.max(P,Math.min(d.position().top+a-y1,t))}),u.css({left:p.position().left,top:g.position().top,width:f.position().left-p.position().left,height:m.position().top-g.position().top})):u.css({left:Math.max(E,Math.min(p.position().left+o-r,E+I-u.width())),top:Math.max(P,Math.min(g.position().top+a-y1,P+M-u.height()))}),D(),r=o,y1=a)}function i(t){t.preventDefault(),c&&(c=!1,n[0]!=u[0]&&l&&d&&(l.insertAfter($(".crownix-crop-line").last()),d.insertAfter($(".crownix-crop-line").last()),n[0]!=l[0]&&n[0]!=d[0]&&n.insertAfter($(".crownix-crop-dot").last())))}var n,r,o,a,s,l,d,c=!1;this.on=function(){y.hasTouch()?(h[0].addEventListener("touchstart",t,!1),h[0].addEventListener("touchmove",e,!1),h[0].addEventListener("touchend",i,!1)):(h.on(C.start,t),$("body").on(C.move,e),$("body").on(C.end,i))},this.off=function(){y.hasTouch()?(h[0].removeEventListener("touchstart",t,!1),h[0].removeEventListener("touchmove",e,!1),h[0].removeEventListener("touchend",i,!1)):(h.off(C.start,t),$("body").off(C.move,e),$("body").off(C.end,i))}}function n(){var t,e;i.height()>i.width()?t=(e=Math.min(M,i.height()))*i.width()/i.height():e=(t=Math.min(I,i.width()))*i.height()/i.width(),u.css({left:(I-t)/2-5,top:(M-e)/2-5,width:t,height:e}),D()}var h,u,r,p,f,g,m,w,x,v,b,o,a,l,d,c,y=m2soft.crownix.Util,C=m2soft.crownix.Util.ActionEvents,k={position:"absolute",background:"rgb(0, 122, 245)",border:"5px solid white"},S={position:"absolute",background:"rgb(0, 122, 245)",border:"5px solid black"},T={position:"absolute",background:"rgba(0, 122, 245, 0.5)"},I=s.width(),M=s.height(),A=s.position().left,F=s.position().top,E=-5,P=-5,D=function(){p.css({left:u.position().left,top:u.position().top,width:2,height:u.height()}),f.css({left:u.position().left+u.width(),top:u.position().top,width:2,height:u.height()}),g.css({left:u.position().left,top:u.position().top,width:u.width(),height:2}),m.css({left:u.position().left,top:u.position().top+u.height(),width:u.width(),height:2}),w.css({left:u.position().left-4,top:u.position().top-4,width:8,height:8}),x.css({left:u.position().left+u.width()-4,top:u.position().top-4,width:8,height:8}),v.css({left:u.position().left-4,top:u.position().top+u.height()-4,width:8,height:8}),b.css({left:u.position().left+u.width()-4,top:u.position().top+u.height()-4,width:8,height:8}),o.css({left:u.position().left+u.width()/3+5,top:u.position().top+5,width:1,height:u.height()}),a.css({left:u.position().left+2*u.width()/3+5,top:u.position().top+5,width:1,height:u.height()}),l.css({left:u.position().left+5,top:u.position().top+u.height()/3+5,width:u.width(),height:1}),d.css({left:u.position().left+5,top:u.position().top+2*u.height()/3+5,width:u.width(),height:1}),r.css({position:"absolute",left:u.position().left+u.width()/2+5,top:u.position().top+u.height()/2+5})};this.create=function(){I=s.width(),M=s.height(),A=s.position().left,F=s.position().top,h=$("<div>").css({position:"absolute",top:F,left:A,width:I+"px",height:M+"px",opacity:.5,background:"rgb(0, 0, 0)",overflow:y.browser.mobile?"unset":"hidden"}).addClass("crownix-crop-window").appendTo(t),u=$("<div>").css({position:"absolute",background:"rgb(255, 255, 255)",cursor:"move"}).addClass("crownix-crop-rect").appendTo(h),p=$("<div>").css(k).css({"border-left":5,"border-left-style":"solid",cursor:"e-resize"}).addClass("crownix-crop-left crownix-crop-line").appendTo(h),f=$("<div>").css(k).css({"border-right":5,"border-right-style":"solid",cursor:"e-resize"}).addClass("crownix-crop-right crownix-crop-line").appendTo(h),g=$("<div>").css(k).css({"border-top":5,"border-top-style":"solid",cursor:"n-resize"}).addClass("crownix-crop-top crownix-crop-line").appendTo(h),m=$("<div>").css(k).css({"border-bottom":5,"border-bottom-style":"solid",cursor:"n-resize"}).addClass("crownix-crop-bottom crownix-crop-line").appendTo(h),w=$("<div>").css(S).css("cursor","nw-resize").addClass("crownix-crop-lt crownix-crop-dot").appendTo(h),x=$("<div>").css(S).css("cursor","ne-resize").addClass("crownix-crop-rt crownix-crop-dot").appendTo(h),v=$("<div>").css(S).css("cursor","ne-resize").addClass("crownix-crop-lb crownix-crop-dot").appendTo(h),b=$("<div>").css(S).css("cursor","nw-resize").addClass("crownix-crop-rb crownix-crop-dot").appendTo(h),o=$("<div>").css(T).addClass("crownix-crop-guide_h1").appendTo(h),a=$("<div>").css(T).addClass("crownix-crop-guide_h2").appendTo(h),l=$("<div>").css(T).addClass("crownix-crop-guide_w1").appendTo(h),d=$("<div>").css(T).addClass("crownix-crop-guide_w2").appendTo(h),r=$("<div>").addClass("crownix-crop-center").appendTo(h),n(),(c=new e).on()},this.remove=function(){c.off(),h.remove()},this.initCrop=function(){I=s.width(),M=s.height(),P=E=-5,n()},this.applyCrop=function(){var t,e,i,n,r,o,a;t=u.position().top+5,e=u.position().left+5,i=u.position().top+u.height()+5,n=u.position().left+u.width()+5,r=s[0].getContext("2d"),o=s[0].toDataURL("image/png"),a=new Image,r.clearRect(0,0,s[0].width,s[0].height),a.src=o,a.onload=function(){r.drawImage(a,e,t,n-e,i-t,0,0,s[0].width,s[0].height)}},this.rotateQuarter=function(){var t=s.width()-5,e=s.height()-5,i=t/e;M<I?M=(I=+M/i)*t/I*1/i:I=(M=I*i)*e/M*i,E=(t-I)/2,P=(e-M)/2,u.css({left:E,top:P,width:I-2.5,height:M}),D()},this.getCenterPosition=function(){return function(){return{left:r.position().left,top:r.position().top}}},this.getCropWindow=function(){return h}},m2soft.ns("m2soft.crownix.MaskWindow"),m2soft.crownix.MaskWindow=function(){function o(t,e,i){return(t-e.left)*(i/e.width)}function a(t,e,i){return(t-e.top)*(i/e.height)}function i(){var i=L[0].getBoundingClientRect(),n={width:L[0].width,height:L[0].height},e=!1,r={x:-1,y:-1};this.mousedown=function(t){t.preventDefault(),r.x=o(t.pageX,i,n.width),r.y=a(t.pageY,i,n.height),e=!0},this.mousemove=function(t){e&&(t.preventDefault(),R.beginPath(),R.moveTo(r.x,r.y),r.x=o(t.pageX,i,n.width),r.y=a(t.pageY,i,n.height),R.lineTo(r.x,r.y),R.stroke(),R.closePath())},this.mouseup=function(t){e&&(t.preventDefault(),e=!1)},this.updateCanvasInfo=function(t,e){i=t,n.width=e.width,n.height=e.height}}function n(){var i=L[0].getBoundingClientRect(),n={width:L[0].width,height:L[0].height},e=!1,r={x:-1,y:-1};this.touchstart=function(t){t.preventDefault();t=t.touches[0];r.x=o(t.pageX,i,n.width),r.y=a(t.pageY,i,n.height),e=!0},this.touchmove=function(t){t.preventDefault(),e&&(t=t.touches[0],R.beginPath(),R.moveTo(r.x,r.y),r.x=o(t.pageX,i,n.width),r.y=a(t.pageY,i,n.height),R.lineTo(r.x,r.y),R.stroke(),R.closePath())},this.touchend=function(t){t.preventDefault(),e=e&&!1},this.updateCanvasInfo=function(t,e){i=t,n.width=e.width,n.height=e.height}}function s(){I=b.width();var t=.5*(M=b.height())-100;A=u.width,F=u.height,X.browser.mobile?.95*I<(P=(E=.95*M-30-44-50)*(A/F))&&(E=(P=.95*I)*(F/A)):(P=(E=t<F?t:F)*(A/F),(D=Math.min(Z,I-20))<P&&(E=(P=D)*(F/A))),O=X.browser.mobile?.95*I:Math.max(P+2,260),_=X.browser.mobile?.95*M:E+30+44+100,N=M-_-20}function t(){var t=R.lineWidth,e=R.strokeStyle,i=$("<canvas>").attr({width:P,height:E}).css({width:P,height:E}),n=i[0].getContext("2d"),r=R.getImageData(0,0,P,E);n.putImageData(r,0,0),s(),C.css({left:(I-O)/2,top:N,width:O+"px",height:_+"px"}),S.css("height",_-30-44-6+"px"),U==it&&(q.remove(),G.remove()),$(L[0]).css({top:X.browser.mobile?(S.height()-E)/2-25:(S.height()-E)/2,left:(S.width()-P)/2,width:P,height:E}).attr({width:P,height:E}),nt(i[0]),t=t*L[0].width/i[0].width,ot(t,e),B.updateCanvasInfo(L[0].getBoundingClientRect(),{width:L[0].width,height:L[0].height}),j&&j.updateCanvasInfo(L[0].getBoundingClientRect(),{width:L[0].width,height:L[0].height}),setTimeout(function(){g.scrollToElementWithFrame(p[0],1e3,_+20),U!=it||q.getCropWindow().parent().length||(q.create(),G.create(),q.initCrop(),G.initTransform())},500)}function l(){C.remove(),y&&y.remove(),st(),window.removeEventListener("resize",t,!1),p.removeClass("crownix-formfield-blink"),g.enable(),g.restore(),x.focusHiddenTab()}function e(){s(),C=$('<div id="crownix-window-frame">').addClass("crownix-window-frame").css({display:"none",left:(I-O)/2,top:N,width:O+"px",height:_+"px","z-index":J.WINDOW_Z_INDEX,background:"#FFFFFF","text-align":"center"}).prependTo(b),g.save(),g.zoom(1),g.scrollToElementWithFrame(p[0],1e3,_+20),k=$("<div>").addClass("crownix-window-header").css(tt).appendTo(C),$("<span>").addClass("crownix-window-title").text(V.get("mask_dialog_title")).appendTo(k),$("<span>").addClass("crownix-window-close").bind("click",l).append($("<img>").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAYAAABk1z2tAAACYUlEQVRIS73VTYhSURQH8KfoPGxQC/xaRVQEQjjoSqJ2IeRHGKMuBANdZJtACFRa5CoVpYUwi9yJuQiS8CuRaOFiwkAEZ2WrKKRNJiTjB09F5pzFlcc0E933oLf03XvP7/3vvUcJI+Kx2+2BZrP5+rwl3G73Rblc/mo2m8Vg3HchpSRCJuEcKF5kWfbBZrN5v1qtHlcqld/8tRAnk8k+m83mG91ud7Zer283Go0j2nqCgIgzmUz3wuGwplAocL1e7ytAbxEk4qRS6aHL5bpis9l2O50OUyqVpkKQ1ECn0/nSaDQGI5HIJZIGH4m/Ic5isVwPBoMsGVMsFhmADmu12mWaFIUA92BrP/j9fq3Vat3Or1ari3a7/QNSWgHuKh/3XxPEr4cU9+B8HQYCgV0+EiGDwWAZCoV2SEpicLgGdYKk8HlI/vaJxYkCkiTP2m58NxwOmXQ6fQxbfkfI7SUfKjhBsgDeaJ1O50skEtsLQYCZTIZbLpePAFikuRj8saKAiNNoNPuxWOwCPH8YMEWxSMHAs3Dz+Zyp1+sc9D+WgMfjMZPL5Y4nk8lBuVx+RpukIKDP54upVKrn/OQQl0wmfwHoi16vt0Sj0W2q+A6SnI9Go3fQzAM0SGqgw+G4r1Ao3qZSqR2SEsEB4CmeN0xXq9Xu85H9fp/J5/MzOJM3W63Wt39FUgPxb0wikXyCZnwN+h17GkcKezyeF2q1+kk8HlfiNmez2Z8cx9lobzQ1kAC8Xu8bg8Fgn06nHEnudCrQKx8qlcoDaDXcYrG4S4sT3QdxK6H4x7+1EURCoSMhOASeAFNOWCDr6tFoAAAAAElFTkSuQmCC")).appendTo(k),S=$("<div>").addClass("crownix-window-body").css(tt).css({width:"100%",height:_-30-44-6+"px"}).appendTo(C),T=$("<div>").addClass("crownix-window-footer").css({"text-align":"right",overflow:"hidden"}).appendTo(C),rt(v),U=et,C.fadeIn(500,function(){var t,e;t=P,e=E,L=$("<canvas>").css(tt).css({border:"1px solid grey",cursor:"crosshair",position:"absolute",top:X.browser.mobile?(S.height()-e)/2-25:(S.height()-e)/2,left:(S.width()-t)/2}).attr({width:t+"px",height:e+"px"}).appendTo(S),R=L[0].getContext("2d"),ot(),nt(),B=new i,X.hasTouch()&&(j=new n),at(),g.disable()})}function d(t,e,i){var n=$("#crownix-mask-button-"+t),t=v[e].title[i],i=v[e].svg[i];$(n).attr({title:t,id:"crownix-mask-button-"+t}).children().remove(),$(i).appendTo(n)}function c(){ot(),H&&H.remove()}function h(){at(),L.css("cursor","crosshair"),c(),rt(v),q.remove(),G.remove(),U=et}function r(t,e,i,n,r,o,a){u=t,p=i,f=n,g=r,m=o,w=a,x=m2soft.crownix.FieldOrder.getInstance(),W=m2soft.crownix.GuideManager.getInstance(),v={ok:{svg:Y.MASK_OK,title:V.get("ok_button_text"),dir:"right",handler:function(){var t=p[0].getContext("2d");w(t,L[0],p),l(),m()}},init:{svg:Y.MASK_RESET,title:V.get("refresh_button_text"),dir:"right",handler:function(){nt()}},weight:{svg:[Y.MASK_THIN,Y.MASK_BOLD],title:[V.get("mask_dialog_thin"),V.get("mask_dialog_bold")],dir:"right",handler:function(t){R.lineWidth=4===R.lineWidth?16:4,d(v.weight.title[Number(4===R.lineWidth)],"weight",Number(16===R.lineWidth))}},color:{svg:[Y.MASK_BLACK,Y.MASK_WHITE],title:[V.get("mask_dialog_black"),V.get("mask_dialog_white")],dir:"right",handler:function(t){R.strokeStyle=R.strokeStyle===K?Q:K,d(v.color.title[Number(R.strokeStyle===K)],"color",Number(R.strokeStyle===Q))}},cropMode:{svg:Y.CROP_MODE,title:V.get("image_crop_mode"),dir:"left",handler:function(){st(),L.css("cursor","default"),c(),rt(z),(q=new m2soft.crownix.ImageCrop(L,S,p)).create(),(G=new m2soft.crownix.ImageTransformer(L,S,q.getCenterPosition())).create(),U=it}}},z={applyCrop:{svg:Y.MASK_OK,title:V.get("ok_button_text"),dir:"right",handler:function(){q.applyCrop(),h()}},cancel:{svg:Y.CROP_CANCEL,title:V.get("cancel_button_text"),dir:"right",handler:function(){q.initCrop(),G.initTransform(),h()}},initCrop:{svg:Y.MASK_RESET,title:V.get("refresh_button_text"),dir:"right",handler:function(){q.initCrop(),G.initTransform()}},rotate:{svg:Y.ROTATE_90,title:V.get("image_rotate_90"),dir:"left",handler:function(t){q.rotateQuarter(),G.rotateQuarter()}}}}var u,p,f,g,m,w,x,v,b,y,C,k,S,T,I,M,A,F,E,P,D,O,_,N,L,R,B,j,H,z,q,G,U,W,V=m2soft.crownix.Resource,J=m2soft.crownix.Constant,Y=m2soft.crownix.resource.Icon,X=m2soft.crownix.Util,Q="#ffffff",K="#000000",Z=X.browser.mobile?2048:780,tt={"box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"},et=1,it=2,nt=function(t){R.clearRect(0,0,L[0].width,L[0].height),R.drawImage(t||u,0,0,L[0].width,L[0].height)},rt=function(t){for(var e in H=$("<ul>").css({"list-style-type":"none",padding:"0px",margin:"0px"}).appendTo(T),t){n=(i=t[e],r=e=r=n=void 0,n=$("<li>").addClass("crownix-mask-item"),r="string"==typeof i.title?i.title:i.title[0],e="string"==typeof i.svg?i.svg:i.svg[0],r=$("<button>").attr({type:"button",title:r,id:"crownix-mask-button-"+r}).addClass("crownix-mask-button").on("click tab",i.handler),"right"==i.dir?n.css("float","right"):n.css("float","left"),r.appendTo(n),$(e).appendTo(r),n);n&&(n.addClass("crownix-toast-anim-bottom"),n.appendTo(H))}var i,n,r},ot=function(t,e){R.lineWidth=t||4,R.strokeStyle=e||K,R.lineJoin="round",R.lineCap="round"},at=function(){var t=$("body");L.on("mousedown",B.mousedown),t.on("mousemove",B.mousemove),t.on("mouseup",B.mouseup),X.hasTouch()&&(L[0].addEventListener("touchstart",j.touchstart,!1),L[0].addEventListener("touchmove",j.touchmove,!1),L[0].addEventListener("touchend",j.touchend,!1))},st=function(){var t=$("body");L.off("mousedown",B.mousedown),t.off("mousemove",B.mousemove),t.off("mouseup",B.mouseup),X.hasTouch()&&(L[0].removeEventListener("touchstart",j.touchstart,!1),L[0].removeEventListener("touchmove",j.touchmove,!1),L[0].removeEventListener("touchend",j.touchend,!1))};return r.prototype={show:function(){b=$("#m2soft-crownix-container"),W.isEnabled||((y=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":J.WINDOW_OVERLAY_Z_INDEX}).prependTo(b))[0].addEventListener("touchstart",function(t){t.preventDefault()}),f&&y.fadeIn(100)),e(),window.addEventListener("resize",t,!1)}},r}(),m2soft.ns("m2soft.crownix.submit.Preview"),m2soft.crownix.submit.Preview=function(){function t(t,e){d=t,f={zoomin:{svg:i.ZOOM_IN,title:m.get("zoom_in"),handler:function(){(o+=.2)>n.options.zoomMax&&(o=n.options.zoomMax),n.zoom(o,h.width()/2,h.height()/2)}},zoomout:{svg:i.ZOOM_OUT,title:m.get("zoom_out"),handler:function(){(o-=.2)<n.options.zoomMin&&(o=n.options.zoomMin),n.zoom(o,h.width()/2,h.height()/2)}},submit:{text:m.get("submit_button_text"),title:m.get("submit_button_text"),handler:function(){"function"==typeof e&&($("#"+this.id).removeClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-item-disable").off(),e())}},cancel:{text:m.get("cancel_button_text"),title:m.get("cancel_button_text"),handler:function(){y(),c.close()}}},b()}function a(){return $("<div>").attr("id","crownix-toolbar").css({float:"left",width:"50%",padding:"0px 0px","border-bottom":"0px"})}function s(t){return $("<ul>").attr("id","#crownix-toolbar-menu").css({float:t,padding:"0px 10px"})}function l(){n&&n.destroy();var t,e={zoom:!0,zoomMin:.25,zoomMax:2.5,useTransition:!0,scrollX:!0,scrollY:!0,scrollbars:"custom",interactiveScrollbars:!0,freeScroll:!0,keepCenter:!0,tap:r.hasTouch(),doubleTap:r.hasTouch(),mouseWheel:!0,click:!1,HWCompositing:d.options.enableTranslateZ};(r.browser.android||r.browser.ios)&&(e.disablePointer=!0,e.disableTouch=!1),n=new m2soft.IScroll("#"+v,e),d.options.submitPreview&&d.options.submitPreview.scrollEndBtnEnable&&n.on("scrollEnd",function(){n.y==n.getMaxScrollY()&&p.find("#submit").bind("click tab",f.submit.handler).removeClass("crownix-toolbar-item-disable").addClass("crownix-toolbar-item-enable")}),(e=(t=h.innerWidth()-2,e=u.width(),(t-40*t/e)/e))<1&&(o=e,n.zoom(o,h.width()/2,h.height()/2,0))}var d,e,c,n,h,u,p,f,g,m=m2soft.crownix.Resource,w=m2soft.crownix.Window,i=m2soft.crownix.resource.Icon,r=m2soft.crownix.Util,x=m2soft.crownix.Layout,o=1,v="crownix-submit-preview-viewer",b=function(){g=x.getTheme(),h=$("<div>").attr("id",v).addClass("crownix-container-gradient").addClass("crownix-storage-dialog").css({width:"100%",overflow:"hidden","border-color":g.toolbarBorderColor,"text-align":"center","-moz-border-radius":"0px 0px 0px 0px","-webkit-border-radius":"0px 0px 0px 0px","-ms-border-radius":"0px 0px 0px 0px","-o-border-radius":"0px 0px 0px 0px","order-radius":"0px 0px 0px 0px"}),u=$("<div>").attr("id","crownix-submit-preview-canvas").css("padding","20px").appendTo(h),p=$("<div>").addClass("crownix-window-footer").css({height:"50px","border-color":g.toolbarBorderColor,"background-color":"none"===g.toolbarColor?"#fff":g.toolbarColor}).appendTo(h);var t,e=s("left").appendTo(a().appendTo(p)),i=s("right").appendTo(a().appendTo(p));for(t in f){var n,r=f[t],o=$("<li>").attr({id:t,title:r.title}).bind("click tab",r.handler).addClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-dropitem").addClass("crownix-preview-item").css({width:"inherit","border-color":g.toolbarIconColor,"min-width":75});d.options.submitPreview&&d.options.submitPreview.scrollEndBtnEnable&&"submit"==t&&o.unbind("click tab",r.handler).removeClass("crownix-toolbar-item-enable").addClass("crownix-toolbar-item-disable"),r.svg?(o.width(75),o.appendTo(e),$(r.svg).css({width:"100%",height:"100%"}).appendTo(o)):r.text&&(o.appendTo(i),n="cancel"==t&&"ja"==m.language?"100px":"75px",$("<div>").text(r.text).addClass("crownix-toolbar-icon-color").css({color:g.toolbarSVGThemeColorA,"margin-top":0,"line-height":"32px",width:n}).appendTo(o))}},y=function(){for(var t=$("#crownix-submit-preview-canvas").find("canvas"),e=0,i=0;i<t.length;i++)if((e+=t[i].height)>Math.abs(n.y)){d.viewer.movePage(i+1);break}};return t.prototype={show:function(o){e=new m2soft.crownix.ImageConverter,d.formManager&&e.setFormManager(d.formManager),d.license.isAllowedFeature("Note")&&d.options.enableNote&&("editable"===d.noteManager.getMode()||"disable"===d.noteManager.getMode())&&e.setNoteManager(d.noteManager),e.convert(d.report,"canvas",function(t){var e,i=0,n=0;for(e in t){var r=$(t[e]);r.css({display:"block",margin:"0px auto 5px auto",border:"1px solid "+g.pageBorderColor}),r.attr("width")>i&&(i=r.attr("width")),n+=parseInt(r.attr("height"))}u.css({width:i,height:n}).append(t),(c=new w(m.get("submit_preview_title"),h,{isOverlay:!0,buttonType:["close"]})).setFooterHeight(50),c.show({parent:d.parentId},l),p.appendTo($("#crownix-window-frame").css("height","90%")),$("#crownix-window-frame .crownix-window-header").css({"background-color":"none"===g.toolbarColor?"#fff":g.toolbarColor,"border-color":g.toolbarBorderColor}).removeClass("crownix-toolbar-gradient").children(".crownix-window-title").css("color",g.toolbarSVGThemeColorA).removeClass("crownix-toolbar-icon-color"),"function"==typeof o&&o()})},close:function(){c.close()}},t}(),m2soft.ns("m2soft.crownix.ChartLoader"),m2soft.crownix.ChartLoader=function(){"use strict";function d(t,e){return m2soft.crownix.Painter.adjustCoord(t,e)}function i(){if(!r){this.finished=!0;for(var t=0,e=h.length;t<e;t++)if(!h[t].isLoaded()||!u[t].loaded)return;r=!0,n()}}var n,l=m2soft.crownix.ChartConverter,c=m2soft.crownix.Constant,h=[],u=[],t=0,r=!1,p=function(){var t,e;this.load=function(){(t=new Image).onload=t.onabort=t.onerror=i,t.src=e},this.getImage=function(){return t},this.isLoaded=function(){return t&&t.finished},this.setImage=function(t){e=t}};this.loadChart=function(t,e){n=e,t.find("CT").each(function(){var t=this.children[0].tagName,e=$(this);"CC"==t?function(t){var e=d(t.attr("sx")),i=d(t.attr("sy"))+5,n=d(t.attr("ex")),r=d(t.attr("ey"))+5,o=$("<div>").css({visibility:"hidden"}).appendTo("#"+c.CONTAINER_ID),t=(new l).convertMml(t),i=new crownix.Chart(o[0],n-e,r-i);t.series.forEach(function(t){t.animation=!1}),t.data?i.build(t.series,t.options,t.data):i.build(t.series,t.options);var a=new p;h.push(a);var s={loaded:!1};u.push(s),i.export("png",function(t){s.loaded=!0,o.remove(),a.setImage(t),a.load()})}(e):"svg"==t&&function(t){var e=d(t.attr("sx")),i=d(t.attr("sy"))+5,n=d(t.attr("ex")),r=d(t.attr("ey"))+5,o=$("<canvas>")[0],a=o.getContext("2d");o.width=n-e,o.height=r-i;var s=new p;h.push(s);var l={loaded:!1};u.push(l),i={ignoreClear:!0,ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,renderFinished:function(){l.loaded=!0,s.setImage(o.toDataURL()),s.load()}},canvg.Canvg.fromString(a,t.html(),i).start()}(e)}),0==u.length&&e&&e()},this.nextChart=function(){return h[t++].getImage()}},m2soft.ns("m2soft.crownix.ChartConverter"),m2soft.crownix.ChartConverter=function(){var Util=crownix.chart.util.Util;this.convertMml=function(element){var series,options,data;return element.find("CC, cc").children().each(function(){var elementName=this.tagName.toUpperCase(),element=$(this),cxData;"CE"==elementName?(cxData=JSON.parse(element.text()),series=cxData.series,options=cxData.options,data=cxData.data,series.forEach(function(t){Util.convertStringToFunc(t)}),Util.convertStringToFunc(options)):"SR"==elementName?series=eval("("+element.text()+")"):options=eval("("+element.text()+")")}),{series:series,options:options,data:data}}},m2soft.ns("m2soft.crownix.AudioPlayer"),m2soft.crownix.AudioPlayer=function(i,t,e,r){var n=m2soft.crownix.resource.Icon,o=m2soft.crownix.Ajax,a=m2soft.crownix.Resource,s=m2soft.crownix.Util,l="2.5em",d="5px",c=s.browser.mobile?10:7,h=!1,u=!1,p=0,f=!1,g=document.createElement("audio"),m=document.createElement("source"),w=document.createElement("div"),x=document.createElement("div"),v=document.createElementNS("http://www.w3.org/2000/svg","svg"),b=document.createElementNS("http://www.w3.org/2000/svg","line"),y=document.createElementNS("http://www.w3.org/2000/svg","line"),C=document.createElementNS("http://www.w3.org/2000/svg","circle"),k=document.createElement("div"),S=document.createElement("span"),T=document.createElement("span"),I=document.createElement("div"),M=document.createElement("button"),A=document.createElement("button"),F=document.createElement("button"),E=document.createElement("button"),P=document.createElement("button");g.style.display="none",g.loop=!1,t.appendChild(w),g.appendChild(m),v.appendChild(b),v.appendChild(y),v.appendChild(C),x.appendChild(v),k.appendChild(S),k.appendChild(T),I.appendChild(E),I.appendChild(A),I.appendChild(M),I.appendChild(F),I.appendChild(P),w.appendChild(g),w.appendChild(x),w.appendChild(k),w.appendChild(I),w.setAttribute("id","audio-control-container"),w.style.width="100%",w.style.height="100%",w.style.textAlign="center",w.style.border="1px solid rgba(85, 102, 85, 0.4)",w.style.display="inline-block",w.className="crownix-audio-control-container",x.style.display="inline-block",x.style.width=.9*w.clientWidth+"px",x.style.height=.4*w.clientHeight+"px",x.className="crownix-audio-timeline",v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.setAttribute("overflow","visible"),b.setAttribute("x1","0"),b.setAttribute("y1","50%"),b.setAttribute("x2","100%"),b.setAttribute("y2","50%"),b.setAttribute("stroke-width",8),b.setAttribute("stroke","#868686"),b.setAttribute("stroke-linecap","round"),y.setAttribute("x1","0"),y.setAttribute("y1","50%"),y.setAttribute("x2","0"),y.setAttribute("y2","50%"),y.setAttribute("stroke-width",8),y.setAttribute("stroke","#6BEC62"),y.setAttribute("stroke-linecap","round"),C.setAttribute("cx","0"),C.setAttribute("cy","50%"),C.setAttribute("r",c),C.setAttribute("style","fill:#565656; stroke-width:3;"),C.setAttribute("class","draggable"),k.style.display="inline-block",k.style.width=.9*w.clientWidth+"px",k.style.height=.15*w.clientHeight+"px",k.style.fontSize="small",k.style.fontFamily="Helvetica",k.style.color="#565656",k.className="crownix-prevent-user-select",S.style.float="left",S.innerHTML="0:00",T.style.float="right",T.innerHTML="0:00",I.style.display="inline-block",I.style.width=.95*w.clientWidth+"px",I.style.height=.4*w.clientHeight+"px",I.style.borderTop="1px solid rgba(85, 102, 85, 0.1)",I.className="crownix-audio-controls",M.style.width="3em",M.style.height="3em",M.style["margin-left"]=d,M.style["margin-left"]=d,M.style["margin-top"]=$(I).height()/2-$(M).outerHeight()/2+"px",M.setAttribute("id","play"),M.innerHTML=n.PLAY_ICON,M.className="crownix-audio-button-group",A.style.width=l,A.style.height=l,A.style["margin-left"]=d,A.style["margin-left"]=d,A.style["margin-top"]=$(I).height()/2-$(A).outerHeight()/2+"px",A.setAttribute("id","rewind"),A.innerHTML=n.REWIND_ICON,A.className="crownix-audio-button-group",F.style.width=l,F.style.height=l,F.style["margin-left"]=d,F.style["margin-right"]=d,F.style["margin-top"]=$(I).height()/2-$(F).outerHeight()/2+"px",F.setAttribute("id","fast-forward"),F.innerHTML=n.FAST_FORWARD_ICON,F.className="crownix-audio-button-group",E.style.width=l,E.style.height=l,E.style["margin-left"]=d,E.style["margin-right"]=d,E.style["margin-top"]=$(I).height()/2-$(E).outerHeight()/2+"px",E.style.float="left",E.setAttribute("id","volume"),E.innerHTML=n.VOLUME_ICON,E.className="crownix-audio-button-group",P.style.width=l,P.style.height=l,P.style["margin-left"]=d,P.style["margin-right"]=d,P.style["margin-top"]=$(I).height()/2-$(P).outerHeight()/2+"px",P.style.float="right",P.style.visibility="hidden",P.setAttribute("id","download"),P.innerHTML=n.DOWNLOAD_ICON,P.className="crownix-audio-button-group",g.ontimeupdate=function(t){var e,i,n;isNaN(p)||(n=0==(i=g.currentTime)||0==g.duration?0:i/g.duration*100,y.setAttribute("x2",n+"%"),C.setAttribute("cx",n+"%"),e=Math.floor(i/60),(n=Math.floor(i%60))<10&&(n="0"+n),S.innerHTML=e+":"+n,n=p-i,i=Math.floor(n/60),(n=Math.floor(n%60))<10&&(n="0"+n),T.innerHTML=i+":"+n)},g.onloadeddata=function(t){p=g.duration;var e=Math.floor(p/60),i=Math.floor(p%60);i<10&&(i="0"+i),T.innerHTML=e+":"+i},g.onended=function(t){h=!1,M.innerHTML=n.PLAY_ICON,g.pause(),g.currentTime=0},M.onclick=function(t){void 0===p&&g.load(),h=h?(M.innerHTML=n.PLAY_ICON,g.pause(),!1):(M.innerHTML=n.PAUSE_ICON,g.play(),!0)},E.onclick=function(t){u=u?(E.innerHTML=n.VOLUME_ICON,g.muted=!1):(E.innerHTML=n.MUTE_ICON,g.muted=!0)},A.onclick=function(t){var e=g.currentTime;g.currentTime=3<e?g.currentTime-3:0},F.onclick=function(t){var e=g.currentTime;g.currentTime=p<e+3?p:g.currentTime+3},b.onclick=function(t){var e=v.width.baseVal.value,e=t.offsetX/e;g.currentTime=p*e},y.onclick=function(t){var e=v.width.baseVal.value,e=t.offsetX/e;g.currentTime=p*e},b.onmouseover=function(t){b.style.cursor="pointer"},y.onmouseover=function(t){y.style.cursor="pointer"},C.onmouseover=function(t){C.style.cursor="pointer"};function D(t,i){var n=new Blob([t],{type:"audio/mp4"}),t=window.URL&&window.URL.createObjectURL(n);m.setAttribute("src",t),m.setAttribute("type","audio/mp4"),g.load(),P.onclick=function(t){var e=r+".m4a";i&&s.browser.uiwebview&&!s.browser.chrome&&!s.browser.firefox?window.webkit?window.webkit.messageHandlers.downloadFile.postMessage(i):document.location="crownixWebView://downloadFile?path="+i:window.m2softFormFieldBridge.requestFileDownload&&i?window.m2softFormFieldBridge.requestFileDownload(i,e):saveAs(n,e)}}var O;function _(t){t.target.classList&&t.target.classList.contains("draggable")&&(f=t.target,C.setAttribute("r",2+c))}function N(t){var e;f&&(t.preventDefault(),e=t,t=v.getScreenCTM(),e={x:((e=e.touches?e.touches[0]:e).clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d},f.setAttributeNS(null,"cx",e.x),t=v.width.baseVal.value,t=e.x/t,g.currentTime=p*t)}function L(t){f=null,C.setAttribute("r",c)}this.load=function(e){var t=new o;t.setHandler({done:function(t){t=t.response||t.responseText;P.style.visibility="visible",D(t,e)},error:function(t,e){e?i.dialog.show(e):0==t.status?i.dialog.show(a.get("server_connect_error")):i.dialog.show(a.get("request_server_error"))},abort:function(){i.dialog.show(a.get("request_abort_error"))},timeout:function(){i.dialog.show(a.get("request_timeout_error"))}}),t.invoke(e,{},"blob")},this.loadFile=function(t){D(t)},O=v,s.browser.mobile?(O.addEventListener("touchstart",_),O.addEventListener("touchmove",N),O.addEventListener("touchend",L),O.addEventListener("touchleave",L),O.addEventListener("touchcancel",L)):(O.addEventListener("mousedown",_),O.addEventListener("mousemove",N),O.addEventListener("mouseup",L),O.addEventListener("mouseleave",L))},m2soft.ns("m2soft.crownix.Layer"),function(){function C(t,e){if(this.type="layer",this.page=e,this.go=null,this.getMML=null,this.$textDom=0<$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+a.TEXT_ID):$("#"+a.TEXT_ID),this.reloadInterval=void 0,t.attr)this.id=t.attr("id")||null,this.mrdPath=t.attr("mrd")||null,this.mrdParam=t.attr("pa")||null,this.refresh=null!=this.mrdPath?t.attr("au"):0,this.buttonGroup=t.attr("bs")||0,this.displayScroll=t.attr("sc")||0,this.isFloating="FL"==t.get(0).tagName.toUpperCase(),this.mml=null==this.mrdPath?t.prop("outerHTML"):null,this.fid=t.attr("fid")||0,this.lid=t.attr("lid")||0,this.isLoaded=!1,this.position={sx:t.attr("sx"),sy:t.attr("sy"),ex:t.attr("ex"),ey:t.attr("ey"),type:t.attr("fp")||0},this.offset={x:0,y:0},this.size={width:parseFloat(this.position.ex)-parseFloat(this.position.sx),height:parseFloat(this.position.ey)-parseFloat(this.position.sy)},this.scroll=null,this.visible=!this.isFloating,this.preventToolbarToggle=!1,this.win=null;else for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}var n,o=m2soft.crownix.Resource,a=m2soft.crownix.Constant,k=m2soft.crownix.Window,S=m2soft.crownix.Util,T=m2soft.crownix.ChannelManager,I=m2soft.crownix.util.Color,M=m2soft.crownix.FieldOrder;function e(i,t){var n=new $.Deferred;if(i.mml&&!t)return n.resolve(i);var e=i.mrdPath,r="";r=/^(?:\/|[a-z]+:\/\/)/.test(e)?e:(0<=(t=Math.max(i.go.mrdPath.lastIndexOf("\\"),i.go.mrdPath.lastIndexOf("/")))?i.go.mrdPath.substring(0,t+1):"")+e;e=[i.mrdParam,"/ronepgrpt"];i.go.isFormEditMode||e.push("/rformmode [0]");return i.getMMLwithViewer(r,e.join(" "),"","",function(){},function(t){var e;t&&t.indexOf("</MML>")<0&&t.indexOf("</DOCUMENT>")<0?-1!=(e=t.indexOf("0|"))?n.reject(t.substring(e+2)):n.reject(o.get("execute_error")):(i.mml=t,n.resolve(i))},700,!0),n}function A(t,e){return m2soft.crownix.Painter.adjustCoord(t,0,e?null:0)}C.serialize=function(t){t={type:t.type,page:t.page,id:t.id,mrdPath:t.mrdPath,mrdParam:t.mrdParam,refresh:t.refresh,buttonGroup:t.buttonGroup,displayScroll:t.displayScroll,isFloating:t.isFloating,mml:t.mml,fid:t.fid,lid:t.lid,position:t.position,size:t.size,isLoaded:!1,visible:t.visible,boundary:t.boundary};return JSON.stringify(t)},C.deserialize=function(t,e,i){t=new C(t,t.page);return t.injectInfo(e,i),t},C.getWrapper=function(t){var e=A(t.size.height),i=A(t.size.width),n=!t.isFloating,r={top:A(t.position.sy,n),left:A(t.position.sx,n)},n=$(".crownix-layer-"+t.id);return n=0==n.length||t.go.isPrinting?$("<div>").addClass("crownix-layer-"+t.id).css({top:r.top,left:r.left,height:e,width:i,position:"absolute"}).bind("mousedown touchstart",function(t){t.stopPropagation()}).bind("scroll",function(){this.scrollTop=0}).appendTo($("#"+a.TEXT_ID)):n},C.prototype={show:function(t){return t?(this.onCancel=t.onCancel,this.onOk=t.onOk,this.onClose=t.onClose,this.onBeforeResize=t.onBeforeResize,this.offset=t.offset||{x:0,y:0},this.wrapper=t.wrapper):t={},this.$textDom=t.textDom&&$(t.textDom)||(0<$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+a.TEXT_ID):$("#"+a.TEXT_ID)),this.go.isPrinting||this.canShow()?(this.visible=!0,0<this.refresh&&this.setAutoReload(this.refresh),this.go.formLayerManager.layerList[this.id]&&!this.isLoaded&&this.go.formManager.duplicateFormField(this.go.formLayerManager.layerList[this.id].getFormList()),this.go.formLayerManager.deactivate(this.id),this.go.formLayerManager.activate(this.id),this.go.dataManager.ignoreLayerData(this.id,!this.visible,this.isFloating),e(this).pipe(i).pipe(null,this.go.dialog.show)):$.Deferred().reject()},hide:function(t){return t=t||{},this.visible=!1,F(),this.go.formLayerManager.deactivate(this.id),this.go.dataManager.ignoreLayerData(this.id,!this.visible,this.isFloating),this.scroll&&this.scroll.destroy(),this.scroll=null,(t.textDom&&$(t.textDom)||(0<$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+a.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+a.TEXT_ID):$("#"+a.TEXT_ID))).find(".crownix-layer-"+this.id).remove(),E(this),clearInterval(this.reloadInterval),$.Deferred().resolve()},reload:function(){if(this.mrdPath){this.go.formLayerManager.deactivate(this.id),this.go.formLayerManager.removeFormLayer(this.id),this.isLoaded=!1,F();var t=this;return this.go.currentPage===this.page?e(this,!0).pipe(i).pipe(function(){E(t)}):e(this,!0)}},setAutoReload:function(t){var e=this;clearInterval(this.reloadInterval),this.reloadInterval=setInterval(function(){e.reload()},1e3*t)},clearAutoReload:function(){clearInterval(this.reloadInterval)},set:function(t,e){t&&("mrdpath"==(t=t.toLowerCase())?this.mrdPath=e:"mrdparam"==t&&(this.mrdParam=e))},canShow:function(){if(this.go.options.scrollOptions.useInfiniteScroll){var t=this.go.documentScroller.getPageFrame(this.page);return 0==this.$textDom.find(".crownix-layer-"+this.id).length&&(null==this.page||this.go.documentScroller.isVisiblePage(t))}return 0==this.$textDom.find(".crownix-layer-"+this.id).length&&(null==this.page||this.go.currentPage==this.page)},toParamForLayerInfo:function(){var t=[];return this.mrdPath&&(t.push(this.id),t.push(" ["),t.push(S.escapeXmlEntities(this.mrdPath)),t.push(String.fromCharCode(5)),this.mrdParam&&t.push(S.escapeXmlEntities(this.mrdParam)),t.push("]")),t.join("")},injectInfo:function(t,e){this.go=t,this.getMMLwithViewer=e},setBoundary:function(t){this.boundary=t},preload:function(n){var r=this;e(this,!1).pipe(function(){var t=r.go,e=$($.parseXML(r.mml)),i=0<e.find("PG").length?e.find("PG"):e.children();if((0<e.find("HEAD").length?t.report.parseHead(e.find("HEAD").children()):t.report.getHeadForPage(r.page||1)).formFieldMode&&!r.isLoaded)try{t.formManager.buildFormField(i,r.page,{layer:r}),t.shareManager&&t.shareManager.requestFormData()}catch(t){return defer.reject(t)}r.isLoaded=!0,n&&n()})}};var F=function(){clearTimeout(n),$("#"+a.TEXT_ID).off("DOMSubtreeModified")},E=function(t){var e=$("#"+a.TEXT_ID),i=$("#"+a.CANVAS_ID);t.go.textOnCanvas||(n=m2soft.crownix.Forgery.detect(e,i[0],t.go.isFormEditMode))};function i(r){if(r.visible){var n,o,a,s,e=r.go,t=!r.isFloating,i=A(r.size.height),l=A(r.size.width),d=r.movePage,c=r.serverUrl,h={top:A(r.position.sy,t),left:A(r.position.sx,t)},u=$.Deferred(),p=$($.parseXML(r.mml)),f=0<p.find("PG").length?p.find("PG"):p.children(),g=0<p.find("HEAD").length?e.report.parseHead(p.find("HEAD").children()):e.report.getHeadForPage(r.page||1),m=(n=g,a={top:o=0,left:0,bottom:(b=f).attr("height")||0,right:b.attr("width")||0},s=m2soft.crownix.Painter,o=o?s.reverseAdjustCoord(o):0,b.find("*").each(function(t){var e,i=$(this);(i.attr("sx")||i.attr("le"))&&(e=(e=(e=n.lineAttrList[i.attr("lid")])&&s.applyPriorityToLineAttr(i,e))?s.reverseAdjustCoord(e.wd):0,(e={top:parseInt(i.attr("sy")||i.attr("to")),left:parseInt(i.attr("sx")||i.attr("le")),bottom:parseInt(i.attr("ey")||i.attr("bo"))+e+o,right:parseInt(i.attr("ex")||i.attr("ri"))+e+o}).left<a.left&&(a.left=e.left),e.top<a.top&&(a.top=e.top),e.right>a.right&&(a.right=e.right),e.bottom>a.bottom&&(a.bottom=e.bottom))}),a),w={height:r.mrdPath?m.bottom-m.top:m.bottom,width:r.mrdPath?m.right-m.left:m.right},x=Math.max(A(w.height),i),t=Math.max(A(w.width),l);r.isFloating&&0<!p.find("PG").length&&(x+=k.prototype.getHeaderHeight(),t+=k.prototype.getHeaderHeight());var v=$("<div>").addClass("crownix-text crownix-text-index").css({height:x,width:t,position:"absolute"}),b=1,w=0,p=0;e.textOnCanvas&&(b=e.scroll.scale,w=-v.width()/2*(b-1),p=-v.height()/2*(b-1));p=$("<canvas>").addClass("crownix-canvas crownix-canvas-index").attr("height",x*b).attr("width",t*b).css({position:"absolute",transform:e.textOnCanvas?"translate("+w+"px, "+p+"px) scale("+1/b+")":""});p[0].getContext("2d").scale(b,b),$("<div>").addClass("crownix-search-mark-layer crownix-search-mark-"+r.id).css({height:x,width:t,top:0,left:0,position:"absolute"}).appendTo(v);d=new m2soft.crownix.Painter(e,p[0],v,d,c);if(g.formFieldMode&&!r.isLoaded)try{e.formManager.buildFormField(f,r.page,{layer:r}),e.shareManager&&e.shareManager.requestFormData()}catch(t){return u.reject(t)}r.isLoaded=!0,F();var c=$("<div>").append(p,v).addClass("crownix-layer-page").css({height:x,width:t,position:"absolute"}),p=e.report.getHeadForPage(r.page||1),x=(x=p.faceAttrList[r.fid],t=x.fc,x=parseFloat(x.al),t?{"background-color":I.toRgbString(I.hexToRgb(t,0,x))}:{}),p=r.isFloating?{border:0}:function(t){var e=t.lc,i=t.wd;if(0==i)return{};var n="solid";1==t.st?n="dashed":2!=t.st&&3!=t.st&&4!=t.st||(n="dotted");return{"border-color":e,"border-width":i,"border-style":n}}(p.lineAttrList[r.lid]),y=(r.wrapper||C.getWrapper(r)).empty().append(c).css(p).css(x);y.appendTo(r.$textDom),r.scroll&&r.scroll.destroy(),r.scroll=new m2soft.IScroll(y.get(0),{zoom:!1,bounce:!1,scrollbars:!0,scrollX:1==r.displayScroll||3==r.displayScroll,scrollY:2==r.displayScroll||3==r.displayScroll,freeScroll:!0,parentScroll:r.isFloating?null:e.scroll,zoomStart:1,tap:S.hasTouch(),doubleTap:S.hasTouch(),mouseWheel:0!=r.displayScroll,click:!1,fadeScrollbars:!0,HWCompositing:e.options.enableTranslateZ}),r.scroll.on("toolbarToggle",function(t){r.isFloating||r.preventToolbarToggle?r.preventToolbarToggle=!1:e.toolbar.toggle()});p=r.mrdPath?{x:-A(m.left),y:-A(m.top)}:{x:-1,y:-1};r.isFloating&&(p.x+=k.prototype.getHeaderHeight(),p.y+=k.prototype.getHeaderHeight());x=r.isFloating?1:0;return r.setBoundary(m),d.setFormFieldMode(g.formFieldMode),d.drawPage($(f[0]),g,function(){var t;e.isFormEditMode&&(e.layerManager.isAllLayerLoaded()&&e.formManager.fireLoadCompleteEvent(),e.formManager.bindEvent(),e.shareManager&&e.shareManager.isConnected()&&e.shareManager.initFields(),t=S.browser.edge?"click touchstart":"mousedown touchstart",$(".crownix-layer-page").on(t,function(t){t.target.nodeName;var e=$(t.target).attr("id"),i=$(t.target).attr("class"),n=$(t.target).attr("for"),t=$(t.target).attr("disabled");(e&&-1!=e.indexOf("crownix_form_field")||n&&-1!=n.indexOf("crownix_form_field_")||"crownix_form_field_label"===i||"crownix_hyperlink"===i)&&"disabled"!==t?r.preventToolbarToggle=!0:r.preventToolbarToggle=!1})),2==r.position.type&&(h.top+=$("#"+r.go.layerManager.selectFieldId).parent().offset().top,h.left+=$("#"+r.go.layerManager.selectFieldId).parent().offset().left),y.css({top:h.top,left:h.left,"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",overflow:"hidden"}),r.isFloating&&(y.detach().css({top:"0px",left:"0px"}),t=[],1==r.buttonGroup?t.push("close"):2==r.buttonGroup&&t.push("ok","cancel"),r.win=new k("",y,{contentWidth:l,contentHeight:i,isRelative:2==r.position.type,top:0==r.position.type?null:h.top,left:0==r.position.type?null:h.left,isAppending:!0,onOk:r.onOk,onCancel:r.onCancel,onClose:function(){r.onClose&&r.onClose.call(r,arguments),r.hide(),e.toolbar.afterToolbar(e.containerDom),e.noteManager&&m2soft.crownix.NoteToolbar.prototype.showToolbar(),e.scroll.enable(),g.formFieldMode&&M.getInstance().bind(r.$textDom,e.scroll,e.currentPage)},onBeforeResize:r.onBeforeResize,buttonType:t,sendEvent:function(t){e.shareManager&&e.shareManager.sendEvent({type:t})}}),r.win.show({parent:e.containerDom}),T.getChannel("window:afterMount").subscribe($.proxy(function(){this.scroll&&this.scroll.refresh(),g.formFieldMode&&this.scroll&&M.getInstance().bind(v,this.scroll,r.page)},r)),r.scroll.isFloating=!0,e.toolbar.beforeToolbar(e.containerDom),e.noteManager&&m2soft.crownix.NoteToolbar.prototype.hideToolbar(),e.slide.closeSlide(),e.scroll.disable()),e.formManager.removePreventEvent(),E(r),u.resolve(),T.getChannel("viewer:onDrawPage").publish(),e.search.isCreate()&&(e.stateLess?e.search.refresh():e.search.refreshMark())},"d",p,x,!0,!!r.isFloating),u}}m2soft.crownix.Layer=C}(),m2soft.ns("m2soft.crownix.LayerGroup"),function(){function a(e,i){if(this.type="layerGroup",this.page=i,this.group={},this.$textDom=0<$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+s.TEXT_ID):$("#"+s.TEXT_ID),e.attr){this.visible=!0,this.id=e.attr("id"),this.selectedLayerId=e.attr("si"),this.position={sx:e.attr("sx"),sy:e.attr("sy"),ex:e.attr("ex"),ey:e.attr("ey")},this.size={width:parseFloat(this.position.ex)-parseFloat(this.position.sx),height:parseFloat(this.position.ey)-parseFloat(this.position.sy)},this.lid=e.attr("lid"),this.fid=e.attr("fid");var n=this;e.find("le").each(function(){var t=$(this);t.attr("sx",e.attr("sx")),t.attr("sy",e.attr("sy")),t.attr("ex",e.attr("ex")),t.attr("ey",e.attr("ey")),t.attr("lid",e.attr("lid")),t.attr("fid",e.attr("fid"));t=new l(t,i);n.add(t)})}else{this.id=e.id,this.selectedLayerId=e.selectedLayerId,this.position=e.position,this.size=e.size,this.visible=e.visible;for(var n=this,t=0,r=e.group.length;t<r;t++){var o=new l(e.group[t]);o.position=n.position,o.lid=n.lid,o.fid=n.fid,this.add(o)}}}var n,s=m2soft.crownix.Constant,l=(m2soft.crownix.Painter,m2soft.crownix.Resource,m2soft.crownix.Layer),r=m2soft.crownix.Util.Promise.DeferChain;a.serialize=function(t){var e,i={type:t.type,page:t.page,group:[],id:t.id,selectedLayerId:t.selectedLayerId,position:t.position,lid:t.lid,fid:t.fid,size:t.size,visible:t.visible},n=t.group;for(e in n)i.group.push(l.serialize(n[e]));return JSON.stringify(i)},a.deserialize=function(t,e,i){var n,r=new a(t,t.page);for(n in t.group){var o=JSON.parse(t.group[n]),o=l.deserialize(o);r.add(o)}return r.injectInfo(e,i),r},a.prototype.add=function(t){this.group[t.id]=t},a.prototype.injectInfo=function(t,e){for(var i in this.go=t,this.group)this.group[i].injectInfo.call(this.group[i],t,e)},a.prototype.show=function(t,e){if(this.visible){if(!t||t==this.selectedLayerId)return $.Deferred().resolve()}else this.visible=!0;if("object"==typeof(t=t||this.selectedLayerId))e=t,t=this.selectedLayerId;else if(!this.group[t])throw new Error("[Crownix Viewer] Invalid sublayer ID ( "+t+" )");if(e=e||{},!(this.go.isPrinting||this.group[t]&&this.canShow()))return this.go.dataManager.ignoreLayerData(this.id,!0),this.selectedLayerId=t,$.Deferred().reject();for(var i in this.$textDom=e.textDom&&$(e.textDom)||(0<$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+s.TEXT_ID):$("#"+s.TEXT_ID)),o(),e.wrapper=l.getWrapper(this),this.group)i!=t&&r.push($.proxy(function(){return this.group[i].hide(e)},this));return this.selectedLayerId=t,r.push($.proxy(function(){return t?this.group[t].show(e):$.Deferred().reject()},this))},a.prototype.hide=function(){return this.visible=!1,o(),this.selectedLayerId&&this.group[this.selectedLayerId].hide(),(0<$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').length?$("."+s.PAGE_CLASS+'[no="'+this.page+'"]').find("#"+s.TEXT_ID):$("#"+s.TEXT_ID)).find(".crownix-layer-"+this.id).remove(),t(this),$.Deferred().resolve()},a.prototype.canShow=function(){if(this.go.options.scrollOptions.useInfiniteScroll){var t=this.go.documentScroller.getPageFrame(this.page);return null==this.page||this.go.documentScroller.isVisiblePage(t)}return null==this.page||this.go.currentPage==this.page},a.prototype.toParamForCardLayer=function(){return this.id+"["+(this.selectedLayerId||"")+"]"},a.prototype.toParamForLayerInfo=function(){return this.selectedLayerId?this.group[this.selectedLayerId].toParamForLayerInfo():""},a.prototype.preload=function(t){this.selectedLayerId&&this.group[this.selectedLayerId].preload(t)},a.prototype.setAutoReload=function(t){this.group[this.selectedLayerId].setAutoReload(t)};var o=function(){clearTimeout(n),$("#"+s.TEXT_ID).off("DOMSubtreeModified")},t=function(t){var e=$("#"+s.TEXT_ID),i=$("#"+s.CANVAS_ID);t.go.textOnCanvas||(n=m2soft.crownix.Forgery.detect(e,i[0],t.go.isFormEditMode))};m2soft.crownix.LayerGroup=a}(),m2soft.ns("m2soft.crownix.LayerManager"),function(){var r,o,a=m2soft.crownix.Resource,e=m2soft.crownix.Constant,s=m2soft.crownix.Layer,l=m2soft.crownix.LayerGroup,d=null,c=null;function t(t,e){this.layerList=[],c=t,d=e}function h(){var t=$("<div>").addClass("crownix-overlay").css({display:"block","z-index":e.WINDOW_OVERLAY_Z_INDEX}).prependTo($("#m2soft-crownix-container"));return t[0].addEventListener("touchstart",function(t){t.preventDefault()}),t}function u(t,e){return new s(t,e)}t.prototype={getLayer:function(t){for(var e=0,i=this.layerList.length;e<i;e++){var n=this.layerList[e];if("layer"===n.type){if(n.id==t)return n}else if("layerGroup"===n.type){if(n.id==t)return n;for(var r in n.group)if(r==t)return n.group[r]}}throw new Error("There is no Layer : "+t)},buildLayer:function(t,e){function i(){for(var t in d.layerManager.layerList){t=d.layerManager.layerList[t];if(!t.isFloating)if(t.group){if(!1===t.group[t.selectedLayerId].isLoaded)return}else if(!1===t.isLoaded)return}r&&r.remove(),o&&o.fadeOut(100,function(){this.remove()})}var n=this;t.find("CL").each(function(){var t=$(this),t=n.createLayer(t,e);t.go.options.layer.preload&&(r=r||d.dialog.message(a.get("image_export_disabled_before_done")),o=o||h(),t.preload(i))}),t.find("LY").each(function(){var t=$(this),t=n.createLayer(t,e);t.go.options.layer.preload&&(r=r||d.dialog.message(a.get("image_export_disabled_before_done")),o=o||h(),t.preload(i))})},exist:function(t){for(var e=0,i=this.layerList.length;e<i;e++)if(this.layerList[e].id==t)return!0;return!1},getLayerLength:function(){return this.layerList.length},getLayerListAtPage:function(t){for(var e=[],i=0,n=this.layerList.length;i<n;i++)this.layerList[i].page==t&&e.push(this.layerList[i]);return e},createLayer:function(t,e){var i=!!t.group||t.prop&&"CL"==t.prop("tagName"),n=t.prop&&"FL"==t.prop("tagName"),r=null;return(r=i?new l(t,e):n?u(t):u(t,e)).injectInfo(d,c),this.layerList.push(r),r},export:function(){var t,e=[];for(t in this.layerList)this.layerList[t]instanceof s?e.push(s.serialize(this.layerList[t])):this.layerList[t]instanceof l&&e.push(l.serialize(this.layerList[t]));return JSON.stringify(e)},import:function(t){var e=JSON.parse(t);this.layerList=[];for(var i=0,n=e.length;i<n;i++){var r,o=JSON.parse(e[i]);"layer"==o.type?(r=s.deserialize(o,d,c),this.layerList.push(r)):"layerGroup"==o.type&&(r=l.deserialize(o,d,c),this.layerList.push(r))}},toParam:function(){var t,e=[],i=!1;for(t in this.layerList)"layerGroup"==this.layerList[t].type&&(i||(i=!0,e.push(" /rcardlayer")),e.push(this.layerList[t].toParamForCardLayer()));for(t in i=!1,this.layerList)this.layerList[t].visible||this.layerList[t].isFloating||(i||(i=!0,e.push(" /rhidelayer")),e.push(this.layerList[t].id));for(t in i=!1,this.layerList)this.layerList[t].isFloating||(i||(i=!0,e.push(" /rlayerinfo")),e.push(this.layerList[t].toParamForLayerInfo()));return e.join(" ")},refreshLayer:function(t){for(var e=this.getLayerListAtPage(t),i=0;i<e.length;i++){var n=e[i];n.visible&&(n.hide(),n.isFloating&&n.isLoaded&&n.win.close(),n.show())}},rebuildLayer:function(t,e){for(var i,n=this.getLayerListAtPage(t),r=0,o=n.length;r<o;r++)if("layer"==n[r].type&&!n[r].isFloating||"layer"==n[r].type&&n[r].isFloating&&n[r].visible)n[r].mml&&(i=$.parseXML(n[r].mml),d.formManager.buildFormField($(i).find("PG").length?$(i).find("PG"):$(i).children(),t,{layer:n[r],isInitForm:!0,allowFormId:e.length?e:void 0}));else{var a,s=n[r].group;for(a in s)(s[a].mml&&!n[r].isFloating||s[a].mml&&n[r].isFloating&&n[r].visible)&&s[a].mml&&(i=$.parseXML(s[a].mml),d.formManager.buildFormField($(i).find("PG").length?$(i).find("PG"):$(i).children(),t,{layer:s[a],isInitForm:!0,allowFormId:e.length?e:void 0}))}},clearAutoReload:function(){for(var t=0,e=this.layerList.length;t<e;t++){var i=this.layerList[t];i.clearAutoReload&&i.clearAutoReload()}},getActiveFloatingLayer:function(){for(var t in this.layerList)if(this.layerList[t].visible&&this.layerList[t].isFloating)return this.layerList[t]},isAllLayerLoaded:function(){for(var t=0;t<this.layerList.length;t++)if(d.currentPage==this.layerList[t].page){var e=this.layerList[t];if((e="layerGroup"==e.type&&e.selectedLayerId?e.group[e.selectedLayerId]:e).visible&&!e.isLoaded)return!1}return!0}},m2soft.crownix.LayerManager=t}(),m2soft.ns("m2soft.crownix.LayerWrapper"),function(){function o(t){t=t.field,this.$field=$("#"+t.elementId)}var a=m2soft.crownix.LayerGroup,s=m2soft.crownix.ChannelManager;m2soft.crownix.LayerWrapper=function(r){this.offset={x:0,y:0},this.hide=function(){return r.hide()},this.show=function(t,e){e=(e="object"==typeof t&&!e?t:e)||{},s.getChannel("field:trigger").subscribeOnce($.proxy(o,this));function n(){if(!i.$field)return{x:0,y:0};var t=i.$field.offset(),e=i.$field.get(0).getBoundingClientRect();return{x:t.left,y:t.top+e.height}}var i=this;return e.onBeforeResize=function(){var t,e,i;2==r.position.type&&(t=n(),e=m2soft.crownix.Painter.adjustCoord(r.position.sy,0,0),i=m2soft.crownix.Painter.adjustCoord(r.position.sx,0,0),this.windowFrame.css({top:t.y+e,left:t.x+i}))},e.offset=n(),r instanceof a?r.show(t,e):r.show(e)},this.reload=function(){return r.reload()},this.set=function(t,e){r.set(t,e)}}}(),m2soft.ns("m2soft.crownix.LayerManagerWrapper"),m2soft.crownix.LayerManagerWrapper=function(){function t(t){this.go=t}var e=m2soft.crownix.LayerWrapper;return t.prototype={get:function(t){return new e(this.go.layerManager.getLayer(t))}},t}(),m2soft.ns("m2soft.crownix.BatchSignWindow"),m2soft.crownix.BatchSignWindow=m2soft.crownix.util.SingleTone(function(f){function g(){U(),F.css({visibility:"visible",left:(f.containerDom.width()-F.width())/2,top:(f.containerDom.height()-(E.height()+(D?D.height():0)))/2})}function m(){P.find("input:checkbox").attr("disabled",!1),T.required&&L.attr("disabled",!0),N.attr("disabled",!1),O.css("display","none")}function t(){P.find("input:checkbox, button").attr("disabled",!0),L.attr("disabled",!1),N.attr("disabled",!0),O.css("display","block")}function w(){((H=!!$(this).is(":checked"))?m:t)()}function x(){z=r[S].isSelected||!1,H=r[S].isAgreement||!1,j=r[S].checkedFieldList||[],q()}function v(){var t=!1,i=$(this),e=document.getElementById("select_all_checkbox");(t=i.is(":checked")?!0:t)?(j.push(i.data("field")),t=i.data("field").page,T.enableMovePage&&t&&f.viewer.movePage(f.isGroupReport?f.mrdGroupManager.getRelativePageNumber(t):t)):j.forEach(function(t,e){t==i.data("field")&&j.splice(e,1)}),z=j.length==B.length,e.checked=z}function b(t){var e=document.getElementById("select_all_checkbox");j=[],z=!!$(e).is(":checked");for(var i=0;i<B.length;i++){var n=document.getElementById(B[i].elementId+"_checkbox");z?(n.checked=!0,j.push(B[i])):n.checked=!1}}function y(t){return{width:m2soft.crownix.Painter.adjustCoord(t.element.attr("ri"))-m2soft.crownix.Painter.adjustCoord(t.element.attr("le")),height:m2soft.crownix.Painter.adjustCoord(t.element.attr("bo"))-m2soft.crownix.Painter.adjustCoord(t.element.attr("to"))}}function C(){M[0].getContext("2d").clearRect(0,0,M.width(),M.height()),A.getContext("2d").clearRect(0,0,A.width,A.height),T.required&&L.attr("disabled",!0)}function k(){for(var t=0,e=B.length;t<e;t++)if("1"==B[t].required&&-1==j.indexOf(B[t])&&H)return void f.dialog.show(R.get("not_check_require"));if(j.length)for(t=0,e=B.length;t<e;t++){var i,n,r,o=$("#"+B[t].elementId);if(o.is("canvas")||(o=$("<canvas>").css({width:y(B[t]).width,height:y(B[t]).height})),h.browser.android&&h.browser.chrome&&(o[0].width++,o[0].width--),-1!=$.inArray(B[t],j)&&H?(f.options.useNativeSign&&window.m2softFormFieldBridge?((i=o[0].getContext("2d")).clearRect(0,0,o.width(),o.height()),(n=A.width/A.height)<o.width()/o.height()?(r=o.height()*n,i.drawImage(A,(o.width()-r)/2,0,o.height()*n,o.height())):(r=o.width()/n,i.drawImage(A,0,(o.height()-r)/2,o.width(),o.width()/n)),B[t].value=A.toDataURL("image/png")):(d=_.getSignature(),l=0==f.options.formField.fixedSignHeight&&!B[t].withSignId,c=d.toData(o.width(),o.height(),{ratioType:l,dpi:B[t].dpi||96}),0<d.lines.length&&B[t].setValue({signature:d})),B[t].determineEffect()):B[t].setValue(""),f.formManager.modified(B[t]),T.enableMovePage)for(var a=f.formManager.getSignGroup(S).getsignList(),s=0;s<a.length;s++)a[s].elementId==B[t].elementId&&(B[t].signature&&(a[s].signature=B[t].signature),a[s].value=B[t].value);else B[t].value=B[t].value;var l=B[t].formId,d=B[t].id,c=B[t].value;f.shareManager&&f.shareManager.isConnected()&&f.shareManager.sendFormField({formId:l,fieldId:d,value:c}),f.options.mirroring.enable&&f.mirroringManager.externalEvent.setValue(l,d,c)}q()}function i(){F=$("<div>").css("z-index",10002).addClass("crownix-batch-group-sign").appendTo(f.containerDom.parent()),E=$("<div>").addClass("crownix-group-sign crownix-group-sign-enable").appendTo(F),$("<div>").addClass("crownix-group-sign-close").on("click",x).appendTo(E),$("<div>").addClass("crownix-group-sign-message").appendTo(E);var t=$("<div>").appendTo($(".crownix-group-sign-message")),e=$("<input>",{type:"checkbox",id:"crownix-group-sign_checkbox"}).on("click",w).appendTo(t);$("<label>",{text:T.agreeMessage||R.get("agree_group_sign"),id:"crownix-group-sign_label"}).attr("for","crownix-group-sign_checkbox").appendTo(t),new m2soft.IScroll(".crownix-group-sign-message",{scrollY:!0,scrollX:!1,scrollbars:!0,interactiveScrollbars:!0,mouseWheel:!0,fadeScrollbars:!0}),D=$("<div>").addClass("crownix-group-sign-wrapper crownix-group-sign").css("top",E.outerHeight()).appendTo(F),P=$("<div>").addClass("crownix-group-sign-area").appendTo(D);var i=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(P),n=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(P),r=$("<div>").addClass("crownix-group-sign crownix-required-sign-list").appendTo(P);$("<label>",{text:R.get("required_sign")}).appendTo(n),$("<label>",{text:R.get("tts_select")}).appendTo(r),U();var o=$("<div>").appendTo(i);$("<label>").attr("for","select_all_checkbox").text(R.get("select_all")).appendTo(o);var a,t=$("<input>",{type:"checkbox",id:"select_all_checkbox"}).attr({disabled:"disabled",checked:z}).on("click",b).prependTo(o),s=f.formManager.getFormList();for(a in s)if(!s[a].isSubmitted){var l,d=s[a].fieldList;for(l in d){var c,h,u,p=d[l];"sg"==p.type&&p.groupSignId&&p.groupSignId==S&&"1"==p.editable&&"1"!==p.commonHidden&&(c=p.elementId||p.formId+p.id,I||(I=p.elementId&&$("#"+c).length?$("#"+c):$("<canvas>").css({width:y(p).width,height:y(p).height})).data("dpi",p.dpi),h="1"==p.required?$("<div>").appendTo(n):$("<div>").appendTo(r),u=!1,j&&-1!=j.indexOf(p)?u=!0:(p.signature||p.value)&&(j.push(p),u=!0),$("<label>").attr("for",c+"_checkbox").text(p.title||p.id).appendTo(h),$("<span>").text(p.page&&p.page+"page").data("page",p.page).appendTo(h),$("<input>",{type:"checkbox",id:c+"_checkbox"}).attr({disabled:"disabled",checked:u}).data("field",p).on("click",v).prependTo(h),B.push(p))}}if(!I)return q(),f.dialog.show(R.get("not_group_signId").replace("%s",S)),0;1==n.children().length&&n.remove(),1==r.children().length&&r.remove(),i=$("<div>").attr({id:"crownix-batch-sign-dom"}).css({width:.9*F.width(),height:F.width()*$(I).height()/$(I).width()*.9,margin:"auto","margin-top":10}).appendTo(P),o=$("<div>").addClass("crownix-group-sign crownix-group-sign-buttons").appendTo(P),N=$("<button>").addClass("crownix-group-sign").text(R.get("refresh_button_text")).attr("disabled","disabled").appendTo(o),L=$("<button>").addClass("crownix-group-sign crownix-group-sign-apply").text(R.get("ok_button_text")).on("click",k).appendTo(o),new m2soft.IScroll(".crownix-group-sign-wrapper",{scrollY:!0,scrollX:!1,scrollbars:!0,interactiveScrollbars:!0,mouseWheel:!0}),g(),f.options.useNativeSign&&window.m2softFormFieldBridge?(N.on("click",C),M=$("<canvas>").attr({width:i.width(),height:i.height()}).appendTo(i),A=G(I),M.on("touchend",function(){var t=$(I),e=t.width(),i=t.height(),t=t.data("dpi");window.m2softFormFieldBridge.toSign(e,i,parseInt(t)||96)})):(delete(o=T.signOption||{}).onChangeValue,delete o.onChangeCanvas,o.showResetButton=!1,o.onChangeValue=function(t){!t.lineCheck||T.required&&0==t.lines.length?L.attr("disabled",!0):L.attr("disabled",!1)},_=new m2soft.crownix.FormField.Sign("crownix-batch-sign-dom",o),N.on("click",_.reset)),O=$("<div>").css({position:"absolute",width:.9*F.width(),height:F.width()*$(I).height()/$(I).width()*.9,background:"#c3c3c3",margin:"auto"}).appendTo(i),i[0].addEventListener("touchmove",function(t){t.stopPropagation()}),H&&(e.attr("checked",!0),m()),z=j.length==B.length,t[0].checked=z}var S,T,I,M,A,n,F,E,P,D,O,_,N,L,R=m2soft.crownix.Resource,h=m2soft.crownix.Util,B=[],j=[],H=!1,z=!1,r={},e=void 0,q=function(){r[S].isSelected=z,r[S].isAgreement=H,r[S].checkedFieldList=j,n.remove(),F.remove(),B=[],I="",isSeleted=H=!(j=[]),n=void 0,$(A).remove(),window.removeEventListener("orientationchange",o),window.removeEventListener("resize",g)},o=function(){e||(F.remove(),B=[],I="",e=setTimeout(function(){i(),H?(m(),E.find("input").prop("checked",!0)):t(),e=void 0},500))},G=function(t){return(A=document.createElement("canvas")).width=t.data("dpi")?t.width()*t.data("dpi")/96:t.width(),A.height=t.data("dpi")?t.height()*t.data("dpi")/96:t.height(),A},U=function(){var t,e;h.browser.msie||(t=window.screen.width,e=!1,2==(window.devicePixelRatio||1)?(t=window.innerWidth)<700&&(e=!0):(768==t||480<t&&t<1025)&&(e=!0),e?(F.hasClass("crownix-group-sign-media-width")||F.addClass("crownix-group-sign-media-width"),D.hasClass("crownix-group-sign-media-height")||D.addClass("crownix-group-sign-media-height")):(F.removeClass("crownix-group-sign-media-width"),D.removeClass("crownix-group-sign-media-height")))};this.show=function(t,e){f.license.isAllowedFeature("FormField")&&f.isFormEditMode?n||(S=t,T=e||{},f.slide.closeSlide(),e=$("#"+f.containerDom.parent().attr("id")),(n=$("<div>").css("z-index",10001).addClass("crownix-overlay")).appendTo(e),r[S]?(j=r[S].checkedFieldList,H=r[S].isAgreement,z=r[S].isSelected):r[S]={},j=j.filter(function(t){return t.signature&&0<t.signature.lines.length||t.value}),i(),window.addEventListener("orientationchange",o),window.addEventListener("resize",g)):f.dialog.show(R.get("unsupported_feature_without_formedit_mode"))},this.setValue=function(t){if(!n||!n.parent().length)return f.dialog.show(R.get("no_group_sign_window")),!1;var e;C(),null!=t&&((e=new Image).src=t,e.onload=function(){M[0].getContext("2d").drawImage(e,0,0,M.width(),M.height()),A.getContext("2d").drawImage(e,0,0,A.width,A.height),T.required&&L.attr("disabled",!1)})}}),m2soft.ns("m2soft.crownix.AccessibilityHelper"),m2soft.crownix.AccessibilityHelper={addAccessibilityCSS:function(){var t=new m2soft.crownix.CssBuilder;t.registerRule("#crownix-dialog-button-ok.crownix-confirm-background:focus",{outline:"medium auto black"}),t.registerRule(".crownix-toolbar-wrap",{position:"absolute"}),t.registerRule(".crownix-toolbar-button:focus",{outline:"medium auto black"}),t.registerRule("div.crownix-toolbar-icon-color",{height:"100%"}),t.registerRule("div.crownix-toolbar-icon-color button",{"margin-top":"-5px"}),t.registerRule(".crownix-slide-toggle",{border:"none",outline:"none"}),t.registerRule(".crownix-slide-toggle:focus",{outline:"medium auto black"}),t.registerRule(".crownix-slide",{visibility:"hidden"}),t.registerRule(".crownix-slide.crownix-open",{visibility:"visible"}),t.registerRule(".crownix-slide-toggle",{visibility:"visible"}),t.registerRule(".tree-item.field,.expanded",{border:"none",outline:"none"}),t.registerRule(".tree-item.field:focus,.expanded:focus",{outline:"medium auto black"}),t.attachWithClass("crownix-web-accessibility")},delegate:function(t,e){$(t).on("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),$(this).trigger(e))})}},m2soft.ns("m2soft.crownix.FormDialog"),function(){var msgQueue=[];m2soft.crownix.FormDialog=function(parentId){var R=m2soft.crownix.Resource,Util=m2soft.crownix.Util,ChannelManager=m2soft.crownix.ChannelManager,loading="data:image/gif;base64,R0lGODlhEAAQAPIAAGdnZ////4qKitbW1v///8PDw7CwsKenpyH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQACgABACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkEAAoAAgAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkEAAoAAwAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkEAAoABAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQACgAFACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQACgAGACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAAKAAcALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",input,previousFocus=null,pageNumber,keepPagenumFlag,eventName,pageTimeout,toolbarWidth,isToolbarHiding,isToolbarFloating,toolbarDirection,frame,wrapper,messageDom,messageScroll,messageText,scroll,options,mrdGroupManager,DEFAULT_OPTIONS={type:"alert",title:"",time:5,cancel:R.get("cancel_button_text"),ok:R.get("ok_button_text"),input:"",autoFocus:!0,enableClose:!1,outsideClose:!0,switchConfirmButton:!1,position:"center",textAlign:"unset",cancelHandler:void 0,okHandler:void 0,closeHandler:void 0,returnFocus:!0},isActive=function(){return $(".crownix-field-dialog-frame").is(":visible")},pushNextMsg=function(t,e){msgQueue.push([t,e])},popNextMsg=function(){var t=msgQueue.shift(),e=t[0],t=t[1];e(t[0],t[1])},closeDialog=function(e){var overlay=$(".crownix-field-dialog-overlay"),data={isClose:!1,frame:void 0,callback:void 0};if(!$(e.target).hasClass("crownix-confirm-background-disable")){var data=$.extend(!0,{},data,e.data),frame=data.frame||$(".crownix-field-dialog-frame");if(data.isClose&&$(frame).attr("enabled",!0),1==eval($(frame).attr("enabled"))||e.currentTarget!=overlay[0])return(!Util.browser.msie||9<Util.browser.version)&&$(frame).addClass("crownix-field-dialog-close-anim"),overlay.remove(),options.returnFocus&&null!==previousFocus&&($(previousFocus).focus(),previousFocus=null),$(document).off("keyup.dialog"),"function"==typeof data.callback&&data.callback(),0<msgQueue.length&&popNextMsg(),!1}},controlAnimation=function(t){"crownix_countingBar"==t.originalEvent.animationName&&closeDialog(t),"crownix-closeFrame"==t.originalEvent.animationName&&$(t.data.overlay).remove()},createAlert=function(t){makeFrame(),makeTitle(options.title),makeContents(t);t=makeButtons("alert");adjustDialog(frame,messageDom,messageText),options.autoFocus&&t.ok.focus()},createConfirm=function(t){makeFrame(),makeTitle(options.title),makeContents(t),options.input&&(t=$("<div>").addClass("aInput"),input="string"==typeof options.input?$('<input type="'+options.input+'" class="aTextbox" min="1" t="aTextbox" />'):$('<input type="text" class="aTextbox" t="aTextbox" />'),t.css({width:"100%","text-align":"center",padding:"15px 10px 0 0"}).appendTo(messageText),input.appendTo(t));var e=makeButtons("confirm");frame.keydown(function(t){$(".crownix-field-dialog-overlay").is(":visible")&&(t.stopPropagation(),13==t.keyCode&&e.ok.click(),27==t.keyCode&&e.cancel&&e.cancel.click())}),adjustDialog(frame,messageDom,messageText),options.autoFocus&&0<$(".aTextbox").length&&$(".aTextbox").focus()},createToast=function(t){makeFrame(),options.outsideClose&&frame.attr("enabled",!0),makeTitle(options.title),makeContents(t);var e,i=$("<div>").addClass("crownix-field-dialog-progress").appendTo(frame),t=Number(options.time);$("<div>").addClass("crownix-field-dialog-countingBar").css({"animation-duration":t+"s","-webkit-animation-duration":t+"s","-moz-animation-duration":t+"s","-o-animation-duration":t+"s"}).appendTo(i);"top"==options.position?frame.addClass("crownix-toast-anim-top"):"bottom"==options.position?frame.addClass("crownix-toast-anim-bottom"):frame.addClass("crownix-field-dialog-create"),Util.browser.msie&&Util.browser.version<=9&&(i.css("display","none"),t&&""!=t&&(e=frame,setTimeout(function(){closeDialog({data:{isClose:!0,frame:e}})},1e3*Number(options.time)))),adjustDialog(frame,messageDom,messageText)},makeFrame=function(){wrapper=$("<div>").css({display:"table-cell","vertical-align":"middle","text-align":"center"}),frame=$("<div>").addClass("crownix-field-dialog-frame").addClass("crownix-field-dialog-create").addClass("crownix-field-dialog-toast").appendTo(wrapper)},makeTitle=function(t){var e;t&&(e=$("<div>").addClass("crownix-field-dialog-title").appendTo(frame),$("<span>").text(t).appendTo(e))},makeContents=function(t){messageDom=$("<div>").addClass("crownix-field-dialog-message").appendTo(frame),messageScroll=$("<div>").addClass("crownix-field-dialog-message-scroll").appendTo(messageDom),messageText=$("<div>").html(t).addClass("crownix-field-dialog-message-text").css("text-align","unset"===options.textAlign?"left":options.textAlign).appendTo(messageScroll),"function"==typeof options.body&&options.body(messageText)},makeButtons=function(e){var t,i=$("<div>").addClass("crownix-field-dialog-button-group").appendTo(frame),n=$("<button>").attr("id","crownix-dialog-button-ok").text(options.ok).addClass("button confirm crownix-confirm-background").css("width","100%").on(eventName,{callback:function(){var t;"function"==typeof options.inputHandler&&("alert"===e?options.inputHandler():(t=options.input&&0<input.length?input.val():"",options.input?options.inputHandler(t):options.inputHandler(!0))),"function"==typeof options.okHandler&&options.okHandler()}},closeDialog).appendTo(i);return"confirm"===e&&(n.css("width",""),t=$("<button>").attr("id","crownix-dialog-button-cancel").text(options.cancel).addClass("button cancel").on(eventName,{callback:function(){"function"==typeof options.inputHandler&&options.inputHandler(!1),"function"==typeof options.cancelHandler&&options.cancelHandler()}},closeDialog),options.switchConfirmButton?t.appendTo(i):t.prependTo(i)),options.enableClose&&$("<button>").addClass("crownix-field-dialog-close").on(eventName,{callback:options.closeHandler},closeDialog).appendTo(frame),{ok:n,cancel:t}},adjustDialog=function(frame,messageDom,messageText){var overlay=$(".crownix-field-dialog-overlay");overlay&&0==overlay.length&&(overlay=$("<div>").addClass("crownix-field-dialog-overlay").css({display:"table"}).on(eventName,closeDialog),$(document).on("keyup.dialog",function(event){var key=event.keyCode||event.charCode,frames,lastFrame;27==key&&(frames=$(".crownix-field-dialog-frame"),lastFrame=$(frames[frames.length-1]),1!=eval(lastFrame.attr("enabled"))&&lastFrame.hasClass("crownix-field-dialog-toast")||(event.data={frame:lastFrame,isClose:!0},closeDialog(event)))})),overlay.on("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),wrapper.appendTo(overlay),$(parentId).parent().append(overlay),resizeMessageDomHeight(),frame.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",{frame:frame,isClose:!0},controlAnimation),adjustDialogVerticalPosition()},resizeMessageDomHeight=function(){messageDom.css("height",Math.min(.3*$(window).height(),messageText.outerHeight()))},adjustDialogVerticalPosition=function(){"top"==options.position?wrapper.css({"vertical-align":"top","padding-top":"3%"}):"bottom"==options.position&&wrapper.css({"vertical-align":"bottom","padding-bottom":"3%"}),Util.browser.msie&&Util.browser.version<9?$(".crownix-field-dialog-message-scroll").css("overflow-y","auto"):!scroll&&.3*$(window).height()<messageText.outerHeight()?scroll=new m2soft.IScroll(".crownix-field-dialog-message-scroll",{zoom:!1,scrollX:!1,scrollY:!0,scrollbars:"custom",interactiveScrollbars:!0,freeScroll:!0,keepCenter:!0,mouseWheel:!0,click:!0}):scroll&&scroll.refresh()},updateToolbarState=function(t){toolbarWidth=t.isHide?0:parseFloat(t.theme.toolbarWidth)*t.scale,isToolbarFloating=t.isFloating,toolbarDirection=t.direction,isToolbarHiding=t.isHide,isToolbarFloating&&ChannelManager.getChannel("dialog:updateDialog").publish()},resize=function(){resizeMessageDomHeight(),adjustDialogVerticalPosition()},pageNumber=pageNumber||$('<div class="crownix-dialog-message-pagenum"><img src="'+loading+'" /><span></span></div>');$('<div class="crownix-dialog-message">').append(pageNumber).appendTo(parentId),m2soft.crownix.Util.browser.msie&&m2soft.crownix.Util.browser.version<9&&pageNumber.parent().css({top:"60px"}),ChannelManager.getChannel("toolbar:changeToolbarState").subscribe(updateToolbarState),this.show=function(t,e){isActive()?pushNextMsg(this.show,[t,e]):(eventName=Util.browser.mobile?"touchstart":"click","RESOURCE_NOT_FOUND"!=t?(options=$.extend(!0,{},DEFAULT_OPTIONS,e),null===previousFocus&&(previousFocus=document.activeElement,$(previousFocus).blur()),(options&&options.type&&("confirm"==options.type.toLowerCase()||"confirmation"==options.type.toLowerCase())?createConfirm:options&&options.type&&"toast"==options.type.toLowerCase()?createToast:createAlert)(t)):e&&e.inputHandler&&(e.input?e.inputHandler(!1):e.inputHandler(!0)))},this.close=function(){closeDialog({data:{isClose:!0}})},this.message=function(t,e,i,n){var r=15,o=$('<div class="crownix-dialog-message">').css("right","15px").appendTo(parentId),a=$('<div class="crownix-dialog-message-text"><span>'+t+"</span>").appendTo(o),t=m2soft.crownix.Util;if(t.browser.msie&&7==t.browser.version||a.prepend('<img src="'+loading+'" />'),void 0!==n){var s={top:"15px"},l={left:0},d={top:"calc(100% + "+(-$(".crownix-dialog-message-text").outerHeight()-15)+"px)"},c={left:"calc(50% + "+(-$(".crownix-dialog-message-text").outerWidth()/2-parseInt($(".crownix-dialog-message-text").css("margin-left"),10))+"px)"},h={top:"calc(50% + "+-$(".crownix-dialog-message-text").outerHeight()/2+"px)"};switch(n.toLowerCase()){case"top-left":case"left-top":o.css(s).css(l);break;case"top":o.css(s).css(c);break;case"top-right":case"right-top":o.css(s);break;case"left":o.css(h).css(l);break;case"center":o.css(h).css(c);break;case"right":o.css(h);break;case"bottom-left":case"left-bottom":o.css(d).css(l);break;case"bottom":o.css(d).css(c);break;case"bottom-right":case"right-bottom":o.css(d)}}return!0===i&&(o.wrap($('<div class="crownix-overlay-absolute">')),o=$(".crownix-overlay-absolute"),r=0),isToolbarFloating&&(i=isToolbarHiding?0:toolbarWidth,"top"===toolbarDirection?o.css({top:i+r+"px"}):"right"===toolbarDirection&&o.css({right:i+25+"px"})),"number"==typeof e&&setTimeout(function(){o.fadeOut(500,function(){o.remove()})},e),o},this.pagenum=function(t,e,i){var n;!mrdGroupManager||0<(n=mrdGroupManager.getCurrentMrdGroup()).totalPage&&(t=n.getRelativePageNumber(t),e=n.totalPage),pageNumber.css("display","inline-block").find("span").text(t+" / "+e),!0===i?pageNumber.find("img").css("display","inline-block"):!1===i&&pageNumber.find("img").css("display","none"),ChannelManager.getChannel("dialog:updateDialog").subscribe(function(){pageNumber.parent().css({top:"15px"}),isToolbarFloating?"top"==toolbarDirection?isToolbarHiding?pageNumber.parent().css({top:"15px"}):pageNumber.parent().css({top:toolbarWidth+15+"px"}):"left"==toolbarDirection&&(isToolbarHiding?pageNumber.parent().css({left:""}):pageNumber.parent().css({left:toolbarWidth+15+"px"})):"top"==toolbarDirection?pageNumber.parent().css({top:toolbarWidth+15+"px"}):"left"==toolbarDirection&&pageNumber.parent().css({left:toolbarWidth+15+"px"})}),ChannelManager.getChannel("dialog:changePageNum").publish({currentPage:t,totalPage:e}),2!=keepPagenumFlag&&(clearTimeout(pageTimeout),pageTimeout=setTimeout(function(){pageNumber.css("display","none")},3e3))},this.keepPageNum=function(t){keepPagenumFlag=t},this.enableOkButton=function(){$("#crownix-dialog-button-ok").removeClass("crownix-confirm-background-disable").addClass("crownix-confirm-background")},this.disableOkButton=function(){$("#crownix-dialog-button-ok").addClass("crownix-confirm-background-disable").removeClass("crownix-confirm-background")},this.resize=function(){resize()},this.setMrdGroupManager=function(t){mrdGroupManager=t}}}(),m2soft.ns("m2soft.crownix.Evaluator"),m2soft.crownix.Evaluator=function(){var global={};return{buildFunction:function(signature,body){var scripts=["var func = ",signature,' { "use strict"; ',body,"}"].join("");return eval(scripts),func}}}(),m2soft.ns("m2soft.crownix.Field"),m2soft.crownix.Field=function(){function o(t,e){this.type=t.attr("ty")||"",this.formId=t.attr("fi"),this.id=t.attr("id"),this.value="",this.page=e||0,this.required=t.attr("rq")||"1",this.editable=t.attr("ed")||"1",this.index=0,this.ignore=!1,this.drilldownId=null,this.layerId=null,this.reset_=function(){this.value=this.originalValue,this.editable=this.originalEditable},this.reset=this.reset_,this.excludeOnFormData=t.attr("ee")||"0",this.excludeSubmit=t.attr("eb")||"0",this.commonHidden=t.attr("ch")||"0",this.outputAuthority=t.attr("dps")||"All",this.modified=!1}var i=m2soft.crownix.Util,a=m2soft.crownix.ChannelManager,n=m2soft.crownix.Evaluator;return o.clone=function(t){if(!t.tagName){var e,i=new o({attr:function(){}});for(e in t){var n=t[e];if(n instanceof o)i[e]=o.clone(t[e]);else if(n instanceof Array)for(var r in i[e]=[],n)i[e].push(n[r]);else if(n instanceof Function||window.File&&n instanceof window.File)i[e]=n;else if(n instanceof Object){if(i[e]={},"buttonList"===e)for(var r in n)i[e][r]=o.clone(n[r]);else i[e]=n;"eventList"===e&&(i[e]=n)}else i[e]=n}return i}},o.prototype={toData:function(){return{id:this.id,value:this.value,type:this.type,page:this.page}},validate:function(t){return t=t||this.value,!("1"==this.required&&!t&&"0"===this.commonHidden)},getEventHandler:function(t){return this.eventHandler&&this.eventHandler[t]||null},setEventHandler:function(t,e){this.eventHandler||(this.eventHandler={}),this.eventHandler[t]=e},getEventList:function(){var t=[];if(this.eventList)for(var e in this.eventList)t.push(e);return t},getEvent:function(t){return this.eventList&&this.eventList[t]||null},setEvent:function(t){this.eventList||(this.eventList={});var e=t.attr("evc");e&&(this.eventList.change=e);e=t.attr("click");e&&(this.eventList.click=e);e=t.attr("evi");e&&(this.eventList.evinput=e);e=t.attr("efi");e&&(this.eventList.evfcin=e);e=t.attr("efo");e&&(this.eventList.evfcout=e);t=t.attr("evv");t&&(this.eventList.validate=t)},hasEvent:function(t){return null!==this.getEvent(t)},setElementId:function(t){this.elementId=t},setIndex:function(t){null==t&&(t=0),this.index=parseInt(t)},getValue:function(){return null},setValue:function(t){},getLabel:function(){return null},setLabel:function(t){},getEditable:function(){return null},setEditable:function(t){},getRequired:function(){return"1"===this.required},setRequired:function(t,e){t?(this.required="1",this.showRequiredMark(e)):(this.required="0",this.hideRequiredMark()),this.determineEffect()},getSelected:function(){return null},setSelected:function(t){},getIgnore:function(){return this.ignore},setIgnore:function(t){this.ignore=t},trigger:function(t,e,i,n,r){var o=this.getEvent(t);if(o){e=(this.getEventHandler(t)||this.bindEvent(o,t))(e,this.index,i,n,r,e.get(this.id));return a.getChannel("field:trigger").publish({field:this}),e}},bindEvent:function(t,e){t=n.buildFunction("function(form, index, viewer, layer, dialog, self)",i.base64.utf8Decode(t));return this.setEventHandler(e,t),t},showRequiredMark:function(t,e){var i;return t&&"1"==this.required&&(0!=(i=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper").children(".requiredFieldHinting")).length?i.show():(e=e||$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper"),i=$(document.createElement("div")).css({"border-color":t+" transparent"}).attr("id","crownix_form_field_hintingbox").addClass("requiredFieldHinting").appendTo(e))),i},hideRequiredMark:function(){var t=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper").children(".requiredFieldHinting");return 0!=t.length&&t.hide(),t},determineEffect:function(){m2soft.crownix.FieldEffector.getInstance().determineEffect(this)},showEffect:function(){m2soft.crownix.FieldEffector.getInstance().show(this)},hideEffect:function(){m2soft.crownix.FieldEffector.getInstance().hide(this)},show:function(){if("1"!=this.element.attr("hd")){var t=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");if(t){if(t.parents("#crownix-cxgrid-td")[0])return;t.show()}t=$('[formId="'+this.formId+'"][for="'+this.elementId+'"]');t[0]&&t.show(),this.commonHidden="0";t=m2soft.crownix.FieldOrder.getInstance();t.exist(this.elementId)||t.add(this);t=m2soft.crownix.GuideManager.getInstance();t.exist(this.elementId)||t.add(this)}},hide:function(){var t=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");if(t){if(t.parents("#crownix-cxgrid-td")[0])return;t.hide()}var e=$('[formId="'+this.formId+'"][for="'+this.elementId+'"]');e[0]&&e.hide(),this.commonHidden="1";t=m2soft.crownix.FieldOrder.getInstance(),e=m2soft.crownix.GuideManager.getInstance();"rb"==this.type?(t.removeField([{formId:this.formId,fieldId:this.id,groupId:this.gid}]),e.removeField([{formId:this.formId,fieldId:this.id,groupId:this.gid}])):(t.removeField([{formId:this.formId,fieldId:this.id}]),e.removeField([{formId:this.formId,fieldId:this.id}]))},getOriginalCommonHidden:function(){return this.element.attr("ch")||"0"}},o}(),m2soft.ns("m2soft.crownix.Field.CheckBox"),m2soft.crownix.Field.CheckBox=function(){function t(t,e){i.call(this,t,e),this.originalValue=this.value=t.attr("se")||"0",this.originalEditable=this.editable,this.setEvent(t),this.originalLabel=this.label=t.attr("lb"),this.title=t.attr("tt")||this.id,this.size=t.attr("sz")||16,this.tickScale=t.attr("ts")||"100",this.removeBox=t.attr("rb")||"0",this.element=t}var i=m2soft.crownix.Field;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.reset=function(){this.reset_(),this.label=this.originalLabel},t.prototype.validate=function(t){return t=t||this.value,"1"!=this.required||"0"!=t||"0"!==this.commonHidden},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(t){this.label=t,$("[for="+this.elementId+"] [class=crownix_form_field_label]").text(t)},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("[id="+this.elementId+"]");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled",0==this.editable),"0"===this.editable?"1"!==this.removeBox&&e.siblings(".crownix-css-checkborder, .crownix-css-selector").addClass("crownix-formfield-disable"):e.siblings(".crownix-css-checkborder, .crownix-css-selector").removeClass("crownix-formfield-disable"),this.determineEffect()},t.prototype.getSelected=function(){return"1"===this.value},t.prototype.setSelected=function(t){var e=$("[id="+this.elementId+"]");t?(this.value="1",e.val("1"),e.prop("checked",!0),e.siblings(".crownix-css-checkmark").css("visibility","visible")):(this.value="0",e.val("0"),e.prop("checked",!1),e.siblings(".crownix-css-checkmark").css("visibility","hidden")),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=e,this.element.attr("id",e),this.element.attr("idx",t),i=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("label[for="+this.elementId+"]").attr({for:i}),$("#"+this.elementId).attr({id:i,name:e}),this.setElementId(i),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Field.ComboBox"),m2soft.crownix.Field.ComboBox=function(){function t(t,e){s.call(this,t,e),this.originalEditable=this.editable,this.selectedIndex=-1,this.setEvent(t),this.displayValues=[],this.actualValues=[],this.isChangeList=!1;for(var i=t.attr("sv"),n=t.children("item"),r=0;r<n.length;r++){var o=n[r].getAttribute("sd"),a=n[r].getAttribute("ad");this.displayValues.push(o),this.actualValues.push(a),i===o&&(this.originalSelectedIndex=this.selectedIndex=r,this.originalValue=this.value=a)}this.element=t,this.title=t.attr("tt")||this.id}var s=m2soft.crownix.Field;return((t.prototype=Object.create(s.prototype)).constructor=t).prototype.reset=function(){this.reset_(),this.selectedIndex=this.originalSelectedIndex},t.prototype.validate=function(t){return t=t||this.value,"1"!=this.required||"0"!==this.commonHidden||!!t},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=$("[id="+this.elementId+"]"),i=this.actualValues.indexOf(t);-1==i&&""!==t||(e.children("option").prop("selected",!1),e.children('[value="'+t+'"]').prop("selected",!0),this.value=t,this.selectedIndex=i),this.determineEffect()},t.prototype.setValueByIndex=function(t,e,i){var n=$("#"+this.elementId),r=this.actualValues[t];-1==t&&(r=""),n.children("option").prop("selected",!1),n.children('[value="'+r+'"]').prop("selected",!0),this.value=r,this.selectedIndex=t,this.determineEffect()},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("#"+this.elementId);this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled","0"===this.editable),this.determineEffect()},t.prototype.getDisplayValue=function(){return this.displayValues[this.selectedIndex]},t.prototype.setComboList=function(t,e){this.displayValues=t,this.actualValues=e,this.selectedIndex=-1,this.value="";var i=$("#"+this.elementId);i.find("option").remove(),i.append($("<option>"));for(var n=0;n<t.length;n++)i.append($("<option>",{value:e[n],text:t[n]}));this.isChangeList=!0},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=e,this.element.attr("id",e),this.element.attr("idx",t),i=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:i,name:e}),this.setElementId(i),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Field.RadioButton"),m2soft.crownix.Field.RadioButton=function(){function t(t,e){i.call(this,t,e),this.gid=t.attr("gi"),this.originalValue=this.value=t.attr("vl"),this.selected="1"==t.attr("se"),this.originalEditable=this.editable,this.invalid=!1,this.originalLabel=this.label=t.attr("lb"),this.setEvent(t),this.size=t.attr("sz")||16,this.element=t,this.tickScale=t.attr("ts")||"100",this.removeBox=t.attr("rb")||"0",this.shape=t.attr("sp")||"rb"}var i=m2soft.crownix.Field;m2soft.crownix.Resource;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.reset=function(){this.reset_(),this.label=this.originalLabel},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t,e){e.selectedId===this.id&&(e.value=t),this.value=t,$("[id="+this.elementId+"]").attr("value",t)},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(t){this.label=t,$("[for="+this.elementId+"] [class=crownix_form_field_label]").text(t)},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("[id="+this.elementId+"]");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled",0==this.editable),"0"===this.editable?e.siblings(".crownix-radio-outer, .crownix-css-selector").addClass("crownix-formfield-disable"):e.siblings(".crownix-radio-outer, .crownix-css-selector").removeClass("crownix-formfield-disable"),this.determineEffect()},t.prototype.getSelected=function(){return this.selected},t.prototype.setSelected=function(t,e){var i=$("[id="+this.elementId+"]");t?(t="1",e.select(this.id)):(t="0",e.unselect(this.id)),i.prop("checked","1"===t),e.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,i="crownix_form_field_"+this.formId+"_"+this.gid+"_"+e,$("label[for="+this.elementId+"]").attr({for:i}).removeClass().addClass(this.gid),$("#"+this.elementId).attr({id:i,name:this.formId+"_"+this.gid,buttonId:e}),this.setElementId(i),this.index=t,this.id=e,this.element.attr("id",e),this.element.attr("idx",t))},t}(),m2soft.ns("m2soft.crownix.Field.RadioGroup"),m2soft.crownix.Field.RadioGroup=function(){function t(t,e){i.call(this,t,e),this.type="rg",this.id=t.attr("gi"),this.selectedId="",this.originalRequired=this.required,this.originalEditable=this.editable,this.invalid=!1,this.buttonList={},this.title=t.attr("tt")||this.id}var i=m2soft.crownix.Field,r=m2soft.crownix.Resource;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.reset=function(){this.reset_(),this.selectedId=this.originalSelectedId},t.prototype.initRadiogroup=function(){this.required=this.originalRequired,this.editable=this.originalEditable,this.selectedId=this.originalSelectedId},t.prototype.putButton=function(t,e,i){var n=this.buttonList;if(n[t.id]&&!i){if(e)return;throw new Error(r.get("form_duplicated_id_error")+"("+this.id+"."+t.id+")")}t.selected&&(this.originalSelectedId=this.selectedId=t.id,this.originalValue=this.value=t.value),n[t.id]=t},t.prototype.isSelected=function(t){return this.selectedId==t},t.prototype.validate=function(){return"1"!=this.required||""!==this.selectedId||"0"!==this.commonHidden},t.prototype.select=function(t){var e,i=this.buttonList;for(e in i)i[e].selected=!1,$("[id="+i[e].elementId+"]").prop("checked",!1).siblings(".crownix-css-checkmark").css("visibility","hidden");t=i[t];t&&(t.selected=!0,this.selectedId=t.id,this.value=t.value,$("[id="+t.elementId+"]").siblings(".crownix-css-checkmark").css("visibility","visible").prop("checked",!0))},t.prototype.unselect=function(t){t=this.buttonList[t];t&&(t.selected=!1,this.selectedId===t.id&&(this.selectedId="",this.value="",$("[id="+t.elementId+"]").siblings(".crownix-css-checkmark").css("visibility","hidden").prop("checked",!1)))},t.prototype.getValue=function(){return this.selectedId?this.buttonList[this.selectedId].getValue():""},t.prototype.setValue=function(t){var e;for(buttonId in this.buttonList)if(this.buttonList[buttonId].value===t){e=this.buttonList[buttonId];break}e&&(this.value=t,this.selectedId=e.id,e.setSelected(!0,this))},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){for(var e in this.editable=t?"1":"0",this.buttonList)this.buttonList[e].setEditable("1"===this.editable)},t.prototype.getRequired=function(){return"1"===this.required},t.prototype.setRequired=function(t,e){for(var i in this.required=t?"1":"0",this.buttonList)this.buttonList[i].setRequired(t,e)},t.prototype.changeFieldId=function(t,e){this.buttonList[e]=this.buttonList[t],delete this.buttonList[t]},t.prototype.changeRepeatedIndex=function(t){if(0<=this.id.indexOf("-")){var e,i=this.id.substring(0,this.id.indexOf("-")+1)+t,n=this.buttonList[this.selectedId];for(e in $(".crownix-radio-inner-"+this.formId+"-"+this.id).removeClass("crownix-radio-inner-"+this.formId+"-"+this.id).addClass("crownix-radio-inner-"+this.formId+"-"+i),this.buttonList)this.buttonList[e].gid=i,this.buttonList[e].changeRepeatedIndex(t),this.changeFieldId(e,this.buttonList[e].id);n&&(this.selectedId=n.id),this.id=i,this.index=t,this.title=i}},t.prototype.show=function(){for(var t in this.commonHidden="0",this.buttonList)this.buttonList[t].show()},t.prototype.hide=function(){for(var t in this.commonHidden="1",this.buttonList)this.buttonList[t].hide()},t.prototype.getOriginalCommonHidden=function(){for(var t in this.buttonList)return this.buttonList[t].element.attr("ch")||"0"},t}(),m2soft.ns("m2soft.crownix.Field.Signature"),m2soft.crownix.Field.Signature=function(){function t(t,e,i,n,r){o.call(this,t,e),this.originalValue=this.value=t.attr("dt")||"",this.originalEditable=this.editable,this.setEvent(t),this.placeHolder=null,this.element=t,this.signType=t.attr("st")||"0",this.title=t.attr("tt")||this.id,this.withSignId=t.attr("gwid"),this.groupSignId=t.attr("gi"),this.dpi=t.attr("dpi"),this.options=r,this.fontList=i,this.textAttr=n,this.signature=null,this.fontStyle={},this.aschange=t.attr("asc")||"0"}var o=m2soft.crownix.Field,d=m2soft.crownix.Util;return((t.prototype=Object.create(o.prototype)).constructor=t).prototype.toData=function(){var t;return this.value&&(t=this.value.split(",")[1]||""),{id:this.id,value:t,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var i,e,n,r,o,a=("1"==this.signType?$("canvas[id="+this.elementId+"-canvas]"):$("canvas[id="+this.elementId+"]"))[0],s=m2soft.crownix.Painter.adjustCoord(this.element.attr("ri"))-1-(m2soft.crownix.Painter.adjustCoord(this.element.attr("le"))+2),l=m2soft.crownix.Painter.adjustCoord(this.element.attr("bo"))-1-(m2soft.crownix.Painter.adjustCoord(this.element.attr("to"))+2);"1"==this.aschange&&($(a).css("display","inline-block"),"1"==this.signType?($("input[id="+this.elementId+"]").show(),$("canvas[id="+this.elementId+"-canvas]").show(),t?this.placeHolder&&this.placeHolder.hide():this.placeHolder&&this.placeHolder.show(),(r=$("canvas[id="+this.elementId+"]"))[0]&&(r.hide(),r[0].getContext("2d").clearRect(0,0,r[0].width,r[0].height),new m2soft.crownix.FormField.Signature({},{width:s,height:l,guideText:this.element.attr("ph"),guideTextStyle:this.fontStyle}).drawSignature(r[0],{guideTextImageData:!0}))):($("canvas[id="+this.elementId+"]").show(),$("canvas[id="+this.elementId+"-canvas]").hide(),$("input[id="+this.elementId+"]").hide(),this.placeHolder&&this.placeHolder.hide())),!t||t.signature&&t.signature.lines.length<=0?(a&&((i=a.getContext("2d")).clearRect(0,0,a.width,a.height),e=new m2soft.crownix.FormField.Signature({},{width:s,height:l,guideText:this.element.attr("ph"),guideTextStyle:this.fontStyle}),"1"!=this.signType&&e.drawSignature(a,{guideTextImageData:!0})),this.value="",this.signature=null):"object"==typeof t?(a=a||(a=$('<canvas class="temp">').attr({width:s,height:l}).appendTo("body"))[0],e=new m2soft.crownix.FormField.Signature(t.signature,{width:s,height:l,maxLineWidth:8}),n=null!=t.drawType?t.drawType:null!=t.signature.ratioType?t.signature.ratioType:!this.withSignId,e.drawSignature(a,{ratioType:n}),n=e.toData(s,l,{ratioType:n,dpi:this.dpi||96}),this.signature=e,this.value=n,$(a).hasClass("temp")&&$(a).remove()):"string"==typeof t&&(d.base64.isImage(t)?(r=new Image,o=this,r.onload=function(){a&&((i=a.getContext("2d")).clearRect(0,0,a.width,a.height),setTimeout(function(){function t(){var t,e=r.width/r.height;e<a.width/a.height?(t=a.height*e,i.drawImage(r,(a.width-t)/2,0,a.height*e,a.height)):(t=a.width/e,i.drawImage(r,0,(a.height-t)/2,a.width,a.width/e))}var e;"1"==o.signType?1==(e=o.element.attr("ra")||0)?t():2==e?i.drawImage(r,0,0):i.drawImage(r,0,0,a.width,a.height):r.width!=a.width||r.height!=a.height?t():i.drawImage(r,0,0,a.width,a.height),"1"==o.signType&&o.placeHolder&&o.placeHolder.hide()},0))},r.src=o.value=t,o.signature=null):(a=a||(a=$('<canvas class="temp">').attr({width:s,height:l}).appendTo("body"))[0],m2soft.crownix.Canvas.Util.measureAndDrawText(this.element,a,t,this.fontList,this.textAttr,this.options),this.value=a.toDataURL("image/png"),this.signature=null,$(a).hasClass("temp")&&$(a).remove())),this.determineEffect()},t.prototype.getSignature=function(){return{signature:this.signature,value:this.value}},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("[id="+this.elementId+"-canvas]")||$("[id="+this.elementId+"]");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled","0"===this.editable),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=e,this.element.attr("id",e),this.element.attr("idx",t),i=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:i,name:e}),this.setElementId(i),this.index=t)},t.prototype.validate=function(t){return t=t||(this.value||this.signature&&0<this.signature.lines.length),"0"==this.required||"1"===this.commonHidden||!!t},t.prototype.setSignValue=function(t,e){this.signType=e,this.setValue(t)},t}(),m2soft.ns("m2soft.crownix.Field.SignatureGroup"),m2soft.crownix.Field.SignatureGroup=function(){function t(t,e,i,n){this.id=t,this.signType=n||"0",o[this.signType]||(o[this.signType]={}),r=e,0}var r,o={};return t.prototype={setValue:function(t){for(var e=0,i=r.length;e<i;e++)0===e?r[e].setValue(t):"object"==typeof t?r[e].setValue(r[0].getSignature()):r[e].setValue(r[0].value)},getValue:function(){var t,e=o[this.signType];for(t in r)if(r[t].groupSignId==this.id&&e[this.id])return e[this.id]},getGroupInfo:function(){return{dpi:r[0].dpi,width:m2soft.crownix.Painter.adjustCoord(r[0].element.attr("ri"))-m2soft.crownix.Painter.adjustCoord(r[0].element.attr("le")),height:m2soft.crownix.Painter.adjustCoord(r[0].element.attr("bo"))-m2soft.crownix.Painter.adjustCoord(r[0].element.attr("to")),lineCount:parseInt(r[0].element.attr("sn"))||0}},getsignList:function(){return r},setLastSignValue:function(t){o[this.signType][this.id]=t}},t}(),m2soft.ns("m2soft.crownix.Field.FingerPrintSignature"),m2soft.crownix.Field.FingerPrintSignature=function(){function n(t,e,i,n){this.bioInfo=t,this.template=e,this.signedTemplate=i,this.templateHashCode=n||null}function t(t,e,i){o=(r=i).options.fingerScan,a.call(this,t,e),"1"===this.signType&&(this.ratio=t.attr("ra")||0),this.bioSignatureForDocument="",this.signatureSaveRequest={documentId:"",deviceId:"",documentHashCode:null,signedDocumentHashCode:null,signatures:{}},o&&(this.highQuality=void 0===o.highQuality||o.highQuality,o.documentId?this.documentId=o.documentId:(-1<(t=r.isAppendReport?r.mrdPath[0]:r.mrdPath).indexOf("/")&&(t=t.substring(t.lastIndexOf("/")+1)),this.documentId=t.substring(0,t.lastIndexOf("."))),this.serverUrl=o.serverUrl,this.image=o.image),this.setBioSignatureForDocument=function(t){var e;"object"==typeof t&&(e=this.signatureSaveRequest,this.bioSignatureForDocument=t.bioSignatureForDocument,e.documentId=t.documentId,e.deviceId=t.deviceId,e.documentHashCode=t.documentHashCode||null,e.signedDocumentHashCode=t.signedDocumentHashCode||null,e.signatures[this.id]=new n(t.bioInfo,t.template,t.signedTemplate,t.templateHashCode),this.setValue(this.image),r.formManager.trigger("change",this.formId,this.id))},this.validate=function(t){var e;return t||(e=this.signatureSaveRequest,t=this.value&&this.bioSignatureForDocument&&e.documentId&&e.deviceId&&e.signatures[this.id]),"1"!=this.required||"0"!==this.commonHidden||!!t},this.buildParam=function(t){t.serverUrl=this.serverUrl,t.documentId=this.documentId,t.signatureSaveRequest=JSON.stringify(this.signatureSaveRequest)},window.fingerPrintInterface&&o&&window.fingerPrintInterface.init(m2soft.crownix.Resource.language,this.documentId,this.highQuality)}var r,o,a=m2soft.crownix.Field.Signature;m2soft.crownix.resource.Icon;return(t.prototype=Object.create(a.prototype)).constructor=t}(),m2soft.ns("m2soft.crownix.Field.SealSignature"),m2soft.crownix.Field.SealSignature=function(){function e(t,e){S=$("<canvas>").css(P).css({top:(A.browser.mobile,(h.height()-e)/2),left:(h.width()-t)/2}).attr({width:t+"px",height:e+"px"}).appendTo(h),t=$("<div>").css({position:"absolute",float:"right","font-weight":"bold",padding:"5px",cursor:"pointer",right:"1%",top:0}).attr({id:"crownix-signature-reset-button"}).on("click",function(){O(),D(a.value),r.options.mirroring.enable?r.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:a.elementId,value:a.value,auth:a.element.attr("sa")||"All",scanType:"stamp",aschange:a.aschange}):"1"==a.signType&&$("input[id="+a.elementId+"]").click()}).appendTo(h),$('<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  fill="rgb(159, 159, 159)" d="M9.841,0.600 C9.831,0.595 9.825,0.587 9.815,0.583 C8.977,0.216 8.054,0.008 7.083,-0.002 C7.079,-0.002 7.077,-0.002 7.074,-0.002 C7.072,-0.002 7.071,-0.002 7.069,-0.002 C6.915,-0.003 6.764,0.003 6.612,0.013 C6.506,0.018 6.402,0.029 6.297,0.039 C6.280,0.041 6.264,0.042 6.247,0.044 L6.247,0.045 C5.022,0.179 3.888,0.626 2.936,1.311 L2.251,0.302 L1.250,4.516 L5.454,4.062 L4.590,3.248 C5.132,2.896 5.753,2.661 6.420,2.572 C6.420,2.572 6.832,2.548 7.044,2.550 C9.525,2.575 11.516,4.606 11.492,7.087 C11.467,9.568 9.435,11.559 6.955,11.534 C4.474,11.510 2.483,9.479 2.507,6.997 C2.509,6.781 2.532,6.570 2.564,6.362 L0.171,5.458 C0.064,5.933 0.003,6.424 -0.002,6.930 C-0.041,10.798 3.063,13.964 6.930,14.002 C10.797,14.040 13.963,10.937 14.002,7.070 C14.030,4.189 12.315,1.700 9.841,0.600 Z"/></svg>').css({width:"14px",height:"25px",padding:"1px 5px"}).appendTo(t),e=$("<span>").text(I.get("clear_sign")).css({color:"#919191","font-size":"11pt"}),$("<div>").css({height:"25px",display:"inline-block","line-height":"25px","vertical-align":"top"}).append(e).appendTo(t),(T=S[0].getContext("2d")).clearRect(0,0,S[0].width,S[0].height),T.drawImage(o,0,0,S[0].width,S[0].height)}function n(){t=$("#m2soft-crownix-container"),p=t.width(),t=.5*(f=t.height()),g=o.width,m=o.height,A.browser.mobile?.95*p<(x=(w=.95*f-30-44)*(g/m))&&(w=(x=.95*p)*(m/g)):(x=(w=t<m?t:m)*(g/m),(v=Math.min(E,p-20))<x&&(w=(x=v)*(m/g))),b=A.browser.mobile?.95*p:Math.max(x+200,260),y=A.browser.mobile?.95*f:w+30+44+6,C=(f-y)/2,i=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({left:(p-b)/2,top:C,width:b+"px",height:y+"px","z-index":M.WINDOW_Z_INDEX,"user-select":"none"}).prependTo(d);var t=a.element&&a.element.attr("tt")||I.get("seal_window_title");$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").addClass("crownix-seal-title").append(t).appendTo(i),h=$("<div>").addClass("crownix-window-body").css({width:"100%",height:y-30-44+"px",background:"#FFFFFF"}).appendTo(i),e(x,w),u=$("<div>").addClass("crownix-seal-footer").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({"line-height":"41px",display:"inline-block"}).appendTo(i),function(){var t=$("<div>").attr("class","crownix-signature-button-dom").css({width:"400px"}).appendTo(u);k=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px","max-width":"25%",padding:"0 3px"}).bind("click",function(t){a.signType="1",D(o.src),O()}).on("keydown",function(t){t.preventDefault(),t.stopPropagation(),9===t.keyCode&&"disabled"!=$(this).attr("disabled")&&(t.shiftKey?s.hasPrev()&&(D(o.src),O(),s.movePrev()):s.hasNext()&&(D(o.src),O(),s.moveNext()))}).appendTo(t),$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({width:"10%","min-width":"18px",fill:"#FFFFFF","padding-right":"4px","vertical-align":"middle"}).appendTo(k),$("<span>").text(I.get("ok_button_text")).appendTo(k);var e=$('<button type="button"></button>').attr("id",M.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").css({width:"105px","max-width":"25%","margin-right":0}).bind("click",function(t){r.options.mirroring.enable&&r.mirroringManager.externalEvent.setValue(a.formId,a.id,a.value),O()}).prependTo(t),i=($("<span>").text(I.get("cancel_button_text")).appendTo(e),{max:20,limitSize:5}),t=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"105px","max-width":"25%",padding:"0 3px","margin-right":0}).bind("click",function(t){O(),$("canvas[id="+a.elementId+"-canvas]").hide(),$("input[id="+a.elementId+"]").hide(),a.placeHolder&&a.placeHolder.hide(),$("canvas[id="+a.elementId+"]").css("display","inline-block"),$("canvas[id="+a.elementId+"]").click()}).prependTo(t);$("<span>").text(I.get("sign_window_title")).appendTo(t),A.adjustFontsize(k,i),A.adjustFontsize(t,i),A.adjustFontsize(e,i),t=$("<div>").css({width:"100%",position:"absolute"}).prependTo(u),(r.options.formField.keepTabButton||!l.isEnabled&&0<s.length()&&s.exist(a.elementId)&&s.hasPrev())&&(e=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").css({float:"left",padding:"0 5px"}).on("click",function(t){D(o.src),O(),s.movePrev()}).appendTo(t),$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%",margin:"0px -3px 0 0px","min-width":"18px","fill-opacity":"0.7","vertical-align":"middle"}).appendTo(e),$("<span>").text(I.get("back")).appendTo(e),A.adjustFontsize(e,i)),(r.options.formField.keepTabButton||!l.isEnabled&&0<s.length()&&s.exist(a.elementId)&&s.hasNext())&&(t=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").css({float:"right",padding:"0 5px"}).on("click",function(t){D(o.src),O(),s.moveNext()}).appendTo(t),$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(t),$("<span>").text(I.get("next")).prependTo(t),A.adjustFontsize(t,i))}(),i.css("visibility","visible").fadeIn(500,function(){k.focus(),s.setPreventMove(!1),s.removePreventDom()})}function t(t,e,i){r=i,F.call(this,t,e),this.showAttorney=function(t){s=m2soft.crownix.FieldOrder.getInstance(),l=m2soft.crownix.GuideManager.getInstance(),s.setPreventMove(!0),r.isOpenWindow=!0,a=this,(o=new Image).src=t,o.onload=function(){d=$("#m2soft-crownix-container"),(c=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":M.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(d))[0].addEventListener("touchstart",function(t){t.preventDefault()}),r.isOpenWindow&&c.fadeIn(100),n()},r.options.mirroring.enable&&(t="0"==a.signType?JSON.stringify({value:a.value,signature:a.signature}):a.value,r.mirroringManager.externalEvent.setSignValue({formId:a.formId,fieldId:a.id,value:t,signType:a.signType}))}}var r,o,a,s,l,d,c,i,h,u,p,f,g,m,w,x,v,b,y,C,k,S,T,I=m2soft.crownix.Resource,M=m2soft.crownix.Constant,A=m2soft.crownix.Util,F=m2soft.crownix.Field.Signature,E=A.browser.mobile?2048:780,P={"box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-webkit-box-sizing":"border-box"},D=function(t){a.setValue(t),r.formManager.getSealSignature(a.groupSignId).setLastSignValue(t),r.formManager.trigger("change",a.formId,a.id),r.formManager.modified(a),r.shareManager&&r.shareManager.sendFormField({formId:a.formId,fieldId:a.id,value:a.value}),r.options.mirroring.enable&&(t="0"==a.signType?JSON.stringify({value:a.value,signature:a.signature}):a.value,r.mirroringManager.externalEvent.setSignValue({formId:a.formId,fieldId:a.id,value:t,signType:a.signType}),r.mirroringManager.externalEvent.sendEvent(a.formId,a.id,"change"))},O=function(){r.isOpenWindow=!1,i.remove(),c&&c.remove(),$("canvas[id="+a.elementId+"-canvas]").removeClass("crownix-formfield-blink"),s.focusHiddenTab()};return(t.prototype=Object.create(F.prototype)).constructor=t}(),m2soft.ns("m2soft.crownix.Field.TextArea"),m2soft.crownix.Field.TextArea=function(){function t(t,e){i.call(this,t,e),this.originalValue=this.value=t.text(),this.originalEditable=this.editable,this.regExpression=t.attr("re"),this.validityMessage=t.attr("rem"),this.referenceId=t.attr("rfi"),this.limitiedLineLength=t.attr("ll"),this.setEvent(t),this.disableColor=!t.attr("nc")||"0"!==t.attr("nc"),this.element=t,this.valid=!0,this.title=t.attr("tt")||this.id,this.style={}}var i=m2soft.crownix.Field;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.validateRegEx=function(t){var e,i;t=t||this.value,this.regExpression&&(e=new RegExp(this.regExpression),i=$("#crownix_form_field_"+this.formId+"_"+this.id+"_warning"),""==t||e.test(t)||"1"===this.commonHidden?(i.hide(),this.valid=!0):(i.show(),this.valid=!1))},t.prototype.spreadToShareField=function(t,e,i){if(this.referenceId&&"1"!==e[this.referenceId].commonHidden)e[this.referenceId].spreadToShareField(t,e,i);else for(var n in this.id!=t.id&&(this.value=t.value,this.validateRegEx(),$("#crownix_form_field_"+ +i+"_"+this.id).val(t.value),this.modified=!0),e)e[n].referenceId==this.id&&e[n].id!=t.id&&"1"!==e[n].commonHidden&&(e[n].setValue(t.value),e[n].validateRegEx(),e[n].determineEffect(),e[n].modified=!0)},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.value=t,$("[id="+this.elementId+"]").val(t),this.validateRegEx(),this.determineEffect()},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("[id="+this.elementId+"]");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr({readonly:"0"===this.editable}),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i,n;0<=this.id.indexOf("-")&&(e=this.id,i=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=i,this.element.attr("id",i),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:n,name:i}),$("#crownix_form_field_"+this.formId+"_"+e+"_warning").attr("id","crownix_form_field_"+this.formId+"_"+i+"_warning"),this.setElementId(n),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Field.TextField"),m2soft.crownix.Field.TextField=function(){function t(t,e){i.call(this,t,e),this.value=this.originalValue=this.value=t.text(),this.originalEditable=this.editable,this.regExpression=t.attr("re"),this.validityMessage=t.attr("rem"),this.referenceId=t.attr("rfi"),this.password=t.attr("pw"),this.inputType=t.attr("it")||"text",this.realDateFormat=t.attr("df")||"yyyy-MM-dd",this.displayDateFormat=t.attr("dfv")||"yyyy-MM-dd",this.disableColor=!t.attr("nc")||"0"!==t.attr("nc"),this.numberFormat=t.attr("ft"),this.checkZero=t.attr("cz"),this.checkNoZero=t.attr("cnz"),this.japanYear=parseInt(t.attr("jy"))+("1"===t.attr("gn")?2:0),this.setEvent(t),this.element=t,this.valid=!0,this.title=t.attr("tt")||this.id,this.style={}}var i=m2soft.crownix.Field,e=m2soft.crownix.util.DateUtil,n=m2soft.crownix.util.NumberUtil;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.validateRegEx=function(t){var e,i;t=t||this.value,this.regExpression&&(e=new RegExp(this.regExpression),i=$("#crownix_form_field_"+this.formId+"_"+this.id+"_warning"),""==t||e.test(t)||"1"===this.commonHidden?(i.hide(),this.valid=!0):(i.show(),this.valid=!1))},t.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}},t.prototype.spreadToShareField=function(t,e,i){if(this.referenceId&&"1"!==e[this.referenceId].commonHidden)e[this.referenceId].spreadToShareField(t,e,i);else for(var n in this.id!=t.id&&(this.value=t.value,this.validateRegEx(),$("#crownix_form_field_"+i+"_"+this.id).val(t.value),this.modified=!0),e)e[n].referenceId==this.id&&e[n].id!=t.id&&"1"!==e[n].commonHidden&&(e[n].setValue(t.value),e[n].validateRegEx(),e[n].determineEffect(),e[n].modified=!0)},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.value=t,t="date"===this.inputType?e.convertDateFormat(t,this.realDateFormat,this.displayDateFormat,this.japanYear,this.checkZero):"text"!==this.inputType&&"number"!==this.inputType&&"tel"!==this.inputType||!this.numberFormat?t:new n(this.numberFormat,this.checkZero,this.checkNoZero).formatNumber(t.toString()),$("[id="+this.elementId+"]").val(t),this.validateRegEx(),this.determineEffect()},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("#"+this.elementId);this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr({readonly:"0"===this.editable}),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i,n;0<=this.id.indexOf("-")&&(e=this.id,i=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=i,this.element.attr("id",i),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:n,name:i}),$("#crownix_form_field_"+this.formId+"_"+e+"_warning").attr("id","crownix_form_field_"+this.formId+"_"+i+"_warning"),this.setElementId(n),this.index=t)},t}(),m2soft.crownix.Field.Picture=function(){function t(t,e){i.call(this,t,e),this.originalValue=this.value=t.attr("dt")||"",this.originalEditable=this.editable,this.setEvent(t),this.ratio=t.attr("ra")||0,this.placeHolder=null,this.element=t,this.title=t.attr("tt")||this.id,this.idCardCapture=t.attr("idc")||"0"}var i=m2soft.crownix.Field;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.toData=function(){var t;return this.value&&(t=this.value.split(",")[1]||""),{id:this.id,value:t,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var r,o,a,s=$("[id="+this.elementId+"-canvas]")[0];t?"string"==typeof t&&(o=new Image,a=this,o.onload=function(){var t,e,i,n;s&&((r=s.getContext("2d")).clearRect(0,0,s.width,s.height),1==a.ratio?(i=o.width/o.height,(n=s.width/s.height)<i?(t=s.height*(n/i),e=(s.height-t)/2,r.drawImage(o,0,e,s.width,t)):(i=s.width*(i/n),n=(s.width-i)/2,r.drawImage(o,n,0,i,s.height))):2==a.ratio?r.drawImage(o,0,0):r.drawImage(o,0,0,s.width,s.height),a.placeHolder&&a.placeHolder.hide()),a.determineEffect(),$("#crownix_form_field_"+a.formId+"_"+a.element[0].id).trigger("change")},a.value=o.src=t):(s&&((r=s.getContext("2d")).clearRect(0,0,s.width,s.height),this.placeHolder&&this.placeHolder.show()),this.value="",this.determineEffect())},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("#"+this.elementId+"-canvas");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled","0"===this.editable),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i,n;0<=this.id.indexOf("-")&&(e=this.id,i=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=i,this.element.attr("id",i),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:n,name:i}),$("#crownix_form_field_"+this.formId+"_"+e+"-canvas").attr({id:"crownix_form_field_"+this.formId+"_"+i+"-canvas",name:i}),this.setElementId(n),this.index=t)},t}(),m2soft.crownix.Field.Submit=function(){function t(t,e,i,n,r,o,a,s){this.type="sm",this.id=t.attr("id"),this.url=t.attr("su"),this.datasource=t.attr("ds"),this.service=t.attr("sc"),this.editable=t.attr("ed")||"1",this.target=t.attr("sf"),this.formId=t.attr("fi"),this.mode=t.attr("rf")||"0",this.csvfileName=t.attr("cfn")||void 0,this.isFloating=a,this.mrdPath=n,this.mrdParam=r,this.mrdData=o,this.builder=e,this.title=t.attr("tt")||this.id,-1<s&&(this.appendIndex=s),A=(M=i).enableSecure,S=m2soft.crownix.FieldOrder.getInstance()}function b(e,t){var i;try{i=window.pako.gzip(e),t&&"string"===t.to&&(i=String.fromCharCode.apply(null,i)),c=!0}catch(t){t&&console.log(t.message),c=!1,i=e}return i}function y(){return 0<Object.keys(d).length}function C(t,e,i,n){var r=a.getCryptoWorker(t,i,n),o=$.Deferred();return r.addEventListener("message",function(t){"finalize"===t.data.method&&(o.resolve(t.data.text),r.terminate())}),r.postMessage({method:"finalize",text:e}),o}function k(t,e,i,n,r){var o=new m2soft.crownix.Ajax,a=$.Deferred();if(o.setConnectTimeout(i),o.setHandler({done:function(t){a.resolve(t.responseText)},error:function(t,e){e?a.reject({status:!1,code:"error",message:e,timestamp:void 0}):0==t.status?a.reject({status:!1,code:"error",message:F.get("server_connect_error"),timestamp:void 0}):a.reject({status:!1,code:"error",message:F.get("request_server_error"),timestamp:void 0})},abort:function(){a.reject({status:!1,code:"abort",message:F.get("request_abort_error"),timestamp:void 0})},timeout:function(){a.reject({status:!1,code:"timeout",message:F.get("request_timeout_error"),timestamp:void 0})}}),o.setRequestHeader("crownix-version",P.INFO_TALK_PROTOCOL_VERSION),A&&(o.setRequestHeader("crownix-encrypt-type","content"),o.setRequestHeader("crownix-rdid",n)),r&&o.setRequestHeader("crownix-data-hash",r),c&&("string"==typeof e?o.setRequestHeader("crownix-formdata-encoding","gzip; charset=UTF-8"):o.setRequestHeader("crownix-formdata-encoding","gzip")),y()){var s,l=new FormData;for(s in l.append("request",e),d)l.append(s,d[s]);o.setRequestHeader("Content-Type",null),o.invoke(t,l)}else{r=M.infotalk.contentType;r&&"string"==typeof r&&o.setRequestHeader("Content-Type",r),o.invoke(t,e)}return a}var S,T,I,d,M,A,F=m2soft.crownix.Resource,E=m2soft.crownix.security.IKE,a=m2soft.crownix.WorkerUtil,P=m2soft.crownix.Constant,D=m2soft.crownix.Message,O=m2soft.crownix.Util,c=!1;return t.prototype={submit:function(h,u,p,t,f){if(!this.url||!this.service||!this.datasource)return f.mirroringManager&&f.mirroringManager.externalEvent.returnSubmitFinished({status:!1,message:F.get("form_submit_info_leak_error")}),void u.show(F.get("form_submit_info_leak_error"));var g,m=function(t,e){var i={};if(this.target)if(0<=this.target.indexOf(",")){var n,r=this.target.split(",");for(n in r)if(e[r[n]].isRepeated)for(var o in t)0<=o.indexOf(r[n]+"-")&&(i[o]=t[o]);else i[r[n]]=t[r[n]]}else if(t[this.formId]&&!t[this.formId].isRepeatForm())i[this.formId]=t[this.formId];else if(t[this.formId]&&t[this.formId].isRepeatForm()&&"1"==this.mode)i[this.formId]=t[this.formId];else for(var o in t)0<=o.indexOf("-")&&this.target==o.substring(0,o.indexOf("-"))&&(i[o]=t[o]);else i=t;return i}.call(this,p,t);if($.isEmptyObject(m))return D.log(F.get("form_submit_not_found_form")+" [form id:"+this.formId+"] [target:"+this.target+"]"),f.mirroringManager&&f.mirroringManager.externalEvent.returnSubmitFinished({status:!1,message:F.get("form_submit_not_found_form")}),void u.show(F.get("form_submit_not_found_form"),{inputHandler:function(){S.blur()}});if(f.dataManager.isError()){var e=f.dataManager.getErrorMessage();return f.mirroringManager&&f.mirroringManager.externalEvent.returnSubmitFinished({status:!1,message:F.get(e)}),void u.show(e)}t=f.formManager.validator.onSubmit(m);if("object"!=typeof t||!1!==t.isInvalid){if(f.options.mirroring.enable&&f.options.mirroring.syncInvalid){var i,n=[];for(i in m)n.push(i);f.mirroringManager.externalEvent.validate(n)}return f.shareManager&&f.shareManager.isConnected()&&f.shareManager.validate(n),void(f.mirroringManager&&f.mirroringManager.externalEvent.returnSubmitFinished({status:!1,message:F.get("submit_fail_not_filled_required_form")}))}I=t.forms,d=t.files,(g=t.submitFieldList).push({formId:this.formId,fieldId:this.id});function r(){var t,e={};(this.service==P.SERVICE_EXPORT_HANDLER||this.service==P.SERVICE_SECUCEN_HANDLER||2e3<=this.service)&&(e={mrd_path:w,mrd_param:x},t=this.builder(),e.mrd_path=t.concatMrdPath(e.mrd_path),null!=v&&""!=v&&(e.mrd_data=t.concatMrdPath(v)),3<f.encType?(e.mrd_param=t.concatMrdPath(e.mrd_param),e.enc_type=f.encType,e.mrd_plain_param=t.concatMrdParam(m,f.mrdPlainParam||"",{isPrint:!0})):e.mrd_param=t.concatMrdParam(m,e.mrd_param||"",{isPrint:!0}),(t=t.getAttachFileParam())&&(e.attach_file=t),(t=f.formManager.getUniqueObject("fingerprint"))&&t.buildParam(e),e=$.extend(!0,f.submitParameters,e));var i={version:P.INFO_TALK_PROTOCOL_VERSION,service:this.service,datasource:this.datasource,forms:I,data:f.dataManager.getDataList(),totalPage:f.totalPage,parameters:e,csvfilename:this.csvfileName};f.options.infotalk.protocol&&(i.protocol=f.options.infotalk.protocol);var n,r,o,a,s=u.message(F.get("submit_formfield"),null,!0,f.options.submitMsgPosition);function l(t){try{var e=$.parseJSON(t);if(!0===e.status)if(M.formField.editAfterSubmit)S.removeField(g);else{for(var i in m)p[i].unbindEvent(),p[i].disableEdit(),p[i].isSubmitted=!0;d.disableEdit(),"0"===d.mode&&(f.formManager.batchSubmitted=!0)}else e.code="infotalk server error";c(e)}catch(t){D.log(t.stack),c({status:!1,code:"invalid protocol",message:F.get("invalid_protocol"),timestamp:void 0})}}f.mirroringManager&&f.mirroringManager.externalEvent.showMessageOverlay(F.get("submit_formfield"));var d=this,c=function(t){S.blur(),!0===t.status?f.options.noMessageOfSubmitSuccess||u.show(F.get("submit_formfield_insert_ok")):f.options.noMessageOfSubmitFail||u.show(t.message),s.fadeOut(500,function(){s.remove()}),h(t,m),T&&T.close()};A?E.request({serverUrl:this.url}).pipe(function(t){return n=E.getAlgorithm(t),r=t,o=E.getKey(t),i.rdid=t,i=JSON.stringify(i).split("\\u0004").join(""),f.options.infotalk.dataVerification&&(a=O.sha256(i)),M.infotalk.compressRequest&&(i=b(i,{to:"string"})),C("encrypt",i,n,o)},function(t){return $.Deferred().reject({status:!1,code:"security error",message:t,timestamp:void 0})}).pipe(function(t){return k(d.url,t,f.options.infotalk.timeout,r,a)},function(t){c(t)}).pipe(function(t){return C("decrypt",t,n,o)}).pipe(function(t){l(t)}):(i=JSON.stringify(i).split("\\u0004").join(""),f.options.infotalk.dataVerification&&(a=O.sha256(i)),M.infotalk.compressRequest&&!y()&&(i=b(i)),k(this.url,i,f.options.infotalk.timeout,null,a).pipe(function(t){l(t)},function(t){c(t)}))}function o(){var e=this;f.options.showSubmitConfirm.show?u.show(f.options.showSubmitConfirm.message||F.get("submit_confirm_message"),{type:"confirm",title:f.options.showSubmitConfirm.title,ok:f.options.showSubmitConfirm.textYes,cancel:f.options.showSubmitConfirm.textNo,inputHandler:function(t){t&&r.call(e)}}):r.call(e)}var a,w=this.mrdPath,x=this.mrdParam,v=this.mrdData;f.options.submitPreview&&!this.target?(e=u.message(F.get("print_submit_preview")),a=this,setTimeout(function(){(T=new m2soft.crownix.submit.Preview(f,function(){f.shareManager&&f.shareManager.isConnected()?f.shareManager.submitRequest(a.formId,a.id,a.target,function(){o.call(a)}):o.call(a)})).show(function(){e.remove()})},0)):(a=this,f.shareManager&&f.shareManager.isConnected()?f.shareManager.submitRequest(a.formId,a.id,a.target,function(){o.call(a)}):o.call(a))},disableEdit:function(){this.editable="0",$("[formid="+this.formId+"][fieldid="+this.id+"]").removeClass("crownix-dialog-button-action").attr("disabled",!0).off()}},t}(),m2soft.ns("m2soft.crownix.Field.File"),m2soft.crownix.Field.File=function(){function t(t,e){i.call(this,t,e),this.file=null,this.value=t.attr("vl")||"",this.required=t.attr("rq")||"0",this.placeHolder=t.attr("ph")||"",this.drilldownId,this.element=t,this.setEvent(t),this.setFileName,this.editableMode,this.readonlyMode,this.title=t.attr("tt")||this.id}var i=m2soft.crownix.Field;m2soft.crownix.FieldOrder;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.validate=function(t){return t=t||this.file&&0<this.file.size,"1"!=this.required||"0"!==this.commonHidden||!!t},t.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){this.editable=t?"1":"0","1"===this.editable?this.editableMode&&this.editableMode():this.readonlyMode&&this.readonlyMode(),this.determineEffect()},t.prototype.changeRepeatedIndex=function(t){var e,i,n;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,i=this.id,this.id=e,this.element.attr("id",e),this.element.attr("idx",t),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#crownix_form_field_file_label_"+this.formId+"_"+i).attr({id:"crownix_form_field_file_label_"+this.formId+"_"+e,for:"crownix_form_field_input_file_"+this.formId+"_"+e,name:e}),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#crownix_form_field_input_file_"+this.formId+"_"+i).attr({id:"crownix_form_field_input_file_"+this.formId+"_"+e,name:e}),$("#crownix_form_field_file_name_"+i).attr({id:"crownix_form_field_file_name_"+e}),$("#crownix_form_field_file_name_text_"+i).attr({id:"crownix_form_field_file_name_text_"+e}),$("#"+this.elementId).attr({id:n,name:e}),this.setElementId(n),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Field.Pen"),m2soft.crownix.Field.Pen=function(){function t(t,e){i.call(this,t,e),this.originalValue=this.value=t.attr("dt")||"",this.originalEditable=this.editable,this.setEvent(t),this.placeHolder=null,this.element=t,this.title=t.attr("tt")||this.id,this.backgroundText=t.attr("bt")||"",this.signature=null,this.fontStyle={}}var i=m2soft.crownix.Field;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.toData=function(){var t;return this.value&&(t=this.value.split(",")[1]||""),{id:this.id,value:t,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e,i,n,r,o,a=$("[id="+this.elementId+"-canvas]").not(".crownix-guide-canvas")[0]||$("[id="+this.elementId+"]")[0],s=m2soft.crownix.Painter.adjustCoord(this.element.attr("ri"))-1-(m2soft.crownix.Painter.adjustCoord(this.element.attr("le"))+2),l=m2soft.crownix.Painter.adjustCoord(this.element.attr("bo"))-1-(m2soft.crownix.Painter.adjustCoord(this.element.attr("to"))+2);!t||t.signature&&t.signature.lines.length<=0?(a&&((e=a.getContext("2d")).clearRect(0,0,a.width,a.height),(i=new m2soft.crownix.FormField.Signature({},{width:s,height:l,guideText:this.element.attr("ph")||this.backgroundText,guideTextStyle:this.fontStyle})).drawSignature(a,{guideTextImageData:!0})),this.value="",this.signature=null):"object"==typeof t?(a=a||(a=$('<canvas class="temp">').attr({width:s,height:l}).appendTo("body"))[0],(i=new m2soft.crownix.FormField.Signature(t.signature,{width:s,height:l,fixedGuideText:!!this.backgroundText,guideText:this.element.attr("ph")||this.backgroundText,guideTextStyle:this.fontStyle,maxLineWidth:8})).drawSignature(a,{fixedGuideText:!0,ratioType:!0}),n=i.toData(s,l,{ratioType:!0,dpi:t.signature.dpi||96}),this.signature=i,this.value=n,$(a).hasClass("temp")&&$(a).remove()):"string"==typeof t&&(r=new Image,o=this,r.onload=function(){a&&((e=a.getContext("2d")).clearRect(0,0,a.width,a.height),(i=new m2soft.crownix.FormField.Signature({},{width:s,height:l,guideText:o.backgroundText,guideTextStyle:o.fontStyle})).drawSignature(a,{guideTextImageData:!0}),setTimeout(function(){e.drawImage(r,0,0,a.width,a.height)},0))},r.src=o.value=t,o.signature=null),this.determineEffect()},t.prototype.getSignature=function(){return{signature:this.signature,value:this.value}},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$("[id="+this.elementId+"-canvas]")||$("[id="+this.elementId+"]");this.editable=t?"1":"0","0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||e.attr("disabled","0"===this.editable),this.determineEffect()},t.prototype.getBackgroundText=function(){return this.backgroundText},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=e,this.element.attr("id",e),this.element.attr("idx",t),i=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:i,name:e}),this.setElementId(i),this.index=t)},t.prototype.validate=function(t){return t=t||(this.value||this.signature&&0<this.signature.lines.length),"0"==this.required||"1"===this.commonHidden||!!t},t}(),m2soft.ns("m2soft.crownix.Field.Recorder"),m2soft.crownix.Field.Recorder=function(){function t(t,e){i.call(this,t,e),this.file=null,this.value=t.attr("vl")||"",this.required=t.attr("rq")||"0",this.title=t.attr("tt")||this.id,this.bitRate=parseInt(t.attr("br")||"128",10),this.sampleRate=parseInt(t.attr("sr")||"22050",10),this.recordTime=parseInt(t.attr("tm")||"30",10),this.drilldownId,this.element=t,this.setEvent(t)}var i=m2soft.crownix.Field;return((t.prototype=Object.create(i.prototype)).constructor=t).prototype.validate=function(t){return t=t||this.file&&0<this.file.size,"1"!=this.required||"0"!==this.commonHidden||!!t},t.prototype.toData=function(){return{id:this.id,value:this.value,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){this.editable!=t&&(this.editable=t?"1":"0");var e=$("#"+this.elementId).parents("#m2soft-crownix-field-wrapper");t?e.removeClass("crownix-formfield-disable"):e.addClass("crownix-formfield-disable"),this.determineEffect()},t.prototype.isAttached=function(){return null!==this.file},t.prototype.changeRepeatedIndex=function(t){var e,i;0<=this.id.indexOf("-")&&(e=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=e,this.element.attr("id",e),i=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:i,name:e}),this.setElementId(i),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Field.MathField"),m2soft.crownix.Field.MathField=function(){function t(t,e,i){if(o.call(this,t,e),this.originalValue=this.value=t.text(),this.imageData="",this.originalEditable=this.editable,this.setEvent(t),this.placeHolder=t.attr("ph"),this.element=t,this.title=t.attr("tt")||this.id,this.dpi=t.attr("dpi")||96,this.go=i,this.noDefaultAction=t.attr("da"),a.getMathLibsInfo().support){this.mathField=new MathfieldElement({virtualKeyboardMode:"onfocus"});for(var n=this.mathField.getOptions().keybindings,r=0;r<n.length;r++)0<=n[r].key.toUpperCase().indexOf("TAB")&&n.splice(r--,1);this.mathField.setOptions({keybindings:n,readOnly:"1"===this.noDefaultAction}),s.call(this)}}var o=m2soft.crownix.Field,a=m2soft.crownix.Util,s=function(){var t=this,e=this.value,i=document.createElement("canvas"),n=i.getContext("2d"),r=$("#crownix_form_field_"+this.formId+"_"+this.id).parent("div"),o=$(m2soft.crownix.Painter.latexToSVG(e||this.placeHolder,this.element)),a=(this.go.report.getHeadForPage(this.page).textAttrList[this.element.attr("tid")]||{}).cl;o.css({color:e?a:"gray","vertical-align":"none"}).attr({class:"0"===this.editable?"crownix-math-field-disabled":""}).appendTo($("#crownix-hidden-dom"));var s={width:$(o).width()-2,height:$(o).height()-2},a={width:s.width*this.dpi/96,height:s.height*this.dpi/96};o.attr(a),$(i).css(a).attr(a);a=(new XMLSerializer).serializeToString(o[0]);o[0]&&!o[0].innerHTML&&(a=(a=(a=a.replace(/xmlns:NS1=""/,"")).replace(/NS1:xmlns/g,"xmlns")).replace(/<svg xmlns="http:\/\/www.w3.org\/2000\/svg"/,"<svg "));canvg.Canvg.fromString(n,a,{ignoreClear:!0,ignoreDimensions:!0,ignoreMouse:!0,ignoreAnimation:!0,renderFinished:function(){o.remove(),r.children("svg").remove(),r.append(o),o.attr(s).bind("click tap",function(){setTimeout(function(){o.hide(),$(t.mathField).show().click().focus()},100)}),t.imageData=t.value?i.toDataURL("image/png"):""}}).start()};return((t.prototype=Object.create(o.prototype)).constructor=t).prototype.validate=function(t){return t=t||this.value,"0"===this.required||"1"===this.commonHidden||!!t},t.prototype.toData=function(){return{id:this.id,value:(this.imageData.split(",")[1]||"")+","+this.value,type:this.type,page:this.page}},t.prototype.getValue=function(){return this.value},t.prototype.getImageValue=function(){return this.imageData},t.prototype.setValue=function(t){t=t.replaceAll("\\placeholder","").replaceAll("\\exponentialE","\\mathrm{e}").replaceAll("\\imaginaryI","\\mathrm{i}").replaceAll("\\differentialD","\\mathrm{d}"),this.value=t,a.getMathLibsInfo().support&&(this.mathField.setValue(t),this.determineEffect(),s.call(this))},t.prototype.getEditable=function(){return"1"===this.editable},t.prototype.setEditable=function(t){var e=$(this.mathField),i=e.siblings("svg")[0];this.editable=t?"1":"0",a.getMathLibsInfo().support&&("0"!==this.editable&&("1"!==this.editable||e.hasClass("crownix-field-lock")||e.hasClass("crownix-auth-lock"))||(e.attr({readonly:"0"===this.editable}),i&&i.setAttribute("class","0"===this.editable?"crownix-math-field-disabled":"")),this.determineEffect())},t.prototype.changeRepeatedIndex=function(t){var e,i,n;0<=this.id.indexOf("-")&&(e=this.id,i=this.id.substring(0,this.id.indexOf("-")+1)+t,this.id=i,this.element.attr("id",i),n=this.elementId.substring(0,this.elementId.indexOf("-")+1)+t,$("#"+this.elementId).attr({id:n,name:i}),$("#crownix_form_field_"+this.formId+"_"+e+"_warning").attr("id","crownix_form_field_"+this.formId+"_"+i+"_warning"),this.setElementId(n),this.index=t)},t}(),m2soft.ns("m2soft.crownix.Form"),m2soft.crownix.Form=function(){function r(t,e,i){this.formId=t,this.go=e,this.eventNameList=[],this.fieldList={},i=i||{},this.commonFieldHint={type:i.commonFieldHintingType,color:i.commonFieldHintingColor,displayType:i.commonFieldHintingDisplayType},this.requiredFieldHint={color:i.requiredFieldHintingColor},this.eventList={},(e=i.formLoadComplete)&&(this.eventList.formLoadComplete=e),this.formLoadComplete=!1,this.isSubmitted=!1,this.isRepeated=i.isRepeated,-1<(i=i.appendIndex)&&(this.appendIndex=i)}var f=m2soft.crownix.Resource,d=m2soft.crownix.Util,c=m2soft.crownix.Message,g=m2soft.crownix.Field.TextField,m=m2soft.crownix.Field.TextArea,w=m2soft.crownix.Field.CheckBox,x=m2soft.crownix.Field.ComboBox,v=m2soft.crownix.Field.RadioGroup,b=m2soft.crownix.Field.RadioButton,y=m2soft.crownix.Field.Signature,C=m2soft.crownix.Field.Picture,k=m2soft.crownix.Field.File,S=m2soft.crownix.Field.Pen,T=m2soft.crownix.Field.Recorder,e=m2soft.crownix.Constant,o=m2soft.crownix.Evaluator,I=m2soft.crownix.Field.SealSignature,M=m2soft.crownix.Field.MathField;return r.prototype={disableEdit:function(){for(var t in $(":not(button)[formId="+this.formId+"]").add($("label").has("[formId="+this.formId+"]")).off().attr("disabled",!0).bind("touchstart mousedown focus",function(t){t.preventDefault()}),this.fieldList)this.fieldList[t].setEditable(!1)},putField:function(o,t,e,i,n,r){var a=o.attr("id"),s=o.attr("ty"),l=o.attr("idx"),d=null;if(this.fieldList[a]&&!n){if(e)return;throw new Error(f.get("form_duplicated_id_error")+"("+o.attr("fi")+"."+a+")")}function c(t){var e;t.setIndex(l),t.elementId=(e=o,"rb"===s?"crownix_form_field_"+e.attr("fi")+"_"+e.attr("gi")+"_"+e.attr("id"):"crownix_form_field_"+e.attr("fi")+"_"+e.attr("id"));var i,n=t.getEventList();for(i in n){var r=n[i];h.eventNameList.indexOf(r)<0&&h.eventNameList.push(r)}}var h=this;if("tf"===s)d=new g(o,t);else if("ta"===s)d=new m(o,t);else if("cb"===s)d=new w(o,t);else if("co"===s)d=new x(o,t);else if("sg"===s)if("2"===o.attr("st")){if(this.go.formManager.getUniqueObject("fingerprint")&&!n)throw new Error(f.get("fingerprint_sign_duplicated"));d=new m2soft.crownix.Field.FingerPrintSignature(o,t,this.go),this.go.formManager.addUniqueObject("fingerprint",d)}else var u=this.go.report.getHeadForPage(this.go.options.scrollOptions.useInfiniteScroll?t:this.go.report.getDestPageNum(t)||this.go.currentPage),p=u.fontList,u=u.textAttrList[o.attr("tid")],d="1"==o.attr("asc")?new I(o,t,this.go):new y(o,t,p,u,this.go.options);else"im"===s?d=new C(o,t):"rb"===s?(a=o.attr("gi"),d=(d=this.fieldList[a])||new v(o,t),n&&d.initRadiogroup(),c(u=new b(o,t)),d.putButton(u,e,n)):"fl"===s?d=new k(o,t):"pn"===s?d=new S(o,t):"rec"===s?d=new T(o,t):"me"===s&&(d=new M(o,t,this.go));d&&(d.drilldownId=i,c(d),this.fieldList[a]=d,r&&(d.layerId=r.id),this.isSubmitted&&(d.setEditable(!1),d.setRequired(!1)),this.go.isGroupReport&&(d.mrdGroupId=this.go.mrdGroupManager.getCurrentMrdGroup().id))},removeField:function(t){if(this.fieldList[t])return delete this.fieldList[t],!0;for(var e in this.fieldList){e=this.fieldList[e];if("rg"===e.type&&e.buttonList[t])return delete e.buttonList[t],!0}return!1},getField:function(t){var e,i=this.fieldList[t];if(i)return i;for(e in this.fieldList)if("rg"===(i=this.fieldList[e]).type){var n=i.buttonList[t];if(n)return n}},getFields:function(){return this.fieldList},getFieldsWithRadioBtns:function(){var t,e={};for(t in this.fieldList){var i=this.fieldList[t];if("rg"==(e[t]=i).type)for(var n in i.buttonList)e[n]=i.buttonList[n]}return e},makeFormDataParameter:function(){var t,e=[];for(t in this.fieldList){var i=this.fieldList[t];e.push(this.formId+"."+i.id),e.push("["),"sg"===i.type||"im"===i.type||"pn"===i.type?(e.push("<*BASE64_DATA*>"),i.value&&e.push(i.value.split(",")[1])):"me"===i.type?(e.push("<*BASE64_DATA*>"),i.imageData&&e.push(i.imageData.split(",")[1]),e.push(",<*LATEX_DATA*>"),e.push(i.value)):"co"===i.type?e.push(i.isChangeList?i.getDisplayValue():i.value):"rg"===i.type?e.push(i.value||i.selectedId):"tf"===i.type||"ta"===i.type?i.value&&e.push(d.escapeUnicode(i.value,this.go.options.formField.textEscape)):i.value&&e.push(i.value),e.push("] ")}return e.join("")},makeFormInfoParameter:function(){var t,e=[],i=this.getFieldsWithRadioBtns();for(t in i){var n=i[t],r=String.fromCharCode(5);e.push(this.formId+"."+n.id),e.push("["),"string"==typeof n.required&&e.push(n.required),e.push(r),"string"==typeof n.editable&&e.push(n.editable),e.push(r),"string"==typeof n.commonHidden&&(!this.go.options.mirroring.enable||"Host"!==n.outputAuthority&&"Client"!==n.outputAuthority||"1"!==n.commonHidden?e.push(n.commonHidden):e.push(n.getOriginalCommonHidden())),e.push(r),"string"==typeof n.label&&e.push(n.label),"co"===n.type&&e.push(n.getDisplayValue()),e.push(r),"string"==typeof n.value&&"rb"===n.type&&e.push(n.value),void 0===n.value&&"rb"===n.type&&e.push(n.id),"tf"!==n.type&&"ta"!==n.type||!n.style||(e.push(r),e.push(n.style.bold),e.push(r),e.push(n.style.italic),e.push(r),e.push(n.style.underline),e.push(r),e.push(n.style.cancelLine),e.push(r),e.push(n.style.color)),e.push("] ")}return e.join("")},getHintingColor:function(t){if(!this.commonFieldHint||!this.commonFieldHint.type)return"";t=this.getField(t);return void 0!==t&&0<=this.commonFieldHint.type.indexOf(t.type)?{color:this.commonFieldHint.color,displayType:this.commonFieldHint.displayType}:""},getRequiredHintingColor:function(t){return this.requiredFieldHint.color||""},export:function(t){var e,i,n,r={id:this.formId,fields:{field:[]}},o=this.getFieldsWithRadioBtns(),a=this.go.options.formField.excludeOnFormData,s=t.mrdGroupId;for(n in o)i=o[n],a&&"1"===i.excludeOnFormData||s&&s!==i.mrdGroupId||(e={id:n,value:{__cdata:i.value},type:i.type,page:i.page,label:{__cdata:i.label},editable:i.editable,required:i.required,commonHidden:i.commonHidden},"co"===i.type?(e.selectedIndex=i.selectedIndex,e.displayValues=i.displayValues,e.actualValues=i.actualValues):"rg"===i.type?e.selectedId=i.selectedId:"rb"===i.type&&(e.gid=i.gid),"fl"!==i.type||this.go.shareManager&&this.go.shareManager.isConnected()||(e.value="",e.file=null),"rec"===i.type&&(e.value="",e.file=null),"sg"!==i.type&&"pn"!==i.type||i.signature&&0<i.signature.lines.length&&(e.signature=JSON.stringify(i.signature),e.value=""),"me"===i.type&&(e.value=i.toData().value),t.storage&&i.modified&&this.go.options.formField.modifiedDataStorage&&(e.m="1"),r.fields.field.push(e));return r},import:function(t,e){var i,n=t.fields.field;for(r in this.fieldList)(i=this.fieldList[r]).reset();for(var r=0;r<n.length;r++){var o,a,s=(i=n[r]).id,l=this.go.formManager.getFieldWrapper(this.formId,s);this.fieldList[s]?("cb"===i.type?"1"===i.value.__cdata||!0===i.value.__cdata?this.fieldList[s].setSelected(!0):this.fieldList[s].setSelected(!1):"fl"===i.type?(this.fieldList[s].value=i.value.__cdata,this.fieldList[s].setFileName&&this.fieldList[s].setFileName(i.value.__cdata)):this.fieldList[s].setValue(i.value.__cdata||""),this.fieldList[s].value&&this.fieldList[s].determineEffect(),(l||this.fieldList[s]).setEditable("1"===i.editable),"1"===i.required?this.fieldList[s].setRequired(!0,this.getRequiredHintingColor(s)):this.fieldList[s].setRequired(!1),o=this.fieldList[s].outputAuthority,this.go.options.mirroring.enable&&this.go.mirroringManager&&"All"!==o?(l=this.go.mirroringManager.externalEvent.isSubProcess())&&"Client"!==o||!l&&"Host"!==o?this.fieldList[s].hide():this.fieldList[s].element&&"1"!==this.fieldList[s].element.attr("ch")&&this.fieldList[s].show():"1"===i.commonHidden?this.fieldList[s].hide():this.fieldList[s].show(),this.fieldList[s].label=i.label.__cdata,"co"===i.type?(this.fieldList[s].setComboList(i.displayValues,i.actualValues),this.fieldList[s].setValueByIndex(i.selectedIndex,this.go,this.formId)):("1.0"===e&&"rb"===i.type||("1.1"===e||"1.2"===e)&&"rg"===i.type)&&this.fieldList[s].select(i.selectedId,this.formId,this.go),"tf"!==i.type&&"ta"!==i.type||""===i.value.__cdata||this.fieldList[s].validateRegEx(),"sg"!==i.type&&"pn"!==i.type||(i.signature&&this.fieldList[s].setValue({signature:JSON.parse(i.signature)}),i.value&&i.value.__cdata&&this.fieldList[s].setValue(i.value.__cdata)),"me"===i.type&&(a=i.value.indexOf(","),a=i.value.substring(a+1),this.fieldList[s].setValue(a))):"rb"!==i.type||!i.gid||(a=this.fieldList[i.gid])&&a.buttonList[s]&&(a.buttonList[s].commonHidden=i.commonHidden||"0")}},union:function(t){var t=t.getFields(),n=this.fieldList;$.each(t,function(i,t){if(n[i]&&"rg"===t.type)$.each(t.buttonList,function(t,e){if(n[i].buttonList[t])throw new Error(f.get("form_duplicated_id_error")+"("+t+")");n[i].buttonList[t]=m2soft.crownix.Field.clone(e)});else{if(n[i])throw new Error(f.get("form_duplicated_id_error")+"("+i+")");n[i]=m2soft.crownix.Field.clone(t)}})},complement:function(t){var e,i=t.getFields(),n=this.fieldList,r={};for(e in i)if("rg"==i[e].type)for(var o in i[e].buttonList)r[o]=i[e].buttonList[o];$.each(i,function(i,t){n[i]&&("rg"==n[i].type?($.each(r,function(t,e){n[i].buttonList[t]&&delete n[i].buttonList[t]}),0==$.objectSize(n[i].buttonList)&&delete n[i]):delete n[i])})},clone:function(){var t,e=new r(this.formId,this.dialog,this.movePage);for(t in this)if(this.hasOwnProperty(t))if("fieldList"==t)for(var i in e[t]={},this[t]){var n=this[t][i];e[t][i]=m2soft.crownix.Field.clone(n)}else e[t]=this[t];return e},unbindEvent:function(){$("#"+e.CONTAINER_ID).parent().off(".formfield","[formId="+this.formId+"]")},bindEvent:function(o,a,s){if(this.unbindEvent(),!this.isSubmitted)for(var t in this.eventNameList){t=this.eventNameList[t];d.browser.mobile&&"click"==t&&(t="tap "+t);var l=this;$("#"+e.CONTAINER_ID).parent().on(t+".formfield","[formId="+this.formId+"]",function(t){try{var e=$(t.target),i=e.attr("buttonId")||e.attr("name"),n=l.getField(i),r=t.type;if(!n||!l.go.formManager.isActive(l.formId))return;e=n.type;if("click"==(r=("im"==e||"sg"==e||"pn"==e||"co"==e)&&"tap"==r?"click":r)&&l.go.options.mirroring.enable&&("Host"==n.element.attr("sa")&&l.go.mirroringManager.externalEvent.isSubProcess()||"Client"==n.element.attr("sa")&&!l.go.mirroringManager.externalEvent.isSubProcess()&&"sg"!==e&&"tf"==e&&"ta"==e&&"pn"!==e)||l.go.shareManager&&l.go.shareManager.isConnected()&&("Host"==n.element.attr("sa")&&!l.go.shareManager.isHost()||"Client"==n.element.attr("sa")&&l.go.shareManager.isHost()))return;if(("click"==r||"focusin"==r)&&"0"==n.editable)return;l.go.options.mirroring.enable&&l.go.mirroringManager.externalEvent.sendEvent(l.formId,i,r),l.go.layerManager.selectFieldId=n.elementId,n.trigger(r,o,a,s,l.go.dialog),l.go.shareManager&&l.go.shareManager.sendEvent({formId:l.formId,fieldId:i,type:r})}catch(t){c.error(t.stack),l.go.dialog.show(f.get("formfield_event_error")+"<br>(fieldId:"+n.id+")")}})}},onLoadComplete:function(t,e,i){if(!this.formLoadComplete){try{var n=this.eventList.formLoadComplete;n&&o.buildFunction("function(form, viewer, layer, dialog)",d.base64.utf8Decode(n))(t,e,i,this.go.dialog)}catch(t){c.error(t.stack),this.go.dialog.show(f.get("formfield_event_error")+"<br>(formId:"+this.formId+")")}this.removePreventEvent()}},removePreventEvent:function(){$("#m2soft-crownix-text *, .crownix-layer-page *").off(".prevent"),this.formLoadComplete=!0},isRepeatForm:function(){return this.isRepeated},resetLoadingState:function(){this.formLoadComplete=!1},isLoadingComplete:function(){return this.formLoadComplete},setFiles:function(t){var e,i,n=this.fieldList;for(i in n)"1"!==(e=n[i]).excludeSubmit&&("fl"===e.type||"rec"===e.type)&&e.file&&0<e.file.size&&(t[this.formId+"."+i]=e.file)},changeFieldId:function(t,e){this.fieldList[e]=this.fieldList[t],delete this.fieldList[t]}},r}(),m2soft.ns("m2soft.crownix.FormLayerManager"),m2soft.crownix.FormLayerManager=function(){function n(t,e){this.layerId=t,this.formList={},this.submitList={},this.activated=!1,this.isFloating=!!e}var t=m2soft.crownix.ChannelManager;n.prototype={addForm:function(t){var e=t.formId;this.formList[e]=t},addSubmit:function(t){var e=t.id;this.submitList[e]=t},activate:function(){this.activated=!0,t.getChannel("formlayer:activate").publish({formList:this.getFormList()})},deactivate:function(){this.activated=!1,t.getChannel("formlayer:deactivate").publish({formList:this.getFormList()})},getFormList:function(){return this.formList},getForm:function(t){return this.formList[t]},exist:function(t){return!!this.formList[t]},existSubmit:function(t){return!!this.submitList[t]},export:function(){var t,e={layerId:this.layerId,formList:{},activated:this.activated};for(t in this.formList)e.formList[t]=this.formList[t].export();return e},import:function(t){for(var e in this.layerId=t.layerId,this.activated=t.activated,this.formList)this.formList[e]&&this.formList[e].import(t.formList[e])}};function e(){this.layerList={}}return e.prototype={exist:function(t,e){return!!this.layerList[t]&&!!this.layerList[t].exist(e)},isFloating:function(){for(var t in this.layerList){t=this.layerList[t];if(t.isFloating&&t.activated)return!0}return!1},add:function(t,e,i){this.layerList[t]||(this.layerList[t]=new n(t,i)),this.layerList[t].addForm(e)},addSubmit:function(t,e,i){this.layerList[t]||(this.layerList[t]=new n(t,i)),this.layerList[t].addSubmit(e)},getFormFieldIdList:function(t){var e,i={};for(e in this.layerList)if(!t||this.layerList[e].isFloating){var n,r=this.layerList[e].getFormList();for(n in r)void 0===i[n]&&(i[n]=Object.keys(r[n].fieldList))}return i},getFormListFromSubmit:function(t){var e,i={};for(e in this.layerList)if(this.layerList[e].existSubmit(t)){var n,r=this.layerList[e].getFormList();for(n in r)void 0===i[n]&&(i[n]=Object.keys(r[n].fieldList))}return i},activate:function(t){this.layerList[t]&&this.layerList[t].activate()},deactivate:function(t){this.layerList[t]&&this.layerList[t].deactivate()},getForm:function(t,e){return this.exist(t,e)?this.layerList[t].getForm(e):null},removeFormLayer:function(t){this.layerList[t]&&delete this.layerList[t]},export:function(){var t,e={layer:[]};for(t in this.layerList)e.layer.push(this.layerList[t].export());return e},import:function(t){for(var e in t.layer)this.layerList[e]&&this.layerList[e].import(t.layer[e])}},e}(),m2soft.ns("m2soft.crownix.FormWrapper"),m2soft.crownix.FormWrapper=function(t,e){var i=t,n=e;this.getId=function(){return n},this.get=function(t,e){return t="number"==typeof e?t+"-"+e:t,i.getFieldWrapper(n,t)},this.getList=function(t){return-1!=t.indexOf("*")?i.getFieldWildcardList(n,t):i.getFieldWrapperList(n,t)},this.initFormData=i.initFormData,this.showGroupSign=i.showGroupSign,this.getSignGroup=function(t){return i.getSignGroup(t)}},m2soft.ns("m2soft.crownix.FieldWrapper"),m2soft.crownix.FieldWrapper=function(t,i,e){var n=m2soft.crownix.Util,o=i,r=t,a=e,s=a.formManager,l=a.drilldownManager,d={OnChange:"change",change:"change",OnClick:"click",click:"click",onInput:"evinput",input:"evinput",focusout:"evfcout",onfocusout:"evfcout"};this.getId=function(){return o.id},this.getType=function(){return o.type},this.getValue=function(){return o.getValue()},this.setValue=function(t){var e;null==t&&"sg"!=o.type&&"pn"!=o.type||("rb"==o.type&&(e=s.getField(r,o.gid)),"sg"!=o.type||"2"!==o.signType||a.options.mirroring.enable?"sg"==o.type||"pn"==o.type?(null==t?t="":"object"==typeof t&&null==t.signature?t=t.lines?{signature:t}:t.value:"string"==typeof t&&(t=t.toString()),o.setValue(t),"sg"==o.type&&("1"==o.signType?a.formManager.getSealSignature(o.groupSignId):a.formManager.getSignGroup(o.groupSignId)).setLastSignValue(t)):o.setValue(null==t?"":t.toString(),e):o.setBioSignatureForDocument(t),"tf"!==o.type&&"ta"!==o.type||o.spreadToShareField(o,s.getFields(r),r),a.formManager.modified(o))},this.getSignature=function(){if("sg"==o.type||"pn"==o.type)return o.getSignature()},this.getLabel=function(){return o.getLabel()},this.setLabel=function(t){var e,i,n,r;null!=t&&(o.setLabel(t.toString()),0<(e=$("#"+o.elementId).parents(".crownix-quick-field")).length&&(r="rb"==o.type?o.gid+" crownix-quick-radiobutton":o.id+" crownix-quick-checkbox",n=(i=$("[for="+o.elementId+'][class="'+r+'"]')).find(".crownix-quick-labelspan"),r=(t=i.find(".crownix_form_field_label").text())?i.attr("line-height"):"40px",t&&(i.width()>e.width()/2?i.css("margin-right","0px"):i.css("margin-right",$(e).outerWidth()/2-$(i).outerWidth()-10)),r=r||i.height()+"px",n.css("line-height",r)))},this.getEditable=function(){return o.getEditable()},this.setEditable=function(i){o.setEditable(i);function t(t,e){var i=m2soft.crownix.FieldOrder.getInstance();e&&!i.exist(t.elementId)?i.add(t):e||(i.getFocusField()&&(t.elementId===i.getFocusField().id?i.setPreventMove(!1):i.focus(i.getFocusField().id)),"rb"==t.type?i.removeField([{formId:t.formId,fieldId:t.id,groupId:t.gid}]):i.removeField([{formId:t.formId,fieldId:t.id}]))}function e(t){var e;("cb"!=t.type&&"rb"!=t.type&&"fl"!=t.type&&"tf"!=t.type&&"ta"!=t.type||t.disableColor)&&(e=$("[id="+t.elementId+"]").parents("#m2soft-crownix-field-wrapper"),"sg"==t.type||"pn"==t.type?i?e.removeClass("crownix-formfield-disable-guide"):e.addClass("crownix-formfield-disable-guide"):i?e.removeClass("crownix-formfield-disable"):e.addClass("crownix-formfield-disable"),m2soft.crownix.ChannelManager.getChannel("field:changeState").publish({field:t}))}if("rg"==o.type)for(var n in o.buttonList){n=o.buttonList[n];t(n,i),e(n)}else t(o,i),e(o)},this.getRequired=function(){return o.getRequired()},this.setRequired=function(t){var e=s.getRequiredHintingColor(r,i.id)||"";"rb"==o.type?(btnGroupField=s.getField(r,o.gid),btnGroupField.setRequired(t,e)):o.setRequired(t,e),e=("ta"==o.type||"tf"==o.type?$("#"+o.elementId+"-quick"):$("#"+o.elementId)).parents(".crownix-quick-wrapper").find(".crownix-quick-required"),t&&e?(e.css("display","inline-block"),window.m2softFormFieldBridge.toAudioRecord||"rec"!=o.type||e.css("display","none")):e.css("display","none")},this.getSelected=function(){return o.getSelected()},this.setSelected=function(t,e){var i;"rb"==o.type&&(i=s.getField(r,o.gid)),o.setSelected(t,i),a.formManager.modified(o)},this.getTitle=function(){return o.title},this.getPage=function(){return o.page},this.expandDrilldown=function(t){return l.open(r+"."+i.id,t)},this.collapseDrilldown=function(){return l.close(r+"."+i.id)},this.getDrilldownInfo=function(){return l.getDrilldownInfo(r+"."+i.id)},this.isDrilldownOpened=function(){return l.isOpened(r+"."+i.id)},this.setComboList=function(t,e){o.setComboList(t,e)},this.trigger=function(t){s.trigger(d[t],r,o.id),a.options.mirroring.enable&&a.mirroringManager.externalEvent.sendEvent(r,o.id,d[t])},this.show=function(){a.options.mirroring.enable&&"All"!=o.outputAuthority||"rb"!=o.type&&(o.show(),a.search.isCreate()&&a.search.refresh(),a.formManager.validator&&a.formManager.validator.createInvalidList())},this.hide=function(){a.options.mirroring.enable&&"All"!=o.outputAuthority||"rb"!=o.type&&(o.hide(),a.search.isCreate()&&a.search.refresh(),a.formManager.validator&&a.formManager.validator.createInvalidList())},this.setAttoneyValue=function(t){o.showAttorney(t)},this.setSignValue=function(t,e){"0"==e&&(t=JSON.parse(t)),this.signType=e,this.setValue(t)},this.click=function(){var t,e,i;"co"!==o.type&&(e="#crownix_form_field_",i="click",e+="rb"===(t=o.type)?o.formId+"_"+o.gid+"_"+o.id:"im"===t?o.formId+"_"+o.id+"-canvas":"fl"===t?"file_label_"+o.formId+"_"+o.id:o.formId+"_"+o.id,"tf"!==t&&"ta"!==t||n.browser.mobile?"rec"===t&&n.browser.mobile&&(i="touchstart"):$(e).focus(),$(e).trigger(i))},this.getWithSignList=function(){var t=a.formManager.getWithSign(o.withSignId).getsignList(),e=[];return t.forEach(function(t){t.formId==o.formId&&t.id==o.id||e.push(s.getFieldWrapper(t.formId,t.id))}),e}},m2soft.ns("m2soft.crownix.FieldEffector"),function(){var y=m2soft.crownix.ChannelManager;m2soft.crownix.FieldEffector=m2soft.crownix.util.SingleTone(function(t){var r=t,e=void 0,o=[],a=void 0,i=void 0,s=document.getElementById(m2soft.crownix.Constant.CONTAINER_ID),l=r.options.formField.effect,d=l.blinkSpeed,n=[],c=[];if(l.type)for(var h=0;h<l.fieldType.length;h++)switch(l.fieldType[h]){case"text":n.push("tf"),n.push("ta");break;case"check":n.push("cb");break;case"combo":n.push("co");break;case"radio":n.push("rb");break;case"picture":n.push("im");break;case"signature":n.push("sg");break;case"pen":n.push("pn");break;case"file":n.push("fl");break;case"record":n.push("rec")}function u(){if(a&&0!=a.length){a.toggleClass("hideHinting");for(var t=0;t<o.length;t++){var e=o[t];e&&e.field&&e.field.hintingBox&&(e.field.hintingBox.hasClass("hideHinting")?e.field.hintingBox.css(e.hideStyle):e.field.hintingBox.css(e.style))}}}function p(){for(var t in s=document.getElementById(m2soft.crownix.Constant.CONTAINER_ID),v(),r.formManager.getFormList()){var e,i=r.formManager.getFields(t);for(e in i)b(i[e])}0<r.options.formField.effect.blinkSpeed&&x()}function f(t){for(var e=0;e<o.length;e++){var i=o[e];if(i.field==t)return i}}function g(t){return-1<l.fieldType.indexOf("all")||-1<n.indexOf(t.type)}function m(t){var e,i,n;t&&t.hintingBox&&t.hintingBox[0]&&s.contains(t.hintingBox[0])&&(l.type&&!g(t)||((e=f(t))||(e={field:t},i=r.formManager.getHintingColor(t.formId,t.id),n=function(t){for(var e=0;e<c.length;e++)if(c[e].field==t)return c[e].color}(t),"1"===i.displayType?(e.style={border:"1px dashed "+(n||i.color)},e.orgStyle={border:t.hintingBox.css("border")},e.hideStyle={border:"1px dashed rgba(0, 0, 0, 0)"}):(e.style={background:n||i.color},e.orgStyle={background:t.hintingBox.css("background")},e.hideStyle={background:"transparent"}),o.push(e)),(d=r.options.formField.effect.blinkSpeed)<=0?d=0:0<d&&d<500?d=500:3e3<d&&(d=3e3),0<d&&t.hintingBox.css("transition","border "+d/2e3+"s, background "+d/2e3+"s"),t.hintingBox.addClass("blinkTarget"),a&&a.hasClass("hideHinting")?(t.hintingBox.addClass("hideHinting"),t.hintingBox.css(e.hideStyle)):(t.hintingBox.removeClass("hideHinting"),t.hintingBox.css(e.style)),a=$(".blinkTarget")))}function w(t){t&&t.hintingBox&&t.hintingBox[0]&&s.contains(t.hintingBox[0])&&((t=f(t))&&(o.splice(o.indexOf(t),1),t.field.hintingBox.css(t.orgStyle),t.field.hintingBox.removeClass("blinkTarget"),a=$(".blinkTarget")))}var x=function(){0<d&&(i=setInterval(u,d/2))},v=function(){if(i=clearInterval(i),a&&0!=a.length){a.removeClass("hideHinting");for(var t=0;t<o.length;t++){var e=o[t];e&&e.field&&e.field.hintingBox&&e.field.determineEffect()}}},b=function(t){var e;if("rg"===t.type)for(var i in t.buttonList)b(t.buttonList[i]);else(!r.options.formField.effect.requiredOnly||t.getRequired())&&t.getEditable()?r.options.formField.effect.fixed?m(t):"sg"===t.type?(!t.value||t.signature&&0==t.signature.lines.length?m:w)(t):"rb"===t.type?(e=r.formManager.getField(t.formId,t.gid),(t.selected||""!==e.selectedId?w:m)(t)):(t.value&&""!==t.value&&"0"!==t.value?w:m)(t):w(t)};this.start=function(){e=e||y.getChannel("viewer:onDrawPage").subscribe(p),p()},this.stop=function(){e&&(e.unsubscribe(p),e=null),v()},this.show=function(t){m(t)},this.hide=function(t){w(t)},this.determineEffect=function(t){b(t)},this.isSupportType=g,this.setColor=function(t,e){var i=f(t);!function(t,e){for(var i=0;i<c.length;i++)if(c[i].field==t)return c[i].color=e;c.push({field:t,color:e})}(t,e),i&&(i.style.background?(i.style.background=e,i.field.hintingBox[0].style.background=e):(i.style.border="1px dashed "+e,i.field.hintingBox[0].style.border="1px dashed "+e))}})}(),m2soft.ns("m2soft.crownix.FieldList"),m2soft.crownix.FieldList=function(t){var i=["tf","ta","sg","pn","im","co"],n=["cb","rb"],r=["cb","rb"],o="[CrownixSmartForm][Warn] could not %func% for %id% field (type: %type%)";this.setValue=function(e){t.forEach(function(t){-1!=i.indexOf(t.getType())?t.setValue(e):console.log(o.replace("%func%","setValue").replace("%id%",t.getId()).replace("%type%",t.getType()))})},this.setLabel=function(e){t.forEach(function(t){-1!=n.indexOf(t.getType())?t.setLabel(e):console.log(o.replace("%func%","setLabel").replace("%id%",t.getId()).replace("%type%",t.getType()))})},this.setSelected=function(e){t.forEach(function(t){-1!=r.indexOf(t.getType())?t.setSelected(e):console.log(o.replace("%func%","setSelected").replace("%id%",t.getId()).replace("%type%",t.getType()))})},this.setEditable=function(e){t.forEach(function(t){t.setEditable(e)})},this.setRequired=function(e){t.forEach(function(t){t.setRequired(e)})},this.show=function(){t.forEach(function(t){t.show()})},this.hide=function(){t.forEach(function(t){t.hide()})},this.each=function(i){"function"==typeof i&&t.forEach(function(t,e){i(t,e)})},this.length=t.length},m2soft.ns("m2soft.crownix.Validator"),m2soft.crownix.Validator=function(){function t(t){k=t,w=new e}function f(){S={},A={invalidCount:0}}function C(t,e){return t=Object.keys(t),e>=t.length?t[t.length-1]:t[e]}function g(t,e){var i=k.formLayerManager.isFloating()?e.layerId:k.report.getDestPageNum(e.page),n=k.viewer.getDocumentTitle(k.report.findPage(i));void 0===S[i]&&(S[i]={}),void 0===S[i][n]&&(S[i][n]={}),void 0===S[i][n][t]&&(S[i][n][t]={}),S[i][n][t][e.id]=e}function d(t,e){var i,n={forms:[],files:{},submitFieldList:[],isInvalid:!1},r=$.extend(!0,{isNotMoving:!1,isSubmit:!1,resultOnly:!1},e);for(i in f(),t){var o=t[i],a=o.fieldList,s=[];if(k.formManager.isActive(i)){for(var l in A[i]=function(t,e){var i,n,r=[],o=[],a=!0,s="";for(n in t){var l=t[n],d=l.type;if(void 0===l)return void(k.options.formField.showValidationAlert&&k.dialog.show(I.get("formfield_not_exist")));if(!k.report.isRemovedPage(l.page)&&!(e.page&&e.page!==l.page||k.isGroupReport&&e.mrdGroupId&&e.mrdGroupId!==l.mrdGroupId)){if(!0===k.options.formField.skipValidation?i=o:l.validate()?"tf"===d||"ta"===d?(l.validateRegEx(),!1===l.valid?(a=!1,i=r,s=I.get("validate_invalid_regex")):i=o):i=o:"fl"===d?l.file?0===l.file.size&&(s=I.get("invalid_attached_file"),i=r):i=(l.value&&(s=I.get(k.shareManager&&k.shareManager.isConnected()?"invalid_submit_request":"invalid_attached_file")),r):"rec"===d?l.file?0===l.file.size&&(s=I.get("record_no_file"),i=r):i=(l.value&&(s=I.get(k.shareManager&&k.shareManager.isConnected()?"invalid_audio_submit_request":"record_no_file")),r):(i=r,s=I.get("submit_fail_not_filled_required_form")),i===o&&l.hasEvent("validate"))try{!0===k.formManager.trigger("validate",l.formId,l.id)?i=o:(i=r,""===s&&(s=I.get("validate_invalid_regex")))}catch(t){i=r,""===s&&("string"==typeof t?s=t:"object"==typeof t&&t.message&&(s=t.message))}i.push(n)}}return A.invalidCount+=r.length,{valid:o,invalid:r,isValidRegExp:a,isInvalid:0<r.length||!a,message:s}}(a,r),A[i].isInvalid?n.isInvalid=!0:o.setFiles(n.files),a){var d=a[l];d.ignore||(-1<A[i].invalid.indexOf(d.id)&&g(i,d),r.isSubmit&&"1"==d.excludeSubmit||(d.referenceId||s.push(d.toData()),n.submitFieldList.push({formId:i,fieldId:l})))}for(var c,h=!1,u=0,p=n.forms.length;u<p;u++)if(i===n.forms[u].id){n.forms[u].fields=n.forms[u].fields.concat(s),h=!0;break}0<i.indexOf("-")&&(i=i.substring(0,i.indexOf("-"))),h||(c={id:i,fields:s},(o=k.formManager.getFormAttr(i))&&o.sqList&&(c.sq=o.sqList),n.forms.push(c))}}return n.info=A,!1===r.resultOnly&&((k.options.showInvalid||k.options.validateCheck)&&!1===n.isInvalid&&w.removeTreeDom(),w.highlighting(r.isNotMoving)),n}function i(t,e){f();var i,n=k.formManager.getFields(t);for(i in A[t]=function(t,e){var i,n=[],r=[],o=!0,a=k.formManager.getFields(t);for(i in e)void 0===(s=a[i])||k.report.isRemovedPage(s.page)||(l=e[i],(k.options.formField.skipValidation||s.validate(l)?r:n).push(i));for(i in e){var s,l,d=(s=a[i]).type;k.report.isRemovedPage(s.page)||k.options.formField.skipValidation||"tf"!==d&&"ta"!==d||(l=e[i],s.validateRegEx(l),!1===s.valid&&(o=!1))}return{valid:r,invalid:n,isValidRegExp:o,isInvalid:0<n.length||!o}}(t,e),n){var r=n[i];r.ignore||-1<A[t].invalid.indexOf(r.id)&&g(t,r)}return w.highlighting(),A[t]}var k,w,S,n,T,I=m2soft.crownix.Resource,s=m2soft.crownix.FieldOrder,M=m2soft.crownix.ChannelManager,A={},F=!1,e=function(){function v(t,e,i){var n,r=[];for(n in i){var o=i[n],a=e[o],s=a.type;("tf"!==s&&"ta"!==s||!1!==a.valid)&&("rg"===s?r.push("."+o+" > div > span > [formid="+t+"]"):"cb"===s?r.push('[for="crownix_form_field_'+t+"_"+o+'"].'+o+" > div"):r.push("[formid="+t+'][name="'+o+'"]'))}return r.join(",")}function e(t){t.css({"-webkit-border-radius":"5px","-moz-border-radius":"5px","-ms-border-radius":"5px","border-radius":"5px","box-shadow":"0 0 1px 3px "+k.options.formField.effect.invalidColor,"-webkit-box-shadow":"0 0 1px 3px "+k.options.formField.effect.invalidColor,"-moz-box-shadow":"0 0 1px 3px "+k.options.formField.effect.invalidColor})}function b(t,e,i){var n=k.report.getPaintCount(t);return function t(){1===n?(e(i),M.getChannel("viewer:onDrawPage").unsubscribe(t)):n--}}var f,y;this.removeBorder=function(){k.options.formField.effect.invalidColor&&$('[id="m2soft-crownix-field-wrapper"]').css({"-webkit-border-radius":"","-moz-border-radius":"","-ms-border-radius":"","border-radius":"","box-shadow":"","-webkit-box-shadow":"","-moz-box-shadow":""}),$("#m2soft-crownix-text .invalid-field, .crownix-layer-page .invalid-field").each(function(){k.options.formField.effect.invalidColor?e($(this)):$(this).removeClass("invalid-field")})},this.setBorder=function(t){$(t).each(function(){var t=$(this).parents("#m2soft-crownix-field-wrapper");k.options.formField.effect.invalidColor?e(t):t.addClass("invalid-field")})},this.highlighting=function(t){var e,o=k.formLayerManager.isFloating(),a=C(S,0),i=[],s=[],l="",n=!0,r=!0;if(a=k.isGroupReport?function(t){for(var e=Object.keys(t),i=0;i<e.length;i++){var n=e[i];if(k.mrdGroupManager.validatePageNumber(n))return n}}(S)||a:a){for(var d in e=S[a][C(S[a],0)]){var c,h,u=A[d],p=e[d],f=[],g=[];for(c in u.message&&0===l.length&&(l=u.message),!1===u.isValidRegExp&&!0===n&&(n=!1),p){var m=k.formManager.getField(d,c);-1<u.invalid.indexOf(c)&&r&&"fl"!==m.type&&(r=!1),(-1<u.valid.indexOf(c)?f:g).push(c)}0<f.length&&0<(h=v(d,p,f)).length&&i.push(h),0<g.length&&0<(h=v(d,p,g)).length&&s.push(h)}i=i.join(","),s=s.join(",")}else this.removeBorder();if(this.setBorder(i),g&&0<g.length){var w=e[C(e,0)],x=(w[C(w,0)].elementId,this),w=function(){var i;x.setBorder(s);var n=Number.MAX_VALUE,t=[];s.split(",").forEach(function(t){var t=$(t).parents("#m2soft-crownix-field-wrapper"),e=!1;t.each(function(){var t=$(this).offset().top;t<n&&(n=t,i=$(this)[0],e=!0)}),e&&(T=t)}),t.push(l||I.get("submit_fail_not_filled_required_form")),k.options.showInvalid&&!o&&(t.push("<br/>"),t.push(I.get("validate_invalid_count").replace("%d",A.invalidCount)));function e(){var t;i&&(o?(t=k.layerManager.getLayer(a).scroll).refresh():t=k.scroll,t.scrollToElement(i)),k.options.showInvalid&&!o&&(x.makeTreeDom(),k.slide.openSlide(y))}if(k.options.textToSpeech.enable&&i){t=[I.get("not_filled_required_form").replace("%s",$(i).attr("title"))],m2soft.crownix.NativeInterface.textToSpeech(t.join(""));for(var r=0;r<T.length;r++)"fill"==k.options.formField.effect.type?$(T[r]).css({"box-shadow":"0 0 1px 3px "+k.options.textToSpeech.focusColor,"-webkit-box-shadow":"0 0 1px 3px "+k.options.textToSpeech.focusColor,"-moz-box-shadow":"0 0 1px 3px "+k.options.textToSpeech.focusColor}):$(T[r]).css("background-color",k.options.textToSpeech.focusColor)}k.options.formField.showValidationAlert&&!F?(F=!0,k.dialog.show(t.join(""),{returnFocus:!1,inputHandler:e,okHandler:function(){F=!1}})):e()};if(t)x.makeTreeDom(t);else if(o)this.removeBorder(),w();else{if(k.isGroupReport&&!k.mrdGroupManager.validatePageNumber(a))return w();a==k.currentPage&&!k.options.scrollOptions.useInfiniteScroll||M.getChannel("viewer:onDrawPage").subscribe(b(a,w)),k.options.scrollOptions.useInfiniteScroll?k.documentScroller.scrollToPage(a,k.documentScroller.drawVisiblePages.bind(null,!0)):a==k.currentPage?w():k.options.mirroring.enable?k.movePage(a):k.viewer.movePage(k.isGroupReport?k.mrdGroupManager.getRelativePageNumber(a):a)}}},this.border=function(t,e,i,n){e="rg"===i?'input[name="'+t+"_"+e+'"]':"#"+("crownix_form_field_"+t+"_"+e);0<$(".crownix-formfield-blink").length&&$(".crownix-formfield-blink").removeClass("crownix-formfield-blink"),a(n),w.removeBorder(),w.setBorder(e),s.getInstance().blinkOff(),s.getInstance().focusHiddenTab()};function i(t){var e=t.attr("type"),i=t.attr("formId"),n=t.attr("fieldId"),r=t.attr("inputtype"),o="crownix_form_field_"+i+"_"+n;k.options.mirroring.enable&&(m2soft.crownix.FieldOrder.getInstance().focus(o),m2soft.crownix.FieldOrder.getInstance().exist(o)||k.mirroringManager.externalEvent.setFocus(o)),"tf"===e||"ta"===e||"im"===e||"co"===e||"fl"===e||"cb"===e?($("#"+o).focus(),"fl"===e&&(0<$(".crownix-formfield-blink").length&&$(".crownix-formfield-blink").removeClass("crownix-formfield-blink"),$("#"+o).addClass("crownix-formfield-blink")),a(r),k.options.formField.effect.invalidColor&&(0<$(".crownix-formfield-blink").length&&$(".crownix-formfield-blink").removeClass("crownix-formfield-blink"),w.removeBorder(),w.setBorder("#"+o),s.getInstance().blinkOff(),s.getInstance().focusHiddenTab())):"rg"!==e&&"sg"!==e&&"pn"!==e&&"rec"!==e||w.border(i,n,e,r),$("#invalid-container .active").removeClass("active"),t.addClass("active"),k.shareManager&&k.shareManager.isConnected()&&k.shareManager.sendEmphasizeForm(i,n)}function g(t){var e;10<Math.abs(f.distY)||(t=(e=$(t.target)).attr("pageno"),w.removeBorder(),(k.options.scrollOptions.useInfiniteScroll?k.documentScroller.getCurrentPageNumber():k.currentPage)!=t?(s.getInstance().setMovepageFlag(!0),M.getChannel("viewer:onDrawPage").subscribe(b(t,i,e)),k.options.scrollOptions.useInfiniteScroll?k.documentScroller.scrollToPage(t,k.documentScroller.drawVisiblePages.bind(null,!0)):k.viewer.movePage(k.isGroupReport?k.mrdGroupManager.getRelativePageNumber(t):t)):i(e),k.options.slide.closeOnSelect&&k.slide.closeSlide())}function m(t){10<Math.abs(f.distY)||(t.preventDefault(),t.stopPropagation(),$(t.currentTarget).hasClass("opened")?($(t.currentTarget).removeClass("opened"),$(t.currentTarget).siblings().removeClass("opened")):($(t.currentTarget).addClass("opened"),$(t.currentTarget).siblings().addClass("opened")),f&&f.refresh())}var a=function(t){t&&"date"===t||$.crownixdatepicker._hideDatepicker()};this.makeTreeDom=function(t){var e,i,n="invalid-container";for(i in $("#invalid-wrapper").length||(h="invalid-wrapper",(e=$("<div>")).attr("id",h),(r=$('<div id="'+n+'">')).appendTo(e),y=y||k.slide.addSlideTab(I.get("validate_tab_title"),e)),S){var r,o,a,s,l,d,c=C(S[i],0);(r=$("#"+n)).children('[type="'+("title"==k.options.validateCheck.group?c:i)+'"]').length||(o=$('<ul class="invalid-page" type="'+("title"==k.options.validateCheck.group?c:i)+'" pageNo="'+i+'">'),s=$('<span class="invalid-page-text">'),l=$('<ul class="invalid-page-inner">'),"object"==typeof k.options.validateCheck&&t?((a=$('<label class="expanded">')).on("click touchend",m),s.css({"margin-left":"0px","padding-inline-start":"0px","padding-inline-end":"40px",cursor:"pointer"}).attr({format:k.options.validateCheck.format,group:k.options.validateCheck.group,title:c,page:i}).on("click touchend",m),void 0===k.options.validateCheck.collapsed||k.options.validateCheck.collapsed||(s.addClass("opened"),a.addClass("opened"),l.addClass("opened"))):(a=$('<div class="invalid-triangle">'),l.addClass("opened")),a.appendTo(o),s.appendTo(o),l.attr("pageno",i).appendTo(o),(l=r.children()).length?(l.filter(function(t,e){parseInt(e.getAttribute("pageNo"))<parseInt(i)&&(d=e)}),d?o.insertAfter(d):o.insertBefore(l.first())):o.appendTo(r))}!function(){for(var t in $(".invalid-page-inner").empty(),S){for(var e,i,n,r,o=C(S[t],0),a=S[t][o],s=$(".invalid-page"),l=0;l<s.length;l++)if("title"==k.options.validateCheck.group&&$(s[l]).attr("type")==o||$(s[l]).attr("type")==t){e=$(s[l]).children(".invalid-page-inner"),i=$(s[l]).children(".invalid-page-text");break}for(n in a){var d,c=a[n];for(d in c){var h,u=c[d];k.options.showInvalid&&k.options.showInvalid.mergeNode&&u.title===e.children("li:last").text()||k.isGroupReport&&k.mrdGroupManager.getCurrentMrdGroup().id!==u.mrdGroupId||(h=$('<li class="invalid-title">'),t=k.report.getDestPageNum(u.page),h.attr("pageno",t),h.attr("formid",n),h.attr("fieldId",d),h.attr("type",u.type),u.inputType&&h.attr("inputtype",u.inputType),h.text(u.title+("object"==typeof k.options.validateCheck&&"title"==k.options.validateCheck.group?" ("+(k.isGroupReport?k.mrdGroupManager.getRelativePageNumber(t):t)+"p)":"")),h.appendTo(e),h.on("click touchend",g))}}i&&(r=k.isGroupReport?k.mrdGroupManager.getCurrentMrdGroup().getRelativePageNumber(t):t,i.attr("format")?i.text(i.attr("format").replace(/{title}/gi,i.attr("title")).replace(/{page}/gi,k.isGroupReport?k.mrdGroupManager.getRelativePageNumber(i.attr("page")):i.attr("page")).replace(/{errcnt}/gi,e.children().length)):i.text(I.get("page_no").replace("%d",r)+(o?" - "+o:"")))}}();for(var h,u=$(".invalid-page-inner"),p=0;p<u.length;p++)$(u[p]).children().length||$(u[p]).parents(".invalid-page").remove();h=h,f?f.refresh():f=new m2soft.IScroll("#"+h,{scrollY:!0,scrollX:!0,scrollbars:!0,freeScroll:!0,interactiveScrollbars:!0,mouseWheel:!0,doubleTap:!1})},this.removeTreeDom=function(){k.slide.removeTab(y),k.options.slide.closeOnSelect&&k.slide.closeSlide(),y=f=null},this.getTabId=function(){return y},this.updateScroll=function(){f&&f.refresh()}};return t.prototype={validate:function(t,e){var i;if(t)if(t instanceof Array){var n,r={};for(n in s=k.formManager.getFormList())-1!==t.indexOf(n)&&(r[n]=s[n]);i=r}else i=t;else if(k.formLayerManager.isFloating()){var o,a=k.formLayerManager.getFormFieldIdList(!0),s=k.formManager.getFormList(),l={};for(o in a)l[o]=s[o].clone(),Object.keys(l[o].fieldList).forEach(function(t){a[o].indexOf(t)<0&&delete l[o].fieldList[t]});i=l}else i=k.formManager.getFormList();return d(i,{resultOnly:e&&e.resultOnly,page:e.page,mrdGroupId:e.mrdGroupId})},onSubmit:function(t){return d(t,{isNotMoving:!1,isSubmit:!0})},onExport:function(t){return d(t)},onCxopener:function(t,e){return i(t,e),A[t]},createInvalidList:function(){if("object"!=typeof k.options.validateCheck&&k.options.validateCheck||k.options.validateCheck.type||k.options.showInvalid&&w.getTabId())return d(k.formManager.getFormList(),{isNotMoving:!0})},toggleSlide:function(t){this.createInvalidList(),!S||!k.slide.isSelectedTab(w.getTabId())&&k.slide.isOpen()||S[t]&&k.slide.openSlide(w.getTabId())},inactiveTitle:function(){w&&w.getTabId()&&$("#invalid-container .active").removeClass("active")},toggleInvalidField:function(t){if((k.options.validateCheck||k.options.showInvalid&&w.getTabId())&&(clearTimeout(n),n=setTimeout(this.createInvalidList,300)),k.options.textToSpeech.enable&&T&&t){for(var e=0;e<T.length;e++)$(T[e]).css("background-color","");T=null}},updateScroll:function(){w&&w.getTabId()&&w.updateScroll()},border:function(t,e,i,n){w.border(t,e,i,n)},removeBorder:function(){w.removeBorder()}},t}(),m2soft.ns("m2soft.crownix.FormManager"),m2soft.crownix.FormManager=function(){function n(t){var e,i=t.formList;for(e in i)A[e]?A[e].union(i[e]):A[e]=i[e].clone()}function r(t){var e,i=t.formList;for(e in i)A[e]&&(A[e].complement(i[e]),$.isEmptyObject(A[e].fieldList)&&delete A[e])}function x(t){for(var e in t)if(A[e]){var i,n=t[e].getFields(),r=A[e].getFields(),o={};for(i in n)if("rg"==n[i].type)for(var a in n[i].buttonList)o[a]=n[i].buttonList[a];for(i in n)if(r[i]){if("rg"!=r[i].type)throw new Error(f.get("form_duplicated_id_error")+"("+i+")");var s,l=r[i].buttonList;for(s in o)if(l[s])throw new Error(f.get("form_duplicated_id_error")+"("+s+")")}}}function o(){if("function"==typeof v.eventHandler["formField-modified"]){var t,e,i=v.formManager.validator.validate(null,{resultOnly:!0}),n={valid:0,invalid:0,fields:0};for(t in i.info)"object"==typeof i.info[t]&&(e=i.info[t],n.valid+=e.valid.length,n.invalid+=e.invalid.length,n.fields+=e.valid.length+e.invalid.length);n.complete=n.fields===n.valid,v.emit("formField-modified",n)}}function t(t,e,i){d=(v=i).dialog,v.viewer.movePage,b=v.mrdPath,y=v.mrdParam,C=v.mrdData,s=t,A={},F={},E={},k=e,a={moveFirstPage:v.viewer.moveFirstPage,moveLastPage:v.viewer.moveLastPage,movePage:v.viewer.movePage,prevPage:v.viewer.prevPage,nextPage:v.viewer.nextPage,hidePage:function(){v.report.removePage(arguments)},showPage:function(){v.report.restorePage(arguments)},expandGrid:function(t){return v.gridManager.expandDepth(t)},nextDepth:function(){return v.gridManager.nextDepth()},prevDepth:function(){return v.gridManager.prevDepth()},scanBarcodes:v.viewer.scanBarcodes,readNfcTag:v.viewer.readNfcTag,getForm:v.viewer.getForm},this.validator=new m2soft.crownix.Validator(i),p.getChannel("formlayer:activate").subscribe(n),p.getChannel("formlayer:deactivate").subscribe(r)}var v,d,b,y,C,s,k,e,a,S=m2soft.crownix.Form,T=m2soft.crownix.Field.Submit,f=m2soft.crownix.Resource,c=m2soft.crownix.Util,i=m2soft.crownix.FormWrapper,h=m2soft.crownix.FieldWrapper,u=m2soft.crownix.FieldList,I=m2soft.crownix.FieldOrder,l=m2soft.crownix.LayerManagerWrapper,p=m2soft.crownix.ChannelManager,g=m2soft.crownix.Field.ComboBox,m=m2soft.crownix.Field.SignatureGroup,M=m2soft.crownix.GuideManager,A={},F={},E={},w=!1,P={},D=!1,O={},_=function(t){for(var e=0,i=t.pageNo.length;e<i;e++){var n=v.report.getPage(t.pageNo[e]);v.layerManager.rebuildLayer(t.pageNo[e],t.formId),v.drilldownManager.rebuildDrilldown(t.pageNo[e],t.formId),v.formManager.isLoadComplete=!1,v.formManager.buildFormField($(n),t.pageNo[e],{isInitForm:!0,allowFormId:"page"!=t.target?t.formId:void 0}),null==t.pageNo[e]&&v.layerManager.refreshLayer(t.pageNo[e])}v.redrawPage();for(e=0,i=t.formId.length;e<i;e++)"page"==t.target||"form"==t.target?A[t.formId[e]].removePreventEvent():A[t.formId[e]].onLoadComplete(v.formManager.getFormWrapper(t.formId[e]),a,new l(v))};return t.setFilter=function(t){"string"==typeof t?(e=[]).push(t):t instanceof window.Array&&(e=t)},t.prototype={submit:function(t){if(v.preventSubmit)return d.show(f.get("submit_formfield_insert_fail"));var e,i=$(t.currentTarget).attr("formid"),t=$(t.currentTarget).attr("fieldid"),n=A,t=E[i+"."+t];if(t.isFloating){var r,o=v.formLayerManager.getFormListFromSubmit(t.id),n={};for(r in o)n[r]=A[r].clone(),Object.keys(n[r].fieldList).forEach(function(t){o[r].indexOf(t)<0&&delete n[r].fieldList[t]})}"0"==t.mode?e=1<Object.keys(n).length?null:this.getFormWrapper(Object.keys(n)[0]):"1"==t.mode&&(e=0<=t.target.indexOf(",")?null:this.getFormWrapper(t.target)),v.emit("before-submit",e),t.submit(s,d,n,F,v)},addFormAttr:function(t){var e=t.id;e&&!F[e]&&(F[e]=t)},getFormAttr:function(t){return F[t]},validateForm:function(t,e){return this.validator.onCxopener(t,e)},buildFormField:function(t,d,e){function c(t){i.indexOf(t)<0&&i.push(t)}function a(){var t,e,i,n,r,o,a=$(this),s=a.attr("ty"),l=a.attr("fi");void 0!==f&&-1===f.indexOf(l)||"co"==s&&a.attr("ct")&&"0"!=a.attr("ct")||(t=a.closest("CL"),i=null,e=u&&u.isFloating,0<t.length?(n=a.closest("LE").attr("id"),i=!p&&n,t.attr("si")==n&&c(i)):(i=!p&&u&&u.id,c(i)),!m&&w.isActive(l)&&(I.getInstance().push(a,d),M.getInstance().push(a,d),v.isGroupReport&&((n=v.mrdGroupManager.getCurrentMrdGroup()).pushTabOrder(a,d),n.pushGuideOrder(a,d))),"sm"===s?(o=l+"."+a.attr("id"),s=u&&u.mrdPath||b,r=u&&u.mrdParam||y,E[o]=new T(a,k,v.options,s,r,C,e,g),(i||e)&&v.formLayerManager.addSubmit(i,E[o],e)):((r=(r=(r=l,(o=i)?v.formLayerManager.getForm(o,r):A[r]))||function(t,e,i,n){0<t.indexOf("-")?(r=t.substring(0,t.indexOf("-")),(r=F[r]).isRepeated=!0):(r=F[t]).isRepeated=!1,-1<g&&(r.appendIndex=g);var r=new S(t,v,r);return w.batchSubmitted&&(r.isSubmitted=!0),e&&!v.formLayerManager.exist(e,t)?(v.formLayerManager.add(e,r,n),i&&(v.formLayerManager.layerList[e]&&x(v.formLayerManager.layerList[e].getFormList()),v.formLayerManager.activate(e))):A[t]=r,r}(l,i,null,e)).resetLoadingState(),r.putField(a,d,h,void 0,p,u)))}var h=e.allowDuplicate,u=(e.drilldownId,e.layer),p=e.isInitForm,f=e.allowFormId,g=e.appendIndex,m=(e.mrdGroupId,this.isLoadComplete),w=this,i=[],s=function(t){var e,i=t.tagName&&t.tagName.toUpperCase();if("FF"===i)a.call(t);else if("TG"===i)$(t).text()&&(v.cxGridManager||(v.cxGridManager=new m2soft.crownix.CxGridManager),(e=JSON.parse($(t).text())).isFormEditMode=v.isFormEditMode,v.cxGridManager.build($(t).attr("id"),e,a));else if("CL"===i||"LY"===i)return;var n=$(t).children();if(0<n.length)for(var r=0,o=n.length;r<o;r++)s(n[r])};s(t),function(){for(var t in i)i[t]&&x(v.formLayerManager.layerList[i[t]].getFormList()),v.formLayerManager.activate(i[t])}()},export:function(t){var e={formdata:{version:"1.2",form:[],formLayerList:null}};if(!0===t.checkValid){var i=this.validator.onExport(A);if("object"!=typeof i||!1!==i.isInvalid)throw f.get("submit_fail_not_filled_required_form");for(r in A){var n=A[r];e.formdata.form.push(n.export(t))}}else for(var r in A){n=A[r];e.formdata.form.push(n.export(t))}return e.formdata.formLayerList=v.formLayerManager.export(),e},import:function(t){var e,i=t.formdata.form;for(e in i)A[i[e].id]&&A[i[e].id].import(i[e],t.formdata.version);v.formLayerManager.import(t.formdata.formLayerList),o()},getFormList:function(){return A},removeAppendedFormList:function(t){var e,i,n=[];for(e in A){var r=A[e];r.appendIndex===t&&(n.push(r),r.unbindEvent(),delete A[e])}for(var o=[],a=0;a<n.length;a++){var s=n[a].fieldList;for(e in s){var l=s[e];if("rg"===l.type)for(i in l.buttonList)o.push({formId:n[a].formId,groupId:e,fieldId:i});else o.push({formId:n[a].formId,fieldId:e})}}for(e in E){var d=E[e];d.appendIndex===t&&(o.push({formId:d.formId,fieldId:d.id}),delete E[e])}I.getInstance().removeField(o),M.getInstance().removeField(o)},getHintingColor:function(t,e){var i=this.getField(t,e),n=v.options.formField.effect;return n.type&&v.fieldEffector.isSupportType(i)?{color:n.fieldColor,displayType:"line"==n.type?"1":"2"}:A[t]?A[t].getHintingColor(e):""},getRequiredHintingColor:function(t,e){return A[t]?A[t].getRequiredHintingColor(e):""},getField:function(t,e){return A[t]?A[t].getField(e):{}},getFields:function(t){return A[t]?A[t].getFields():{}},getSubmit:function(t){return E[t]},disableEdit:function(){for(var t in A)A[t].disableEdit();for(var e in E)E[e].disableEdit()},makeFormParameter:function(t,e){var i,n=[];for(i in n.push("/rformmode [0] "),n.push(e),n.push(" /rformdata "),t)n.push(A[i].makeFormDataParameter());for(i in n.push(this.makeNormalFieldDataParam(!1)),n.push(" /rforminfo "),t)n.push(A[i].makeFormInfoParameter());return n.push(" /rformmode [0]"),n.join("")},modified:function(t){if(o(),!w){if(!(w=!0)===v.options.formField.confirmOnPageOut)return;v.options.mirroring.enable||$(window).bind("beforeunload",function(t){var e=f.get("confirm_page_out");return(t||window.event).returnValue=e})}this.validator.toggleInvalidField(t),I.getInstance().skipTabOrder(t),"rb"==t.type?v.formManager.getField(t.formId,t.gid).modified=!0:t.modified=!0},isModified:function(){return w},saved:function(){w&&(w=!1)!==v.options.formField.confirmOnPageOut&&$(window).unbind("beforeunload")},getFormWrapper:function(t){for(var e in A)if(e===t)return new i(this,t);throw new Error(f.get("form_not_exist").replace("%s",t))},getFormWrapperList:function(){var t,e=[];for(t in A)e.push(new i(this,t));return e},getFieldWrapper:function(t,e){var i;e=i=0<=(i=e).indexOf(".")?i.split(".")[1]:i;e=this.getField(t,e);return e?new h(t,e,v):null},getFieldWrapperList:function(t,e){var i,n,r,o,a=[],s=[],l=this.getFields(t);for(o in 0<=e.indexOf(".")&&(n=(i=e.split("."))[0],e=i[1]),l)if(n&&"rg"===l[o].type&&0===o.indexOf(n+"-"))for(r in l[o].buttonList)0===r.indexOf(e+"-")&&s.push(r);else 0===o.indexOf(e+"-")&&s.push(o);for(o in s=s.sort(function(t,e){return t.split("-")[1]-e.split("-")[1]}))a.push(new h(t,this.getField(t,s[o]),v));return a},getFieldWildcardList:function(t,e){var i,n=[],r=A[t].getFields();for(i in r){var o=r[i];if("rg"===o.type){var a,s=o.buttonList;for(a in s){var l=s[a];c.wildcardRegExp(e).test(a)&&n.push(new h(t,l,v))}}else c.wildcardRegExp(e).test(i)&&n.push(new h(t,o,v))}return new u(n)},bindEvent:function(){for(var t in A)A[t].bindEvent(this.getFormWrapper(t),a,new l(v))},trigger:function(t,e,i){return A[e].getField(i).trigger(t,this.getFormWrapper(e),a,new l(v),v.dialog)},isLoadComplete:!1,fireLoadCompleteEvent:function(){if(this.isLoadComplete=!0,!v.shareManager||!v.shareManager.isConnected()||v.shareManager.isHost())for(var t in A)A[t].onLoadComplete(this.getFormWrapper(t),a,new l(v))},checkFormLoadComplete:function(t){t=A[t];return!!t&&t.formLoadComplete},removePreventEvent:function(){for(var t in A)A[t].removePreventEvent()},isAllFormSubmitted:function(){if(!0===this.batchSubmitted)return!0;for(var t in A)if(!A[t].isSubmitted)return!1;return!0},submitForMethod:function(t,e,i,n,r){if(v.preventSubmit)return d.show(f.get("submit_formfield_insert_fail"));var o,r=$("<element>").attr({su:t,ds:e,sc:i,sf:n,cfn:r}),a=new T(r,k,v.options,b,y,C);if("string"==typeof n&&0<n.length)if(n.indexOf(",")<0)try{o=this.getFormWrapper(n),a.formId=n}catch(t){t&&console.log(t),o=null}else o=null;else o=1===Object.keys(A).length?this.getFormWrapper(Object.keys(A)[0]):null;v.emit("before-submit",o),a.submit(s,d,A,F,v)},ignoreField:function(t,e){var i,n;for(i in A)for(i in n=A[i].getFields())field=n[i],field.page==t&&(field.ignore=e)},removeDrilldownField:function(t){var e,i;for(e in A)for(e in i=A[e].getFields())field=i[e],field.drilldownId===t&&delete i[e]},sendScript:function(t){v.shareManager&&v.shareManager.isConnected()&&v.shareManager.sendScript(t)},makeEnableSubmit:function(){var t,e={},i=[];for(t in A){var n,r=A[t].getFields();for(n in r){var o=r[n],a=o.type;("fl"===a||"rec"===a)&&o.getEditable()&&o.getRequired()&&("fl"!==a||window.FormData||(i.push(o),e[a]="not_support_file_append"),"rec"!==a||window.m2softFormFieldBridge.toAudioRecord||(i.push(o),e[a]="not_support_audio_record"))}}if(0<i.length){var s,l=[];for(s in e)l.push(f.get(e[s]));l=l.join("<br/>"),d.show(l,{inputHandler:function(){i.map(function(t){t.setRequired(!1)})}})}},getUniqueObject:function(t){return P[t]},addUniqueObject:function(t,e){P[t]=e},initFormData:function(t){!function(e){var t,i=v.dialog;if(!D){if("form"==(e=$.extend(!0,{},{target:"all",pageNo:[],formId:[],confirmDialog:!0},e)).target){if(!e.formId.length)return i.show(f.get("not_set_formId"));for(var n=0,r=e.formId.length;n<r;n++){var o=e.formId[n];if(void 0===A[o])return i.show(f.get("not_exist_form").replace("%s",e.formId[n]));if(A[o].isSubmitted)return i.show(f.get("not_init_formField").replace("%s",e.formId[n]))}e.pageNo=[],t=f.get("init_formField").replace("%s",e.formId)}else if("page"==e.target){if(!e.pageNo.length)return i.show(f.get("not_set_pageNo"));for(n=0,r=e.pageNo.length;n<r;n++){var a=e.pageNo[n];if(v.totalPage<a||a<=0)return i.show(f.get("not_exist_page").replace("%s",e.pageNo[n]))}e.formId=[],t=f.get("init_formField").replace("%s",f.get("page_no").replace("%d",e.pageNo))}else e.formId=[],e.pageNo=[],t=f.get("init_all");for(var s in A)if(!A[s].isSubmitted){var l=s;A[s].isRepeated&&(l=s.substring(0,s.indexOf("-"))),-1!=e.formId.indexOf(l)&&(e.formId[e.formId.indexOf(l)]=s);var d,c=A[s].fieldList;for(d in c){var h=c[d];if("page"==e.target){if(-1==e.pageNo.indexOf(h.page)||-1!=e.formId.indexOf(s))continue;e.formId.push(s)}if("form"==e.target){if(-1==e.formId.indexOf(s)||-1!=e.pageNo.indexOf(h.page))continue;e.pageNo.push(h.page)}-1==e.pageNo.indexOf(h.page)&&e.pageNo.push(h.page),-1==e.formId.indexOf(s)&&e.formId.push(s)}}if("page"!=e.target){var u=v.formLayerManager.getFormFieldIdList(!0);if(!$.isEmptyObject(u))for(var p in u)"form"!=e.target&&-1==e.formId.indexOf(p)&&e.formId.push(p),-1==e.pageNo.indexOf(void 0)&&e.pageNo.push(void 0)}e.confirmDialog?i.show(t,{type:"confirm",inputHandler:function(t){t&&(v.shareManager&&v.shareManager.isConnected()&&v.shareManager.sendInitFormField({options:e}),v.options.mirroring.enable&&v.mirroringManager.externalEvent.initFormField(e),_(e))}}):(v.shareManager&&v.shareManager.isConnected()&&v.shareManager.sendInitFormField({options:e}),v.options.mirroring.enable&&v.mirroringManager.externalEvent.initFormField(e),_(e))}}(t)},initFields:function(t){_(t)},lock:function(){D=!0},unlock:function(){D=!1},getNormalField:function(t){var e=t.attr("fi"),i=t.attr("id"),n=t.attr("idx"),e=n?e+"-"+i+"-"+n:e+"-"+i;if(O[e])return O[e];i=null;return(i="co"===t.attr("ty")?new g(t):i)?O[e]=i:null},makeNormalFieldDataParam:function(t){var e,i=[];for(e in O){var n=O[e];i.push(e.split("-")[0]+"."+n.id),i.push("["),n.value&&i.push(n.value),i.push("] ")}return t&&0<i.length&&i.unshift(" /rformdata "),i.join("")},showGroupSign:function(t,e){v.license.isAllowedFeature("FormField")&&v.isFormEditMode?D||m2soft.crownix.BatchSignWindow.getInstance(v).show(t,e):d.show(f.get("unsupported_feature_without_formedit_mode"))},getSignGroup:function(t){var e,i=[];for(e in A)if(!A[e].isSubmitted){var n,r=A[e].fieldList;for(n in r){var o=r[n];o&&"sg"==o.type&&o.groupSignId&&o.groupSignId==t&&"1"==o.editable&&i.push(o)}}return new m(t,i,v)},validateFileFields:function(t){var e,i=A[t].fieldList;for(e in i){var n=i[e];if("fl"==n.type&&!n.validate())return!1}return!0},getFormDataValue:function(t,e){var i,n=e,r=v.options.formField.excludeOnFormData;for(i in A)if(!t||-1!=t.indexOf(i)){var o,a=A[i].fieldList;for(o in a){var s=a[o];r&&"1"===s.excludeOnFormData||(n+=i+e,n+=s.id+e,n+=s.type+e,"rb"!==s.type&&"cb"!==s.type?n+=s.getValue()+e:n+=s.getSelected()+e)}}return n=n.substring(0,n.lastIndexOf(e))},getDataValue:function(t,e,i){for(var n=i,r=v.options.formField.excludeOnFormData,o=0;o<t.length;o++)try{var a=A[t[o]].fieldList[e[o]];if(r&&"1"===a.excludeOnFormData)continue;"rb"!==a.type&&"cb"!==a.type?n+=a.getValue()+i:n+=a.getSelected()+i}catch(t){return}return n=n.substring(0,n.lastIndexOf(i))},setFormDataValue:function(t,e,i){for(var n=0;n<t.length;n++){var r=A[t[n]];if(!r)return f.get("form_not_exist").replace("%s",t[n]);r=r.fieldList[e[n]];if(!r)return f.get("formfield_not_exist")+"("+e[n]+")";"rb"!==r.type&&"cb"!==r.type?r.setValue(i[n]):r.setSelected(i[n])}},getWithSign:function(t){var e,i=[];for(e in A)if(!A[e].isSubmitted){var n,r=A[e].fieldList;for(n in r){var o=r[n];o&&"sg"==o.type&&o.withSignId&&o.withSignId==t&&"1"!=o.element.attr("da")&&"1"!==o.commonHidden&&i.push(o)}}return new m(t,i,v)},getSealSignature:function(t){var e,i=[];for(e in A)if(!A[e].isSubmitted){var n,r=A[e].fieldList;for(n in r){var o=r[n];o&&"sg"==o.type&&o.groupSignId&&o.groupSignId==t&&"1"==o.signType&&"1"==o.editable&&i.push(o)}}return new m(t,i,v,"1")},batchSubmitted:!1,duplicateFormField:x,isActive:function(t){return void 0===e||-1<e.indexOf(t)}},t}(),m2soft.ns("m2soft.crownix.FormField.Signature"),m2soft.crownix.FormField.Signature=function(t,g){var e={lines:[],originWidth:t.originWidth,originHeight:t.originHeight,dpi:g.dpi||96};t=$.extend(!0,e,t),this.lines=t.lines,this.originWidth=t.originWidth,this.originHeight=t.originHeight,this.ratioType=t.ratioType,this.dpi=t.dpi,this.formId=g.formId,this.fieldId=g.fieldId,this.scale=function(i,n){this.lines.forEach(function(t){t.forEach(function(t,e){t[0]=m2soft.crownix.Util.toFixed(t[0]*i,2),t[1]=m2soft.crownix.Util.toFixed(t[1]*n,2)})}),this.originWidth=m2soft.crownix.Util.toFixed(this.originWidth*i,0),this.originHeight=m2soft.crownix.Util.toFixed(this.originHeight*n,0)},this.bounds=function(){var i=minY=Number.MAX_VALUE,n=maxY=Number.MIN_VALUE,r=this.originWidth,o=this.originHeight;return this.lines.forEach(function(t){t.forEach(function(t,e){i=t[0]<0?0:t[0]<i?t[0]:i,minY=t[1]<0?0:t[1]<minY?t[1]:minY,n=t[0]>r?r:t[0]>n?t[0]:n,maxY=t[1]>o?o:t[1]>maxY?t[1]:maxY})}),{width:n-i,height:maxY-minY,minX:i,minY:minY,maxX:n,maxY:maxY}},this.drawSignature=function(t,e){var r,i,n,o=this.lines,a=this.bounds(),s=a.width,l=a.height,d=t.width,c=t.height,h=d/s,u=c/l,p=t.getContext("2d"),e=e||{},f=!(!g.fixedGuideText||!e.fixedGuideText);if(!e.drawLastLine){if(p.clearRect(0,0,d,c),0==o.length&&g.guideText||e.guideTextImageData)return void this.drawTextToCanvas(t,g.guideText);f&&this.drawTextToCanvas(t,g.guideText)}e.ratioType?(h=d/(s=this.originWidth),u=c/(l=this.originHeight),r=this.getLineWidth(s,l),this.ratioType=!0):(r=(n=h<u?(h=u=.9*h,i=-a.minX*h+.05*d,-a.minY*u+c/2-l*u/2):(h=u*=.9,i=-a.minX*h+d/2-s*h/2,-a.minY*u+.05*c),this.getLineWidth(a.width,a.height)),this.ratioType=!1),t=Math.min(u,h),e.dpi&&(s=Math.ceil(96*d/e.dpi)/s,l=Math.ceil(96*c/e.dpi)/l,t=e.ratioType?Math.min(s,l):s<l?.9*s:.9*l),r*t<1&&(r=Math.ceil(1/t)),p.save(),p.strokeStyle="#000000",p.lineWidth=r,p.lineJoin="round",p.lineCap="round",p.translate(i,n),p.scale(h,u),p.beginPath(),p.rect(0,0,a.maxX+r/2,a.maxY+r/2),p.closePath(),p.clip(),o.forEach(function(n,t){e.drawLastLine&&t!=o.length-1||n.forEach(function(t,e){var i;t[2]&&(p.lineWidth=r*t[2]),0==e?(p.beginPath(),p.moveTo(t[0],t[1])):e==n.length-1?(p.lineTo(t[0],t[1]),p.stroke()):(i=(t[0]+n[e+1][0])/2,e=(t[1]+n[e+1][1])/2,p.quadraticCurveTo(t[0],t[1],i,e),p.stroke(),p.closePath(),p.beginPath(),p.moveTo(i,e))})}),p.restore()},this.toData=function(t,e,i){var n=document.createElement("canvas"),r=(i=i||{}).dpi||96;return n.width=t*r/96,n.height=e*r/96,this.drawSignature(n,i),n.toDataURL("image/png")},this.reset=function(t){var e=t.width,i=t.height;t.getContext("2d").clearRect(0,0,e,i),this.originWidth=t.width,this.originHeight=t.height},this.getLineWidth=function(t,e){e=g.lineWidth||Math.min(t,e)/40;return Math.min(e,g.maxLineWidth)},this.drawTextToCanvas=function(t,e,i){var n=$.extend(!0,$.extend({},g),i),r=t.width/n.width,o=t.height/n.height,a=t.width,s=t.height,l=0,d=0,c=t.getContext("2d");return n.redraw&&c.clearRect(0,0,a,s),c.save(),i=new m2soft.crownix.Canvas(t),r<o?(o=r,s=(d=t.height/2-n.height*o/2)+n.height*o):(r=o,a=(l=t.width/2-n.width*r/2)+n.width*r),n.guideTextStyle.originFontSize&&(n.guideTextStyle.fontSize=parseInt(n.guideTextStyle.originFontSize)*o+"pt"),i.drawText(e,l+2,d+2,a-2,s-2,n.guideTextStyle),c.restore(),i.toDataURL()}},m2soft.crownix.FormField.Signature.prototype.SetPressure=function(t){m2soft.crownix.FormField.Signature.prototype.pressure=t},m2soft.ns("m2soft.crownix.FormField.Sign"),m2soft.crownix.FormField.Sign=function(t,e){function f(t){return t<=0||w.length>=t}function g(t){return f(t)?c.hide():c.show()}function i(){x.isPreventEvent||(b(),s(),x.guideText&&v.drawTextToCanvas(l[0],x.guideText),v.lineCheck=!0,x.showStrokeMessage&&g(0),"function"==typeof x.onChangeValue&&x.onChangeValue(v))}var m,n=m2soft.crownix.Resource,r=$("#"+t),o=r.width(),a=r.height()||.4*r.height(),w=[],t={dpi:96,width:r.width(),height:r.height(),lineWidth:void 0,maxLineWidth:8,lineCount:0,guideText:"",guideTextStyle:{shade:!1,underLine:!1,lineThrough:!1,adjustFontSize:!1,adjustFontScale:!0,fillStyle:"#CCCCCC",fontFamily:"Arial, sans-serif",fontSize:"25pt",fontStyle:"",fontWeight:"",textAlign:"center",textBaseline:"middle"},showResetButton:!0,showStrokeMessage:!0,fixedGuideText:!1,isPreventEvent:!1,onChangeCanvas:void 0,onChangeValue:void 0,onDrawStart:void 0,resizeCanvasValue:void 0,penEventSkipTime:0,fixedSignPressure:!1},x=$.extend(!0,t,e),v=new m2soft.crownix.FormField.Signature({originWidth:r.width(),originHeight:r.height()},x),b=function(){l[0].getContext("2d").clearRect(0,0,l.width(),l.height())},s=function(){w=[],v.lines=[]};r.css({position:"relative"});var l=$("<canvas>").css({position:"absolute",width:o,height:a,border:"1px solid","touch-action":"none"}).attr({width:o,height:a}).appendTo(r),d=l[0].getContext("2d");d.strokeStyle="#000000",d.lineWidth=v.getLineWidth(o,a),d.lineJoin="round",d.lineCap="round";o=$("<div>").css({position:"absolute",float:"right","font-weight":"bold",padding:"5px",cursor:"pointer",right:"1%",top:0}).attr({id:"crownix-signature-reset-button"}).on("click",i).appendTo(r);$('<svg viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill-rule="evenodd"  fill="rgb(159, 159, 159)" d="M9.841,0.600 C9.831,0.595 9.825,0.587 9.815,0.583 C8.977,0.216 8.054,0.008 7.083,-0.002 C7.079,-0.002 7.077,-0.002 7.074,-0.002 C7.072,-0.002 7.071,-0.002 7.069,-0.002 C6.915,-0.003 6.764,0.003 6.612,0.013 C6.506,0.018 6.402,0.029 6.297,0.039 C6.280,0.041 6.264,0.042 6.247,0.044 L6.247,0.045 C5.022,0.179 3.888,0.626 2.936,1.311 L2.251,0.302 L1.250,4.516 L5.454,4.062 L4.590,3.248 C5.132,2.896 5.753,2.661 6.420,2.572 C6.420,2.572 6.832,2.548 7.044,2.550 C9.525,2.575 11.516,4.606 11.492,7.087 C11.467,9.568 9.435,11.559 6.955,11.534 C4.474,11.510 2.483,9.479 2.507,6.997 C2.509,6.781 2.532,6.570 2.564,6.362 L0.171,5.458 C0.064,5.933 0.003,6.424 -0.002,6.930 C-0.041,10.798 3.063,13.964 6.930,14.002 C10.797,14.040 13.963,10.937 14.002,7.070 C14.030,4.189 12.315,1.700 9.841,0.600 Z"/></svg>').css({width:"14px",height:"25px",padding:"1px 5px"}).appendTo(o);var c,a=$("<span>").text(n.get("clear_sign")).css({color:"#919191","font-size":"11pt"});$("<div>").css({height:"25px",display:"inline-block","line-height":"25px","vertical-align":"top"}).append(a).appendTo(o),x.showResetButton||o.hide(),x.showStrokeMessage&&(c=$("<div>").addClass("crownix-line-validity-message").css({position:"absolute",display:"none",color:"#CD0A0A",right:0,bottom:0,padding:"3px","font-size":"10pt","pointer-events":"none"}).text(n.get("unqualified_stroke")).appendTo(r)),"function"==typeof x.onChangeCanvas&&x.onChangeCanvas(l,x),x.guideText&&v.drawTextToCanvas(l[0],x.guideText),x.signature&&(v=new m2soft.crownix.FormField.Signature(x.signature,x),w=v.lines,widthRatio=$(l).width()/v.originWidth,heightRatio=$(l).height()/v.originHeight,v.scale(widthRatio,heightRatio),v.drawSignature(l[0],{ratioType:!0,fixedGuideText:x.fixedGuideText,guideText:x.guideText,option:x})),new("ontouchstart"in window&&!/hp-tablet/gi.test(navigator.appVersion)&&!window.PointerEvent?function(t){var n=t,r=n.getContext("2d"),i=!1,o=!1,a=this,s=[],l=r.lineWidth,d=0,c={x:-1,y:-1},h={x:-1,y:-1},u={x:-1,y:-1};this.touchstart=function(t){var e,i;s=[],t.preventDefault(),t.stopPropagation(),o=!0,setTimeout(function(){o=!1},250),o&&x.isFormFieldScript&&(e=t.target,(i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,e.dispatchEvent(i)),x.isPreventEvent||(i=t.touches[0],c.x=m2soft.crownix.Util.toFixed(i.pageX-$(i.target).offset().left,2),c.y=m2soft.crownix.Util.toFixed(i.pageY-$(i.target).offset().top,2),x.fixedGuideText||0!=w.length||b(),s.push([c.x,c.y,1]),r.lineWidth=l,r.beginPath(),r.moveTo(c.x,c.y),n.addEventListener("touchmove",a.touchmove,!1),n.addEventListener("touchend",a.touchend,!1),"function"==typeof x.onDrawStart&&x.onDrawStart(t))},this.touchmove=function(t){i=!0;var e=t.timeStamp;void 0!==e&&0<x.penEventSkipTime&&e-d<x.penEventSkipTime||(d=e,t.preventDefault(),t.stopPropagation(),o=!1,t=t.touches[0],h.x=t.pageX-$(t.target).offset().left,h.y=t.pageY-$(t.target).offset().top,u.x=m2soft.crownix.Util.toFixed((c.x+h.x)/2,2),u.y=m2soft.crownix.Util.toFixed((c.y+h.y)/2,2),c!=h&&(r.quadraticCurveTo(c.x,c.y,u.x,u.y),r.stroke(),r.closePath(),c.x=h.x,c.y=h.y,s.push([h.x,h.y,1]),r.lineWidth=l,r.beginPath(),r.moveTo(u.x,u.y)))},this.touchend=function(t){n.removeEventListener("touchmove",a.touchmove,!1),n.removeEventListener("touchend",a.touchend,!1),i&&(t.preventDefault(),i=!1,w.push(s),v.lineCheck=f(x.lineCount),v.lines=w,v.originWidth=$(n).width(),v.originHeight=$(n).height(),x.showStrokeMessage&&g(x.lineCount),"function"==typeof x.onChangeValue&&x.onChangeValue(v))},this.on=function(){n.addEventListener("touchstart",this.touchstart,!1)}}:function(i){var n,r=m2soft.crownix.Util.ActionEvents,e=i,o=e.getContext("2d"),a=!1,s=this,l=[],d=o.lineWidth,c={x:-1,y:-1},h={x:-1,y:-1},u={x:-1,y:-1},p=0;this.mousedown=function(t){var e;"pointerdown"==t.type&&!t.originalEvent.isPrimary||(a&&w.push(l),l=[],t.preventDefault(),t.stopPropagation(),x.isPreventEvent||(c.x=m2soft.crownix.Util.toFixed(t.originalEvent.pageX-$(i).offset().left,2),c.y=m2soft.crownix.Util.toFixed(t.originalEvent.pageY-$(i).offset().top,2),x.fixedGuideText||0!=w.length||b(),e=m2soft.crownix.FormField.Signature.prototype.pressure,m=x.fixedSignPressure?1:0<=e?2*(e+.01):t.originalEvent&&"pen"==t.originalEvent.pointerType?2*(t.originalEvent.pressure+.01):1,n=m,l.push([c.x,c.y,m]),o.lineWidth=d*m,o.beginPath(),o.moveTo(c.x,c.y),$(window).on(r.move,s.mousemove),$(window).on(r.end,s.mouseup),"function"==typeof x.onDrawStart&&x.onDrawStart(t),"function"==typeof x.onFocusField&&x.onFocusField(v)))},this.mousemove=function(t){var e;"pointermove"==t.type&&!t.originalEvent.isPrimary||void 0!==(e=t.timeStamp)&&0<x.penEventSkipTime&&e-p<x.penEventSkipTime||(p=e,a=!0,t.preventDefault(),t.stopPropagation(),h.x=t.originalEvent.pageX-$(i).offset().left,h.y=t.originalEvent.pageY-$(i).offset().top,u.x=m2soft.crownix.Util.toFixed((c.x+h.x)/2,2),u.y=m2soft.crownix.Util.toFixed((c.y+h.y)/2,2),c!=h&&(o.quadraticCurveTo(c.x,c.y,u.x,u.y),o.stroke(),o.closePath(),c.x=h.x,c.y=h.y,e=m2soft.crownix.FormField.Signature.prototype.pressure,m=x.fixedSignPressure?1:0<=e?2*(e+.01):t.originalEvent&&"pen"==t.originalEvent.pointerType?2*(t.originalEvent.pressure+.01):1,m=(n+m)/2,l.push([h.x,h.y,m]),o.lineWidth=d*m,o.beginPath(),o.moveTo(u.x,u.y),n=m))},this.mouseup=function(t){$(window).off(r.move,s.mousemove),$(window).off(r.end,s.mouseup),a&&(t.preventDefault(),a=!1,w.push(l),v.lineCheck=f(x.lineCount),v.lines=w,v.originWidth=$(e).width(),v.originHeight=$(e).height(),x.showStrokeMessage&&g(x.lineCount),"function"==typeof x.onChangeValue&&x.onChangeValue(v)),m2soft.crownix.FormField.Signature.prototype.pressure=void 0},this.on=function(){$(e).on(r.start,this.mousedown)},this.off=function(){$(e).off(r.start,this.mousedown)}})(l[0]).on(),"function"==typeof x.onChangeValue&&x.onChangeValue(v),this.getValue=function(){if(!f(x.lineCount)&&!x.showStrokeMessage)throw n.get("unqualified_stroke");var t=x&&x.width?x.width:r.width(),e=x&&x.height?x.height:r.height();return v.toData(t,e,{ratioType:!0,dpi:x.dpi||96})},this.reset=function(){i()},this.redrawSignToCanvas=function(){"function"==typeof x.resizeCanvasValue&&x.resizeCanvasValue(v),d.lineWidth=v.getLineWidth(r.width(),r.height()),d.lineJoin="round",d.lineCap="round"},this.getSignature=function(){return v},this.hasValue=function(){return 0<v.lines.length},this.validate=function(){return this.hasValue()&&f(x.lineCount)}},m2soft.ns("m2soft.crownix.FormField.ScrollPen"),m2soft.crownix.FormField.ScrollPen=function(t,e,i){var g,n,r=m2soft.crownix.Resource,o=(m2soft.crownix.Util,m2soft.crownix.resource.Icon),a=$("#"+t),m=a.width(),s=a.height(),p=e,e={width:m,height:s,scrollbarSize:30,scrollbarColor:"#808B96",scrollbarBackground:"#EAECEE",onScrolling:void 0,autoScrolling:{timeout:800,onAutoScrolled:void 0},fixedSignPressure:!1},w=$.extend(!0,e,i);w.scrollbarSize<0?w.scrollbarSize=0:w.scrollbarSize>s/3&&(w.scrollbarSize=s/3);function l(t){return e=t,t=d.getSignature(),e<=0||t.lines.length>=e?c.hide():c.show();var e}var x=function(){return(k.maxPosX-k.x)*(T.width()-S.width())/k.maxPosX},v=function(t){return{wrapperWidth:t.wrapperWidth,wrapperHeight:t.wrapperHeight,maxPosX:t.maxPosX,maxPosY:t.maxPosY,x:t.x,y:t.y}},b=function(){var t=y/w.height,e=p.fontStyle,i=parseInt(e.originFontSize)*t+"pt",n=1,r=p.element.attr("bt")||p.element.attr("ph")||"",o=0,a=0,t=p.fontStyle.textAlign,s=[],l=document.createElement("canvas").getContext("2d");l.font=[e.fontStyle,e.fontWeight,i,e.fontFamily].join(" "),l.textBaseline=e.textBaseline,l.textAlign=e.textAlign;var d="number"==typeof e.letterSpacing?e.letterSpacing:0,o=l.measureText(r).width+d*(r.length-1);f-4<o&&(n=(f-4)/o,o=f-4,d*=n),"center"===t?a=T.width()/2-o/2:"right"===t&&(a=T.width()-o);for(var c=0,h=a;c<r.length;c++){0<c&&(h+=d+s[c-1].width);var u=l.measureText(r[c]).width*n;s.push({index:c,character:r[c],left:h,width:u})}return{text:r,length:r.length,width:o,left:a,letterSpacing:d,characters:s}},i=s/w.height,f=w.width*i,y=w.height*i;m<=f&&(f*=(y-w.scrollbarSize)/y,y-=w.scrollbarSize);var C,k,S=$("<div>").attr({id:t+"-wrapper"}).css({position:"relative",width:m,height:s,overflow:"hidden","touch-action":"none"}).appendTo(a),T=$("<div>").attr({id:t+"-input"}).css({position:"absolute",width:f,height:y}).appendTo(S),d=new m2soft.crownix.FormField.Sign(t+"-input",{width:w.width,height:w.height,dpi:w.dpi,guideText:p.element.attr("bt")||p.element.attr("ph"),guideTextStyle:p.fontStyle,showResetButton:!1,showStrokeMessage:!1,fixedGuideText:p.element.attr("bt")||!1,signature:p.signature,penEventSkipTime:w.penEventSkipTime,fixedSignPressure:w.fixedSignPressure,onChangeCanvas:function(t,e){g=e,t.css({border:"0px"}),"function"==typeof w.onChangeCanvas&&w.onChangeCanvas(t,e)},onChangeValue:function(t){var e;0<t.lines.length&&d&&l(w.lineCount),!n||(e=t.lines[t.lines.length-1])&&n.inputPen(e[e.length-1][0]),"function"==typeof w.onChangeValue&&w.onChangeValue(t)},onDrawStart:function(t){n&&n.inputPen(!1)}});m<=f&&(k=(C=new m2soft.IScroll("#"+S.attr("id"),{scrollX:!0,scrollY:!1,scrollbars:"custom",disableMouse:!0,disablePointer:!0,disableTouch:!0,interactiveScrollbars:!0})).indicators[0],C.on("scrollMove",function(){n&&n.pauseAutoScroll(),"function"==typeof w.onScrolling&&w.onScrolling(v(k))}),T.siblings(".iScrollHorizontalScrollbar").removeClass("iScrollHorizontalScrollbar").addClass("crownix-scrollPen-scrollbar").css({height:w.scrollbarSize}),i=$(C.indicators[0].indicator).addClass("crownix-scrollPen-indicator").css({"border-radius":w.scrollbarSize/2+"px"}),s=w.scrollbarSize/10,i.width()>=w.scrollbarSize+2*s&&($(o.SCROLL_LEFT).css({float:"left","margin-left":s,"margin-right":"0px",width:w.scrollbarSize/2}).appendTo(i),$(o.SCROLL_RIGHT).css({float:"right","margin-left":"0px","margin-right":s,width:w.scrollbarSize/2}).appendTo(i)),w.showResetButton&&(s=$("<div>").css({position:"absolute",float:"right","font-weight":"bold",padding:"5px",cursor:"pointer",right:"1%",top:0}).on("click",d.reset).appendTo(a),$(o.RESET_ICON).css({width:"14px",height:"25px",padding:"1px 5px"}).appendTo(s),i=$("<span>").text(r.get("clear_sign")).css({color:"#919191","font-size":"11px"}),$("<div>").css({height:"25px",display:"inline-block","line-height":"25px","vertical-align":"top"}).append(i).appendTo(s)),0<w.autoScrolling.timeout&&(n=new function(){m2soft.crownix.Util.ActionEvents;function e(t){var e,i,n,r,o;c||(a=clearTimeout(a),e=x(),i=($(l).width()-$(s).width())*k.x/k.maxPosX,0!=(r=function(){for(var t=d.characters,e=($(l).width()-$(s).width())*k.x/k.maxPosX,i=[],n=0;n<t.length;n++){var r=t[n];" "!==r.character&&r.left>=e-10&&r.left+r.width<=e+$(s).width()+10&&i.push(r)}return i}()).length&&(r=(n=r[r.length-1]).left-i,o=r+n.width/2,n.index>=d.length-1||(o=e<o?e:o)<=0||(h.css({width:$(s).width()-r}),r<=t-i?(h.fadeIn(),p(u),a=setTimeout(function(){h.fadeOut(),f(u),c=g.isPreventEvent=!0,C.scrollBy(-o,0,500),setTimeout(function(){c=g.isPreventEvent=!1},500),"function"==typeof w.autoScrolling.onAutoScrolled&&w.autoScrolling.onAutoScrolled(v(C.indicators[0]))},w.autoScrolling.timeout)):(h.fadeOut(),f(u)))))}var a,s=S[0],l=T[0],d=b(),c=!1,h=$("<div>").attr({id:t+"-auto"}).addClass("crownix-scrollPen-auto").css({top:"0px",right:"0px",width:m/3,height:$(l).height()}).prependTo(S),u=$(o.SCROLL_RIGHT).css({visibility:"visible",height:"30px",opacity:"0.5",fill:"#0099FF",stroke:"#0099FF",color:"#0099FF",float:"right","margin-right":"2px"}).appendTo(h),p=function(t){t.cyclicFadeInterval||(t.cyclicFadeInterval=setInterval(function(){"none"===t.css("display")?t.fadeIn(200):t.fadeOut(200)},400))},f=function(t){t.cyclicFadeInterval&&(clearInterval(t.cyclicFadeInterval),t.cyclicFadeInterval=null,t.css({display:"none"}))};this.pauseAutoScroll=function(){h.fadeOut(),a=clearTimeout(a),f(h)},this.inputPen=function(t){t?e(t):a=clearTimeout(a)},setTimeout(function(){0<d.text.length&&C.scrollTo(-Math.min(Math.max(0,d.left),x()),0,500),"function"==typeof w.autoScrolling.onAutoScrolled&&w.autoScrolling.onAutoScrolled(v(C.indicators[0]))},300)})),a.css({position:"relative"});var c=$("<div>").addClass("crownix-line-validity-message").css({position:"absolute",display:"none",color:"#CD0A0A",right:0,bottom:w.scrollbarSize,padding:"3px","font-size":"10pt","pointer-events":"none"}).text(r.get("unqualified_stroke")).appendTo(a);this.getFormFieldSign=function(){return d}},m2soft.ns("m2soft.crownix.FormField.KeyboardPen"),m2soft.crownix.FormField.KeyboardPen=function(t,e,i){var n=e,e=$("#"+t);if(!n)throw"GUIDE_TEXT_NOT_FOUND";var r=(new m2soft.crownix.KoreanAutomata).disassemble(n).split(""),t={autoComplete:0,onReady:void 0,onIncorrect:void 0,onCorrect:void 0,onFinished:void 0},o=$.extend(!0,t,i),a=function(){s.val(n),s[0].scrollLeft=s[0].scrollWidth,l.hide(),"function"==typeof o.onFinished&&o.onFinished()};e.css({"text-align":"center"});var i=$("<div>").css({width:"100%",border:"1px solid gray",overflow:"hidden","border-radius":"5px"}).appendTo(e),s=$("<input>").attr({type:"text",placeHolder:n}).css({width:"100%",padding:"5px 0",margin:0,border:0,background:"none","text-align":"center","font-size":o.inputFontSize}).bind("input",function(){!function(){var t=s.val();if(!t)return!0;var e=(new m2soft.crownix.KoreanAutomata).disassemble(t).split("");if(e.length>r.length)return!1;for(var i=0;i<e.length;i++)if(r[i]!==e[i])return!1;return 0<o.autoComplete&&(e.length>=r.length*o.autoComplete/100?l.show():l.hide()),e.length===r.length&&a(),!0}()?"function"==typeof o.onIncorrect&&o.onIncorrect():"function"==typeof o.onCorrect&&o.onCorrect()}).appendTo(i),e=$("<div>").css({width:"100%",height:"30px"}).appendTo(e),l=$("<span>").css({margin:"3px 0",padding:"2px",color:"blue",overflow:"hidden",border:"1px solid blue",float:"right","max-width":"50%","font-size":"8pt","border-radius":"3px","white-space":"nowrap","text-overflow":"ellipsis"}).bind("click tap",a).text(n).appendTo(e).hide();"function"==typeof o.onReady&&o.onReady(s)},m2soft.ns("m2soft.crownix.GuideWindow"),m2soft.crownix.GuideWindow=function(t){var y,C,k,S,o,T,a,I,s,l,d,c,h,M,u,A=m2soft.crownix.GuideManager.getInstance(P),F=m2soft.crownix.Resource,p=m2soft.crownix.resource.Icon,i=m2soft.crownix.Util,E=m2soft.crownix.Constant,P=t,D=$("#"+E.CONTAINER_ID);textDom=D.find("#m2soft-crownix-text");ERROR_HEIGHT=FOOTER_HEIGHT=40;var O=P.options.guideWindow.width,_=P.options.guideWindow.height,N=P.options.guideWindow.headerColor,L=P.options.guideWindow.bodyColor,f=P.options.guideWindow.buttonColor,g=P.options.guideWindow.submitColor;(isNaN(O)||O<=0)&&(O=250),(isNaN(_)||_<40+ERROR_HEIGHT+FOOTER_HEIGHT)&&(_=200);function m(){S.addClass("crownix-shake-animation"),S.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){S.removeClass("crownix-shake-animation"),S.off("webkitAnimationEnd oanimationend msAnimationEnd animationend")})}function w(){var t=P.formManager.getField(y.formID,"rb"==y.type?y.groupID:y.fieldID);return(!t.value&&"rg"!=t.type||"cb"==y.type&&"0"==t.value||"rg"==t.type&&!t.selectedId)&&"1"==y.required&&(P.dialog.show(F.get("guide_required_input"),{type:"toast",time:1.5}),!0)}function x(){function t(t){textDom=$("#"+y.id).parents("#"+E.TEXT_ID),textDom.off("DOMSubtreeModified"),k=$("<div>").addClass("crownix-guide-overlay").on("touchstart pointerdown mousedown",function(t){!y||"tf"!=!y.type&&"date"!=!y.inputType||(t.stopPropagation(),t.preventDefault()),m2soft.crownix.FieldOrder.getInstance().blur()}).appendTo(t||textDom),P.textOnCanvas||P.options.scrollOptions.useInfiniteScroll||m2soft.crownix.Forgery.detect(textDom,document.getElementById(E.CANVAS_ID),P.isFormEditMode)}if(P.options.scrollOptions.useInfiniteScroll)for(var e=$(".crownix-text"),i=0;i<e.length;i++)$(e[i]).children(".crownix-guide-overlay").length?$(e[i]).children(".crownix-guide-overlay").fadeIn(500):t(e[i]);else $(".crownix-guide-overlay").length?$(".crownix-guide-overlay").fadeIn(500):t()}function e(){"sm"===y.type?h.appendTo(c):h.detach(),C=$("#"+y.id).parents("#m2soft-crownix-field-wrapper")[0],P.scroll.scrollerHeight>P.scroll.wrapperHeight?P.scroll.scrollToElementWithFrame(C,500,C.offsetHeight+S.height()):P.scroll.scrollToElement(C,500),n()}function v(){var t;$(".crownix-guide-canvas").remove(),$(".crownix-guide-overlay").css({background:"rgba(0, 0, 0, 0.3)","border-style":"none"}),P.options.scrollOptions.useInfiniteScroll?(t=function(){x(),e(),P.scroll.enabled=!1},P.documentScroller.isLoaded(y.page)?t():y.page!=P.documentScroller.getCurrentPageNumber()?(P.viewer.movePage(P.report.getDestPageNum(P.isGroupReport?P.mrdGroupManager.getRelativePageNumber(y.page):y.page)),m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribe(function(){A.isEnabled&&(y.page!==P.documentScroller.getCurrentPageNumber()?P.viewer.movePage(P.report.getDestPageNum(P.isGroupReport?P.mrdGroupManager.getRelativePageNumber(y.page):y.page)):t())})):P.documentScroller.scrollToPage(P.report.getDestPageNum(y.page),t)):y.page!=P.currentPage?(B(),P.toolbar.enable(),P.scroll.enabled=!0,P.viewer.movePage(P.report.getDestPageNum(P.isGroupReport?P.mrdGroupManager.getRelativePageNumber(y.page):y.page)),P.toolbar.disable(),P.toolbar.enableToolbarItem(["guide"])):e()}function b(){P.scroll.enabled=!0,P.scroll.options.isGuideMode=!1,setTimeout(function(){P.scroll.enabled=!1,P.scroll.options.isGuideMode=!0,C?(P.scroll.scrollToElementWithFrame(C,500,C.offsetHeight+S.height()),n()):v()},250)}var R=this.validateValue=function(){if(A.isEnabled){var e=P.formManager.getField(y.formID,"rb"==y.type?y.groupID:y.fieldID),t=!1;"tf"==e.type&&e.validateRegEx();return!function(){if(!e.value)return!0;var t;if("email"==y.inputType)t=i.REGEXP_EMAIL;else if("url"==y.inputType)t=i.REGEXP_URL;else if("tel"==y.inputType)t=i.REGEXP_TEL;else{if("number"!=y.inputType)return!0;t=i.REGEXP_NUMBER}return t.test(e.value)}()?(d.html(F.get("input_type_error")),t=!0):d.html(""),0==e.valid?($(".crownix-field-warning-box").hide(),l.html(y.validityMessage),t=!0):l.html(""),t}},n=function(){if(P.options.scrollOptions.useInfiniteScroll&&(textDom=$("#"+y.id).parents("#"+E.TEXT_ID)),textDom.length&&C){var t=textDom.position().top,e=textDom.position().left,i=t+C.offsetTop*P.scroll.scale+P.scroll.y-_-20,n=e+C.offsetLeft*P.scroll.scale+P.scroll.x,r=0;t>i*P.scroll.scale&&(i=t+(C.offsetTop+C.offsetHeight)*P.scroll.scale+P.scroll.y+20,r=1),S.css({left:Math.min(n,$(window).width()-O),top:i});var o=P.options.scrollOptions.useInfiniteScroll?textDom.children(".crownix-guide-overlay"):k;if(o.find("#"+y.id+"-canvas").length)$(C).addClass("crownix-guide-selected");else{var a=A.getGroupFields(y),s=0;do{var l=a?$("#"+a[s].id).parents("#m2soft-crownix-field-wrapper")[0]:C;$(l).addClass("crownix-guide-selected");var d,c=D.find("#m2soft-crownix-canvas")[0],h=(P.scroll.scale,l.offsetLeft),u=l.offsetTop,p=l.offsetWidth,f=l.offsetHeight,g=c.width/p,m=c.height/f,l=$("<canvas>").addClass("crownix-guide-canvas").attr({id:y.id+"-canvas",width:p,height:f}).css({position:"absolute",top:u,left:h})}while((P.options.scrollOptions.useInfiniteScroll||P.textOnCanvas)&&(d=window.devicePixelRatio||1,c=$("#"+y.id).parents("#"+E.TEXT_ID).siblings("#"+E.CANVAS_ID)[0],g=$(c).width()/p*d,m=$(c).height()/f*d,h*=d,u*=d),d=c.getContext("2d").getImageData(0,0,c.width,c.height),(c=$("<canvas>").attr({width:d.width,height:d.height})[0]).getContext("2d").putImageData(d,0,0),(d=l[0].getContext("2d")).scale(g,m),g=-h/g,m=-u/m,d.drawImage(c,g,m,p,f),l.appendTo(o),a&&a.length>++s)}var w,x,v=$(".crownix-guide-selected")[0].offsetTop,b=$(".crownix-guide-selected")[0].offsetLeft;1<$(".crownix-guide-selected").length&&(x=w=v,$(".crownix-guide-selected").each(function(){w=Math.min(w,this.offsetTop),x=Math.max(x,this.offsetTop),r=w-S.height()-20<0?(v=x,1):(v=w,0),v==this.offsetTop&&(b=(e+this.offsetLeft)*P.scroll.scale+P.scroll.x)}),P.options.scrollOptions.useInfiniteScroll?S.css({top:r?(v+C.offsetHeight)*P.scroll.scale+t+P.scroll.y+20:v*P.scroll.scale+t-S.height()-20+P.scroll.y,left:Math.min(b,$(window).width()-O)}):S.css({top:r?(v+t+C.offsetHeight)*P.scroll.scale+P.scroll.y+20:(v+t)*P.scroll.scale-S.height()-20+P.scroll.y,left:Math.min(b,$(window).width()-O)})),M.css({top:r?-_-40+20:0,left:n-Math.min(n,$(window).width()-O)+5,"border-color":r?"transparent transparent "+N+" transparent":L+" transparent transparent transparent","border-width":r?"0px 10px 20px":"20px 10px 0px"}),T.html(y.inputTitle).attr("title",y.inputTitle),I.html(("1"==y.required?'<font color="red">('+F.get("required_sign")+") </font>":"")+y.inputContent)}},B=function(){function t(){P.scroll.off("scrollToElement",n),P.scroll.off("scrollToElementWithFrame",n),P.scroll.off("scrollMove",n),P.scroll.off("scrollEnd",n),P.scroll.off("zoomEnd",n),P.scroll.off("restore",n),P.scroll.off("scrollToKeepCenter",n),P.scroll.on("scrollToElement",n),P.scroll.on("scrollToElementWithFrame",n),P.scroll.on("scrollMove",n),P.scroll.on("scrollEnd",n),P.scroll.on("zoomEnd",n),P.scroll.on("restore",n),P.scroll.on("scrollToKeepCenter",n)}t(),P.options.scrollOptions.useInfiniteScroll||m2soft.crownix.ChannelManager.getChannel("tabOrder:movePage").subscribeOnce(function(){A.isEnabled&&(t(),$("#"+y.id).length?(x(),P.scroll.enabled=!1,P.scroll.options.isGuideMode=!0,e()):A.close())})};this.close=function(){$(".crownix-guide-overlay").fadeOut(500),u.fadeOut(500),$(".crownix-slide").fadeIn(),$(".crownix-guide-selected").removeClass("crownix-guide-selected"),P.scroll.enabled=!0,P.scroll.options.isGuideMode=!1,P.scroll.off("scrollToElement",n),P.scroll.off("scrollToElementWithFrame",n),P.scroll.off("scrollMove",n),P.scroll.off("scrollEnd",n),P.scroll.off("zoomEnd",n),P.scroll.off("restore",n),P.scroll.off("scrollToKeepCenter",n),$(window).off("resize",b)},this.show=function(){var i,n,t,r,e;P.scroll.save(),y=(y=A.getCurr())||(A.hasNext()?A.next():A.back()),$(".crownix-slide").fadeOut(500),B(),x(),$(".crownix-guide-window").length?(u.fadeIn(500),A.hasNext()?$(".crownix-guide-next-button").text(F.get("next")):$(".crownix-guide-next-button").text(F.get("complete"))):(u=$("<div>").css({position:"absolute",left:0,top:0}).on("touchstart pointerdown mousedown",function(t){!y||"tf"!=!y.type&&"date"!=!y.inputType||(t.stopPropagation(),t.preventDefault()),m2soft.crownix.FieldOrder.getInstance().blur()}).appendTo(D),S=$("<div>").css({position:"absolute",width:O,height:_,transition:"left 0.5s, top 0.5s"}).addClass("crownix-guide-window").appendTo(u),o=$("<div>").addClass("crownix-guide-header").css({position:"relative",left:0,top:0,width:O,height:40,background:N,"border-radius":"5px 5px 0px 0px"}).appendTo(S),e=$("<div>").css({position:"absolute",width:O-50,height:40,"white-space":"nowrap",overflow:"hidden"}).appendTo(o),T=$("<span>").addClass("crownix-guide-span").css({"font-size":"12pt","text-overflow":"ellipsis",overflow:"hidden"}).appendTo(e),$("<div>").css({float:"right",cursor:"pointer",width:50,height:40}).append($("<img>").attr("src",p.CLOSE_BUTTON).css("margin",10)).on("click touchstart",A.close).appendTo(o),a=$("<div>").addClass("crownix-guide-body").css({width:O,height:_-40-ERROR_HEIGHT-FOOTER_HEIGHT,background:L}).appendTo(S),I=$("<span>").addClass("crownix-guide-span").appendTo(a),s=$("<div>").addClass("crownix-guide-err-body crownix-guide-body").css({"font-weight":"bold",width:O,height:ERROR_HEIGHT,background:L}).appendTo(S),l=$("<span>").addClass("crownix-guide-span crownix-guide-err-span").appendTo(s),d=$("<span>").addClass("crownix-guide-span crownix-guide-err-span").appendTo(s),$("<span>").addClass("crownix-guide-span crownix-guide-err-span").css({color:"red","font-size":"8pt",padding:0}).appendTo(s),c=$("<div>").addClass("crownix-guide-footer").css({position:"relative",left:0,top:0,width:O,height:FOOTER_HEIGHT,background:L,"border-radius":"0px 0px 5px 5px"}).appendTo(S),M=$("<div>").css({left:5,"border-width":"20px 10px 0px"}).addClass("crownix-triangle-up").appendTo(S),i=function(t){if(t.preventDefault(),"sm"==y.type||!R()&&!w()){$(textDom).children().removeClass("crownix-guide-selected");var e=y;do{if(!(y=A.next()))return void A.close()}while(y.groupID&&e.groupID==y.groupID||P.report.isRemovedPage(y.page));A.hasNext()||("sm"===y.type?$(this).hide():$(this).text(F.get("complete"))),A.hasBack()&&!c.children(".crownix-guide-back-button").length&&r.appendTo(c),v()}else m()},n=$("<button>").addClass("crownix-guide-next-button crownix-guide-button").css({float:"right",width:c.width()/4,height:.7*c.height(),background:f}).text(A.hasNext()?F.get("next"):F.get("complete")).on("click touchstart",i).appendTo(c),t=function(t){if(t.preventDefault(),"sm"==y.type||!R()&&!w()){$(textDom).children().removeClass("crownix-guide-selected").blur();do{if(!A.hasBack())break;if((y=A.back()).groupID&&A.hasBack()){var e=A.back();if(A.next(),e.groupID!=y.groupID)break}}while(A.getCurr().groupID||P.report.isRemovedPage(y.page));y&&(A.hasBack()||$(this).detach(),A.hasNext()&&n.off("click touchstart").on("click touchstart",i).text(F.get("next")).show(),v())}else m()},r=$("<button>").addClass("crownix-guide-back-button crownix-guide-button").css({float:"right",width:c.width()/4,height:.7*c.height(),background:f}).on("click touchstart",t).text(F.get("back")),e=function(){$(C).trigger("click"),A.hasNext()||A.close()},h=$("<button>").addClass("crownix-guide-button").css({float:"left",width:c.width()/4,height:.7*c.height(),background:g}).on("click touchstart",e).text(F.get("submit_button_text")),A.hasBack()&&r.on("click touchstart",t).appendTo(c),"sm"===y.type&&h.on("click touchstart",e).appendTo(c)),R(),v(),P.scroll.enabled=!1,P.scroll.options.isGuideMode=!0,$(window).on("resize",b)},this.guideWindow=function(){return S}},m2soft.ns("m2soft.crownix.QuickWindow"),m2soft.crownix.QuickWindow=function(I){var a=m2soft.crownix.Constant;GuideManager=m2soft.crownix.GuideManager,Util=m2soft.crownix.Util,Painter=m2soft.crownix.Painter,R=m2soft.crownix.Resource,ToolbarState=m2soft.crownix.State.Toolbar,ChannelManager=m2soft.crownix.ChannelManager;function c(){h=$(window).width(),u=$(window).height()}function i(){I.dialog.show(R.get("init_quick_all"),{type:"confirm",cancel:R.get("cancel_button_text"),ok:R.get("ok_button_text"),position:"center",okHandler:function(){I.formManager.initFormData({confirmDialog:!1}),s()}}),$(".crownix-field-dialog-message").css("height","100px"),$(".crownix-field-dialog-message-text").css("padding","30px 25px 15px")}function p(){for(var t=0;t<f.length;t++){var e=f[t].formID,i=f[t].fieldID,n=f[t].type,r=f[t].id,o=I.formManager.getFieldWrapper(e,i),i=I.formManager.getField(e,i)||{};"sm"!=n&&("rb"==n?(o.setSelected(i.selected),$(".crownix-radio-inner-"+e+"-"+f[t].groupID).removeClass("crownix-quick-inner-radiobutton"),s()):"sg"==n||"pn"==n?(s(),i.signature?i.setValue(i.getSignature()):i.setValue(i.value)):i.value&&("tf"==n||"ta"==n?o.setValue(i.value):"fl"==n?i.setFileName(i.value):"co"==n?o.setValue(i.value):"cb"==n?o.setSelected($("#"+r).is(":checked")):"im"==n&&(canvas=$("#"+a.TEXT_ID).find("#"+r+"-canvas"),0!=canvas.length&&P(canvas,{isResize:!0,imgSrc:i.value,elementId:r,field:i})),s()))}}function e(){for(var t=0,e={},i=0;i<f.length;i++){var n,r=f[i],o=r.type,a=r.id,s=I.formManager.getField(r.formID,r.fieldID)||{},l=$(".crownix-quick-scroll"),d=$(".crownix-quick-header-title").outerHeight(!0)||0,c=("sg"==o||"pn"==o?$("#"+a+"-wrapper"):$("#"+a)).parents(".crownix-quick-wrapper"),h=c.find(".crownix-quick-validity-message");if("sm"!=o){function u(){h.show(),h.text(R.get("submit_fail_not_filled_required_form")),l.scrollTop(l.scrollTop()+c.offset().top-d),setTimeout(function(){h.fadeOut(3e3)},200)}if("block"==h.css("display"))return void l.scrollTop(l.scrollTop()+c.offset().top-d);if("1"===s.required)if("cb"==o){if(!$("#"+a).is(":checked"))return void u()}else if("rb"==o){if(n=$('[for^="crownix_form_field_"][class="'+r.groupID+' crownix-quick-radiobutton"]'),e[r.groupID]||(e[r.groupID]=0),$("#"+a).is(":checked")||e[r.groupID]++,e[r.groupID]==n.length)return void u()}else if("rec"==o){if(window.m2softFormFieldBridge.toAudioRecord)return void u()}else if(!s.value)return void u();++t==f.length&&p()}else++t==f.length&&p()}}function M(t,e){return!e||("email"==t?Util.REGEXP_EMAIL.test(e):"url"==t?Util.REGEXP_URL.test(e):"tel"==t?Util.REGEXP_TEL.test(e):"number"!=t||Util.REGEXP_NUMBER.test(e))}function n(n,t){var r,e,i,o,a,s,l,d,c,h,u,p,f=n.element,g=n.type,m=n.formID,w=n.fieldID,x=n.groupID,v=n.id,b=n.validityMessage,y=!f.attr("nc")||"0"!==f.attr("nc"),C=I.formManager.getField(m,w)||{},k=C.editable,S=C.required,T=[g,m,x].join("-");x&&"sg"!=g&&0<$("[gid="+T+"]").length?e=$("[gid="+T+"]"):(o=(i=n).inputTitle,a=i.inputContent,i=$(document.createElement("div")).addClass("crownix-quick-wrapper").appendTo(".crownix-quick-scroll"),$("<div>").addClass("crownix-quick-title").append("STEP "+ ++F+" "+o).appendTo(i),a=$("<div>").addClass("crownix-quick-content").html(a).appendTo(i),$("<p>").addClass("crownix-quick-required").append("(※ "+R.get("required_sign")+" ※)").prependTo(a),r=i,$(document.createElement("div")).html(b).addClass("crownix-quick-validity-message").appendTo(r),e=$(document.createElement("div")).addClass("crownix-quick-field").appendTo(r),x&&e.attr("gid",T)),"tf"===g||"ta"===g?(T=f.attr("rfi"),h=I.formManager.getField(m,T),(h=((!T||"ta"!==h.type||"tf"!==g)&&(T&&"tf"==h.type&&"ta"===g||"tf"===g)?t.find("#"+v).addClass("crownix-quick-textfield"):t.find("#"+v).addClass("crownix-quick-textarea")).appendTo(e)).val()&&!M(h[0].type,h.val())&&r.find(".crownix-quick-validity-message").show(),h.bind("input",function(t){var e=$(this).attr("rfi"),i=n.validityMessage;e&&0!=A.find("#"+e+"_warning").length&&("block"==A.find("#"+e+"_warning").css("display")?r.parent().find("#"+e).parent().prev(".crownix-quick-validity-message").html(i).show():r.parent().find("#"+e).parent().prev(".crownix-quick-validity-message").hide()),e=r.find(".crownix-quick-validity-message").show(),i?e.html(i):e.text(R.get("input_type_error")),M(n.inputType,$(this).val())?e.hide():"1"!=S||$(this).val()||e.text(R.get("submit_fail_not_filled_required_form")).fadeOut(3e3)}),"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),"0"===k&&y&&h.addClass("crownix-quickfield-disable"),D(C)):"rec"===g?(s=t.find("#"+v).addClass("crownix-quick-recoder").appendTo(e),window.m2softFormFieldBridge.toAudioRecord&&"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),"0"===k&&s.addClass("crownix-quickfield-disable"),D(C)):"fl"===g?(l=t.find("#"+v).parent(),e.addClass("crownix-quick-file"),$(l[0].querySelector("input")).appendTo(e),$(l[0].querySelector("label")).appendTo(e),$(l[0].querySelectorAll("div")[0]).appendTo(e),$(l[0].querySelector("div")).appendTo(e),"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),C.editable&&"0"===C.editable?C.readonlyMode():C.editableMode(),D(C)):"co"===g?(d=t.find("#"+v).addClass("crownix-quick-combobox").appendTo(e),"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),"0"===k&&d.addClass("crownix-quickfield-disable"),D(C)):"rb"===g||"cb"===g?(e.addClass("crownix-quick-radio-check"),s=t.find("[for="+v+"]")[0],l=$(s).find(".crownix_form_field_label").text(),"rb"===(g="rb"===g&&"cb"===f.attr("sp")?"cb":g)&&($(s).find(".crownix-radio-inner-"+m+"-"+x).addClass("crownix-quick-inner-radiobutton"),$(s).find(".crownix-radio-outer").addClass("crownix-quick-radio-outer")),d=$(document.createElement("label")).attr({for:v,class:"rb"===g?"crownix-quick-radiobutton":"crownix-quick-checkbox"}).appendTo(e),"0"===k&&($(s).find("input").attr("disabled","disabled"),$(s).find("crownix-radio-outer").addClass("crownix-formfield-disable")),"cb"===g?(x=$("<span>").addClass("crownix-quick-labelspan").css({"line-height":"37.6px"}).prependTo(d),$(s).find(".crownix_formfield_selector").appendTo(x),$(s).find(".crownix-check-text-wrap").appendTo(d)):(d.css({"line-height":"37.6px"}),$(s).find(".crownix_formfield_selector").appendTo(d),$(s).find(".crownix-radio-text-wrap").appendTo(d)),l&&(c=d.width()<$(e).width()/2?$(e).outerWidth()/2-d.outerWidth()-10:$(e).outerWidth()-d.outerWidth()-10,d.css("margin-right",c)),"1"==S&&r&&r.find(".crownix-quick-required").css("display","inline-block"),D(C)):"im"===g?(c=f.attr("ph")||"",u=.85*e.width(),h=t.find("#"+v).appendTo(e),h=t.find("#"+v+"-canvas").addClass("crownix-quick-picture").appendTo(e),P(h,{width:u,height:h.height()*u/h.width(),placeholder:c,imgSrc:C.value||h[0].toDataURL("image/png"),isResize:!!C.value}),"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),"0"===k&&h.addClass("crownix-quickfield-disable"),D(C)):"sg"!==g&&"pn"!==g||(u=t.find("#"+v).width(),p=t.find("#"+v).height(),g=Math.floor(.85*r.width()),t=Math.floor(t.find("#"+v).height()*g/t.find("#"+v).width()),f.attr("bt")||f.attr("ph"),"0"==C.editable||f.attr("da"),e.attr({id:v+"-wrapper"}).css({width:g,height:t,position:"relative"}).addClass("crownix-quick-sign").appendTo(r),t=function(t,e){t.fontList;var i=t.textAttrList,n=(e.attr("bt")||e.attr("ph"),parseInt(e.attr("ha"))||0),t=parseInt(e.attr("va"))||0,i=i[e.attr("tid")]||{},n=1===n?"center":2===n?"right":"left",i={fontFamily:"Arial, sans-serif",fontSize:((e.attr("pt")?e.attr("pt")/10:i.pt/10)||10)+"pt",fillStyle:(e.attr("cl")?e.attr("cl"):i.cl)||"#000000",fontStyle:(e.attr("ci")?"1"===e.attr("ci"):"1"===i.ci)?"Italic":"",fontWeight:(e.attr("cb")?"1"===e.attr("cb"):"1"===i.cb)?"Bold":"",underLine:(e.attr("cu")?"1"===e.attr("cu"):"1"===i.cu)||!!e.attr("hl"),lineThrough:e.attr("cs")?"1"===e.attr("cs"):"1"===i.cs,shade:e.attr("cr")?"1"===e.attr("cr"):"1"===i.cr,textAlign:1==n?"center":2==n?"right":"left",adjustFontSize:!0};return i.textAlign=n,i.textBaseline=0==t?"top":1==t?"middle":"bottom",i}(I.report.getHeadForPage(n.page),C.element),(C.element.attr("ph")||C.element.attr("bt"))&&(t.fillStyle="#CCCCCC"),E[v]=new m2soft.crownix.FormField.Sign(v+"-wrapper",{lineCount:parseInt(C.element.attr("sn"))||0,fixedGuideText:!!C.element.attr("bt"),showStrokeMessage:!1,isFormFieldScript:!0,signature:C.signature,isPreventEvent:"1"==C.element.attr("da")||"0"==C.editable,guideText:C.element.attr("bt")||C.element.attr("ph")||"",guideTextStyle:t,formId:C.formId,fieldId:C.id,fixedSignPressure:I.options.formField.fixedSignPressure,onChangeCanvas:function(t,e){t.attr({formId:m,name:w,id:"crownix_form_field_"+m+"_"+w}),D(C,e)},onChangeValue:function(t){var e=I.formManager.getField(t.formId,t.fieldId),i=$("#"+e.elementId+"-wrapper").prev(".crownix-quick-validity-message").text(R.get("unqualified_stroke"));if(i)return t&&t.lineCheck?(t.lines&&0!=t.lines.length?(e.value=t.toData(u,p,{ratioType:!0,dpi:e.element.attr("dpi")||96}),e.signature=t,I.formManager.trigger("change",e.formId,e.id),I.formManager.modified(C)):(C.value=null,C.signature=null),i.hide()):i.show()},resizeCanvasValue:function(t){var e=I.formManager.getField(t.formId,t.fieldId),i=$("#"+e.elementId).parents(".crownix-quick-wrapper"),n=$("#"+e.elementId),r=Math.floor(.85*i.width()),o=Math.floor(p*r/u),a=n.width(),i=n.height();widthRatio=r/a,heightRatio=o/i,$("#"+e.elementId+"-wrapper").css({width:r,height:o}),n.attr({width:r,height:o}).css({width:r,height:o}),t.scale(widthRatio,heightRatio),t.originWidth=r,t.originHeight=o,(e.signature=t).drawSignature(n[0],{ratioType:!0})}}),"1"==S&&r.find(".crownix-quick-required").css("display","inline-block"),"0"===k&&e.find("#"+v).addClass("crownix-formfield-disable-guide"))}function t(){var t;!function(){var t;$('<div class="crownix-quick-outer"></div>').attr("id","crownix-quick-outer").prependTo(r.parent()).fadeIn(200),$(".crownix-quick-outer").append('<div class="crownix-quick-inner"></div>'),t=$('<div class="crownix-quick-header-title"></div>').prependTo(".crownix-quick-inner"),$(".crownix-quick-inner .crownix-quick-header-title").append(R.get("quick_header_title"));var e=$("<div>").bind("tap click",i).appendTo(".crownix-quick-inner");e.removeClass("crownix-quick-close-noneheader").addClass("crownix-quick-close"),$(".crownix-quick-inner").append('<div class="crownix-quick-scroll"></div>'),$(".crownix-quick-scroll").css({height:t?u-t.outerHeight(!0):u}).append('<hr class="scroll-quick-area" />')}(),function(){var t=document.createElement("canvas"),e=$("<div>"),i=new Painter(I,t,e);for(index in i.setFormFieldMode(!0),i.createFormFields(I.report),f)"sm"!=f[index].type&&n(f[index],e);t.remove(),e.remove()}(),t=$("<div>").addClass("crownix-quick-confirm-button").appendTo(".crownix-quick-scroll"),$("<p>").text(R.get("complete")).appendTo(t).on("click",e),$(".crownix-quick-scroll").append('<hr class="scroll-quick-area" />')}var r,A,f,F,h,u,g,o=GuideManager.getInstance(),E={},P=function(r,t){var o,e=t.width,i=t.height,a=t.ratio||0,n=(t.field,t.placeholder||""),s=!!t.isResize||!1,l=t.imgSrc||"",d=(t.elementId,r[0].getContext("2d"));t.width&&t.height&&r.attr({width:e,height:i}).css({width:e,height:i}),n&&new m2soft.crownix.Canvas(r[0],I).drawText(n,0,0,r.width(),r.height(),{fontStyle:"",fontFamily:"Arial",fontWeight:"",fontSize:i/6+"pt",textAlign:"center",textBaseline:"middle",adjustFontSize:!0}),s&&((o=new Image).src=l,o.onload=function(){var t,e,i,n;d.clearRect(0,0,r.width(),r.height()),1==a?(i=o.width/o.height,(n=r.width()/r.height())<i?(t=r.height()*(n/i),e=(r.height()-t)/2,d.drawImage(o,0,e,r.width(),t)):(i=r.width()*(i/n),n=(r.width()-i)/2,d.drawImage(o,n,0,i,r.height()))):2==a?d.drawImage(o,0,0):d.drawImage(o,0,0,r.width(),r.height())})},D=function(i,n){ChannelManager.getChannel("field:changeState").subscribe(function(t){var e=t.field,t="crownix_form_field_"+i.formId+"_"+i.id;e.elementId==t&&(t=$("#"+e.elementId),0<(t="im"==e.type?$("#"+e.elementId+"-canvas"):t).length&&("sg"==e.type||"pn"==e.type?"0"==e.editable?(t.addClass("crownix-formfield-disable-guide"),n.isPreventEvent=!0):(t.removeClass("crownix-formfield-disable-guide"),n.isPreventEvent=!1):"0"==e.editable?t.addClass("crownix-quickfield-disable"):t.removeClass("crownix-quickfield-disable")))})},s=function(){o.isEnabled=!1,I.toolbar.enable(),o.hasNext()||I.toolbar.disableToolbarItem(["guide"]),ToolbarState.toggleGuideButton(o.isEnabled),$(window).off("resize",l),$(".crownix-quick-outer").remove(),ChannelManager.removeChannel("field:changeState")},l=function(t){var e=$(".crownix-quick-scroll");g=h,c(),0<$(".crownix-quick-header-title").length&&(u-=$(".crownix-quick-header-title").outerHeight(!0)),e.css("height",u);for(var i,n=0;n<f.length;n++){var r,o,a=f[n],s=a.element,l=a.id,d=a.type,a=I.formManager.getField(a.formID,a.fieldID)||{};"im"===d?(o=$("#"+l+"-canvas"),r=.85*$("#"+l+"-canvas").parent().width(),0!=o.length&&P(o,{width:r,height:o.height()*r/o.width(),placeholder:s.attr("ph")||"",isResize:!0,elementId:l,imgSrc:a.value||o[0].toDataURL("image/png")})):"sg"==d||"pn"==d?E[l].redrawSignToCanvas(!0):"cb"!=d&&"rb"!=d||(r=$("[for="+l+"]")[0],s=$(r).parent().outerWidth(),a=$(r).find(".crownix-quick-labelspan"),o=$(r).find(".crownix_form_field_label").text(),d=$(r).height()+"px",a.css("line-height",d),$(r).width()<s/2&&o&&$(r).css("margin-right",s/2-$(r).outerWidth()-10))}Util.browser.android&&(g==h?(l=document.activeElement.getAttribute("id"),i=$("#"+l).parents(".crownix-quick-wrapper"),$("#crownix-quick-outer").height(),0!=i.length&&(i=i[0].offsetTop,$(".crownix-quick-header-title")&&(i-=$(".crownix-quick-header-title").outerHeight(!0)),e.scrollTop(i))):g=h)};this.show=function(){c(),F=0,r=$("#"+a.CONTAINER_ID),A=$("#"+a.TEXT_ID),f=o.getGuideOrder(),t(),$(window).on("resize",l)}},m2soft.ns("m2soft.crownix.WithSign"),m2soft.crownix.WithSign=function(t){function a(){c=P.width(),h=P.height(),u=h<c?.5:.3}function s(){var t=$(".crownix-line-validity-message");if(0!=t.length&&0!=N.length){for(var e=0,i=0;i<t.length;i++)"block"==$(t[i]).css("display")&&e++;for(i in N)0==e?(N[i].attr("disabled",!1).css({opacity:1}),m2soft.crownix.FieldOrder.getInstance().enable(),N[i][0].innerText==S.get("ok_button_text")&&N[i].focus()):(N[i].attr("disabled",!0).css({opacity:.4}),m2soft.crownix.FieldOrder.getInstance().disable())}}function o(){for(var t=0;t<b.length;t++)B[b[t].elementId].reset()}function l(){E.cxGridManager&&E.cxGridManager.inactive();var t=c-20,e=(c-20)/4,i=(h*u+44)/h*100,n=H===F?(h-h*u-44-20)/h*100:(h-h*u-44)/2/h*100;(p=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({visibility:"hidden",left:"10px",top:n+"%",width:t+"px",height:i+"%","min-width":e+"px","z-index":k.WINDOW_Z_INDEX,"text-align":"center","user-select":"none"}).prependTo(P))[0].addEventListener("touchmove",function(t){var e=$(t.target);("canvas"===e[0].tagName.toLowerCase()||e.hasClass("crownix-signature-header")||e.hasClass("crownix-signature-footer"))&&t.preventDefault()}),f=$("<div>").addClass("crownix-window-body").addClass("crownix-signature-background").css({width:p.width()+"px",height:p.height()-44+"px","border-top-right-radius":"3px","border-top-left-radius":"3px"}).appendTo(p),function(){for(var t=0;t<b.length;t++){var i=b[t],e=(i.formId,i.id,i.element.attr("tt")||S.get("input_sign")),n=m2soft.crownix.Painter.adjustCoord(i.element.attr("ri"))-1-(m2soft.crownix.Painter.adjustCoord(i.element.attr("le"))+2),r=m2soft.crownix.Painter.adjustCoord(i.element.attr("bo"))-1-(m2soft.crownix.Painter.adjustCoord(i.element.attr("to"))+2),o=$('<div id="crownix-sub-frame">').css({display:"inline-block",width:f.width()/b.length+"px",height:Math.floor(f.height())+"px"}).appendTo(f),o=($("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").append(e).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","border-radius":0==t?"3px 0 0 0":t==b.length-1?"0 3px 0 0":"0px"}).prependTo(o),$("<div>").addClass("crownix-sub-window-body").css({position:"relative",width:Math.floor(o.width())-1+"px",height:Math.floor(f.height()-30)+"px","border-color":"#DADADA","border-width":t==b.length-1?"0px":"0 1px 0 0","border-style":"solid"}).appendTo(o));$(document.createElement("div")).addClass("crownix-quick-validity-message").css({position:"absolute",padding:"0",right:10,bottom:10}).appendTo(o);o=$("<div>").attr({id:i.elementId+"-witharea"}).css({position:"relative",width:Math.floor(o.width())+"px",height:Math.floor(o.height())+"px"}).appendTo(o);i.fontStyle.fillStyle=i.fontStyle.fillStyle||"#CCCCCC",j.guideAlignSignature&&(i.fontStyle.textBaseline=0==i.element.attr("va")?"top":1==i.element.attr("va")?"middle":"bottom"),B[i.elementId]=new m2soft.crownix.FormField.Sign(i.elementId+"-witharea",{width:n,height:r,dpi:i.element.attr("dpi"),lineCount:parseInt(i.element.attr("sn"))||0,fixedGuideText:j.guideKeepSignWindow,showStrokeMessage:!0,isPreventEvent:"0"==i.editable,guideText:j.guideOnSignWindow?i.element.attr("ph"):"",guideTextStyle:i.fontStyle,formId:i.formId,fieldId:i.id,signature:i.signature,fixedSignPressure:j.fixedSignPressure,onChangeCanvas:function(t,e){t.attr({id:"crownix_form_field_"+e.formId+"_"+e.fieldId+"-with"}).css({left:0,border:"0px"}),q(i,e)},onFocusField:function(t){var e,i;E.options.formField.moveWithSignFocus&&(e=E.formManager.getField(t.formId,t.fieldId),i=function(){I.focusField(e.elementId),w=$("#"+e.elementId),E.scroll.scrollToElementWithFrame(w[0],1e3,p.height()+20)},e.page!=E.currentPage?(A.getChannel("viewer:onDrawPage").subscribeOnce(function(t){i(),E.keepWindow=!1}),E.keepWindow=!0,E.viewer.movePage(E.isGroupReport?E.mrdGroupManager.getRelativePageNumber(e.page):e.page)):i(),E.options.mirroring.enable&&E.mirroringManager.externalEvent.setFocus(e.elementId),E.shareManager&&E.shareManager.isConnected()&&E.shareManager.sendFocusOnField(e.formId,e.id))},onChangeValue:function(t){var e=E.formManager.getField(t.formId,t.fieldId),i=document.getElementById(e.elementId);if(i&&t&&t.drawSignature(i),s(),z.OnChangeValue&&"function"==typeof z.OnChangeValue){for(var n,i=b.length,r=0;r<b.length;r++)if(b[r].formId==t.formId&&b[r].id==t.fieldId){n=r;break}z.OnChangeValue(i+"|"+n+"|"+t.toData(300/i,100,{dpi:300}))}R[e.groupSignId]=e.elementId},resizeCanvasValue:function(t){var e=E.formManager.getField(t.formId,t.fieldId),i=$("#"+e.elementId+"-witharea"),n=$("#"+e.elementId+"-with"),r=i.width(),o=i.height(),a=r/n.width(),i=o/n.height();n.attr({width:r,height:o}).css({width:r,height:o}),t.scale(a,i),t.drawSignature(n[0],{ratioType:!0,fixedGuideText:!0}),document.getElementById(e.elementId)&&t.drawSignature(document.getElementById(e.elementId))}}),"0"===i.editable&&o.addClass("crownix-formfield-disable-guide")}}(),g=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({"line-height":"41px",display:"inline-block"}).appendTo(p),m=$("<div>").attr("class","crownix-signature-button-dom").css({width:"400px"}).appendTo(g);var r=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"105px","max-width":"25%",padding:"0 3px"}).bind("click",function(t){U(),G()}).on("keydown",function(t){t.preventDefault(),t.stopPropagation(),O&&9===t.keyCode&&"disabled"!=$(this).attr("disabled")&&(t.shiftKey?I.hasPrev()&&(U(),G(),I.movePrev()):I.hasNext()&&(U(),G(),I.moveNext()))}).appendTo(m);$(m2soft.crownix.resource.Icon.SIGNATURE_CONFIRM).css({width:"10%","min-width":"18px",fill:"#FFFFFF","padding-right":"4px","vertical-align":"middle"}).appendTo(r),$("<span>").text(S.get("ok_button_text")).appendTo(r),N.push(r),t=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"105px","max-width":"35%",padding:"0 3px","margin-right":0}).bind("click",function(t){o()}).prependTo(m),$(m2soft.crownix.resource.Icon.SIGN_RESET_ALL).css({width:"10%","min-width":"18px","padding-right":"4px","vertical-align":"middle"}).appendTo(t),$("<span>").text(S.get("clear_sign")).appendTo(t),i=$('<button type="button"></button>').attr("id",k.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").css({width:"105px","max-width":"25%","margin-right":0}).bind("click",function(t){o(),U(!0),G()}).prependTo(m),$("<span>").text(S.get("cancel_button_text")).appendTo(i),H===F&&(E.textOnCanvas&&(E.canvasManager.needRedraw=!1),_.save(),_.zoom(1),_.scrollToElementWithFrame(w[0],1e3,p.height()+20)),e={max:20,limitSize:5},M.adjustFontsize(r,e),M.adjustFontsize(t,e),M.adjustFontsize(i,e),L.push(r),L.push(t),L.push(i),t=$("<div>").css({width:"100%",position:"absolute"}).prependTo(g),(j.keepTabButton||!T.isEnabled&&0<I.length()&&I.exist(w.attr("id"))&&I.hasPrev())&&(i=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({float:"left",padding:"0 5px"}).on("click",function(t){"disabled"!=$(this).attr("disabled")&&(U(),G(),I.movePrev())}).appendTo(t),$(m2soft.crownix.resource.Icon.PREV_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -3px 0 0px","fill-opacity":"0.7","vertical-align":"middle"}).appendTo(i),$("<span>").text(S.get("back")).appendTo(i),M.adjustFontsize(i,e),L.push(i),N.push(i)),(j.keepTabButton||!T.isEnabled&&0<I.length()&&I.exist(w.attr("id"))&&I.hasNext())&&(t=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({float:"right",padding:"0 5px"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&(U(),G(),I.moveNext())}).appendTo(t),$(m2soft.crownix.resource.Icon.NEXT_ITEM_MARK).css({width:"10%","min-width":"18px",margin:"0px -5px 0 5px","vertical-align":"middle"}).appendTo(t),$("<span>").text(S.get("next")).prependTo(t),M.adjustFontsize(t,e),L.push(t),N.push(t)),_.disable(),p.css("visibility","visible").fadeIn(500,function(){var t,e;r.focus(),M.browser.ios&&(t=r.offset().left>window.scrollX&&r.offset().left<window.innerWidth+window.scrollX?window.scrollX:r.offset().left,e=r.offset().top>window.scrollY&&r.offset().top+r.height()<window.innerHeight+window.scrollY?window.scrollY:r.offset().top+r.height(),window.scroll(t,e)),O=!0,I.setPreventMove(!1),I.removePreventDom(),s()})}function d(){var t;a(),t=H===F?(h-h*u-30-g.height()-20)/h*100:(h-h*u-30-g.height())/2/h*100,p.css({left:(c-(c-20))/2/c*100+"%",top:t+"%",width:c-20+"px",height:(h*u+30+44)/h*100+"%"}),f.css({width:p.width()+"px",height:p.height()-30+"px"});for(var e=0;e<b.length;e++){var i=b[e],n=$("#"+i.elementId+"-witharea"),r=n.parents(".crownix-sub-window-body"),o=r.parents("#crownix-sub-frame");o.css({width:f.width()/b.length+"px",height:Math.floor(f.height())+"px"}),r.css({width:Math.floor(o.width())-1+"px",height:Math.floor(f.height()-30)+"px"}),n.css({width:Math.floor(r.width())+"px",height:Math.floor(r.height())+"px"}),0<n.length&&B[i.elementId].redrawSignToCanvas()}for(e=0;e<L.length;e++)M.adjustFontsize(L[e],{max:20});x=w.position().left+$("#"+k.TEXT_ID).position().left+w.width()/2,y=w.position().top+$("#"+k.TEXT_ID).position().top+w.height()/2,H===F&&(_.enable(),_.zoomAndScrollTo(1,x,y),_.scrollToElementWithFrame(w[0],0,p.height()+20),_.disable())}var c,h,u,p,f,g,m,w,v,b,C,k=m2soft.crownix.Constant,S=m2soft.crownix.Resource,T=(m2soft.crownix.resource.Icon,m2soft.crownix.GuideManager.getInstance(E)),I=m2soft.crownix.FieldOrder.getInstance(),M=m2soft.crownix.Util,A=m2soft.crownix.ChannelManager,F="bottom",E=t,P=$("#m2soft-crownix-container"),D=!1,O=!1,_=E.scroll,N=[],L=[],R={},B={},j=E.options.formField,H=j.signatureMethod,z={},q=function(i,n){A.getChannel("field:changeState").subscribeOnce(function(t){var e=$("#"+i.elementId+"-witharea");t.field.elementId==i.elementId&&0<e.length&&("0"==i.editable?(e.addClass("crownix-formfield-disable-guide"),n.isPreventEvent=!0):(e.removeClass("crownix-formfield-disable-guide"),n.isPreventEvent=!1))})},G=function(){O=!1,p.remove(),v&&v.remove(),w.removeClass("crownix-formfield-blink"),T.isEnabled||_.enable(),H===F&&_.restore(),I.focusHiddenTab(),E.textOnCanvas&&(E.canvasManager.needRedraw=!0),$(window).off("resize",d),z.OnClose&&"function"==typeof z.OnClose&&z.OnClose(),A.removeChannel("field:changeState")},U=function(t){for(var e=0;e<b.length;e++){var i=b[e],n=B[i.elementId].getSignature(),r=m2soft.crownix.Painter.adjustCoord(i.element.attr("ri"))-1-(m2soft.crownix.Painter.adjustCoord(i.element.attr("le"))+2),o=m2soft.crownix.Painter.adjustCoord(i.element.attr("bo"))-1-(m2soft.crownix.Painter.adjustCoord(i.element.attr("to"))+2),a=document.getElementById(i.elementId);"function"==typeof C&&(t?C(!t,void 0,n,i):0==n.lines.length?(a&&n.reset(a),C(t,void 0,void 0,i)):(o=n.toData(r,o,{ratioType:t,dpi:i.element.attr("dpi")||96}),C(!t,o,n,i,R)))}};this.show=function(t,e,i,n,r){w=t,D=i,b=n,C=e,(v=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":k.WINDOW_OVERLAY_Z_INDEX,background:T.isEnabled?"rgba(0, 0, 0, 0.4)":"rgba(0, 0, 0, 0.5)","user-select":"none"}).appendTo(P))[0].addEventListener("touchstart",function(t){t.preventDefault}),D&&v.fadeIn(100),function(){if(!E.options.formField.skipTabOrder&&!E.options.formField.moveWithSignFocus)for(var t=0;t<b.length;t++)I.exist(b[t].elementId)&&0<$("#"+b[t].elementId).length&&(w=$("#"+b[t].elementId));E.options.formField.moveWithSignFocus?I.focusField(w[0].id):I.focus(w[0].id)}(),setTimeout(function(){a(),l()},M.browser.mobile?500:0),$(window).on("resize",d)},this.bind=function(t,e){z[t]=e}},m2soft.ns("m2soft.crownix.ScrollPenWindow"),function(){function d(){R=c.isOpenWindow=!1,p.remove(),e&&e.remove(),window.removeEventListener("orientationchange",G,!1),M.isEnabled||S.enable(),B&&S.restore(),B=!1,y&&y.removeClass("crownix-formfield-blink"),j=[],I.focusHiddenTab(),c.textOnCanvas&&(c.canvasManager.needRedraw=!0),H.OnClose&&"function"==typeof H.OnClose&&H.OnClose()}function a(){(e=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":O.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(u))[0].addEventListener("touchstart",function(t){t.preventDefault()}),h.isOverlay&&e.fadeIn(100)}function s(){c.cxGridManager&&c.cxGridManager.inactive();var t=u.width(),e=u.height(),i=Math.max(.95*t,130),n=95<P.scrollPen.windowHeight?95:P.scrollPen.windowHeight<0?0:P.scrollPen.windowHeight,r=i,o=Math.max(e*n/100,300),a="center"==P.scrollPen.windowPosition?(e-o)/2:e-o-10,s=i,n=Math.max(.1*e,60),e=i,i=o-30-n-45;(p=$('<div id="crownix-window-frame">').addClass("crownix-signature-frame").css({left:(t-r)/2,top:a,width:r+"px",height:o+"px","z-index":O.WINDOW_Z_INDEX,"user-select":"none"}).prependTo(u))[0].addEventListener("touchmove",function(t){var e=$(t.target);("canvas"===e[0].tagName.toLowerCase()||e.hasClass("crownix-signature-header")||g[0].contains(e[0])||e.hasClass("crownix-signature-footer"))&&t.preventDefault()}),c.textOnCanvas&&(c.canvasManager.needRedraw=!1),(y=!y[0]?$("#"+T.elementId):y)[0]&&(B=!0,S.save(),S.zoom(1),S.scrollToElementWithFrame(y[0],1e3,S.isFloating?0:o+20)),$("<div>").addClass("crownix-signature-header").addClass("crownix-signature-background").append(T.title||T.id).appendTo(p),g=$('<div id="crownix-window-preview">').addClass("crownix-scrollPen-preview").css({width:s+"px",height:n+"px"}).appendTo(p),m=$('<div id="crownix-window-preview-body">').css({top:"5px",height:n-10+"px"}).addClass("crownix-window-body").appendTo(g),f=$('<div id="crownix-window-body-pen">').addClass("crownix-window-body").css({width:e+"px",overflow:"hidden",height:i+"px"}).appendTo(p),e=e,i=i,v=$("<div>").attr({id:T.elementId+"-scroll-pen"}).css({width:e,height:i}).appendTo(f),i=F||A||"",0==P.penLineCountPerText?E=0:0<P.penLineCountPerText&&(E=i.replace(/\s/g,"").length*P.penLineCountPerText),T.fontStyle.originFontSize=T.fontStyle.fontSize,T.fontStyle.fillStyle=F?"#CCCCCC":T.fontStyle.fillStyle,x=new m2soft.crownix.FormField.ScrollPen(T.elementId+"-scroll-pen",T,{width:C,height:k,dpi:P.penDpi,lineCount:E,guideText:i,fixedGuideText:A||!1,showResetButton:!1,showStrokeMessage:!0,signature:T.signature,scrollbarSize:P.scrollPen.scrollbarSize,penEventSkipTime:P.penEventSkipTime,fixedSignPressure:P.fixedSignPressure,autoScrolling:{timeout:P.scrollPen.autoScroll,onAutoScrolled:q},onChangeCanvas:function(t,e){t.css({left:0,border:"0px"});t=t.parents("#"+T.elementId+"-scroll-pen-input");t.width()<p.width()&&(t.css({left:(p.width()-t.width())/2,background:"white"}),v.css({background:"#DADADA"}))},onChangeValue:function(t){var e;(y=!y[0]?$("#"+T.elementId):y)[0]&&t&&t.drawSignature(y[0],{ratioType:!0,fixedGuideText:A||!1,drawLastLine:1<t.lines.length}),b&&t&&t.drawSignature(b.children("canvas")[0],{ratioType:!0,fixedGuideText:A||!1,drawLastLine:1<t.lines.length}),W(),H.OnChangeValue&&"function"==typeof H.OnChangeValue&&(e=t.dpi,t.dpi=300,H.OnChangeValue(t.toData(300,100)),t.dpi=e)},onScrolling:z}),S.disable(),s=(i=s)/C,i=(n=n-10)/k,n=Math.min(s,i),s=C*n,i=k*n,b=$("<div>").attr({id:T.elementId+"-preview"}).css({position:"absolute",left:(g.width()-s)/2,top:(m.height()-i)/2,width:s,height:i,background:"white"}).appendTo(m),T.fontStyle.originFontSize=T.fontStyle.fontSize,T.fontStyle.fillStyle=F?"#CCCCCC":T.fontStyle.fillStyle,new m2soft.crownix.FormField.Sign(T.elementId+"-preview",{width:C,height:k,showResetButton:!1,fixedGuideText:A||!1,isPreventEvent:!0,onChangeCanvas:function(t,e){t.css({left:0,border:"0px"}),x.getFormFieldSign().getSignature().drawSignature(t[0],{ratioType:!0,fixedGuideText:!0})}}),n=$("#"+T.elementId+"-scroll-pen-input"),s=Math.min(f.width(),n.width()),n=n.height(),w=$("<div>").attr({id:T.elementId+"-focus"}).addClass("crownix-scrollPen-preview-focus").css({left:b.css("left"),top:b.css("top"),width:s/n*i,height:i}).appendTo(m),m=$("<div>").addClass("crownix-signature-footer").addClass("crownix-signature-background").css({display:"inline-block","line-height":"42px"}).appendTo(p);var s=$("<div>").attr("class","crownix-signature-button-dom").css({width:"60%","max-width":"340px"}).appendTo(m),l=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background ok-button").css({width:"30%",pading:"0 3px","max-width":"105px"}).bind("click",function(t){U(),d(),t.preventDefault(),t.stopPropagation(),"function"==typeof h.onOk&&h.onOk(x.getFormFieldSign().getValue())}).on("keydown",function(t){t.preventDefault(),t.stopPropagation(),R&&9===t.keyCode&&"disabled"!=$(this).attr("disabled")&&(t.shiftKey?I.hasPrev()&&(U(),d(),I.movePrev()):I.hasNext()&&(U(),d(),I.moveNext()))}).appendTo(s);$(N.SIGNATURE_CONFIRM).css({fill:"#FFFFFF",width:"10%","padding-right":"4px","min-width":"18px","vertical-align":"middle"}).appendTo(l),$("<span>").text(D.get("ok_button_text")).appendTo(l),j.push(l),n=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-refresh-icon-color crownix-signature-button-white reset-button").css({width:"30%",padding:"0 3px","max-width":"105px","margin-right":"0px"}).bind("click",function(t){var e;x.getFormFieldSign().reset(),l.focus(),(F||A)&&((e=x.getFormFieldSign().getSignature()).drawSignature(y[0],{guideTextImageData:!0}),e.drawSignature(b.children("canvas")[0],{guideTextImageData:!0}))}).prependTo(s),$(N.SIGN_RESET_ALL).css({width:"10%","padding-right":"4px","min-width":"18px","vertical-align":"middle"}).appendTo(n),$("<span>").text(D.get("clear_sign")).appendTo(n),i=$('<button type="button"></button>').attr("id",O.WINDOW_CLOSE_ID).attr("class","crownix-signature-button crownix-signature-button-white close-button").css({width:"30%","max-width":"105px","margin-right":0}).bind("click",function(){x.getFormFieldSign().reset(),U(!0),d()}).prependTo(s),$("<span>").text(D.get("cancel_button_text")).appendTo(i),s={max:20,limitSize:5},_.adjustFontsize(l,s),_.adjustFontsize(i,s),_.adjustFontsize(n,s),i=$("<div>").css({width:"100%",position:"absolute"}).prependTo(m),(P.keepTabButton||!M.isEnabled&&0<I.length()&&I.exist(T.elementId)&&I.hasPrev())&&(n=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-signature-tab crownix-signature-button-white").attr("disabled","disabled").css({width:"17%",padding:"0 5px",float:"left"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&(U(),d(),I.movePrev())}).appendTo(i),$(N.PREV_ITEM_MARK).css({width:"7%",margin:"0px -3px 0 0px","min-width":"18px","vertical-align":"middle","fill-opacity":"0.7"}).appendTo(n),$("<span>").text(D.get("back")).appendTo(n),_.adjustFontsize(n,s),j.push(n)),(P.keepTabButton||!M.isEnabled&&0<I.length()&&I.exist(T.elementId)&&I.hasNext())&&(i=$('<button type="button"></button>').attr("class","crownix-signature-button crownix-confirm-background crownix-signature-tab").attr("disabled","disabled").css({width:"17%",padding:"0 5px",float:"right"}).on("click",function(){"disabled"!=$(this).attr("disabled")&&(U(),d(),I.moveNext())}).appendTo(i),$("<span>").text(D.get("next")).appendTo(i),$(N.NEXT_ITEM_MARK).css({width:"7%",margin:"0px -5px 0 5px","min-width":"18px","vertical-align":"middle"}).appendTo(i),_.adjustFontsize(i,s),j.push(i)),p.css("visibility","visible").fadeIn(500,function(){var t,e;l.focus(),_.browser.ios&&(t=l.offset().left>window.scrollX&&l.offset().left<window.innerWidth+window.scrollX?window.scrollX:l.offset().left,e=l.offset().top>window.scrollY&&l.offset().top+l.height()<window.innerHeight+window.scrollY?window.scrollY:l.offset().top+l.height(),window.scroll(t,e)),I.setPreventMove(!1),R=c.isOpenWindow=!0,I.removePreventDom(),W()})}function l(t){var e=m2soft.crownix.Painter.adjustCoord;return{width:e(t.element.attr("ri"))-e(t.element.attr("le"))-3,height:e(t.element.attr("bo"))-e(t.element.attr("to"))-3}}function t(t){c=t,I=m2soft.crownix.FieldOrder.getInstance(),M=m2soft.crownix.GuideManager.getInstance(),I.setPreventMove(!0)}var c,h,u,p,f,g,m,w,x,v,b,y,C,k,e,S,T,I,M,A,F,E,P,D=m2soft.crownix.Resource,O=m2soft.crownix.Constant,_=m2soft.crownix.Util,N=m2soft.crownix.resource.Icon,L={parentId:"",onOk:void 0,isOverlay:!0},R=!1,B=!1,j=[],H={},i=void 0,z=function(t){w&&w.css({left:b.position().left+t.x*b.width()/t.wrapperWidth})},q=function(t){w&&w.animate({left:b.position().left+t.x*b.width()/t.wrapperWidth},300)},G=function(){i||(x.getFormFieldSign().reset(),U(!0),h.isOverlay&&e.remove(),p.remove(),y&&y.removeClass("crownix-formfield-blink"),a(),i=setTimeout(function(){B&&y[0]&&S.scrollToElementWithFrame(y[0],1e3,10),s(),i=void 0},500))},U=function(t){var e=x.getFormFieldSign().getSignature(),i=e.toData(C,k,{ratioType:!t,dpi:P.penDpi});t?T.value&&e&&0<=e.lines.length?T.signature?T.setValue(T.getSignature()):T.value&&T.setValue(T.value):(T.value=T.signature=null,e.drawSignature(y[0],{guideTextImageData:!0})):(T.value=0==e.lines.length?null:i,T.signature=0==e.lines.length?null:e,c.formManager.trigger("change",T.formId,T.id),c.formManager.modified(T)),c.shareManager&&c.shareManager.sendFormField({formId:T.formId,fieldId:T.id,value:T.signature?T.getSignature():T.value}),c.options.mirroring.enable&&(c.mirroringManager.externalEvent.setValue(T.formId,T.id,T.value),c.mirroringManager.externalEvent.sendEvent(T.formId,T.id,"change")),T.determineEffect(),c.fieldEffector&&c.fieldEffector.start()},W=function(){var t=$(".crownix-line-validity-message");if(0!=t.length&&0!=j.length){for(var e=0,i=0;i<t.length;i++)"block"==$(t[i]).css("display")&&e++;for(i in j)0==e?(j[i].attr("disabled",!1).css({opacity:1}),I.enable(),j[i][0].innerText==D.get("ok_button_text")&&j[i].focus()):(j[i].attr("disabled",!0).css({opacity:.4}),I.disable())}};t.prototype={constructor:m2soft.crownix.ScrollPenWindow,show:function(t,e,i){var n,r,o;(T=c.formManager.getField(t,e))&&"pn"==T.type&&"1"!==T.commonHidden?"1"==T.editable?(T.fontStyle=(n=T.element,r=c.report.getHeadForPage(T.page).textAttrList,o=c.report.getHeadForPage(T.page).fontList,t=r[n.attr("tid")]||{},r=parseInt(n.attr("ha")),e=n.attr("fn")?n.attr("fn"):o.get(t.fi)||"",c.alterFontMap&&c.alterFontMap[e]&&(e+='", "'+c.alterFontMap[e]),{fontFamily:'"'+(o=e)+'", "'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+o+'"',fontSize:((n.attr("pt")?n.attr("pt")/10:t.pt/10)||10)+"pt",fillStyle:(n.attr("cl")?n.attr("cl"):t.cl)||"#000000",fontStyle:(n.attr("ci")?"1"===n.attr("ci"):"1"===t.ci)?"Italic":"",fontWeight:(n.attr("cb")?"1"===n.attr("cb"):"1"===t.cb)?"Bold":"",underLine:(n.attr("cu")?"1"===n.attr("cu"):"1"===t.cu)||!!n.attr("hl"),lineThrough:n.attr("cs")?"1"===n.attr("cs"):"1"===t.cs,shade:n.attr("cr")?"1"===n.attr("cr"):"1"===t.cr,textAlign:1==r?"center":2==r?"right":"left",textBaseline:c.options.formField.guideAlignPen?textVAlign:"middle",adjustFontScale:!0}),h=$.extend(!0,$.extend({},L),i),u=$("#"+h.parentId)[0]?$("#"+h.parentId):$("body"),y=$("#"+T.elementId),C=l(T).width,k=l(T).height,S=c.scroll,E=T.element.attr("sn")||0,F=T.element.attr("ph")||"",A=T.element.attr("bt"),P=c.options.formField,a(),setTimeout(function(){s()},_.browser.mobile?500:0),window.addEventListener("orientationchange",G,!1)):c.dialog.show(D.get("form_readonly").replace("%s",T.formId+"."+T.id)):c.dialog.show(D.get("formfield_not_exist"))},bind:function(t,e){H[t]=e}},m2soft.crownix.ScrollPenWindow=m2soft.crownix.util.SingleTone(t)}(),m2soft.ns("m2soft.crownix.KeyboardPenWindow"),m2soft.crownix.KeyboardPenWindow=function(){function e(){setTimeout(function(){F();var t=Math.min(500,.9*$(window).width()),e="#1E77FC";(m=$("<div>").css({position:"fixed",display:"none",bottom:v.browser.ios||v.browser.safari?"50%":"10px",left:($(window).width()-t)/2,width:t+"px",overflow:"hidden",background:"white",border:0,"z-index":x.WINDOW_Z_INDEX,"max-width":"","border-radius":"10px"}).appendTo(f))[0].addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()});var i=$("<div>").css({width:"100%",height:"35px","text-align":"center","border-bottom":"1px solid #DEDEDE"}).appendTo(m);$("<span>").css({"line-height":"35px","vertical-align":"middle"}).text(w.get("follow_text")).appendTo(i);var n=$("<div>").css({width:"100%"}).appendTo(m),r=$("<div>").css({padding:"10px 5px",background:"white","text-decoration":s.options.formField.keyboardPen.guideUnderline?"underline":"none","text-align":"center","font-size":s.options.formField.keyboardPen.guideFontSize}).html(p).appendTo(n),o=$("<div>").css({width:"100%"}).appendTo(n);$("<div>").attr({id:u[0].id+"-pen"}).css({width:"90%",margin:"0 auto"}).appendTo(o),new m2soft.crownix.FormField.KeyboardPen(u[0].id+"-pen",p,{autoComplete:s.options.formField.keyboardPen.autoComplete,inputFontSize:s.options.formField.keyboardPen.inputFontSize,onReady:function(t){g=t},onCorrect:function(){r.css("color","black"),T(a,S())},onIncorrect:function(t){r.css("color","red"),T(a,!1)},onFinished:function(){r.css("color","black"),T(a,!0)}});var t=$("<div>").css({width:"100%",height:"40px"}).appendTo(m),n=$('<button type="button"></button>').css({display:"inline-block",width:"50%",height:"100%",border:"none",color:"black",background:"#EFEFEF",padding:0,"font-size":"13pt"}).text(w.get("cancel_button_text")).bind("click tap",I).appendTo(t),a=$('<button type="button"></button>').css({display:"inline-block",width:"50%",height:"100%",border:"none",padding:0,color:"white",background:e,cursor:"pointer","font-size":"13pt"}).bind("click tap",function(){A(),I()}).text(w.get("ok_button_text")).appendTo(t);s.textOnCanvas&&(s.canvasManager.needRedraw=!1),s.canvasManager.needRedraw=!1,c[0]&&(y=!0,h.save(),h.zoom(1),h.scrollToElementWithFrame(c[0],1e3,10)),h.disable(),T(n,!0),T(a,!1);o=$("<div>").css({visibility:"hidden",height:"100%",padding:"0 5px",background:e,float:"left"}),t=$("<button>").css({height:"100%",border:0,background:"none",color:"white",cursor:"pointer","vertical-align":"middle","font-size":"12pt"}).text("< "+w.get("back")).bind("click",C),n=$("<div>").css({visibility:"hidden",height:"100%",padding:"0 5px",background:e,float:"right"}),e=$("<button>").css({height:"100%",border:0,background:"none",color:"white",cursor:"pointer","vertical-align":"middle","font-size":"12pt"}).text(w.get("next")+" >").bind("click",k);i.append(o).append(n),o.append(t),n.append(e),(s.options.formField.keepTabButton||!d.isEnabled&&0<l.length()&&l.exist(u.attr("id"))&&l.hasPrev())&&o.css("visibility","visible"),(s.options.formField.keepTabButton||!d.isEnabled&&0<l.length()&&l.exist(u.attr("id"))&&l.hasNext())&&n.css("visibility","visible"),m.css("visibility","visible").fadeIn(500,function(){l.setPreventMove(!1),l.removePreventDom(),b=!0,g.on("keydown",function(t){b&&(9===t.keyCode?"disabled"!==$(this).attr("disabled")&&(t.shiftKey?C:k)():13===t.keyCode&&"disabled"!==a.attr("disabled")&&(A(),I()))}).focus()}),window.addEventListener("orientationchange",M,!1)},100)}function t(t){s=t,(l=m2soft.crownix.FieldOrder.getInstance()).setPreventMove(!0),d=m2soft.crownix.GuideManager.getInstance()}var s,l,d,c,h,u,i,n,p,f,r,g,m,w=m2soft.crownix.Resource,x=m2soft.crownix.Constant,v=m2soft.crownix.Util,b=!1,y=!1,o={},C=function(){l.hasPrev()&&(S()&&A(),I(),l.movePrev())},k=function(){l.hasNext()&&(S()&&A(),I(),l.moveNext())},S=function(){return g.val()===p},T=function(t,e){t.attr({disabled:!e}).css({opacity:e?1:.4,cursor:e?"pointer":"default"})},I=function(){m.remove(),r&&r.remove(),window.removeEventListener("orientationchange",M,!1),d.isEnabled||h.enable(),y&&h.restore(),b=y=!1,u&&u.removeClass("crownix-formfield-blink"),l.focusHiddenTab(),s.textOnCanvas&&(s.canvasManager.needRedraw=!0),o.OnClose&&"function"==typeof o.OnClose&&o.OnClose()},M=function(){I(),setTimeout(function(){e()},500)},A=function(){var t=i.drawTextToCanvas(u[0],p,{redraw:!0,guideTextStyle:{fillStyle:"#000000"}});n(t)},F=function(){(r=$("<div>").addClass("crownix-overlay").css({"z-index":x.WINDOW_OVERLAY_Z_INDEX,"user-select":"none"}).appendTo(f))[0].addEventListener("touchstart",function(t){t.preventDefault()})};return t.prototype={show:function(t){c=t.currentField,h=t.viewerScroll,u=t.viewerCanvas,i=t.signature,$("#"+x.TEXT_ID),n=t.completeHandler,p=t.guideText,f=$("#"+s.containerDom.parent().attr("id")),setTimeout(function(){e()},v.browser.mobile?500:0)},bind:function(t,e){o[t]=e}},t}(),m2soft.ns("m2soft.crownix.PrintDialog"),m2soft.crownix.PrintDialog=function(){var s=m2soft.crownix.Resource;Constant=m2soft.crownix.Constant,Dialog=m2soft.crownix.FormDialog,Util=m2soft.crownix.Util;function i(){return!m.page||!(!e(h.val())||!P()||((t=parseInt(d.val()))<0||void 0!==l.maxCopy&&t>l.maxCopy));var t}function n(){g.resize()}function r(){$(window).off("resize",n)}var l,o,d,c,a,h,u,p,f,g=new Dialog("#"+Constant.CONTAINER_ID),m={copy:!1,page:!1,layout:!1,duplex:!1},w=function(){return $("<div>").addClass("crownix-print-dialog-body")},x=function(t){var e=$("<div>"),i=$('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><style type="text/css">.st0{clip-path:url(#SVGID_1_);fill:#647783;}.st1{clip-path:url(#SVGID_1_);fill:#FFFFFF;}.st2{fill:#D98A6E;}.st3{fill:#FFFFFF;}</style><g><g><defs><rect id="SVGID_3_" width="32" height="32"/></defs><clipPath id="SVGID_1_"><use xlink:href="#SVGID_3_"  style="overflow:visible;"/></clipPath><path class="st0" d="M0,17.3v9.9c0,0.3,0.2,0.5,0.5,0.5h2.7v1.6h1.6V32h22.4v-2.7h1.6v-1.6h2.7c0.3,0,0.5-0.2,0.5-0.5v-9.9H0z"/><rect x="5.3" y="0.5" class="st1" width="21.3" height="30.9"/><path class="st0" d="M26.1,30.9H5.9V1.1h20.3V30.9z M26.7,0H5.3C5,0,4.8,0.2,4.8,0.5V32h22.4V0.5C27.2,0.2,27,0,26.7,0"/><path class="st1" d="M22.1,22.9H10.6c-0.3,0-0.5-0.2-0.5-0.5s0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5S22.4,22.9,22.1,22.9"/><path class="st0" d="M22.1,21.8H10.6c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5S22.4,21.8,22.1,21.8"/><path class="st1" d="M22.1,25.2H10.6c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5C22.7,25,22.4,25.2,22.1,25.2"/><path class="st0" d="M22.1,24.2H10.6c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5C22.7,24.4,22.4,24.2,22.1,24.2"/><path class="st1" d="M22.1,27.3H10.6c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5h11.5c0.3,0,0.5,0.2,0.5,0.5C22.7,27.1,22.4,27.3,22.1,27.3"/><path class="st0" d="M22.1,26.3H10.6c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h11.5c0.3,0,0.5-0.2,0.5-0.5S22.4,26.3,22.1,26.3"/><path class="st0" d="M32,10.1c0-0.3-0.2-0.5-0.5-0.5H0.5C0.2,9.6,0,9.8,0,10.1v10.1h32V10.1z"/></g><g><path class="st2" d="M27.2,16.1h-1.4c-0.9,0-1.7-0.7-1.7-1.7v0c0-0.9,0.7-1.7,1.7-1.7h1.4c0.9,0,1.7,0.7,1.7,1.7v0C28.8,15.3,28.1,16.1,27.2,16.1z"/><path class="st3" d="M28,16.4h-3c-0.7,0-1.2-0.6-1.2-1.3v-1.5c0-0.7,0.5-1.3,1.2-1.3h3c0.7,0,1.2,0.6,1.2,1.3v1.5C29.2,15.9,28.7,16.4,28,16.4z M25,13.1c-0.3,0-0.5,0.2-0.5,0.5v1.5c0,0.3,0.2,0.5,0.5,0.5h3c0.3,0,0.5-0.2,0.5-0.5v-1.5c0-0.3-0.2-0.5-0.5-0.5H25z"/></g></g></svg>');e.addClass("crownix-print-dialog-image").addClass("crownix-dialog-wrapper").appendTo(t),i.attr({width:"70px",height:"70px"}).appendTo(e)},v=function(t){var e=$("<div>"),i=O(e),n=_(e),r=$("<div>"),o=$("<label>"),a=$("<label>");d=$("<input>"),c=$("<input>"),e.appendTo(t),r.appendTo(e),o.text(s.get("copies")).addClass("crownix-print-dialog-label").appendTo(i),$.isNumeric(l.maxCopy)&&(d.attr("max",l.maxCopy),y(d,l.maxCopy)),d.attr({id:"crownix-print-dialog-copies",type:"number",min:1,value:1}).appendTo(n),c.attr({type:"checkbox",checked:!0}).addClass("crownix-print-dialog-sub").appendTo(r),a.text(s.get("callate")).addClass("crownix-print-dialog-label").appendTo(r),b(a,c)},b=function(t,e){t.bind("click",function(){e.click()})},y=function(t,e){t.bind("input",function(){this.value=this.value.replace("-",""),this.value=this.value.replace(".",""),parseInt(this.value)>e&&(this.value=e)})},C=function(t){var e,i=$("<div>"),n=O(i),r=_(i),o=$("<label>");a=$("<select>"),h=k(i),e=S(i),i.appendTo(t),o.text(s.get("page")).addClass("crownix-print-dialog-label").appendTo(n),a.appendTo(r),D(a,s.get("all"),"0",!0),D(a,s.get("current_page"),"1",!1),D(a,s.get("page_range"),"2",!1),F(e),E(e.children().first())},k=function(t){return $("<input>").attr({type:"text"}).addClass("crownix-print-dialog-range").addClass("crownix-print-dialog-sub").css("display","none").appendTo(t)},S=function(t){var e=$("<div>").addClass("crownix-print-dialog-error-wrapper").css("display","none");return $("<p>").addClass("crownix-print-dialog-range-error").addClass("crownix-print-dialog-sub").css("display","none").appendTo(e),e.appendTo(t)},T=function(t){var e=$("<div>"),i=O(e),n=_(e),r=$("<label>");u=$("<select>"),e.appendTo(t),r.text(s.get("print_page_layout")).addClass("crownix-print-dialog-label").appendTo(i),u.appendTo(n),D(u,s.get("page_no").replace("%d",1),"1",!0),D(u,s.get("page_no").replace("%d",2),"2",!1),D(u,s.get("page_no").replace("%d",4),"4",!1),D(u,s.get("page_no").replace("%d",6),"6",!1),D(u,s.get("page_no").replace("%d",8),"8",!1)},I=function(t){var e=$("<div>"),i=O(e),n=_(e),r=$("<label>");p=$("<input>"),e.appendTo(t),i.css({width:"90px","text-align":"right"}),p.attr({type:"checkbox",checked:!1}).appendTo(i),r.text(s.get("print_subpage_next")).css({"font-size":"8pt","vertical-align":"middle"}).addClass("crownix-print-dialog-label").appendTo(n),n.appendTo(e),M(r,p)},M=function(t,e){t.bind("click",function(){e.click()})},A=function(t){var e=$("<div>"),i=O(e),n=_(e),r=$("<label>");e.appendTo(t),r.text(s.get("print_duplex")).addClass("crownix-print-dialog-label").appendTo(i),f=$("<select>").appendTo(n),D(f,s.get("not_use"),"0",!0),D(f,s.get("print_duplex_flip_up"),"1",!1),D(f,s.get("print_duplex_flip_sideway"),"2",!1)},F=function(t){a.bind("change",function(){"2"===this.value?(h.css("display","block"),t.css("display","block"),"block"===t.children().css("display")&&g.disableOkButton()):(h.css("display","none"),t.css("display","none"),g.enableOkButton()),g.resize()})},E=function(t){Util.browser.android&&h.focus(function(){setTimeout(function(){g.resize()},400)}),h.bind("input",function(){this.value=this.value.replace(" ",""),e(this.value)?P()?(t.css("display","none"),g.enableOkButton()):(t.text(s.get("exceed_page_range")),t.css("display","block"),g.disableOkButton()):(t.text(s.get("invalid_page_range")),t.css("display","block"),g.disableOkButton()),g.resize()})},e=function(t){return!(!/^(?!([ \d]*-){2})\d+(?: *[-,] *\d+)*$/.test(t)&&""!==t)},P=function(){var t=N();if(null===t)return!0;for(var e=0;e<t.length;e++){var i=t[e];if(i>o.totalPage||i<=0)return!1}return!0},D=function(t,e,i,n){$("<option>").attr({value:i,selected:n}).text(e).appendTo(t)},O=function(t){return $("<div>").addClass("crownix-print-dialog-side").addClass("crownix-print-dialog-side-left").appendTo(t)},_=function(t){return $("<div>").addClass("crownix-print-dialog-side").addClass("crownix-print-dialog-side-right").appendTo(t)},N=function(){var t=h.val();return""===t?null:t.split(",").reduce(function(t,e){for(var i=L(e),n=0;n<i.length;n++)t.push(i[n]);return t},[])},L=function(t){var e=[];if(0<t.indexOf("-")){var i=t.split("-"),n=parseInt(i[0]),r=parseInt(i[1]);if(n<r)for(var o=n;o<=r;o++)e.push(o);else for(o=n;r<=o;o--)e.push(o)}else e.push(parseInt(t));return e};this.show=function(t){var e=$.Deferred();return l=t.printOptions,m=$.extend(!0,m,t.dialogOptions),o=t.pageInfo,g.show("",{type:"confirm",body:function(t){var e,i;e=w(),i=$("<div>").addClass("crownix-dialog-wrapper").addClass("crownix-dialog-wrapper-right"),x(e),m.copy&&v(i),m.page&&C(i),m.layout&&T(i),l.useSubPageOption&&I(i),m.duplex&&A(i),i.appendTo(e),e.appendTo(t)},okHandler:function(){var t;r(),i()?e.resolve((t={},m.copy&&(t.copies=d.val(),t.isCollate=c.is(":checked")),m.page&&(t.pageType=a.val(),t.pageRange=N()),m.layout&&(t.pageLayout=u.val(),l.useSubPageOption&&(t.subPage=p.is(":checked"))),m.duplex&&"0"!=f.val()&&(t.duplexPrinting=f.val()),t)):e.reject()},cancelHandler:function(){r(),e.reject()}}),$(window).on("resize",n),e.promise()}},m2soft.ns("m2soft.crownix.SaveDialog"),m2soft.crownix.SaveDialog=function(t,r){function e(t){return t.replace(/{+([^{]+).}/g,function(){var t=arguments[0],e=t.indexOf("{"),i=t.lastIndexOf("}");return w.get(t.slice(e+1,i))})}function i(){v?f.find(".wrapper-hide").slideToggle():(f.find(".wrapper-hide").toggleClass("sub-dialog-active"),f.find("#option").toggleClass("active"))}function c(t){return"png"==t||"jpg"==t?"img":"cell"==t||"xls"==t?"xls":"pdf"==t?"pdf":void 0}function n(){"pdf"==(t=this.value)||"cell"==t||"png"==t||"jpg"==t||"tif"==t||"bmp"==t||"gif"==t?f.find(".wrapper-hide label.savepagesize").removeClass("sub-dialog-active"):f.find(".wrapper-hide label.savepagesize").addClass("sub-dialog-active"),f.find("#pdf, #xls, #img").hide();var t=c(this.value);!t||(t=f.find("#"+t))&&t.show()}function o(){function t(){e.val(r.totalPage),e.attr("disabled",!0),i.hide(),y=!1,F()}var e=f.find('#range > input[type="text"]'),i=f.find("#range > .valid-message"),n=f.find("#range");v?"page"==this.id?(e.attr("disabled")&&e.attr("disabled",!1),n.show()):(n&&n.hide(),t()):"page"==this.id?e.attr("disabled",!1):t()}function a(){var t,e=f.find("#pdf label > .part"),i=f.find("#pdf #master"),n=f.find("#pdf .valid-message");C=i.val()?("disabled"==e.attr("disabled")&&(e.attr("disabled",!1),e.children().each(function(t,e){e.disabled=!1})),t=f.find("#pdf #user"),i.val()==t.val()?n.show():n.hide(),i.val()==t.val()):(e.attr("disabled")||(e.attr("disabled",!0),e.children().each(function(t,e){e.disabled=!0})),n.hide(),!1),F()}function s(){f.children().css({height:$(x).outerHeight()-34})}function l(){var t=/[\\\/:*?"<>|]/,e=this.value,i=f.find("#name ~ .valid-message");t.test(e)?i.show():i.hide(),b=t.test(e),F()}function d(){var t=this.value,e=f.find("#range .valid-message");t&&-1==t.indexOf(".")?t.split(",").every(function(t){return!(y=function(t){if(-1==t.indexOf("-"))return!Number(t)||Number(t)>r.totalPage;var e=t.split("-"),i=Number(e[0]),t=Number(e[1]);return 2<e.length||!(i&&t)||i<0||t<0||i>r.totalPage||t>r.totalPage}(t))}):y=!0,y?e.show():e.hide(),F()}function h(){v?f&&f.remove():g&&g.remove(),v&&window.removeEventListener("resize",s,!1)}function u(t){v?(f=$("<div>").attr("id","crownix-save-mobile").prependTo(x),$(e(S)).css({height:$(x).outerHeight()-34}).appendTo(f),$(e(T)).prepend(e(I)).prepend(e(M)).prepend(e(A)).appendTo(f.find(".wrapper-middle"))):(g=$('<div class="crownix-overlay"></div>').css("display","table").appendTo(x),f=$("<div>").attr("id","crownix-save-desktop").appendTo(g),$(e(S)).appendTo(f),$(e(T)).prepend(e(I)).prepend(e(M)).prepend(e(A)).appendTo(f)),m.adjustFontsize(f.find("#option"),{max:10}),t=t,f.find("#cancel").bind("click",t.cancelHandler),f.find("#save").bind("click",t.saveHandler),f.find("#option, #mobile-option").bind("click",i),f.find("#type").bind("change",n),f.find("#all, #curr, #page").bind("change",o),f.find("#master, #user").bind("input",a),f.find("#name").bind("input",l),f.find('#range input[type="text"]').bind("input",d),v&&window.addEventListener("resize",s,!1)}function p(){var n,t,e,i,r,o,a,s,l=f.find("#type").val(),d={};return n=d,o=(v?f.find(".for-mobile #include"):f.find(".for-desktop #desk-link"))[0],t=f.find('input[name="page"]'),e=f.find("#name"),n.downloadFileName=e.val()||k,t.each(function(t,e){var i;e.checked&&("curr"==e.id?n.partsave=0:"page"==e.id&&(i=[],f.find("#range").children().each(function(t,e){e.value?i.push(e.value):i.push(e.innerText)}),n.partsave=i.join("")))}),o.checked||(n.ignoreLink=!0),f.find(".common input").each(function(t,e){var i=e.value;i&&("cdratio"==e.id&&(n.exportChartRatio=i),"barcode"==e.id&&(n.barcodeImgDPI=i),"savepagesize"==e.id&&(n.savePageSize=i))}),i=d,o=f.find("#type").val(),a=c(o),s=0,a&&((r=f.find("#"+a)).find("input").each(function(t,e){t="user"==e.id?1:"master"==e.id?0:t;"text"==e.type?("pdf"!=a||i.setPDFSecurity?"xls"!=a||i.xlsPassword||(i.xlsPassword=[]):i.setPDFSecurity=[],"user"==e.id||"master"==e.id?e.value?i.setPDFSecurity[t]=e.value:i.setPDFSecurity[t]=" ":"read"!=e.id&&"write"!=e.id||(e.value?i.xlsPassword.push(e.value):i.xlsPassword.push(""))):"checkbox"==e.type&&("print"==e.id||"copy"==e.id||"edit"==e.id?e.checked?i.setPDFSecurity.push(0):i.setPDFSecurity.push(1):"exapitype"==e.id?i.exportApiType=e.checked:"usesvg"==e.id?i.useSvg=e.checked:"pdfnf"==e.id?(i.pdfNf=e.checked,i.locale=r.find("#locale").val()):"xlsopt"==e.id?e.checked?s+=1:s+=2:"ntos"!=e.id&&"ntot"!=e.id&&"ctot"!=e.id||!e.checked?"xlsimgexcept"==e.id?i.xlsimgexcept=e.checked?0:1:"norotateimg"==e.id&&(i.norotateimg=!e.checked):s+=parseInt(e.value))}),"pdf"==o?(i.setPDFSecurity=i.setPDFSecurity.join(","),i.pdfcompmode=r.find("#zip").val()):"xls"==o&&(i.xlsPassword=i.xlsPassword.join(";;"),i.xlsopt=s)),d.type=l,d}var f,g,m=m2soft.crownix.Util,w=m2soft.crownix.Resource,x=t,v=m.hasTouch()&&$(window).width()<=700,b=!1,y=!1,C=!1,k=r.options.downloadFileName||"noname",S='<div class="wrapper"><div class="wrapper-top"><div>{save}</div></div><div class="wrapper-middle"><div class="section-top"><select id="type"><option value="pdf">PDF {save} (.pdf)</option><option value="hwp">HWP {save} (.hwp)</option><option value="xls">XLS {save} (.xls)</option><option value="cell">CELL {save} (.cell)</option><option value="xlsx">XLSX {save} (.xlsx)</option><option value="doc">DOC {save} (.doc)</option><option value="ppt">PPT {save} (.ppt)</option><option value="png">PNG {save} (.png)</option><option value="jpg">JPG {save} (.jpg)</option><option value="tif">TIF {save} (.tif)</option><option value="bmp">BMP {save} (.bmp)</option><option value="gif">GIF {save} (.gif)</option></select><button id="option"><span>{option}</span></button></div><div class="section"><div class="title">{file_name}</div><input id="name" type="text" placeholder="'+k+'"><div class="valid-message">{notuse_special_filename}</div></div><div class="section"><div class="title">{save_option}</div><div class="part"><input type="radio" name="page" id="all" checked="checked"><label for="all">{all_page}</label><input type="radio" name="page" id="curr"><label for="curr">{curr_page}</label><input type="radio" name="page" id="page"><label for="page">{part_page}</label></div><div id="range"><input type="text" disabled="disabled" value="'+r.totalPage+'" placeholder="{example} 1-3, 5, 12-13"><div class="valid-message">{incorrect_page}</div></div></div><div class="section" id="mobile-option"><div class="dropdown title">{more_option}</div></div></div><div class="wrapper-bottom"><button id="cancel">{cancel_button_text}</button><button id="save">{save}</button></div></div>',T='<div class="wrapper-hide"><div class="section"><div class="title">{default_option}</div><div class="for-desktop part"><label for="desk-link"><input type="checkbox" id="desk-link" checked="checked">{hyper_link} {include}</label></div><div class="for-mobile part"><div>{hyper_link}</div><div class="section"><div class="part"><input type="radio" name="hyper" id="include" checked="checked"><label for="include">{include}</label><input type="radio" name="hyper" id="exclude"><label for="exclude">{exclude}</label></div></div></div><div class="common part"><label><input type="text" id="cdratio">{chart_ratio}</label><label><input type="text" id="barcode">{barcode_img_dpi}</label><label class="savepagesize"><input type="text" id="savepagesize">{save_page_size}</label></div></div></div>',I='<div id="pdf"><div class="section"><div class="title">{document_protect_authority}</div><div class="part"><label><input type="text" class="string" id="user">{user_password}</label><label><input type="text" class="string" id="master">{owner_password}</label><div class="valid-message">{user_master_valid}</div></div><div class="part"><label><div class="part" disabled="disabled"><input type="checkbox" id="print" disabled="disabled"><label for="print">{print}</label><input type="checkbox" id="copy" disabled="disabled"><label for="copy">{copy}</label><input type="checkbox" id="edit" disabled="disabled"><label for="edit">{edit}</label></div>{permission}</label></div></div><div class="section"><div class="part"><label class="title"><select class="" id="zip"><option value="3">{max_compression}</option><option value="2">{high_compression}</option><option value="1">{low_compression}</option><option value="0">{no_compression}</option></select>{compression_type}</label></div></div><div class="section"><div class="title">{etcdetail_option}</div><div class="part"><label for="exapitype"><input type="checkbox" id="exapitype">{save_text_image}</label><label for="usesvg"><input type="checkbox" id="usesvg">{save_svg}</label><label for="pdfnf"><input type="checkbox" id="pdfnf"><select id="locale"><option value="ko_KR">ko_KR</option><option value="ja_JP">ja_JP</option><option value="zh_CN">zh_CN</option></select>{include_font_info}</label></div></div></div>',M='<div id="xls"><div class="section"><div class="title">{document_protect_authority}</div><div class="part"><label><input type="text" class="string" id="read">{read_password}</label><label><input type="text" class="string" id="write">{write_password}</label></div></div><div class="section"><div class="title">{layout}</div><div class="part"><label for="xlsopt"><input type="checkbox" id="xlsopt" checked="checked">{keep_report_layout}</label><label for="xlsimgexcept"><input type="checkbox" id="xlsimgexcept" checked="checked">{duplicated_image}</label></div></div><div class="section"><div class="title">{format}</div><div class="part"><label for="ntos"><input type="checkbox" id="ntos" value="4">{keep_text_format}</label><label for="ntot"><input type="checkbox" id="ntot" value="32">{set_numberic_text}</label><label for="ctot"><input type="checkbox" id="ctot" value="64">{set_text_numberic_text}</label></div></div></div>',A='<div id="img"><div class="section"><div class="title">{etcdetail_option}</div><div class="part"><label for="norotateimg"><input type="checkbox" id="norotateimg">{rotate_portrait_document}</label></div></div></div>',F=function(){f.find("#save").attr("disabled",b||y||C)};this.show=function(e){u({saveHandler:function(){var t=p();e.saveHandler&&e.saveHandler(t),h()},cancelHandler:function(){e.cancelHandler&&e.cancelHandler(),h()}})}},m2soft.ns("m2soft.crownix.ImageConverter"),m2soft.crownix.ImageConverter=function(){m2soft.crownix.Resource;function Z(t,e){return m2soft.crownix.Painter.adjustCoord(t,e)}function tt(t,e,i){var n,r=e[t.attr("tid")]||{},e=parseInt(t.attr("ha"));return{fontFamily:'"'+(i=(n=t.attr("fn")?t.attr("fn"):i.get(r.fi)||"",o&&o[n]&&(n+='", "'+o[n]),n))+'", "'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+i+'"',fontSize:((t.attr("pt")?t.attr("pt")/10:r.pt/10)||10)+"pt",fillStyle:(t.attr("cl")?t.attr("cl"):r.cl)||"#000000",fontStyle:(t.attr("ci")?"1"===t.attr("ci"):"1"===r.ci)?"Italic":"",fontWeight:(t.attr("cb")?"1"===t.attr("cb"):"1"===r.cb)?"Bold":"",underLine:(t.attr("cu")?"1"===t.attr("cu"):"1"===r.cu)||!!t.attr("hl"),lineThrough:t.attr("cs")?"1"===t.attr("cs"):"1"===r.cs,shade:t.attr("cr")?"1"===t.attr("cr"):"1"===r.cr,textAlign:1==e?"center":2==e?"right":"left"}}function et(e,t,i,n,r){var o,a,s,l,d,c,h,u,p,f,g,m;"0"!==t.attr("vs")&&(r=r||{},o=Z(t.attr("le"))+(r.paddingLeft||r.padding||0),a=Z(t.attr("ri"))-(r.paddingRight||r.padding||0),s=Z(t.attr("to"))+(r.paddingTop||r.padding||0)+5,l=Z(t.attr("bo"))-(r.paddingBottom||r.padding||0)+5,m=parseInt(t.attr("ha"))||0,d=parseFloat(t.attr("ls"))/1e3||0,h=ot.inToPx(d),m="string"==typeof r.align?r.align:1===m?"center":2===m?"right":"left",0<t.children("TX").length?(p=u=0,b&&"hidden"!==r.overflow&&(f=0,t.children().each(function(){var t=$(this);c=t.text(),g=tt(t,n,i),f+=e.measureText(c,g).width+h*c.length},function(){var t=a-o;1<c.length&&t<f&&(h-=(f-t)/c.length)})),"center"===m?u=(a-o-f+h)/2:"right"===m&&(u=a-o-f),t.children().each(function(){var t=$(this);c=t.text(),(g=tt(t,n,i)).textAlign="left",g.textBaseline="bottom",g.letterSpacing=h,e.drawText(c,o+u+p,s,a,l,g),p+=e.measureText(c,g).width+h*c.length})):((g=tt(t,n,i)).textAlign=m,"1"==t.attr("cbo")&&"1"!==t.attr("cto")?g.textBaseline="top":"1"==t.attr("cto")&&"1"!==t.attr("cbo")?g.textBaseline="bottom":g.textBaseline="middle",c=t.text(),b&&"hidden"!==r.overflow&&(t=e.measureText(c,g).width+h*c.length,r=a-o,1<c.length&&r<t&&(h-=(t-r)/c.length)),g.letterSpacing=h,e.drawText(c,o,s,a,l,g)))}function it(t,e,i){var n=Z(e.attr("sx")),r=Z(e.attr("ex")),o=Z(e.attr("sy"))+5,a=Z(e.attr("ey"))+5,e=(e.attr("dt"),e.attr("ra")),r=r-n,a=a-o;t.drawImage(i,n,o,r,a,e)}function g(t){var e=t.attr("fi"),i=t.attr("id"),n=t.attr("gi"),r=t.attr("ty");if(x){e="rb"===r?x.getField(e,n):x.getField(e,i);return"tf"===r||"ta"===r||"im"===r||"sg"===r||"fl"===r||"pn"===r?e.value:"me"===r?e.imageData:"co"===r?e.getDisplayValue():"rb"===r?e.isSelected(i):"cb"===r?"1"===e.value:void 0}return"tf"===r||"ta"===r?t.text():"rb"===r||"cb"===r?"1"===t.attr("se"):"im"===r||"sg"===r||"pn"===r?t.attr("dt"):"co"===r?t.attr("sv"):void 0}function nt(i,t,e,n){var r=Z(t.attr("le")),o=Z(t.attr("ri")),a=Z(t.attr("to"))+5,s=Z(t.attr("bo"))+5,l=t.attr("ty"),d=t.attr("fi"),c=t.attr("id");if(x){var h=x.getField(d,c);if(h)if(v){if("All"===h.outputAuthority&&"1"===h.commonHidden)return;if("All"!==h.outputAuthority&&"1"===t.attr("ch"))return}else if("1"===h.commonHidden)return}else if("1"===t.attr("ch"))return;var u,p,f,c=g(t);"tf"===l?"1"!==t.attr("hd")&&("1"===t.attr("pw")?t.text(c.replace(/./g,"*")):"date"===t.attr("it")?(h=t.attr("df")||"yyyy-MM-dd",u=t.attr("dfv")||"yyyy-MM-dd",u=m.convertDateFormat(g(t),h,u),t.text(u)):"text"!==t.attr("it")&&"number"!==t.attr("it")&&"tel"!==t.attr("it")||!t.attr("ft")?t.text(c):(u=new w(t.attr("ft"),t.attr("cz"),t.attr("cnz")).formatNumber(c.toString()),t.text(u)),et(i,t,e,n,{overflow:"hidden",padding:3})):"ta"===l?(p=tt(t,n,e),i.wrapText(c,r+2,a+2,o-2,s-2,p)):"rb"===l||"cb"===l?(p="cb"===(t.attr("sp")||l)?"check":"radio",function(t,e,i,n,r,o,a,s,l,d){var c=e.attr("lb")||"",h=e.attr("la")||"0",u=parseInt(e.attr("ha"))||"0",p=parseInt(e.attr("va"))||"0",f=parseFloat(e.attr("ts")||"100")/100,g="1"==e.attr("rb"),m=r-i,w=(n+o)/2;(d=tt(e,d,l)).textAlign="left";var x,l=parseInt(e.attr("sz"))||16,e=t.measureText(c,d).width;"0"==u?x=i+4:"1"==u?x=i+(m-l-4-e)/2:"2"==u&&(x=r-l-4-e),"1"==h&&(x+=e),"0"==p?(d.textBaseline="top",b=n+4):"1"==p?(d.textBaseline="middle",b=w-l/2):"2"==p&&(d.textBaseline="bottom",b=o-l-4);var v,b,y,C,k,w=x+l,p=b+l;"radio"===a?(t.drawEllipse(x,b,w,p,{lc:"#5D5D5D",wd:2},{fc:"#FFFFFF",pt:0}),s&&(v=.25*l,t.drawEllipse(x+v,b+v,w-v,p-v,{lc:"#000000",wd:1},{fc:"#000000",pt:0}))):"check"===a&&(g||t.drawRect(x,b,w,p,{lc:"#5D5D5D",wd:2},{fc:"#FFFFFF",pt:0},1,1),s&&(m=Math.round(.35*l*.3),v=x+.2*l,a=b+.5*l,g=x+.45*l,p=b+.75*l,s=x+.8*l,b=b+.25*l,f<1?(m-=Math.ceil((l+Math.max((f-1)*l,1-l))/16),v=((C=(y=Math.abs(Math.sqrt(Math.pow(g-v,2)+Math.pow(p-a,2))))*f)*v+(k=y-C)*g)/(C+k),a=(C*a+k*p)/(C+k),s=(C*s+k*g)/(C+k),b=(C*b+k*p)/(C+k)):1<f&&(m+=Math.ceil((l+Math.ceil((f-1)*l/2))/16),v=((C=(y=Math.abs(Math.sqrt(Math.pow(g-v,2)+Math.pow(p-a,2))))*f)*v-(k=C-y)*g)/(C-k),a=(C*a-k*p)/(C-k),s=(C*s-k*g)/(C-k),b=(C*b-k*p)/(C-k)),t.drawPolyLine({lc:"#000000",wd:m+(m%2==0?0:.5)},[[v,a],[g,p],[s,b]]))),"1"==h?t.drawText(c,x-2-e,n,r,o,d):t.drawText(c,w+2,n,r,o,d)}(i,t,r,a,o,s,p,c,e,n)):"co"===l||"fl"===l?(t.text(c),et(i,t,e,n,{align:"left",paddingLeft:parseInt(t.attr("dn"))+2||2,overflow:"hidden"})):"sg"!==l&&"im"!==l&&"pn"!==l&&"me"!==l||("pn"===l&&(t.text(t.attr("bt")),et(i,t,e,n,{overflow:"hidden",padding:3})),c&&(f=new Image,y.push(f),f.src=c,f.onload=function(){var t,e;f.width!=o-r-2||f.height!=s-a-2?(e=f.width/f.height)<(o-r-2)/(s-a-2)?(t=(s-a-2)*e,i.drawImage(f,r+1+(o-r-2-t)/2,a+1,(s-a-2)*e,s-a-2,0)):(t=(o-r-2)/e,i.drawImage(f,r+1,a+1+(s-a-2-t)/2,o-r-2,(o-r-2)/e,0)):i.drawImage(f,r+1,a+1,o-r-2,s-a-2,0)}))}var rt=m2soft.crownix.Util,ot=m2soft.crownix.util.Unit,m=m2soft.crownix.util.DateUtil,w=m2soft.crownix.util.NumberUtil,x=null,v=null,c=null,p=null,b=!0,o=null,f={},y=[],at=!1;this.convertPage=function(G,U,r,o,t){var e=G.getHeadForPage(U),i=G.getParsedPage(U),n=Math.floor(i.attr("wd")/10.3),a=Math.floor(i.attr("ht")/10.3);1===U&&(f.width=i.attr("wd")/1e3,f.height=i.attr("ht")/1e3,f.size=i.attr("si")||"A4");var s,l,d="object"==typeof r&&r.getContext;d?(l=(s=r).getContext("2d"),s.width=s.height*n/a,l.save(),l.fillStyle="#FFFFFF",l.fillRect(0,0,s.width,s.height),l.scale(s.width/n,s.width/n)):((s=document.createElement("canvas")).width=n,s.height=a);var W=new m2soft.crownix.Canvas(s);W.clear();var V=e.lineAttrList,J=e.faceAttrList,Y=e.textAttrList,X=e.fontList,Q=new m2soft.crownix.ImageLoader,K=new m2soft.crownix.ChartLoader;Q.loadImage(i,e.indexedImageList,function(){K.loadChart(i,function(){var q=function(t){t.children().each(function(){var t=this.tagName,d=$(this);if(!(at&&d.attr("ect")&&0<=d.attr("ect").indexOf("p"))&&(at||!d.attr("se")||!(0<=d.attr("se").indexOf("pdf")||0<=d.attr("se").indexOf("all")))){var e,i,n,r,o,a,s,l,c,h,u,p,f,g,m,w,x,v,b,y,C,k,S,T,I,M,A,F,E,P,D,O,_,N,L,R,B,j,H=V[d.attr("lid")],z=J[d.attr("fid")],H=H&&function(t,e){var i=t.attr("lc"),n=t.attr("wd"),r=t.attr("st"),o=t.attr("ap");if(i||n||r||o){t=$.extend({},e);return i&&(t.lc=i),n&&(t.wd=m2soft.crownix.Painter.adjustWidth(n)),r&&(t.st=r),o&&(t.ap=o),t}return e}(d,H),z=z&&function(t,e){var i=t.attr("fc"),n=t.attr("pt"),r=t.attr("al");if(i||n||r){t=$.extend({},e);return i&&(t.fc=i),n&&(t.pt=n),r&&(t.al=r),t}return e}(d,z);if("1"!==d.attr("ft")&&"2"!==d.attr("ft")||d.text(rt.formatPageNumber(d.text(),G.getPageInfo(U,d.attr("ft")))),"LN"===t)_=W,L=H,"0"!==(N=d).attr("vs")&&(R=Z(N.attr("sx"),L.wd),B=Z(N.attr("sy"),L.wd)+5,j=Z(N.attr("ex"),L.wd),N=Z(N.attr("ey"),L.wd)+5,_.drawLine(R,B,j,N,L));else if("RA"===t)L=W,F=H,E=z,P=Z((A=d).attr("sx"),F.wd),D=Z(A.attr("sy"),F.wd)+5,O=Z(A.attr("ex"),F.wd),A=Z(A.attr("ey"),F.wd)+5,L.drawRect(P,D,O,A,F,E);else if("TL"===t)et(W,d,X,Y);else if("SC"===t)!function(t,e){for(var i=d.attr("dt").split("|"),n=[],r=0,o=i.length;r<o;r++){var a=i[r].split(","),s=Z(a[0]),a=Z(a[1])+5;n.push([s,a])}t.drawScribble(e,n)}(W,H);else if("LL"===t)!function(t,e,i){if("0"!==e.attr("vs")){for(var n=e.attr("dt").split("|"),r=[],o=0,a=n.length;o<a;o++){var s=n[o].split(","),l=Z(s[0],i.wd),s=Z(s[1],i.wd)+5;r.push([l,s])}t.drawPolyLine(i,r)}}(W,d,H);else if("PO"===t)!function(t,e,i){for(var n=d.attr("dt").split("|"),r=[],o=0,a=n.length;o<a;o++){var s=n[o].split(","),l=Z(s[0],e.wd),s=Z(s[1],e.wd)+5;r.push([l,s])}t.drawPolygon(e,i,r)}(W,H,z);else if("EP"===t)P=W,D=H,M=z,A=Z((O=d).attr("sx"),D.wd),F=Z(O.attr("sy"),D.wd)+5,E=Z(O.attr("ex"),D.wd),O=Z(O.attr("ey"),D.wd)+5,P.drawEllipse(A,F,E,O,D,M);else if("DM"===t)M=W,C=H,k=z,S=Z((y=d).attr("sx"),C.wd),T=Z(y.attr("sy"),C.wd)+5,I=Z(y.attr("ex"),C.wd),y=Z(y.attr("ey"),C.wd)+5,M.drawDiamond(S,T,I,y,C,k);else if("PL"===t)S=W,T=H,b=z,I=Z((v=d).attr("sx"),T.wd),y=Z(v.attr("sy"),T.wd)+5,C=Z(v.attr("ex"),T.wd),k=Z(v.attr("ey"),T.wd)+5,v=v.attr("cx")/10.3,S.drawParallelogram(I,y,C,k,T,b,v);else if("HH"===t)c=W,u=H,p=z,f=Z((h=d).attr("sx"),u.wd),g=Z(h.attr("sy"),u.wd)+5,m=Z(h.attr("ex"),u.wd),w=Z(h.attr("ey"),u.wd)+5,x=h.attr("cx")/10.3,h=h.attr("cy")/10.3+5,c.drawHexaheron(f,g,m,w,x,h,u,p);else if("RR"===t)b=W,v=H,c=z,g=Z((f=d).attr("sx"),v.wd),m=Z(f.attr("sy"),v.wd)+5,w=Z(f.attr("ex"),v.wd),x=Z(f.attr("ey"),v.wd)+5,h=f.attr("aw")/10.3,u=f.attr("ah")/10.3,p=f.attr("ap"),b.drawRect(g,m,w,x,v,c,h,u,p),b.setClip(f.attr("cl"));else if("CY"===t)e=W,n=H,r=z,o=Z((i=d).attr("sx"),n.wd),a=Z(i.attr("sy"),n.wd)+5,s=Z(i.attr("ex"),n.wd),l=Z(i.attr("ey"),n.wd)+5,i=i.attr("sh")/10.3,e.drawCylinder(o,a,s,l,n,r,i);else if("CV"===t)z=W,e=H,a=Z((o=d).attr("sx"),e.wd),s=Z(o.attr("sy"),e.wd)+5,l=Z(o.attr("ex"),e.wd),n=Z(o.attr("ey"),e.wd)+5,r=Z(o.attr("cx1"),e.wd),i=Z(o.attr("cy1"),e.wd)+5,H=Z(o.attr("cx2"),e.wd),o=Z(o.attr("cy2"),e.wd)+5,z.drawCurve(a,s,l,n,e,r,i,H,o);else if("IM"===t)it(W,d,Q.nextImage());else if("FF"===t)nt(W,d,X,Y);else if("CT"===t)it(W,d,K.nextChart());else if("PR"===t||"TB"===t||"TE"===t||"FC"===t||"SO"===t||"SG"===t)q(d);else if("EC"===t)!function(t,e,i,n){var r=Z(e.attr("le")),o=Z(e.attr("ri")),a=Z(e.attr("to"))+5,s=Z(e.attr("bo"))+5,l=e.attr("hp")/1e3*96,d=e.attr("sh")||"0",c="1"===e.attr("iv"),h=e.attr("tid"),u=e.text(),p=tt(e,n,i),f=Math.round(.05*(o-r)),g=parseFloat(p.fontSize),m=parseFloat(e.attr("fs"))||.75,w=!1,i=!1,x=r+f,v=o-f,b=a+f,y=s-f,C={st:0,al:1,wd:Number(e.attr("sw"))||1,lc:p.fillStyle},k={al:1,pt:0,fc:"#00000000"};switch(c&&(k.fc=n[h].cl||"#000000",C.wd=0,p.fillStyle="#FFFFFF"),p.underLine&&(w=!(p.underLine=!1)),p.lineThrough&&(i=!(p.lineThrough=!1)),p.fontSize=g*m+"pt",p.textAlign="center",p.textBaseline="middle",p.adjustFontScale=!0,d){case"0":t.drawEllipse(x,b,v,y,C,k);break;case"1":t.drawRect(x,b,v,y,C,k);break;case"2":t.drawRect(x,b,v,y,C,k,(o-r)/4,(s-a)/4);break;case"3":t.drawDiamond(x,b,v,y,C,k);break;case"4":t.drawParallelogram(x,b,v,y,C,k,(o-r)/5)}t.drawText(u,r+l,a,o-l,s,p),w&&(C.wd=Math.ceil(.06*g),v=(x=r)+(o-r),y=b=Math.floor(a+(s-a)/2+ot.ptToPx(g)/2)+.5,t.drawLine(x,b,v,y,C)),i&&(C.wd=Math.ceil(.06*g),v=(x=r)+(o-r),y=b=Math.floor(a+(s-a)/2)+.5,t.drawLine(x,b,v,y,C))}(W,d,X,Y);else if("IL"===t||"CA"===t||"SL"===t)return!0}})};q(i);var n=setInterval(function(){for(var p,t,e=0,i=y.length;e<i;e++)if(!y[e].complete)return;c&&(p=W,t=c.getNoteXml(U,at?"print":"export"),$(t).find("element").each(function(){var t=$(this);if("text"!=t.attr("type")){for(var e=t.attr("path").split(/M|m|L|l|,/),i=[],n=1,r=e.length;n<r;n+=2)i.push([e[n],parseInt(e[n+1])+5]);p.drawPolyLine({lc:t.attr("stroke-color"),wd:96*parseInt(t.attr("stroke-width"))/72,al:t.attr("stroke-opacity")},i)}else{var o=Number(t.attr("x")),a=Number(t.attr("y"))+5,s=o+Number(t.attr("width")),l=a+Number(t.attr("height"))+5,d=t.text(),c="middle"==t.attr("text-anchor")?"center":"end"==t.attr("text-anchor")?"right":"left",h={lc:"true"==t.attr("line")?"#000000":t.attr("fill"),wd:2,al:t.attr("opacity")||1},u={fc:t.attr("fill"),pt:0,al:t.attr("opacity")||1};p.drawRect(o,a,s,l,h,u),p.wrapText(d,o,a,s,l,{fontFamily:"Times, Arial",textBaseline:"top",fillStyle:t.attr("font-color"),fontStyle:t.attr("font-style"),fontWeight:t.attr("font-weight"),fontSize:t.attr("font-size")+"pt",underLine:"underline"==t.attr("text-decoration"),lineThrough:"line-through"==t.attr("text-decoration"),textAlign:c})}})),o(U,d?s.getContext("2d").getImageData(0,0,s.width,s.height):"canvas"!==r?W.toDataURL("image/"+r):s),clearInterval(n)},50)})})},this.convert=function(n,r,i,t){if("function"!=typeof i)throw"Invalid Callback Function";var o=[],a=f.totalPage=n.getTotalPage()-n.getRemovedPage().length,s=0;y=[],at=t&&t.print||!1;function l(t,e){o[t-1]=e,++s==a&&i(o,f)}function e(t,e){for(var i=t;i<=e;i++)this.convertPage(n,i,r,l)}if(p)for(var d,c,h=p.getMrdGroupInfo(),u=0;u<h.mrdGroupList.length;u++)c=(d=(c=p.getMrdGroup(h.mrdGroupOrder[u])).startPage)+c.totalPage-1,e.call(this,d,c);else e.call(this,1,a)},this.setFormManager=function(t){x=t},this.setMirroringManager=function(t){v=t},this.setNoteManager=function(t){c=t},this.setMrdGroupManager=function(t){p=t},this.setUseAdjustLetterSpace=function(t){b=t},this.setAlterFontMap=function(t){o=t}},m2soft.ns("m2soft.crownix.PdfConverter"),m2soft.crownix.PdfConverter=function(){function A(t,e){return m2soft.crownix.Painter.adjustCoord(t,e)}function F(t,e){e&&(void 0!==e.wd&&t.setLineWidth(e.wd),void 0!==e.lc&&(e=z.hexToRgb(e.lc),t.setDrawColor(e[0],e[1],e[2])))}function E(t,e){e&&e.fc&&(e=Raphael.getRGB(e.fc),t.setFillColor(e.r,e.g,e.b))}function P(t,e,i){e=e&&e.al||"1",i=i&&i.al||"1",t.setAlpha(e,i)}function D(t,e,i,n,r){var o=parseInt(e.attr("sx"))+1,a=parseInt(e.attr("sy"))+5,s=parseInt(e.attr("ex"))+1,l=parseInt(e.attr("ey"))+5;n=n||{al:"0",pt:"0"},r?(r={width:e.attr("aw")/10.3,height:e.attr("ah")/10.3,point:e.attr("ap")},e.attr("cl")&&"1"!==e.attr("cl")||t.pushGraphicsState(),t.drawRoundRect(o,a,s,l,i,n,r),e.attr("cl")&&"2"!==e.attr("cl")||t.restoreGraphicsState()):t.drawRect(o,a,s,l,i,n)}function O(t,e,i){var n=e[t.attr("tid")]||{},e=parseInt(t.attr("ha"));return{fontFamily:t.attr("fn")?t.attr("fn"):i.get(n.fi)||"",fontSize:((t.attr("pt")?t.attr("pt")/10:n.pt/10)||10)+"pt",fillStyle:(t.attr("cl")?t.attr("cl"):n.cl)||"#000000",fontStyle:(t.attr("ci")?"1"===t.attr("ci"):"1"===n.ci)?"italic":"",fontWeight:(t.attr("cb")?"1"===t.attr("cb"):"1"===n.cb)?"bold":"",underLine:(t.attr("cu")?"1"===t.attr("cu"):"1"===n.cu)||!!t.attr("hl"),lineThrough:t.attr("cs")?"1"===t.attr("cs"):"1"===n.cs,shade:t.attr("cr")?"1"===t.attr("cr"):"1"===n.cr,textAlign:1==e?"center":2==e?"right":"left"}}function _(e,t,i,n,r){var o,a,s,l,d,c,h,u,p,f,g,m,w;"0"!==t.attr("vs")&&(r=r||{},o=parseInt(t.attr("le"))+(r.paddingLeft||r.padding||0)+1,a=parseInt(t.attr("ri"))-(r.paddingRight||r.padding||0)+1,s=parseInt(t.attr("to"))+(r.paddingTop||r.padding||0)+5,l=parseInt(t.attr("bo"))-(r.paddingBottom||r.padding||0)+5,w=r.align||parseInt(t.attr("ha"))||0,d=parseFloat(t.attr("ls"))/1e3||0,h=j.inToPx(d),w="string"==typeof r.align?r.align:1===w?"center":2===w?"right":"left",0<t.children("TX").length?(f=p=u=0,T&&"hidden"!==r.overflow&&(f=0,t.children().each(function(){var t=$(this);c=t.text(),m=O(t,n,i),f+=e.measureText(c,m)+h*c.length},function(){var t=a-o;1<c.length&&t<f&&(h-=(f-t)/c.length)})),"center"===w?u=(a-o-f+h)/2:"right"===w&&(u=a-o-f),t.children().each(function(){var t=$(this);c=t.text(),(m=O(t,n,i)).textAlign="left",m.textBaseline="bottom",m.letterSpacing=h,M(e,c,o+u+96*p/72,s,a,l,m),p+=e.measureText(c,m)+h*c.length})):((m=O(t,n,i)).textAlign=w,"1"==t.attr("cbo")&&"1"!==t.attr("cto")?m.textBaseline="top":"1"==t.attr("cto")&&"1"!==t.attr("cbo")?m.textBaseline="bottom":m.textBaseline="middle",c=t.text(),T&&"hidden"!==r.overflow&&!r.adjustFontScale?(t=e.measureText(c,m)+h*c.length,g=a-o,1<c.length&&g<t&&(h-=(t-g)/c.length)):(g=e.measureText(c,m)+h*c.length,a-o+2<g&&("hidden"!==r.overflow&&r.adjustFontScale?(m.scale={x:(a-o+2)/g,y:1},m.textAlign="left"):c=function(t,e,i,n,r){for(;e=e.substring(0,--e.length),t.measureText(e,i)+r*e.length>n;);return e}(e,c,m,a-o+2+h,h))),m.letterSpacing=h,M(e,c,o,s,a,l,m)))}function g(t,e,i,n,r,o,a){var s=i,l=n,d=r-i,c=1.2*j.ptToPx(parseInt(a.fontSize,10));a.textBaseline&&""!==a.textBaseline||(a.textBaseline="top"),a.textAlign&&""!==a.textAlign||(a.textAlign="left");for(var h=e.split("\n"),u=0,p=h.length;u<p;u++){var f=h[u],g=f.length,m=0;if(0!=g)for(;m<g;){for(var w=1;!(g<m+w);){if(t.measureText(f.substring(m,m+w),a)>d){w--;break}w++}M(t,f.substring(m,m+w),s,l,r,o,a),l+=c,m+=w}else l+=c}}function N(t,e,i,n){var r=parseInt(e.attr("sx"))+1,o=parseInt(e.attr("sy"))+5,a=parseInt(e.attr("ex"))+1,e=parseInt(e.attr("ey"))+5;t.drawEllipse(r,o,a,e,i,n)}function L(t,e,i,n){var r=parseInt(e.attr("sx"))+1,o=parseInt(e.attr("sy"))+5,a=parseInt(e.attr("ex"))+1,e=parseInt(e.attr("ey"))+5;t.drawDiamond(r,o,a,e,i,n)}function R(t,e,i,n){var r=parseInt(e.attr("sx"))+1,o=parseInt(e.attr("sy"))+5,a=parseInt(e.attr("ex"))+1,s=parseInt(e.attr("ey"))+5,e=parseInt(e.attr("cx"))/10.3+1;t.drawParallelogram(r,o,a,s,e,i,n)}function k(t,e,i){var n=parseInt(e.attr("sx"))+1,r=parseInt(e.attr("ex"))+1,o=parseInt(e.attr("sy"))+5,a=parseInt(e.attr("ey"))+5,r=(e.attr("dt"),r-n),a=a-o;"1"==e.attr("ra")||0<i.naturalWidth+i.naturalHeight&&(e=i.src.indexOf(","),"iV"===i.src.substr(e+1,2)||"/9"===i.src.substr(e+1,2)?("/9"===i.src.substr(e+1,2)&&0<=i.src.indexOf("data:image/png;")&&(i.src=i.src.replace("data:image/png;","data:image/jpeg;")),t.addImage(i,"jpeg",n,o,r,a)):((e=$("<canvas>")[0]).width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),e=e.toDataURL("image/jpeg"),t.addImage(e,"jpeg",n,o,r,a)))}function m(t){var e=t.attr("fi"),i=t.attr("id"),n=t.attr("gi"),r=t.attr("ty");if(y){e="rb"===r?y.getField(e,n):y.getField(e,i);return"tf"===r||"ta"===r||"im"===r||"sg"===r||"fl"===r||"pn"===r?e.value:"me"===r?e.imageData:"co"===r?e.getDisplayValue&&e.getDisplayValue():"rb"===r?e.isSelected(i):"cb"===r?"1"===e.value:void 0}return"tf"===r||"ta"===r?t.text():"rb"===r||"cb"===r?"1"===t.attr("se"):"im"===r||"sg"===r||"pn"===r?t.attr("dt"):"co"===r?t.attr("sv"):"fl"===r?t.attr("vl"):void 0}function S(t,e,i,n){var r,o,a=parseInt(e.attr("le"))+1,s=parseInt(e.attr("ri"))+1,l=parseInt(e.attr("to"))+5,d=parseInt(e.attr("bo"))+5,c=e.attr("ty"),h=e.attr("fi"),u=e.attr("id"),p=m(e);if(y){var f=y.getField(h,u);if(f)if(C){if("All"===f.outputAuthority&&"1"===f.commonHidden)return;if("All"!==f.outputAuthority&&"1"===e.attr("ch"))return}else if("1"===f.commonHidden)return}else if("1"===e.attr("ch"))return;"tf"===c?"1"!==e.attr("hd")&&("1"===e.attr("pw")?e.text(p.replace(/./g,"*")):"date"===e.attr("it")?(f=e.attr("df")||"yyyy-MM-dd",r=e.attr("dfv")||"yyyy-MM-dd",r=x.convertDateFormat(m(e),f,r),e.text(r)):"text"!==e.attr("it")&&"number"!==e.attr("it")&&"tel"!==e.attr("it")||!e.attr("ft")?e.text(p):(r=new v(e.attr("ft"),e.attr("cz"),e.attr("cnz")).formatNumber(p.toString()),e.text(r)),_(t,e,i,n,{overflow:"hidden",padding:3})):"ta"===c?(o=O(e,n,i),g(t,p,a+2,l+2,s-2,d-2,o)):"rb"===c||"cb"===c?(o="cb"===(e.attr("sp")||c)?"check":"radio",function(t,e,i,n,r,o,a,s,l,d){var c=e.attr("lb")||"",h=e.attr("la")||"0",u=parseInt(e.attr("ha"))||"0",p=parseInt(e.attr("va"))||"0",f=parseFloat(e.attr("ts")||"100")/100,g="1"==e.attr("rb"),m=r-i,w=(n+o)/2;(d=O(e,d,l)).textAlign="left",l=parseInt(e.attr("sz"))||16,e=t.measureText(c,d),"0"==u?v=i+4:"1"==u?v=i+(m-l-4-e)/2:"2"==u&&(v=r-l-4-e),"1"==h&&(v+=e),"0"==p?(d.textBaseline="top",b=n+4):"1"==p?(d.textBaseline="middle",b=w-l/2):"2"==p&&(d.textBaseline="bottom",b=o-l-4),w=v+l,p=b+l,M(t,c,"1"==h?v-2-e:w+2,n,r,o,d);var x,v,b,y,C,k,r={lc:"#5D5D5D",wd:1},o={fc:"#5D5D5D",pt:0},d={lc:"#5D5D5D",wd:1};E(t,n={fc:"#FFFFFF",pt:0}),F(t,r),"radio"===a?t.drawEllipse(v,b,w,p,r,n):g||t.drawRect(v,b,w,p,r,n,1,1),s&&(E(t,o),F(t,d),"radio"===a?(x=.25*l,t.drawEllipse(v+x,b+x,w-x,p-x,d,o)):(w=v+.2*l,p=b+.5*l,x=v+.45*l,o=b+.75*l,v=v+.8*l,b=b+.25*l,m=Math.round(.35*l*.3),f<1?(m-=Math.ceil((l+Math.max((f-1)*l,1-l))/16),w=((C=(y=Math.abs(Math.sqrt(Math.pow(x-w,2)+Math.pow(o-p,2))))*f)*w+(k=y-C)*x)/(C+k),p=(C*p+k*o)/(C+k),v=(C*v+k*x)/(C+k),b=(C*b+k*o)/(C+k)):1<f&&(m+=Math.ceil((l+Math.ceil((f-1)*l/2))/16),w=((C=(y=Math.abs(Math.sqrt(Math.pow(x-w,2)+Math.pow(o-p,2))))*f)*w-(k=C-y)*x)/(C-k),p=(C*p-k*o)/(C-k),v=(C*v-k*x)/(C-k),b=(C*b-k*o)/(C-k)),d.wd=m+(m%2==0?0:.5),F(t,d),t.drawPolyLine([[w,p],[x,o],[v,b]],d)))}(t,e,a,l,s,d,o,p,i,n)):"co"===c||"fl"===c?(e.text(p),_(t,e,i,n,{align:"left",paddingLeft:parseInt(e.attr("dn"))+2||2,overflow:"hidden"})):"sg"!==c&&"im"!==c&&"pn"!==c&&"me"!==c||p&&t.addImage(p,"jpeg",a+1,l+1,s-a-2,d-l-2)}function r(p,t){$(t).find("element").each(function(){var t=$(this);if("text"!=t.attr("type")){for(var e=t.attr("path").split(/M|m|L|l|,/),i=[],n=3,r=e.length;n<r;n+=2)i.push([parseInt(e[n])-parseInt(e[n-2])+1,parseInt(e[n+1])+5-(parseInt(e[n-1])+5)]);F(p,{lc:t.attr("stroke-color"),wd:96*parseInt(t.attr("stroke-width"))/72,al:t.attr("stroke-opacity")}),p.setLineCap("round"),"1"!==t.attr("stroke-opacity")&&p.setAlpha(t.attr("stroke-opacity")),p.lines(i,parseInt(e[1]),parseInt(e[2]),[1,1],"D",!1),p.setAlpha()}else{var o,a=Number(t.attr("x"))+1,s=Number(t.attr("y"))+5,l=a+Number(t.attr("width"))+1,d=s+Number(t.attr("height"))+5,c=t.text(),h={fc:t.attr("fill"),pt:0},u={lc:"true"==t.attr("line")?"#000000":t.attr("fill"),wd:2};"transparent"===h.fc&&(h.fc="#FFFFFF",h.al="0"),"transparent"===u.lc&&(u.lc="#FFFFFF",u.al="0"),t.attr("opacity")&&(h.al=t.attr("opacity"),u.al=t.attr("opacity")),o="middle"==t.attr("text-anchor")?"center":"end"==t.attr("text-anchor")?"right":"left",E(p,h),F(p,u),p.drawRect(a,s,l,d,u,h),g(p,c,a,s,l,d,{fillStyle:t.attr("font-color"),fontStyle:"italic"===t.attr("font-style")?"italic":"",fontWeight:"bold"===t.attr("font-weight")?"bold":"",fontSize:t.attr("font-size")+"pt",underLine:0<=t.attr("text-decoration").indexOf("underline"),lineThrough:0<=t.attr("text-decoration").indexOf("line-through"),textAlign:o})}})}function c(s,b,y,t,C){var n=$.Deferred(),k=[],S=G.export(),T=[{head:y,page:t,offset:{x:0,y:0}}],I={point:["sx","sy","ex","ey"],rect:["le","to","ri","bo"]},M=function(u,p){var t="string"==typeof T[u].head?b.parseHead($(T[u].head)):T[u].head,f=t.lineAttrList,g=t.faceAttrList,m=t.textAttrList,w=t.fontList;if(s.addFont(V,J,W)||d||(d=!0,h.show(B.get("non_ttf_font_error"))),0<u&&T[u].drilldownType)for(var e in k){var i=k[e].element,n="point";i.attr("le")&&(n="rect");var r=parseInt(i.attr(I[n][0])),o=parseInt(i.attr(I[n][1])),a=parseInt(i.attr(I[n][2])),e=parseInt(i.attr(I[n][3]));"0"===T[u].drilldownType?T[u].boundary.top+T[u].offset.y<o&&(o+=T[u].boundary.bottom-T[u].boundary.top,e+=T[u].boundary.bottom-T[u].boundary.top):"1"===T[u].drilldownType&&T[u].boundary.left+T[u].offset.x<r&&(r+=T[u].boundary.right-T[u].boundary.left,a+=T[u].boundary.right-T[u].boundary.left),i.attr(I[n][0],r),i.attr(I[n][1],o),i.attr(I[n][2],a),i.attr(I[n][3],e)}T[u].layerStartEle&&k.push(T[u].layerStartEle);var x=new m2soft.crownix.ImageLoader,v=new m2soft.crownix.ChartLoader;x.loadImage(T[u].page,T[u].head.indexedImageList,function(){v.loadChart(T[u].page,function(){0===T[u].page.children().length&&(T[u].layerEndEle&&k.push(T[u].layerEndEle),u<T.length-1?M(++u,p):p()),T[u].page.children().each(function(t){var e=this.tagName,i=$(this),n=f[i.attr("lid")],r=g[i.attr("fid")],o=0,a="point";i.attr("le")&&(a="rect"),n=n&&function(t,e){var i=t.attr("lc"),n=t.attr("wd"),r=t.attr("st"),o=t.attr("ap");if(i||n||r||o){var a=$.extend({},e);return i&&(a.lc=i),n&&(a.wd=m2soft.crownix.Painter.adjustWidth(n)),r&&(a.st=r),o&&"RR"!=t[0].tagName&&(a.ap=o),a}return e}(i,n),r=r&&function(t,e){var i=t.attr("fc"),n=t.attr("pt"),r=t.attr("al");if(i||n||r){t=$.extend({},e);return i&&(t.fc=i),n&&(t.pt=n),r&&(t.al=r),t}return e}(i,r),"TL"!==e&&"SC"!==e&&"IM"!==e&&"FF"!==e&&"CT"!==e&&"LE"!==e&&"FL"!==e&&"TG"!==e&&"EC"!==e&&(o=n.wd),"SC"!==e&&"LL"!==e&&"PO"!==e||i.attr("osx")||i.attr("osy")||(i.attr("osx",A(i.attr("sx"),o)),i.attr("osy",A(i.attr("sy"),o)));var s=A(i.attr(I[a][0]),o)+T[u].offset.x,l=A(i.attr(I[a][1]),o)+T[u].offset.y,d=A(i.attr(I[a][2]),o)+T[u].offset.x,c=A(i.attr(I[a][3]),o)+T[u].offset.y;i.attr(I[a][0],s),i.attr(I[a][1],l),i.attr(I[a][2],d),i.attr(I[a][3],c),i.attr("hi")&&i.attr("hdm")&&S[i.attr("hi")]&&(o=JSON.parse(S[i.attr("hi")]),a=JSON.parse(o.boundary),o.isOpend&&(o={head:o.headMML,page:$(o.pageMML),boundary:a,drilldownType:i.attr("hdt")},"1"===i.attr("hdt")?o.offset={x:d-a.left+1,y:0}:o.offset={x:0,y:c-a.top+1},T.push(o))),"IM"===e&&(h=x.nextImage()),"CT"==e&&(h=v.nextChart()),"1"!==i.attr("ft")&&"2"!==i.attr("ft")||i.text(H.formatPageNumber(i.text(),b.getPageInfo(C,i.attr("ft"))));var h={elementName:e,element:i,lineAttr:n,faceAttr:r,textAttrList:m,fontList:w,image:h};"LY"==e||"CL"==e?(e="layerGroup"===(e=U.getLayer(i.attr("id"))).type?e.selectedLayerId?e.group[e.selectedLayerId]:null:e)&&T.push({head:e.mrdPath?e.mml.match(/<HEAD>(.|\n)+<\/HEAD>/g)[0]:y,page:e.mrdPath?$(e.mml.match(/<PG (.|\n)+<\/PG>/g)[0]):$(e.mml),offset:e.mrdPath?{x:-(A(e.boundary.left)-s),y:-(A(e.boundary.top)-l)}:{x:s-A(1),y:l-A(1)},layerStartEle:{elementName:"SL",element:i,lineAttr:n,faceAttr:r},layerEndEle:{elementName:"EL",element:i,lineAttr:n,faceAttr:r}}):k.push(h),T[u].page.children().length-1===t&&(T[u].layerEndEle&&k.push(T[u].layerEndEle),u<T.length-1?M(++u,p):p())})})})};return M(0,function(){0===k.length&&(q&&r(s,q.getNoteXml(C,Y?"print":"export")),n.resolve()),k.forEach(function(t,e,i){p(s,t),e==i.length-1&&(q&&r(s,q.getNoteXml(C,Y?"print":"export")),n.resolve())})}),n.promise()}function i(s,t,e){var l,d=f(e.printInfo);function i(){var t=$.Deferred(),e=d.pop(),i=s.getHeadForPage(e),n=$(s.getPage(e)),r=function(t){var e={width:0,height:0};if(G){var i,n=G.export();for(i in n){var r=JSON.parse(n[i]),o=$(r.element);r.pagenum==t&&r.isOpend&&"2"!==o.attr("hdt")&&(r=JSON.parse(r.boundary),"1"==o.attr("hdt")?e.width+=r.right-r.left:e.height+=r.bottom-r.top)}}return e}(e),o=n.attr("wd")/10.3+r.width,a=n.attr("ht")/10.3+r.height,r=o<a?"portrait":"landscape";return l?l.addPage([o,a],r):(l=new jsPDF({orientation:r,hotfixes:["px_scaling"]},"px",[o,a],u)).setProperties({author:"M2Soft Co.,Ltd.",creator:"Crownix Viewer"}),c(l,s,i,n,e).then(function(){t.resolve()}),t}Y=e.print||!1;var n=h.message(B.get("save_pdf")),r=function(){0===d.length?(Y||a||l.save((o||"untitled")+".pdf"),"function"==typeof t&&(e.print?(l.autoPrint(),t(l.output("blob"))):t(l.output("datauristring"))),n.fadeOut(500,function(){n.remove()})):i().then(r)};Q(s).then(i).then(r).fail(function(t){n.fadeOut(500,function(){n.remove()}),h.show(t.message)})}function w(t,e){var i,n=JSON.parse(t);for(i in n)n[i].usedChars||(n[i].usedChars=e[n[i].name]||""),0<n[i].defaultPriority?Z(V,n[i]):V.push(n[i])}var l,B=m2soft.crownix.Resource,j=m2soft.crownix.util.Unit,H=m2soft.crownix.Util,z=m2soft.crownix.util.Color,n=m2soft.crownix.ImageConverter,x=m2soft.crownix.util.DateUtil,v=m2soft.crownix.util.NumberUtil,b=null,y=null,C=null,q=null,G=null,U=null,h=null,T=!0,s=null,W="UniKS-UTF16-H",I={},o=void 0,V=[],J=!1,a=!1,Y=!1,d=!1,u=!0,M=function(t,e,i,n,r,o,a){if(0!=e.length){t.setFontSize(parseInt(a.fontSize)),a.fontFamily?t.setFont(a.fontFamily):t.setDefaultFont(),t.setFontStyle(a.fontWeight+a.fontStyle),t.setTextColor(a.fillStyle);var s=z.hexToRgb(a.fillStyle);t.setDrawColor(s[0],s[1],s[2]),t.setTextScale({x:a.scale?a.scale.x:1,y:a.scale?a.scale.y:1});var l,d,c="number"==typeof a.letterSpacing?a.letterSpacing:0,h=t.measureText(e,a)+c*e.length,u=j.ptToPx(parseFloat(a.fontSize));if("left"===a.textAlign?l=i:"center"===a.textAlign?l=i+(r-i)/2-(h-c)/2:"right"===a.textAlign&&(l=r-h),"top"===a.textBaseline?d=n+u:"middle"===a.textBaseline?d=n+(o-n)/2+u/3:"bottom"===a.textBaseline&&(d=o),a.shade&&(s=z.hexToRgb("#000000"),t.setDrawColor(s[0],s[1],s[2]),t.setFillColor(s[0],s[1],s[2]),t.rect(l,d-u+u/7,h,u,"FD"),t.setTextColor("#000000"===a.fillStyle?"#ffffff":a.fillStyle)),0!==c)for(var p=l,f=0,g=e.length;f<g;f++)J?t.drawText(p,d,e[f]):t.text(p,d,e[f]),p+=a.letterSpacing+t.measureText(e[f],a);else J?t.drawText(l,d,e):t.text(l,d,e);(a.underLine||a.lineThrough)&&(t.setLineWidth(parseInt(a.fontSize)/40),s=z.hexToRgb(a.fillStyle),t.setDrawColor(s[0],s[1],s[2]),a.scale&&r-i+2<h&&(h=r-i+2)),a.underLine&&t.line(l,d+u/14,l+h,d+u/14),a.lineThrough&&t.line(l,d-u/4,l+h,d-u/4)}},p=function(t,e){var i,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y=e.elementName,C=e.element;Y&&C.attr("ect")&&0<=C.attr("ect").indexOf("p")||!Y&&C.attr("se")&&(0<=C.attr("se").indexOf("pdf")||0<=C.attr("se").indexOf("all"))||(F(t,e.lineAttr),E(t,e.faceAttr),P(t,e.lineAttr,e.faceAttr),"LN"===y?(g=t,m=C,w=e.lineAttr,"0"!==m.attr("vs")&&(x=parseInt(m.attr("sx"))+1,v=parseInt(m.attr("sy"))+5,b=parseInt(m.attr("ex"))+1,m=parseInt(m.attr("ey"))+5,g.drawLine(x,v,b,m,w))):"RA"===y?D(t,C,e.lineAttr,e.faceAttr,!1):"RR"===y?D(t,C,e.lineAttr,e.faceAttr,!0):"SC"===y?function(t,e,i){for(var n=parseInt(e.attr("osx"))+1,r=parseInt(e.attr("osy"))+5,o=parseInt(e.attr("sx"))+1,a=parseInt(e.attr("sy"))+5,s=e.attr("dt").split("|"),l=o-n,d=a-r,c=[],h=0,u=s.length;h<u;h++){var p=s[h].split(","),f=A(p[0],i.wd)+l+1,p=A(p[1],i.wd)+d+5;c.push([f,p])}t.drawScribble(c,i)}(t,C,e.lineAttr):"LL"===y?function(t,e,i){if("0"!==e.attr("vs")){for(var n=parseInt(e.attr("osx"))+1,r=parseInt(e.attr("osy"))+5,o=parseInt(e.attr("sx"))+1,a=parseInt(e.attr("sy"))+5,s=e.attr("dt").split("|"),l=[],d=o-n,c=a-r,h=0,u=s.length;h<u;h++){var p=s[h].split(",");l.push([A(p[0],i.wd)+d+1,A(p[1],i.wd)+c+5])}t.drawPolyLine(l,i)}}(t,C,e.lineAttr):"PO"===y?function(t,e,i,n){for(var r=parseInt(e.attr("osx"))+1,o=parseInt(e.attr("osy"))+5,a=parseInt(e.attr("sx"))+1,s=parseInt(e.attr("sy"))+5,l=(parseInt(e.attr("ex")),parseInt(e.attr("ey")),e.attr("dt").split("|")),d=a-r,c=s-o,h=[],u=0,p=l.length;u<p;u++){var f=l[u].split(","),g=A(f[0],i.wd)+d+1,f=A(f[1],i.wd)+c+5;h.push([g,f])}h[0][0]+=d,h[0][1]+=c,t.drawPolygon(h,i,n)}(t,C,e.lineAttr,e.faceAttr):"EP"===y?N(t,C,e.lineAttr,e.faceAttr):"DM"===y?L(t,C,e.lineAttr,e.faceAttr):"PL"===y?R(t,C,e.lineAttr,e.faceAttr):"HH"===y?(g=t,u=C,p=e.lineAttr,f=e.faceAttr,x=parseInt(u.attr("sx"))+1,v=parseInt(u.attr("sy"))+5,b=parseInt(u.attr("ex"))+1,m=parseInt(u.attr("ey"))+5,w=parseInt(u.attr("cx"))/10.3+1,u=parseInt(u.attr("cy"))/10.3+5,g.drawHexahedron(x,v,b,m,w,u,p,f)):"CY"===y?(u=t,s=C,l=e.lineAttr,d=e.faceAttr,p=parseInt(s.attr("sx"))+1,f=parseInt(s.attr("sy"))+5,c=parseInt(s.attr("ex"))+1,h=parseInt(s.attr("ey"))+5,s=s.attr("sh")/10.3,u.drawCylinder(p,f,c,h,s,l,d)):"TL"===y?_(t,C,e.fontList,e.textAttrList):"CV"===y?(c=t,i=C,n=e.lineAttr,h=parseInt(i.attr("sx"))+1,s=parseInt(i.attr("sy"))+5,l=parseInt(i.attr("ex"))+1,d=parseInt(i.attr("ey"))+5,r=A(i.attr("cx1"),n.wd)+1,o=A(i.attr("cy1"),n.wd)+5,a=A(i.attr("cx2"),n.wd)+1,i=A(i.attr("cy2"),n.wd)+5,c.drawCurve(h,s,l,d,r,o,a,i,n)):"IM"===y?k(t,C,e.image):"FF"===y?S(t,C,e.fontList,e.textAttrList):"CT"===y?k(t,C,e.image):"SL"===y?(r=t,o=C,a=parseInt(o.attr("sx"))+1,i=parseInt(o.attr("sy"))+5,n=parseInt(o.attr("ex"))+1,o=parseInt(o.attr("ey"))+5,r.pushGraphicsState(),r.rect(a,i,n-a,o-i,null),r.clip()):"EL"===y?t.restoreGraphicsState():"EC"===y&&function(t,e,i,n){var r=Number(e.attr("le")),o=Number(e.attr("to")),a=Number(e.attr("ri")),s=Number(e.attr("bo")),l=Number(e.attr("vp"))/1e3*96,d=Number(e.attr("hp"))/1e3*96,c=e.attr("sh")||"0",h="1"===e.attr("iv"),u=e.attr("tid"),p=Math.round(.05*(a-r)),f=O(e,n,i),g=parseFloat(f.fontSize),m=parseFloat(e.attr("fs"))||.75,w=!1,x=!1,v={};v[u]=$.extend({},n[u]);var b,y,C,k,S,T,I={st:0,al:1,wd:Number(e.attr("sw"))||1,lc:v[u].cl||"#000000"},M={al:0,pt:0};switch(h&&(M.fc=v[u].cl||"#000000",I.wd=0,v[u].cl="#FFFFFF","1"===c&&(M.al=1)),v[u].cu&&(v[u].cu="0",w=!0),v[u].cs&&(v[u].cs="0",x=!0),e.attr("pt",10*g*m),e.attr({sx:r+p,sy:o+p,ex:a-p,ey:s-p}),F(t,I),E(t,M),P(t,I,M),c){case"0":N(t,e,I,M);break;case"1":D(t,e,I,M,!1);break;case"2":e.attr("aw",(a-r)/4*10.3),e.attr("ah",(a-r)/4*10.3),D(t,e,I,M,!0);break;case"3":L(t,e,I,M);break;case"4":e.attr("cx",(a-r)/5*10.3),R(t,e,I,M)}_(t,e,i,v,{paddingLeft:d,paddingTop:l,paddingRight:d,paddingBottom:l,adjustFontScale:!0,align:"center"}),w&&(b=z.hexToRgb(f.fillStyle),C=r+1,S=a+1,T=k=o+5+(s+5-(o+5))/2+(y=j.ptToPx(g))/3+y/14,t.setLineWidth(g/40),t.setDrawColor(b[0],b[1],b[2]),t.line(C,k,S,T)),x&&(b=z.hexToRgb(f.fillStyle),C=r+1,S=a+1,T=k=o+5+(s+5-(o+5))/2+(y=j.ptToPx(g))/3-y/4,t.setLineWidth(g/40),t.setDrawColor(b[0],b[1],b[2]),t.line(C,k,S,T))}(t,C,e.fontList,e.textAttrList))},f=function(t){var e;if(t&&"2"===t.pageType&&0<t.pageRange.length)e=t.pageRange;else if(t&&"1"===t.pageType)e=[I.currentPage];else if(e=[],l){var i=l.getMrdGroupInfo();for(s=0;s<i.mrdGroupList.length;s++)for(var n,r,o=(r=(n=l.getMrdGroup(i.mrdGroupOrder[s])).startPage)+n.totalPage-1,a=r;a<=o;a++)e.push(a)}else for(var s=1;s<=I.totalPage;s++)e.push(s);return e.reverse(),e=t&&1<t.copies?X(e,t):e},X=function(t,e){var i=[],n=e.copies;if(isCollate=e.isCollate,isCollate)for(var r=0;r<n;r++)i=i.concat(t);else i=t.reduce(function(t,e){for(var i=0;i<n;i++)t.push(e);return t},[]);return i},Q=function(t){var i=$.Deferred(),e=new m2soft.crownix.Ajax,n=[],r={};if(!J&&"function"==typeof getCrownixFonts)return V=[],w(getCrownixFonts(),r),i.resolve(),i;for(var o,a=1;a<=I.totalPage;a++){var s=t.getHeadForPage(a),l=$(t.getPage(a)),r=K(r,s,l);q&&$(q.getNoteXml(a,Y?"print":"export")).find("element").each(function(){var t=$(this);"text"===t.attr("type")&&(r[""]?r[""]+=t.text():r[""]=t.text())})}if(G){var d,c=G.export();for(d in c){var h=JSON.parse(c[d]);h.isOpend&&K(r,t.parseHead(h.headMML),$(h.pageMML))}}if(U){var u=JSON.parse(U.export());for(a in u){var p=JSON.parse(u[a]);if(p.mrdPath){var f=$($.parseXML(p.mml)),g=tt(f.find("HEAD")),f=tt(f.find("PG"));K(r,t.parseHead(g),$(f))}else if(p.group)for(var m in p.group){m=JSON.parse(p.group[m]);if(m.id==p.selectedLayerId){K(r,t.getHeadForPage(p.page),$(m.mml));break}}else K(r,t.getHeadForPage(p.page),$(p.mml))}}for(o in r)r[o]&&(r[o]=J?r[o].split("").filter(function(t,e,i){return i.indexOf(t)==e}).join(""):""),function(t,e){for(var i in V)if(V[i].name===t&&V[i].usedChars===e)return!0;return!1}(o,r[o])||n.push({name:o,usedChars:r[o]||""});return 0===n.length&&i.resolve(),e.setHandler({load:function(t){},done:function(t){if(void 0===t.responseText||0<=t.responseText.indexOf("[ERS-"))i.reject({status:!1,code:"error",message:B.get("print_pdf_server_error")});else try{w(t.responseText,r)}catch(t){}finally{i.resolve()}},error:function(t,e){i.reject({status:!1,code:"error",message:B.get("print_pdf_server_error")})},abort:function(){i.reject({status:!1,code:"error",message:B.get("print_pdf_server_error")})},timeout:function(){i.reject({status:!1,code:"error",message:B.get("print_pdf_timeout_error")})}}),e.invoke(b,{opcode:710,useEmbeddedFont:J,fontInfo:JSON.stringify(n),fontEncoding:W,protocol:"sync"}),i},K=function(i,t,e){var n,r,o=t.fontList,a=t.textAttrList;return e.children().each(function(){var t=this.tagName,e=$(this);"TL"===t||"EC"===t?0<e.children("TX").length?e.children().each(function(){var t=$(this);n=O(t,a,o),r=t.text(),i[n.fontFamily]?i[n.fontFamily]+=r:i[n.fontFamily]=r}):(n=O(e,a,o),r=e.text(),"1"!==e.attr("ft")&&"2"!==e.attr("ft")||(r+="0123456789"),i[n.fontFamily]?i[n.fontFamily]+=r:i[n.fontFamily]=r):"FF"===t&&(r=function(e){var t=e.attr("fi"),i=e.attr("id"),n=e.attr("gi"),r=e.attr("ty");if(y){i="rb"===r?y.getField(t,n):y.getField(t,i);return"tf"===r||"ta"===r||"fl"===r?i.value:"co"===r?i.getDisplayValue&&i.getDisplayValue():"rb"===r||"cb"===r?i.getLabel():void 0}if("tf"===r||"ta"===r)return e.text();if("rb"===r||"cb"===r)return e.attr("lb");if("co"!==r)return"fl"===r?e.attr("vl"):void 0;var o="";return e.attr("sv")&&e.children("item").each(function(){var t=$(this);e.attr("sv")===t.attr("ad")&&(o=t.attr("sd"))}),o}(e),n=O(e,a,o),i[n.fontFamily]?i[n.fontFamily]+=r:i[n.fontFamily]=r)}),i},Z=function(t,e){for(var i in t)if(t[i].name===e.name)return void(t[i]=e);t.push(e)},tt=function(t){if(t)return H.browser.msie?(new XMLSerializer).serializeToString(t[0]):t.prop("outerHTML")};this.convert=function(t,e,o,a){a=$.extend({},a),"cpdf"===e?i(t,o,a):((e=new n).setFormManager(y),e.setMirroringManager(C),e.setNoteManager(q),e.setMrdGroupManager(l),e.setAlterFontMap(s),e.convert(t,"jpeg",function(t,e){for(var i=e.width<e.height?"portrait":"landscape",n="CUSTOM"===e.size?new jsPDF(i,"in",[e.width,e.height]):new jsPDF(i,"in",e.size),r=0;r<t.length;r++)0!=r&&n.addPage(),n.addImage(t[r],"jpeg",0,0,e.width,e.height);a.save&&n.save(),"function"==typeof o&&(a.print?(n.autoPrint(),o(n.output("blob"))):o(n.output("datauristring")))},a))},this.setFormManager=function(t){y=t},this.setMirroringManager=function(t){C=t},this.setNoteManager=function(t){q=t},this.setDrilldownManager=function(t){G=t},this.setLayerManager=function(t){U=t},this.setMrdGroupManager=function(t){l=t},this.setUseAdjustLetterSpace=function(t){T=t},this.setPageInfo=function(t){I=t},this.setExportFileName=function(t){o=t},this.setServerUrl=function(t){b=t},this.setUseEmbeddedFont=function(t){J=t},this.setFontInfo=function(t){V=t},this.setDisableDownloadFile=function(t){a=t},this.setDialog=function(t){h=t},this.setAlterFontMap=function(t){s=t},this.setLocale=function(t){"ja"===t?W="UniJIS-UTF16-H":"zh"===t&&(W="UniGB-UTF16-H")},this.setCompress=function(t){u=t}},m2soft.ns("m2soft.crownix.MMLTokenizer"),m2soft.crownix.MMLTokenizer=function(){var f="<LICENSE",g="</LICENSE>",m="<DOCUMENT",w="</DOCUMENT>",x="<HEAD>",v="<MMLFOOTER",b="</MMLFOOTER>",y="<ERR",C=this;return C.reenterStep=0,C.findOffset=-1,C.depth=0,C.addEventListener("message",function(t){var e=t.data.method,t=C.parse(t.data.mml,t.data.pageNum);"finalize"===e&&C.postMessage({method:e,isValid:t})}),C.parse=function(t,e){var i=C.reenterStep,n=t.indexOf("<MML",C.findOffset);i<1&&0<=n&&(C.findOffset=n+"<MML".length,r=t.indexOf(">",n),C.postMessage({state:"open",tagName:"mml",xml:t.slice(n,r+1)}),C.reenterStep=1,i=0,C.depth++);var r=t.indexOf(f,C.findOffset);i<2&&0<=r&&(C.findOffset=r+f.length,o=t.indexOf(">",r),C.postMessage({state:"open",tagName:"license",xml:t.slice(r,o+1)}),C.reenterStep=2,i=0);var o=t.indexOf(g,C.findOffset);for(i<3&&0<=o&&(r=C.findOffset-f.length,C.findOffset=o+g.length,C.postMessage({state:"close",tagName:"license",xml:t.slice(r,C.findOffset)}),C.reenterStep=3,i=0);;){var a=t.indexOf(m,C.findOffset),s=t.indexOf(x,C.findOffset);i<4&&0<=a&&(a<s||s<0)&&(C.findOffset=a+m.length,u=t.indexOf(">",a),C.postMessage({state:"open",tagName:"document",xml:t.slice(a,u+1)}),C.reenterStep=4,i=0,C.depth++),s=t.indexOf(x,C.findOffset),i<5&&0<=s&&(C.findOffset=s+x.length,C.postMessage({state:"open",tagName:"head",xml:""}),C.reenterStep=5,i=0);var l=t.indexOf("</HEAD>",C.findOffset);for(i<6&&0<=l&&(s=C.findOffset-x.length,C.findOffset=l+"</HEAD>".length,C.postMessage({state:"close",tagName:"head",xml:t.slice(s,C.findOffset),headOpenOffset:s,findOffset:C.findOffset}),C.reenterStep=6,i=0);;){var a=t.indexOf(m,C.findOffset),d=t.indexOf("<PG ",C.findOffset);i<7&&0<=d&&(d<a||a<0)&&(C.findOffset=d+"<PG ".length,C.postMessage({state:"open",tagName:"page",xml:""}),C.reenterStep=7,i=0);var c=t.indexOf("</PG>",C.findOffset);if(i<8&&0<=c&&(c<a||a<0)&&(d=C.findOffset-"<PG ".length,C.findOffset=c+"</PG>".length,C.postMessage({state:"close",tagName:"page",xml:t.slice(d,C.findOffset),pageNum:e,pageOpenOffset:d,findOffset:C.findOffset}),C.reenterStep=6,i=0),d<0&&c<0||(a<d||a<c)&&0<a)break}var h=t.indexOf(y,C.findOffset);i<9&&0<=h&&(y<a||a<0)&&(C.findOffset=h+y.length,t.indexOf(">",h),C.postMessage({state:"open",tagName:"err",xml:""}),C.reenterStep=9,i=0);var u=t.indexOf("</ERR>",C.findOffset);i<10&&0<=u&&(u<a||a<0)&&(h=C.findOffset-y.length,C.findOffset=u+"</ERR>".length,C.postMessage({state:"close",tagName:"err",xml:t.slice(h,C.findOffset)}),C.reenterStep=10,i=0);h=t.indexOf(w,C.findOffset);if(i<11&&0<=h&&(C.findOffset=h+w.length,C.postMessage({state:"close",tagName:"document",xml:""}),C.reenterStep=3,i=0,C.depth--),a<0&&s<0&&l<0&&h<0)break}r=t.indexOf(v,C.findOffset);i<12&&0<=r&&(C.findOffset=r+v.length,p=t.indexOf(">",r),C.postMessage({state:"open",tagName:"mmlfooter",xml:t.slice(r,p+1)}),C.reenterStep=12,i=0);var p=t.indexOf(b,C.findOffset);i<13&&0<=p&&(r=C.findOffset-v.length,C.findOffset=p+b.length,C.postMessage({state:"close",tagName:"mmlfooter",xml:t.slice(r,C.findOffset)}),C.reenterStep=13,i=0);r=t.indexOf("</MML>",C.findOffset);return 0<=r&&(C.findOffset=r+"</MML>".length,C.postMessage({state:"close",tagName:"mml",xml:""}),C.depth--),0===C.depth},C},m2soft.ns("m2soft.crownix.MrdGroupManager"),m2soft.crownix.MrdGroupManager=function(t){function a(t){for(var e=0;e<g.length;e++){var i=g[e];if(t===i.id)return i}return!1}function o(){var t,e,i=a(d),n=i.getTabOrder(),r=i.getGuideOrder(),o=i.getTree();if(o&&x.tableOfContents.makeDom(o,!0),x.options.showThumbnail&&x.thumbnail.create(),x.isFormEditMode){for(t=0;t<n.order.length;t++)e=n.order[t],c.push(e.element,e.pagenum);for(c.focus(n.current),t=0;t<r.order.length;t++)e=r.order[t],h.push(e.element,e.pagenum);0<h.getGuideOrder().length?(h.setCurr(r.current),x.toolbar.showToolbarItem(["guide"])):x.toolbar.hideToolbarItem(["guide"]),i.guideWindow?h.show():h.hasNext()?x.toolbar.enableToolbarItem(["guide"]):x.toolbar.disableToolbarItem(["guide"]),x.formManager.validator.createInvalidList()}}function s(t){for(var e,i=w.indexOf(d)+1;i<w.length;i++)(e=a(w[i])).startPage+=t,e.currentPage+=t,e.pageShifts+=t;for(i=0;i<g.length;i++)(e=g[i]).isLoaded||(e.pageShifts+=t)}function l(t,e){var i,n,r=t.mml,o=void 0,a={order:[],current:void 0},s={order:[],current:void 0},l=t;for(this.id=e,this.currentPage=-1,this.totalPage=0,this.startPage=-1,this.removedPage=[],this.pageShifts=0,this.isLoaded=!1,this.documentIndex=-1,this.mrdPath=[],this.mrdParam=[],this.rdata=[],this.guideWindow=!1,i=0;i<l.length;i++)n=l[i],this.mrdPath.push(n.mrdPath||""),this.mrdParam.push(n.mrdParam||""),"string"==typeof n.rdata&&this.rdata.push(n.rdata);this.pushTabOrder=function(t,e){a.order.push({element:t,pagenum:e})},this.pushGuideOrder=function(t,e){s.order.push({element:t,pagenum:e})},this.getTabOrder=function(){return a},this.getGuideOrder=function(){return s},this.getRelativePageNumber=function(t){return parseInt(t)-this.startPage+1},this.getAbsolutePageNumber=function(t){return parseInt(t)+this.startPage-1},this.getStructure=function(){return l},this.getMML=function(){return r},this.getTree=function(){return o},this.setMML=function(t){r=t},this.setTree=function(t){o=t},this.isFirstPage=function(){return this.currentPage===this.startPage},this.isLastPage=function(){return this.currentPage===this.startPage+this.totalPage-1}}var d,c,h,u=m2soft.crownix.FieldOrder,p=m2soft.crownix.GuideManager,f=m2soft.crownix.ChannelManager,g=[],m=[],w=[],x=t;this.setMrdGroup=function(t){for(var e in g=[],m=[],t)a(e)||(e=new l(t[e],e),g.push(e),m.push(e.id));d=g[0].id,w.push(d),g[0].currentPage=1},this.importMrdGroup=function(t){g=[],m=[];for(var e=0;e<t.length;e++){for(var i,n=t[e],r=[],o=0;o<n.mrdPath.length;o++)r.push({mrdPath:n.mrdPath[o],mrdParam:n.mrdParam[o],rdata:n.rdata[o]});(i=new l(r,n.id)).setMML(n.mml),g.push(i),m.push(i.id)}d=g[0].id,g[0].currentPage=1},this.getCurrentMrdGroup=function(){return a(d)},this.getMrdGroup=a,this.isLoadComplete=function(){for(var t=0;t<g.length;t++)if(!g[t].isLoaded)return!1;return!0},this.showMrdGroup=function(t){var e,i,n,r=a(t);if(r&&d!==t){if(c=c||u.getInstance(x),h=h||p.getInstance(x),x.isFormEditMode&&(e=a(d),i=c.getCurr(),n=h.getCurr(),e.getTabOrder().current=i?i.id:void 0,e.getGuideOrder().current=n?n.id:void 0,e.guideWindow=h.isEnabled),d=t,x.isFormEditMode&&(c.clear(),c.reset(),h.clear(),h.reset(),h.close()),r.isLoaded)return f.getChannel("viewer:onDrawPage").subscribeOnce(o),x.options.scrollOptions.useInfiniteScroll?x.documentScroller.showCurrentMrdGroupPages(o):x.movePage(r.currentPage);x.options.scrollOptions.useInfiniteScroll&&x.documentScroller.hideAllPages(),r.getMML()?x.appendMML(r.getMML(),function(t){t&&(r.isLoaded=!0)}):x.appendFile(r.getStructure()),w.push(t)}},this.getMrdGroupInfo=function(){for(var t=!0,e=0;e<g.length;e++)g[e].isLoaded||(t=!1);return{currentMrdGroupId:d,mrdGroupOrder:m,mrdGroupList:g,isLoadCompleted:t}},this.setPageToolbarItems=function(t,e){var i=a(d);e.disableToolbarItem(["first","prev","next","last"]),t===i.startPage?1<i.totalPage&&e.enableToolbarItem(["next","last"]):t===i.startPage+i.totalPage-1?e.enableToolbarItem(["first","prev"]):e.enableToolbarItem(["first","prev","next","last"])},this.validatePageNumber=function(t){var e=a(d),i=e.startPage,e=i+e.totalPage-1;return!(t<i||e<t)||!(0<i||0<e)},this.getRelativePageNumber=function(t){return a(d).getRelativePageNumber(t)},this.getAbsolutePageNumber=function(t){return a(d).getAbsolutePageNumber(t)},this.validateMrdGroup=function(t){var e=a(t);return!(!e||!e.isLoaded)&&!x.formManager.validator.validate(void 0,{mrdGroupId:t,resultOnly:t!==d}).isInvalid},this.getSortedMrdInfo=function(){for(var t={mrdPath:[],mrdParam:[],mrdData:[]},e=0;e<m.length;e++){var i=a(m[e]);if(i.isLoaded)for(var n=0;n<i.mrdPath.length;n++)t.mrdPath.push(i.mrdPath[n]),t.mrdParam.push(i.mrdParam[n]),i.mrdData&&"string"==typeof i.mrdData[n]&&t.mrdData.push(i.mrdData[n])}return t},this.onPageShow=function(t){for(var e,i=a(d),n=i.removedPage,r=0;r<t.length;r++)e=t[r]-(i.startPage-i.pageShifts)+1,-1<(e=n.indexOf(e))&&n.splice(e,1);i.totalPage+=t.length,i.currentPage=x.report.getDestPageNum(i.currentPage),s(t.length)},this.onPageHide=function(t){for(var e,i=a(d),n=0;n<t.length;n++)e=t[n]-(i.startPage-i.pageShifts)+1,i.removedPage.indexOf(e)<0&&i.removedPage.push(e);i.totalPage-=t.length,i.currentPage=x.report.getDestPageNum(i.currentPage),s(-t.length)},this.getRemovedPage=function(){for(var t,e,i=0,n=[],r=[],o=0;o<m.length;o++)n.push(a(m[o]));for(o=0;o<n.length;o++){for(t=n[o],e=0;t.removedPage&&e<t.removedPage.length;e++)r.push(i+t.removedPage[e]);i+=t.totalPage+t.removedPage.length}return r}},m2soft.ns("m2soft.crownix.TTSManager"),m2soft.crownix.TTSManager=function(){function c(t,e,i,n,r,o,a,s){this.type=t,this.value=e,this.left=Number(i),this.top=Number(n),this.right=Number(r),this.bottom=Number(o),this.formId=a,this.fieldId=s}function u(t){var e,i,n=t.attr("ty"),r="";return w.isFormEditMode?(i=w.formManager.getField(t.attr("fi"),t.attr("id")),r="cb"===n||"rb"===n?((e=[]).push(i.getSelected()?C.get("tts_select"):C.get("tts_release")),e.push(i.getLabel()),e.push("cb"===n?C.get("tts_check_box"):C.get("tts_radio_button")),e.join("")):"sm"===n?t.text()+C.get("tts_button"):"sg"===n?C.get("sign_window_title"):"im"===n?C.get("mask_dialog_title"):"fl"===n?i.getValue()||C.get("no_attach_file"):"co"===n?i.getValue()+C.get("tts_combo_box"):"pn"===n?i.getBackgroundText()+C.get("pen_field"):"rec"===n?i.getValue()||C.get("record_no_file"):i.getValue()||C.get("tts_no_content")):"tf"===n||"ta"===n||"sm"===n?r=t.text()||C.get("tts_no_content"):"fl"===n?r=t.attr("vl")&&t.attr("vl").substring(t.attr("vl").lastIndexOf("/")+1)||C.get("no_attach_file"):"cb"===n||"rb"===n?((i=t.attr("se"))&&(r="0"===i?C.get("tts_release"):C.get("tts_select")),r+=t.attr("lb")+("cb"===n?C.get("tts_check_box"):C.get("tts_radio_button"))):"co"===n?r=t.attr("sv")||C.get("tts_no_content"):"sg"===n?r=C.get("sign_window_title"):"im"===n?r=C.get("mask_dialog_title"):"pn"===n?r=C.get("pen_field"):"rec"===n&&(r=t.attr("vl")&&t.attr("vl").substring(t.attr("vl").lastIndexOf("/")+1)||C.get("record_no_file")),r}function p(t){var e;void 0===t&&(t=A[Number(E)].attr("aria-label")),E=!E,"DIV"===(e=$(A[Number(E)])[0]).tagName?e.setAttribute("aria-label",t):$(e).val(t),e.setAttribute("tabindex","-1"),e.focus()}function n(t,e){return Math.floor(t/10.3+24.3)}function f(){var t=x[b],e=n(t.left)-8,i=n(t.top)-8;return{width:n(t.right)-e+8,height:n(t.bottom)-i+8,left:e,top:i,textBox:t}}function a(t){t.map(function(t){$("."+t).removeClass(t)})}function g(){var t,e;_&&F[P]?(a([R,B,j]),null!==D?(t=$("#crownix-toolbar-"+F[P]).find("li:eq("+D+")")).addClass(j):(e="item"==((t="pageNumber"===F[P]?$("#crownix-toolbar-pagenum > .crownix-toolbar-pagenum-current"):$("#crownix-toolbar-"+F[P])).hasClass("crownix-toolbar-item")?"item":L)?R:B,t.addClass(e)),null===P||w.toolbar.isEnableItem(F[P])||q(39)):_||null===b||M.HIGHLIGHT&&v.css(f())}function l(t){return t.type.prototype.getType()}function m(t,e){return e=e,!((t=t).left>e.left&&t.left>=e.right||t.right<=e.left&&t.right<e.right)}function i(t){var e,i,n,r=[9,13,27,37,38,39,40],o=t.keyCode||t.which;-1<r.indexOf(o)&&(37<=o&&o<=40?(U(t.keyCode),t.preventDefault(),t.stopPropagation()):t.shiftKey&&9===o?_?(a([R,B,j]),$(A[Number(E)]).attr("tabindex","0")):(V(),e=F[P],_=!0,e&&l(d[e])===L?(37===h||39===h)&&N||$("#crownix-toolbar-"+e).click():void 0===e&&U(39),p(C.get("tts_toolbar_area")),M.HIGHLIGHT&&(v.hide(),g()),t.preventDefault(),t.stopPropagation()):_&&9===o?t.shiftKey||(r=C.get("tts_report_area"),e=F[P],_=!1,e&&l(d[e])===L&&((37===h||39===h)&&N||$("#crownix-toolbar-"+e).click()),w.isFormEditMode&&(r+=C.get("tts_form_edit_mode")),p(r),null===P||w.toolbar.isEnableItem(F[P])||q(39),M.HIGHLIGHT&&(a([R,B,j]),null!==b&&v.show(),g()),t.preventDefault(),t.stopPropagation()):w.isFormEditMode&&!_&&9===o&&null!==b?(M.HIGHLIGHT&&v.hide(),i=$.Event("keydown",{keyCode:9}),$("#crownix_hidden_tab").trigger(i),t.preventDefault(),t.stopPropagation()):_&&13===o&&w.toolbar.isEnableItem(F[P])?(e=d[F[P]],(e=l(e)===L?(i=e.items)[Object.keys(i)[D]]:e)&&e.handler&&e.handler(),setTimeout(function(){p(C.get("tts_select"))},0),t.preventDefault(),t.stopPropagation()):_&&27===o?((n=(n=$(".crownix-window-close")[0]||$(".aButtons > button[value=cancel]")[0]||$(".iButtons > button[value=cancel]")[0])&&$._data(n,"events").click)&&n[0]&&n[0].handler&&n[0].handler(),t.preventDefault(),t.stopPropagation()):null===b&&9===o?(n=C.get("tts_report_area"),w.isFormEditMode&&(n+=C.get("tts_form_edit_mode")),p(n),t.preventDefault(),t.stopPropagation()):null===b||9!==o||_||(M.HIGHLIGHT&&v.hide(),$(A[Number(E)]).attr("tabindex","0")))}function t(t,e){var i,n=parseInt(e),e=y.browser.firefox||y.browser.msie&&9==y.browser.version?(i=$('<input readonly="readonly">'),$('<input readonly="readonly">')):(i=$('<div role="document">'),$('<div role="document">'));w=t,A.push(i),A.push(e),V(),(n&o)===o&&(M.READ=!0),(n&s)===s&&(M.HIGHLIGHT=!0),(n&T)===T&&(M.WITH_LABEL=!0),(n&I)===I&&(M.ALLOW_BLANK=!0),r.getChannel("toolbar:changeToolbar").subscribe(function(){$("#crownix-toolbar button, #crownix-toolbar input").attr("tabindex","-1")})}var w,x,v,d,b,h,y=m2soft.crownix.Util,C=m2soft.crownix.Resource,r=m2soft.crownix.ChannelManager,k="C",S="P",o=1,s=2,T=4,I=8,M={READ:!0,HIGHLIGHT:!1,ALLOW_BLANK:!1,WITH_LABEL:!1},A=[],F=[],E=!1,P=null,D=null,O=!1,_=!1,N=!0,L="drop-item",R="crownix-toolbar-item-enable-hover",B="crownix-toolbar-dropitem-enable-hover",j="hoverd",e={position:"absolute",border:"3px solid","box-sizing":"border-box","border-radius":"5px"},H=[],z=[],q=function(t){function r(t,e,i){return 39===i||40===i?t===e||null===t?t=0:++t:0===t||null===t?t=e:--t,37===i||39===i?P=t:D=t,t}function e(t){var e=d[F[r(P,F.length-1,t)]];for(D=null;!e.visible||!w.toolbar.isEnableItem(F[P]);)e=d[F[r(P,F.length-1,t)]];return e}function i(t,e){for(var i=Object.keys(t.items),n=t.items[i[r(D,i.length-1,e)]];!n.visible;)n=t.items[i[r(D,i.length-1,e)]];return n}var n,o,a,s=null===P?(a=e(39)).title:(n=F[P],o=$("#crownix-toolbar-"+n),a=d[n],37===h||39===h?s=l(a)!==L||G(t)?38===t?N?e(37):i(a,t):40===t?N?e(39):i(a,t):e(t):N?h!==t?(o.click(),N=!1,i(a,40)):e(37===h?37:39):h===t?(o.click(),N=!0,D=null,a):i(a,37===h?40:38):(s=38===t?l(a)===L?i(a,t):e(37):40===t?l(a)===L?i(a,t):e(39):e(t),l(s)===L?$("#crownix-toolbar-"+F[P]).click():37!==t&&39!==t||l(a)!==L||o.click()),s.title||s.text);p(s+C.get("tts_button")),M.HIGHLIGHT&&g()},G=function(t){return 38===t||40===t},U=function(t){if(0!==x.length)if(_)q(t);else{var e,i,n,r,o;null===b?(e=(h=x[b=0]).value,M.HIGHLIGHT&&v.show()):O?37===t?(e=0===b?(h=x[b],1===w.currentPage?C.get("tts_first_parag"):C.get("tts_prev_page")):(h=x[--b]).value,H=[],z=[]):39===t?(e=b===x.length-1?(h=x[b],w.currentPage===w.totalPage?C.get("tts_last_parag"):C.get("tts_next_page")):(h=x[++b]).value,H=[],z=[]):e=(38===t?(i=x[b],n=x.filter(function(t){return i.top===t.bottom}),r=x.filter(function(t){return t.type===k?i.top>t.bottom:i.top>t.top}),0<H.length?(b=x.indexOf(H.pop()),z.push(i)):0<n.length?0<(o=0===(o=n.filter(function(t){return m(i,t)})).length?x.filter(function(t){return t.type===k?i.top>t.bottom&&m(i,t):i.top>t.top}):o).length&&(b=x.indexOf(o[o.length-1]),z.push(i)):0<r.length&&(b=x.indexOf(r[r.length-1]),z.push(i))):(i=x[b],n=x.filter(function(t){return i.bottom===t.top}),r=x.filter(function(t){return t.type===k?i.bottom<t.top:i.top<t.top}),0<z.length?(b=x.indexOf(z.pop()),H.push(i)):0<n.length?0<(o=0===(o=n.filter(function(t){return m(i,t)})).length?x.filter(function(t){return t.type===k?i.bottom<t.top&&m(i,t):i.top<t.top}):o).length&&(b=x.indexOf(o[0]),H.push(i)):0<r.length&&(b=x.indexOf(r[0]),H.push(i))),(h=x[b]).value):37===t||38===t?e=0===b?(h=x[b],1===w.currentPage?C.get("tts_first_parag"):C.get("tts_prev_page")):(h=x[--b]).value:39!==t&&40!==t||(e=b===x.length-1?(h=x[b],w.currentPage===w.totalPage?C.get("tts_last_parag"):C.get("tts_next_page")):(h=x[++b]).value),O&&h.type!==k&&(H=[],z=[]),O=h.type===k;var a,s,l,d,c,h=f().textBox;if(h.formId&&h.fieldId){h=w.formManager.getField(h.formId,h.fieldId);if(h&&h.element&&("1"===h.element.attr("hd")||"1"===h.commonHidden))return void(e?p(e):U(t))}A.forEach(function(t){var e=f();t.css({left:e.left,top:e.top})}),p(e||(s=x[b],c="",s.formId&&s.fieldId?(a=w.formManager.getField(s.formId,s.fieldId))&&a.element&&(c=s.value=u(a.element)):c=s.value,c)),M.HIGHLIGHT&&g(),a=A[Number(E)],s=w.containerDom,l=w.scroll,d=a.position(),c=a.offset(),a=s.offset(),(y.browser.mobile||a.left>c.left||a.top>c.top||a.left+s.outerWidth()<c.left||a.top+s.outerHeight()<c.top)&&setTimeout(function(){var t=-d.left,e=45-d.top+$(document).scrollTop();0<t?t=0:t<l.maxScrollX&&(t=l.maxScrollX),0<e?e=0:e<l.maxScrollY&&(e=l.maxScrollY),l.scrollToKeepCenter(t,e,0)},y.browser.mobile?500:0)}},W=function(n,t){var e,r,o,a=[],i=n.attr("sx"),s=n.attr("sy"),l=n.attr("ex"),d=n.attr("ey");if(0===n.children().length&&k?M.ALLOW_BLANK&&a.push(C.get("tts_no_content")):(n.find("TL, FF, IM, CT").each(function(){var t,e=$(this),i=e.prop("tagName");"TL"===i?e.attr("ft")?a.push(C.get("page_no").replace("%d",w.currentPage)):0<(t=e.text().replace(/[\r|\n]/g,"")).length&&a.push(t):"FF"===i?(a.push(u(e)),r=e.attr("fi"),o=e.attr("id")):"IM"!==i&&"CT"!==i||("bc"===n.attr("ty")?a.push(C.get("text_barcode")):"ct"===n.attr("ty")&&a.push(C.get("text_chart")),a.push(C.get("mask_dialog_title")))}),0===a.length&&M.ALLOW_BLANK&&a.push(C.get("tts_no_content"))),e=a.join("")){d=new c(t||S,e,i,s,l,d,r,o);return M.WITH_LABEL&&(n.attr("fs")||n.attr("rs")?(n.attr("fs")&&(e=n.attr("fs")+" "+e),n.attr("rs")&&(e=e+" "+n.attr("rs")),d.value=e):n.attr("id")?d.headerId=n.attr("id"):n.attr("hd")&&(d.referenceId=n.attr("hd"))),x.push(d),d}return null},V=function(){var t=w.toolbar.getToolbarItemInfo(),e=w.toolbar.getDirection();d=t.items,F=t.menu,"left"===e?h=37:"right"===e?h=39:"top"===e?h=38:"bottom"===e&&(h=40)};return t.prototype.makeParagraphs=function(t){x=[],b=null,A.forEach(function(t,e){t.attr("tabindex","0").css({opacity:0,margin:0,position:"absolute",left:"0px",top:"0px",width:"0px",height:"0px"}).addClass("crownix-virtual-cursor").prependTo("#m2soft-crownix-text"),t.off("keydown"),t.on("keydown",i),t.focus(function(){M.HIGHLIGHT&&(null===b||_||"none"!==v.css("display")?_&&(v.hide(),g()):v.show()),t.attr("tabindex","-1")}),t.blur(function(){M.HIGHLIGHT&&v.hide(),$(A[Number(E)]).attr("tabindex","0")})}),t.find(">PR, >TB>PR, >TE>PR, >FC>PR, >TB>FC>PR").each(function(){var t=$(this);if("PR"===t.prop("tagName")){if(t.attr("ect")&&-1<t.attr("ect").indexOf("d"))return!0;("tb"===t.attr("ty")?function(t){var n=[];if(0===t.find("PR").length)return null;t.find("PR").each(function(){var t=W($(this),k);t&&n.push(t)}),M.WITH_LABEL&&n.forEach(function(t){var i;t.referenceId&&(i="",t.referenceId.split(",").forEach(function(e){n.filter(function(t){return e===t.headerId}).forEach(function(t){i+=t.value+" "})}),t.value=i+t.value)})}:W)(t)}}),x.sort(function(t,e){return t.top===e.top?t.left-e.left:t.top-e.top}),M.HIGHLIGHT&&((v=$("<div>").prependTo("#m2soft-crownix-text").attr("id","crownix_focus_mark").css(e)).hide(),null===P||w.toolbar.isEnableItem(F[P])||q(39),r.getChannel("toolbar:changeToolbar").subscribe(g)),$("#m2soft-crownix-text a").attr("tabindex","-1"),null!==b||_||U(39)},t.prototype.setFocus=function(){p()},t}(),m2soft.ns("m2soft.crownix.Painter"),m2soft.crownix.Painter=function(globalObject,canvasDom,textDom,movePage,serverUrl){var SignWindow=m2soft.crownix.SignWindow,PenWindow=m2soft.crownix.PenWindow,ScrollPenWindow=m2soft.crownix.ScrollPenWindow,KeyboardPenWindow=m2soft.crownix.KeyboardPenWindow,MaskWindow=m2soft.crownix.MaskWindow,FieldOrder=m2soft.crownix.FieldOrder,R=m2soft.crownix.Resource,Util=m2soft.crownix.Util,Unit=m2soft.crownix.util.Unit,DateUtil=m2soft.crownix.util.DateUtil,ChartConverter=m2soft.crownix.ChartConverter,Message=m2soft.crownix.Message,Painter=m2soft.crownix.Painter,go=globalObject,self=this,drawMedia="",Icon=m2soft.crownix.resource.Icon,ActionEvents=m2soft.crownix.Util.ActionEvents,NumberUtil=m2soft.crownix.util.NumberUtil,Constant=m2soft.crownix.Constant,WacomSignWindow=m2soft.crownix.WacomSignWindow,GuideManager=m2soft.crownix.GuideManager,WithSign=m2soft.crownix.WithSign,TextDialog=m2soft.crownix.TextDialog,cxCanvas=new m2soft.crownix.Canvas(canvasDom,go),viewerOpenFile=go.openFile,viewerMovePage=movePage,viewerServerUrl=serverUrl,viewerTextDom=textDom,formManager=go.formManager,options=go.options,dialog=go.dialog,useAdjustLetterSpace=!0,useAdjustCharacterScale=!1,updateCallback=[],viewerScroll=go.scroll,offset={x:0,y:0},margin=24.3,isSubProcess=!1,isOldBrowser=!1;go.options.mirroring.enable&&go.mirroringManager&&(isSubProcess=go.mirroringManager.externalEvent.isSubProcess()),Util.browser.android&&Util.browser.chrome&&Util.browser.chrome.version<=36&&(isOldBrowser=!0);var drilldownAPI={expand:go.drilldownManager.expand,next:go.drilldownManager.drilldownNext,prev:go.drilldownManager.drilldownPrev},viewerAPI={moveFirstPage:go.viewer.moveFirstPage,moveLastPage:go.viewer.moveLastPage,movePage:go.viewer.movePage,prevPage:go.viewer.prevPage,nextPage:go.viewer.nextPage,hidePage:function(){go.report.removePage(arguments)},showPage:function(){go.report.restorePage(arguments)},expandGrid:function(t){return go.gridManager.expandDepth(t)},nextDepth:function(){return go.gridManager.nextDepth()},prevDepth:function(){return go.gridManager.prevDepth()},scanBarcodes:go.viewer.scanBarcodes,readNfcTag:go.viewer.readNfcTag},formAPI={initFormData:go.formManager.initFormData,showGroupSign:go.formManager.showGroupSign},HLINK_TYPE={NONE:0,RD:1,WEB:2,OTHER:3,EMAIL:4,RD_CURRENT:5,DRILLDOWN:7},WARNING_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQUY0MjE0MkJCMzNFMzExQThCQ0ZENjNBMThBMjY0NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENjk5RDlFNDM2NzExMUUzOERCN0EwNDc2RkI1OUZGNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENjk5RDlFMzM2NzExMUUzOERCN0EwNDc2RkI1OUZGNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjc5MjQ4RDFBNzEzNkUzMTFCRkRFQ0ExN0Y0NTU3RTY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVBRjQyMTQyQkIzM0UzMTFBOEJDRkQ2M0ExOEEyNjQ1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pFczmAAAAgRJREFUeNp0U01rFEEQ7e6ZTbIYZ/GLGLxvJBD3Eu+5iRC9iCcvkqMgkUAu/oUcouLV/IE1l0DIwaPgKV7EYFBRREFYJLJuZz56pqt9NbOT7OhOwaO6aqpe11RXSb25KerEOXcK2DRqA2z7w8g8YOi8CL0GLANtKvyHjmgH354Bv8pk1n6aZWLEcQd40RCiNSGl8AAmtkJ0YqLOcZquIm4FMdtEVFSQpGl+IE4m6gZCSE4uhU9c5jQAwuBHHHeRfJeGJH5kjMDhEhxbqF1OiHppApeVkp/CcAvxr5HX88MkYYKH54iCKecqCVMbG7mO19dPfGeBC84FX6PokXXusX8cx0xw+4q1eTPHShRVzPOIfRdFy8QEuiC4OolfqZUwrJhnAOTNWe6BBjs3Q/T79QRHRxUTtYqBMYZKAjAd9rXutPCklYuXlsby/cYraSG+5AQDrsC5nc9Z1rmmdSWwtb+f6/7iYsX/3vOEVmr3tALnnr/xvNXpLAtmR3oRzc//d/s3JL9qNP7g0idFBUUTezxhL5vN7o0kkbMYrnHyHcldpRwlyQrie0zgXZ+ZEQYJJss+QB8ceN7N2NpJyf3Ac4V42p/AW6XEnlIDY+09jP82r0CK7/LBwkIxymArlwlYg30L9hzOBviI8y70U/fPMsn77fbJMtHImjomrFnhcr158P4KMAC3UsepYGz8PwAAAABJRU5ErkJggg==",isDrawingTo={screen:function(){return"d"==drawMedia},printer:function(){return"p"==drawMedia},save:function(){return"s"==drawMedia}},adjustCoord=function(t,e){if(go.options.textOnCanvas){var i=viewerScroll.scale*window.devicePixelRatio||1;return i>go.options.maxScaleRatio&&(i=go.options.maxScaleRatio),Painter.adjustCoord(t,e,margin,i)}return Painter.adjustCoord(t,e,margin)},applyPriorityToFaceAttr=Painter.applyPriorityToFaceAttr,applyPriorityToLineAttr=Painter.applyPriorityToLineAttr,drawLine=function(t,e){var i,n,r;t.attr("vs")&&"0"==t.attr("vs")||(i=adjustCoord(t.attr("sx"),e.wd),n=adjustCoord(t.attr("sy"),e.wd),r=adjustCoord(t.attr("ex"),e.wd),t=adjustCoord(t.attr("ey"),e.wd),cxCanvas.drawLine(i,n,r,t,e))},drawCurve=function(t,e){var i=adjustCoord(t.attr("sx"),e.wd),n=adjustCoord(t.attr("sy"),e.wd),r=adjustCoord(t.attr("ex"),e.wd),o=adjustCoord(t.attr("ey"),e.wd),a=adjustCoord(t.attr("cx1"),e.wd),s=adjustCoord(t.attr("cy1"),e.wd),l=adjustCoord(t.attr("cx2"),e.wd),t=adjustCoord(t.attr("cy2"),e.wd);cxCanvas.drawCurve(i,n,r,o,e,a,s,l,t)},drawPolyLine=function(t,e){for(var i=t.attr("dt").split("|"),n=[],r=0,o=i.length;r<o;r++){var a=i[r].split(","),s=adjustCoord(a[0],e.wd),a=adjustCoord(a[1],e.wd);n.push([s,a])}cxCanvas.drawPolyLine(e,n)},drawScribble=function(t,e){for(var i=t.attr("dt").split("|"),n=[],r=0,o=i.length;r<o;r++){var a=i[r].split(","),s=adjustCoord(a[0]),a=adjustCoord(a[1]);n.push([s,a])}cxCanvas.drawScribble(e,n)},drawRect=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),t=adjustCoord(t.attr("ey"),e.wd);cxCanvas.drawRect(n,r,o,t,e,i)},drawRoundeRect=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),a=adjustCoord(t.attr("ey"),e.wd),s=t.attr("aw")/10.3,l=t.attr("ah")/10.3,d=t.attr("ap");cxCanvas.drawRect(n,r,o,a,e,i,s,l,d),cxCanvas.setClip(t.attr("cl"))},drawEllipse=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),t=adjustCoord(t.attr("ey"),e.wd);cxCanvas.drawEllipse(n,r,o,t,e,i)},drawDiamond=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),t=adjustCoord(t.attr("ey"),e.wd);cxCanvas.drawDiamond(n,r,o,t,e,i)},drawParallelogram=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),a=adjustCoord(t.attr("ey"),e.wd),t=t.attr("cx")/10.3;cxCanvas.drawParallelogram(n,r,o,a,e,i,t)},drawPolygon=function(t,e,i){for(var n=t.attr("dt").split("|"),r=[],o=0,a=n.length;o<a;o++){var s=n[o].split(","),l=adjustCoord(s[0],e.wd),s=adjustCoord(s[1],e.wd);r.push([l,s])}cxCanvas.drawPolygon(e,i,r)},drawHexaheron=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),a=adjustCoord(t.attr("ey"),e.wd),s=t.attr("cx")/10.3,t=t.attr("cy")/10.3;cxCanvas.drawHexaheron(n,r,o,a,s,t,e,i)},drawCylinder=function(t,e,i){var n=adjustCoord(t.attr("sx"),e.wd),r=adjustCoord(t.attr("sy"),e.wd),o=adjustCoord(t.attr("ex"),e.wd),a=adjustCoord(t.attr("ey"),e.wd),t=t.attr("sh")/10.3;cxCanvas.drawCylinder(n,r,o,a,e,i,t)},drawSVG=function(t){var e=adjustCoord(t.attr("sx")),i=adjustCoord(t.attr("ex")),n=adjustCoord(t.attr("sy")),r=adjustCoord(t.attr("ey"));t.find("svg").clone().attr({width:i-e+"px",height:r-n+"px"}).css({position:"absolute",left:e+offset.x,top:n+offset.y}).appendTo(viewerTextDom)},drawCxChart=function(t,e){var i=adjustCoord(t.attr("sx")),n=adjustCoord(t.attr("ex")),r=adjustCoord(t.attr("sy")),o=adjustCoord(t.attr("ey")),a=$("<div>").css({position:"absolute",left:i+offset.x,top:r+offset.y,width:n-i+"px",height:o-r+"px"}).appendTo(viewerTextDom);try{var s=(new ChartConverter).convertMml(t),l=new crownix.Chart(a[0],n-i,o-r);e&&s.series.forEach(function(t){t.animation=!1}),s.data?l.build(s.series,s.options,s.data):l.build(s.series,s.options)}catch(t){Message.log(t.stack)}},drawChart=function(e,i){e.children().each(function(){var t=this.tagName.toUpperCase();"SVG"==t?drawSVG(e):"CC"==t&&drawCxChart(e,i)})},drawLayer=function(t){var e=go.layerManager,i=t.attr("id"),t=t.attr("au")||0,i=e.getLayer(i);"layerGroup"==i.type&&i.selectedLayerId&&(t=i.group[i.selectedLayerId].refresh),i.visible&&(i.show({offset:offset,textDom:viewerTextDom}),0<t&&i.setAutoReload(t))},drawCxGrid=function(t,e,i,o,a){var n={put:function(t,e,i,n){go.isFormEditMode&&(n=go.cxGridManager.makeMmlElement(t,e,i,n),go.formManager.buildFormField(n[0],go.currentPage,{}),go.formManager.removePreventEvent(),go.formManager.isLoadComplete&&FieldOrder.getInstance().push(n,go.currentPage))},paint:function(t,e,i,n,r){r=go.cxGridManager.makeMmlElement(e,i,n,r);return drawFormField(r,o,a,t),formManager.getField(r.attr("fi"),r.attr("id"))},changeRepeatedIndex:function(t,e){var i,n;"rb"==t.type?t.index!=e&&(i=t.gid,(n=go.formManager.getField(t.formId,t.gid)).changeRepeatedIndex(e),go.formManager.getFormList()[t.formId].changeFieldId(i,n.id)):(n=t.id,t.changeRepeatedIndex(e),go.formManager.getFormList()[t.formId].changeFieldId(n,t.id))},remove:function(t){go.formManager.getFormList()[t.formId].removeField(t.id)}},r=m2soft.crownix.Resource.language;m2soft.crownix.CxGridResource.setLanguage(r),go.cxGridManager||(go.cxGridManager=new m2soft.crownix.CxGridManager);try{i.parentScroll=go.scroll,i.fieldController=n,i.isFormEditMode=go.isFormEditMode,go.cxGridManager.paint(t,e[0],i),i.isFormEditMode&&go.formManager.removePreventEvent()}catch(t){console.log("[Crownix Viewer] could not build cxGrid."),console.log(t)}},drawGrid=function(t,e,i,n){var r=adjustCoord(t.attr("sx")),o=adjustCoord(t.attr("ex")),a=adjustCoord(t.attr("sy")),s=adjustCoord(t.attr("ey")),l=t.attr("id");e&&(l="f-"+l);var d=$("<div>").addClass("crownix-grid-"+l).css({position:"absolute",left:r+"px",top:a+"px",width:o-r+2+"px",height:s-a+2+"px",border:"1px solid #AEB6BF"}).appendTo(viewerTextDom),c=JSON.parse(t.text());if(c.template.tree||c.template.type<4){go.gridManager||(go.gridManager=new m2soft.crownix.GridManager);try{go.gridManager.build(l,d[0],c,go)}catch(t){console.log("[Crownix Viewer] could not build grid."),console.log(t)}}else drawCxGrid(l,d,c,i,n)},applyHyperLink=function(t,e,i,n,r){t.text();var o=n,a=o.attr("hl"),s=o.attr("hi"),l=o.attr("hr")||o.attr("ht"),d=o.attr("hb"),c=o.attr("he"),h=o.attr("bc"),u=o.attr("en");t.addClass("crownix_hyperlink");var p,f,g,m,w,x,v,b,y,C,k,S,T,I,M=t.width(),n=t.height(),M=$("<a>").attr("href",l).attr("title",d).css({position:"absolute",top:e,left:i,width:M,height:n});go.textOnCanvas&&M.css({color:"transparent",background:"transparent",opacity:0}),t.css("position",""),t.css("left",""),t.css("top",""),a==HLINK_TYPE.OTHER||(a==HLINK_TYPE.EMAIL?M.attr("href","mailto:"+l):a==HLINK_TYPE.WEB&&"string"!=typeof c?M.attr("target","_blank"):(M.attr("href","#"),a==HLINK_TYPE.RD&&(p=o.attr("hn")||0,m=o.attr("hp")||"",n=0<window.location.href.indexOf("popup/viewer.html"),n=o.attr("hd")||n?"viewer.html":"popup/viewer.html",w=o.attr("hf")||1,x=p&&o.attr("hw"),v=o.attr("hh"),b=o.attr("hx"),y=o.attr("hy"),C=o.attr("ht")||1,k=o.attr("hm")||1,S=o.attr("hs")||1,T=o.attr("ha")||1,I="",I+=1==w?"fullscreen="+w:"left="+b+",top="+y+",width="+x+",height="+v,f={optionString:I+=",toolbar="+C+",menubar="+k+",status="+S+",resizable="+T,option:{isFullScreen:w,width:x,height:v,x:b,y:y,showToolbar:C,showMenubar:k,showStatusbar:S,resizable:T,isNewWindow:p}},m=m.replace(/%0D%0A/g,"\r\n"),p?(g="./"+n+"?mrd_path="+encodeURIComponent(l)+"&mrd_param="+encodeURIComponent(m)+"&server_url="+encodeURIComponent(viewerServerUrl),M.attr("href",g),M.on("click",function(t){t.preventDefault()})):(M.css({color:go.linkManager.getHyperlinkColor(l+"_"+m)}),void 0!==go.linkManager.getHoverColor()&&(M.on("mouseover",function(){$(this).css("color",go.linkManager.getHoverColor())}),M.on("mouseout",function(){$(this).css("color",go.linkManager.getHyperlinkColor(l+"_"+m))})))),t.bind(Util.browser.mobile?"tap":"click",function(t){if("string"==typeof c)"function"==typeof HLinkClicked&&(f?(f.option.type=a,HLinkClicked(c,l,m,f.option)):HLinkClicked(c,l,m,{type:a}));else if(a==HLINK_TYPE.RD){if(!go.reportFinished)return;if(p){var e=window.open(g,"_blank",f.optionString),i=o.attr("hi"),i=i.substring(i.lastIndexOf("_")+1,i.length);e.parentForm={index:i,getForm:function(t){return go.formManager.getFormWrapper(t)}},go.linkManager.setVisited(l+"_"+m),go.textOnCanvas&&go.redrawPage()}else{if(go.shareManager&&go.shareManager.isConnected())return void dialog.show(R.get("unsupported_feature_localStorage"));options.isHyperlink=!0,go.linkManager.setVisited(l+"_"+m),formManager&&formManager.isModified()?dialog.show(R.get("confirm_page_out")+" "+R.get("confirm_hyperlink_move"),{type:"confirm",inputHandler:function(t){t&&(formManager.saved(),options.hyperlinkEnc=u,viewerOpenFile(l,m,options))}}):(options.hyperlinkEnc=u,viewerOpenFile(l,m,options))}}else if(a==HLINK_TYPE.DRILLDOWN){if(go.shareManager&&go.shareManager.isConnected()&&!go.shareManager.isHost())return void dialog.show(R.get("unsupported_feature_localStorage"));var n="#"+go.containerDom.parent().attr("id");Message.progress.show(n,"",function(){try{go.drilldownManager.toggle(s).fail(function(t){Message.progress.hide(n),dialog.show(R.get("drilldown_not_allowed"))}).done(function(t){Message.progress.hide(n)}),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.toggleDrilldown(s)}catch(t){Message.progress.hide(n),dialog.show(R.get("drilldown_not_allowed"))}return!1})}else a==HLINK_TYPE.RD_CURRENT?l&&viewerMovePage(parseInt(l)):"1"==h&&window.close();return!1}))),t.wrap(M),go.options.formField.readonly&&M.clone().appendTo($("#"+Constant.PREVENTER_ID)).append(t.clone(!0,!0).css("opacity",0))},makeTextCss=function(t,e,i){var n,r={},i=(n=t.attr("fn")?t.attr("fn"):i.get(e.fi)||"",go.alterFontMap&&go.alterFontMap[n]&&(n+='", "'+go.alterFontMap[n]),n);return r["font-family"]='"'+i+'", "'+Constant.FONT_FAMILY_PREFIX+i+'"',r["font-size"]=((t.attr("pt")?t.attr("pt")/10:e.pt/10)||10)+"pt",t.attr("hl")||t.attr("hi")||(r.color=(t.attr("cl")?t.attr("cl"):e.cl)||"#000000"),(t.attr("cb")?"1"===t.attr("cb"):null==t.attr("cb")&&"1"===e.cb)&&(r["font-weight"]="bold"),(t.attr("ci")?"1"===t.attr("ci"):null==t.attr("ci")&&"1"===e.ci)&&(r["font-style"]="italic"),(t.attr("cu")?"1"===t.attr("cu"):null==t.attr("cu")&&"1"===e.cu)&&(r["text-decoration"]="underline"),(t.attr("cs")?"1"===t.attr("cs"):null==t.attr("cs")&&"1"===e.cs)&&(r["text-decoration"]?r["text-decoration"]+=" line-through":r["text-decoration"]="line-through"),"0"===t.attr("vs")&&(r.visibility="hidden"),r},transObjectToCss=function(t){if(t&&Object.keys(t).length){var e={};return e["font-weight"]="1"==t.bold?"bold":"normal",e["font-style"]="1"==t.italic?"italic":"normal","1"==t.underline&&(e["text-decoration"]="underline"),"1"==t.cancelLine&&("1"==t.underline?e["text-decoration"]+=" line-through":e["text-decoration"]="line-through"),e["text-decoration"]||(e["text-decoration"]="none"),t.color&&(e.color=t.color),e}},transCssToObject=function(t,e){var i;return t.style.bold="bold"==e.style.fontWeight?"1":"0",t.style.italic="italic"==e.style.fontStyle?"1":"0",t.style.underline=-1!=e.style.textDecoration.indexOf("underline")?"1":"0",t.style.cancelLine=-1!=e.style.textDecoration.indexOf("line-through")?"1":"0",e.style.color&&(e=(i=m2soft.crownix.util.Color).toRgbArray(e.style.color),t.style.color=i.rgbToHex(e)),t},drawText=function(t,i,n){var e=adjustCoord(t.attr("le")),r=adjustCoord(t.attr("ri")),o=adjustCoord(t.attr("to"))-1,a=adjustCoord(t.attr("bo"))+1,s=parseInt(t.attr("ha"))||0,l=parseFloat(t.attr("ls"))/1e3||0,d=t.attr("ba"),c=t.attr("es")||"0",h="1"===t.attr("nrt"),u=t.attr("wd"),p="1"===t.attr("cbo"),f="1"===t.attr("cto");"1"===c||"3"===c?s=1:"2"===c&&(0===s?s=2:2===s&&(s=0)),0===s?s="left":1===s?s="center":2===s&&(s="right");var g=$("<div>").css({position:"absolute","white-space":"pre",left:e+offset.x+"px",top:o+offset.y+"px","text-align":s,"line-height":a-o+"px"}).bind("onFontLoadComplete",function(){g.css("width",""),adjustText(g,r-e,a-o,u,s,k,C,l,p,f,!1)});"1"===d&&g.addClass("crownix-background-object");var m,w,x,v={},b={},y="",C=0,k=!1;0<t.children().length?(m=0,w=t.children().length,t.children().each(function(t){var e=$(this);v=n[e.attr("tid")]||{},b=makeTextCss(e,v,i),y=e.text().replace(/(\r|\n)/g,""),"left"!==s||t!=w-1||h||(y=Util.string.rtrim(y)),C+=y.length,m=Math.max(m,b["font-size"].replace("pt","")),k=e.attr("sc")||v.sc||0;t=$("<span>").css(b).text(y).appendTo(g);"1"!==e.attr("cr")&&"1"!==v.cr||("#000000"===b.color&&t.css("color","#ffffff"),t.wrapInner('<span style="background-color:#000000"></span>'));e=e.attr("ss")||v.ss||"0";"1"===e?t.wrapInner('<sup style="line-height: 0;"></sup>'):"2"===e&&t.wrapInner("<sub></sub>"),"1"===c?g.css("transform","rotate(-90deg)"):"2"===c?g.css("transform","rotate(-180deg)"):"3"===c&&g.css("transform","rotate(-270deg)")}),g.css("font-size",m+"pt")):(v=n[t.attr("tid")]||{},b=makeTextCss(t,v,i),y=t.text().replace(/(\r|\n)/g,""),"left"!==s||h||(y=Util.string.rtrim(y)),C=y.length,k=t.attr("sc")||v.sc||0,g.css(b).text(y),"1"!==t.attr("cr")&&"1"!==v.cr||("#000000"===b.color&&g.css("color","#ffffff"),g.wrapInner('<span style="background-color:#000000"></span>')),"1"===(x=t.attr("ss")||v.ss||"0")?g.wrapInner('<sup style="line-height: 0;"></sup>'):"2"===x&&g.wrapInner("<sub></sub>"),"1"===c?g.css("transform","rotate(-90deg)"):"2"===c?g.css("transform","rotate(-180deg)"):"3"===c&&g.css("transform","rotate(-270deg)")),a&&g.css("height",a-o+"px"),g.css("letter-spacing",l+"in"),"1"!==t.attr("ft")&&"2"!==t.attr("ft")||g.attr({"pagenum-format":g.text(),"format-type":t.attr("ft")}).addClass("crownix-pagenum"),g.appendTo(viewerTextDom),adjustText(g,r-e,a-o,u,s,k,C,l,p,f,!0),t.attr("ve")&&g.css({"writing-mode":Util.browser.msie?"tb-lr":"vertical-lr","-webkit-writing-mode":"vertical-lr","line-height":"normal"}),Util.browser.webkit&&g.css("min-height",parseInt(g.css("height"))+1+"px"),(t.attr("hl")||t.attr("hi"))&&(0==(x=(x="PR"===(x=t.parent()).prop("tagName").toUpperCase()?x.parent():x).find('[hi="'+t.attr("hi")+'"][hl]')).length&&(x=t),applyHyperLink(g,o+offset.y,e+offset.x,x,t))},adjustText=function(t,e,i,n,r,o,a,s,l,d,c){var h,u,o=calcAdjustCssAndScale(t,n,r,e+=2,o);!1!==o?(h=o.css,u=o.scale):useAdjustLetterSpace&&adjustLetterSpace(t,a,e,s),e=clipText(t,h,u,e,i,l,d,c),h&&t.css(h),t.css("width",e+"px"),t.find("span").css("white-space","pre")},clipText=function(t,e,i,n,r,o,a,s){var l,d;return o&&!a?l="top":a&&!o&&(l="bottom"),l&&((d=0)<(s=(s?t.wrapInner("<span>"):t).find(":first")).children().length?s.children().each(function(){d=Math.max(d,$(this).height())}):d=s.height(),t.css("overflow","hidden"),s.css("position","relative").css(l,Math.abs(d/2-r/2)),e&&(n/=i)),n},adjustLetterSpace=function(t,e,i,n){var r=t.width();1<e&&r>i+Unit.inToPx(n)&&(e=(e=n-Unit.pxToIn((r-i)/e)).toFixed(3),t.css("letter-spacing",e+"in"))},calcAdjustCssAndScale=function(t,e,i,n,r){if(useAdjustCharacterScale&&0<e){var o,a,s=e/10.3,e=t.width();return s<e&&(a="center"==i?n<e?(o="0%","scale("+n/e+",1)"):(o="50%","scale("+s/e+",1)"):(o="right"==i?"100%":"0%","scale("+s/e+",1)"),a={"transform-origin":o,transform:a}),{css:a}}return!(!useAdjustCharacterScale||!r)&&{css:a=(t=(n-1)/t.width())<1?{"transform-origin":"0%",transform:"scale("+t+",1)"}:a,scale:t}},makeFontStyle=function(t,e,i){var n,r,o=e[t.attr("tid")]||{},a=parseInt(t.attr("ha")),e=(n=t.attr("fn")?t.attr("fn"):i.get(o.fi)||"",go.alterFontMap&&go.alterFontMap[n]&&(n+='", "'+go.alterFontMap[n]),n);return r=t.attr("hl")||t.attr("hi")?(i=(r=(i="PR"===(i=t.parent()).prop("tagName").toUpperCase()?i.parent():i).find('[hi="'+t.attr("hi")+'"][hl]')).attr("hr")||r.attr("ht"),r=(r=r.attr("hp")||"").replace(/%0D%0A/g,"\r\n"),go.linkManager.getHyperlinkColor(i+"_"+r)):(t.attr("cl")?t.attr("cl"):o.cl)||"#000000",{fontFamily:'"'+e+'", "'+m2soft.crownix.Constant.FONT_FAMILY_PREFIX+e+'"',fontSize:((t.attr("pt")?t.attr("pt")/10:o.pt/10)||10)+"pt",fillStyle:r,fontStyle:(t.attr("ci")?"1"===t.attr("ci"):"1"===o.ci)?"Italic":"",fontWeight:(t.attr("cb")?"1"===t.attr("cb"):"1"===o.cb)?"Bold":"",underLine:(t.attr("cu")?"1"===t.attr("cu"):"1"===o.cu)||!!t.attr("hl"),lineThrough:t.attr("cs")?"1"===t.attr("cs"):"1"===o.cs,shade:t.attr("cr")?"1"===t.attr("cr"):"1"===o.cr,textAlign:1==a?"center":2==a?"right":"left"}},drawTextToCanvas=function(i,n,r,o){if("0"!==i.attr("vs")){if("1"===i.attr("ft")||"2"===i.attr("ft")){if(!go.reportFinished&&-1!=i.text().indexOf("#"))return void(go.redrawOnFinished=!0);i.text(Util.formatPageNumber(i.text(),go.report.getPageInfo(parseInt(textDom.parent().attr("no"))||go.currentPage,i.attr("ft"))))}o=o||{};var a,s,l,d,c,t,h=adjustCoord(i.attr("le"))+(o.padding||0),u=adjustCoord(i.attr("ri"))-(o.padding||0),p=adjustCoord(i.attr("to"))+(o.padding||0),f=adjustCoord(i.attr("bo"))-(o.padding||0),e=parseInt(i.attr("ha"))||0,g=parseFloat(i.attr("ls"))/1e3||0,m=Unit.inToPx(g),w=0===e&&!("1"===i.attr("nrt")),e=1===e?"center":2===e?"right":"left",g=i.attr("wd")/10.3,x=0,v=1;0<i.children("TX").length?(d=l=0,o.adjustFontScale?a.adjustFontScale=o.adjustFontScale:useAdjustCharacterScale&&0<g?(i.children().each(function(t){var e=$(this);s=t==i.children().length-1&&w?Util.string.rtrim(e.text()):e.text(),a=makeFontStyle(e,r,n),x+=cxCanvas.measureText(s,a).width+m*s.length}),g<x&&(v=g/x)):useAdjustLetterSpace&&"hidden"!==o.overflow&&(c=0,i.children().each(function(t){var e=$(this);s=t==i.children().length-1&&w?Util.string.rtrim(e.text()):e.text(),a=makeFontStyle(e,r,n),x+=cxCanvas.measureText(s,a).width+m*s.length,c+=s.length}),t=u-h,1<c&&t<x&&(m-=(x-t)/c)),"center"===e?l=x*v<u-h?(u-h-x*v)/2:0:"right"===e&&(l=u-h-x*v),i.children().each(function(t){var e=$(this);s=t==i.children().length-1&&w?Util.string.rtrim(e.text()):e.text(),(a=makeFontStyle(e,r,n)).textAlign="left",a.textBaseline="bottom",a.letterSpacing=m,a.fillStyle=o.fillStyle||a.fillStyle,a.fontScale=v,o.canvas?o.canvas.drawText(s,l+d,0,u-h-2,f-p-2,a):cxCanvas.drawText(s,h+l+d,p,u,f,a),d+=(cxCanvas.measureText(s,a).width+m*s.length)*v})):((a=makeFontStyle(i,r,n)).textAlign=o.textAlign||e,"1"==i.attr("cbo")&&"1"!==i.attr("cto")||"top"==o.textBaseline?a.textBaseline="top":"1"==i.attr("cto")&&"1"!==i.attr("cbo")||"bottom"==o.textBaseline?a.textBaseline="bottom":a.textBaseline="middle",s=w?Util.string.rtrim(i.text()):i.text(),o.adjustFontScale&&(a.adjustFontScale=o.adjustFontScale),e=cxCanvas.measureText(s,a).width,useAdjustCharacterScale&&0<g?g<(x=e+m*s.length)&&(v=g/x):useAdjustLetterSpace&&"hidden"!==o.overflow&&(g=e+m*s.length,t=u-h,1<s.length&&t<g&&(m-=(g-t)/s.length)),a.letterSpacing=m,a.fillStyle=o.fillStyle||a.fillStyle,a.fontScale=v,i.attr("ve")&&(a.verticalWriting=!0),o.canvas?o.canvas.drawText(s,0,0,u-h-2,f-p-2,a):cxCanvas.drawText(s,h,p,u,f,a,e))}},drawEncloseCharactersToCanvas=function(t,e,i){var n=adjustCoord(t.attr("le")),r=adjustCoord(t.attr("ri")),o=adjustCoord(t.attr("to")),a=adjustCoord(t.attr("bo")),s=t.attr("hp")/1e3*96,l=t.attr("sh")||"0",d="1"===t.attr("iv"),c=t.attr("tid"),h=t.text(),u=makeFontStyle(t,i,e),p=Math.round(.05*(r-n)),f=parseFloat(u.fontSize),g=parseFloat(t.attr("fs"))||.75,m=!1,e=!1,w=n+p,x=r-p,v=o+p,b=a-p,y={st:0,al:1,wd:Number(t.attr("sw"))||1,lc:u.fillStyle},C={al:1,pt:0,fc:"#00000000"};switch(d&&(C.fc=i[c].cl||"#000000",y.wd=0,u.fillStyle="#FFFFFF"),u.underLine&&(m=!(u.underLine=!1)),u.lineThrough&&(e=!(u.lineThrough=!1)),u.fontSize=f*g+"pt",u.textAlign="center",u.textBaseline="middle",u.adjustFontScale=!0,l){case"0":cxCanvas.drawEllipse(w,v,x,b,y,C);break;case"1":cxCanvas.drawRect(w,v,x,b,y,C);break;case"2":cxCanvas.drawRect(w,v,x,b,y,C,(r-n)/4,(a-o)/4);break;case"3":cxCanvas.drawDiamond(w,v,x,b,y,C);break;case"4":cxCanvas.drawParallelogram(w,v,x,b,y,C,(r-n)/5)}cxCanvas.drawText(h,n+s,o,r-s,a,u),m&&(y.wd=Math.ceil(.06*f),x=(w=n)+(r-n),b=v=Math.floor(o+(a-o)/2+Unit.ptToPx(f)/2)+.5,cxCanvas.drawLine(w,v,x,b,y)),e&&(y.wd=Math.ceil(.06*f),x=(w=n)+(r-n),b=v=Math.floor(o+(a-o)/2)+.5,cxCanvas.drawLine(w,v,x,b,y))},drawEncloseCharactersToSVG=function(t,e,i){var n,r,o,a,s=adjustCoord(t.attr("le")),l=adjustCoord(t.attr("ri")),d=adjustCoord(t.attr("to"))-1,c=adjustCoord(t.attr("bo"))+1,h=t.attr("hp")/1e3*96,u=t.attr("vp")/1e3*96,p=l-s,f=c-d,g=t.attr("sh")||"0",m="1"===t.attr("iv"),w=t.attr("tid"),x=t.text(),v=makeFontStyle(t,i,e),b=Math.round(.05*(l-s)),y=parseFloat(v.fontSize),C=parseFloat(t.attr("fs"))||.75,k=!1,S=!1,T=t.attr("hl")||t.attr("hi"),I=b,M=b,A=$("<div>").css({position:"absolute",left:s+"px",top:d+"px",width:p+"px",height:1+f+"px","font-size":v.fontSize}).appendTo(viewerTextDom),e=Raphael(A[0],p,f),F=new m2soft.crownix.SVG(e),E={lc:v.fillStyle,wd:Number(t.attr("sw"))||1,st:0,al:1},P={al:1,pt:0,fc:"none"};switch(m&&(P.fc=i[w].cl||"#000000",E.wd=0,v.fillStyle="#FFFFFF"),T&&(E.lc="currentColor",m?P.fc="currentColor":v.fillStyle="currentColor"),v.underLine&&(k=!(v.underLine=!1)),v.lineThrough&&(S=!(v.lineThrough=!1)),v.fontSize=y*C+"pt",v.textBaseline="middle",g){case"0":F.drawEllipse(I,M,p-b,f-b,E,P);break;case"1":F.drawRect(I,M,p-I,f-M,E,P);break;case"2":F.drawRect(I,M,p-I,f-M,E,P,p/5);break;case"3":F.drawDiamond(I,M,p-I,f-M,E,P);break;case"4":F.drawParallelogram(I,M,p-I,f-M,E,P,p/5)}F.drawText(x,h,u,p-h,f-u,v),k&&(E.wd=Math.round(y/10),n=0,o=p,a=r=f-(m2soft.crownix.Painter.adjustWidth(E.wd/2)+1),F.path(["M",n,r,"L",o,a],E,P)),S&&(E.wd=Math.round(y/10),n=0,o=p,a=r=f/2+(m2soft.crownix.Painter.adjustWidth(E.wd/2)+1),F.path(["M",n,r,"L",o,a],E,P)),T&&(0==(T=(T="PR"===(T=t.parent()).prop("tagName").toUpperCase()?T.parent():T).find('[hi="'+t.attr("hi")+'"][hl]')).length&&(T=t),applyHyperLink(A,d+offset.y,s+offset.x,T,t),A.parent().css("text-decoration","none"),Util.browser.mobile&&(c=getWrapperDiv(s,l,d,c),applyHyperLink(c,d+offset.y,s+offset.x,T,t),c.parent().css({color:"transparent",background:"transparent",opacity:0})))},drawImage=function(t,e){var i,n,r,o=adjustCoord(t.attr("sx")),a=adjustCoord(t.attr("ex")),s=adjustCoord(t.attr("sy")),l=adjustCoord(t.attr("ey")),d=t.attr("dt"),c=t.attr("ra"),h=t.attr("ba"),a=a-o,l=l-s;go.options.imageDrawOption.useCanvas||h?(cxCanvas.drawImage(e,o,s,a,l,c),(t.attr("hl")||t.attr("hi"))&&(i=$("<div>").css({position:"absolute",left:o+"px",top:s+"px",width:a+"px",height:l+"px"}).appendTo(viewerTextDom),0==(r=(n="PR"===(n=t.parent()).prop("tagName").toUpperCase()?n.parent():n).find('[hi="'+t.attr("hi")+'"][hl]')).length&&(r=t),applyHyperLink(i,s+offset.y,o+offset.x,r,t))):((i="1"===c?$("<img>").css("background",["url(",d,")"].join("")):$("<img>").attr("src",d)).attr({width:a,height:l}).css({position:"absolute",left:o+offset.x,top:s+offset.y}).appendTo(viewerTextDom),(t.attr("hl")||t.attr("hi"))&&(0==(r=(n="PR"===(n=t.parent()).prop("tagName").toUpperCase()?n.parent():n).find('[hi="'+t.attr("hi")+'"][hl]')).length&&(r=t),applyHyperLink(i,s+offset.y,o+offset.x,r,t)))},getElementId=function(t,e){return"rb"===e?"crownix_form_field_"+t.attr("fi")+"_"+t.attr("gi")+"_"+t.attr("id"):"crownix_form_field_"+t.attr("fi")+"_"+t.attr("id")},drawFormField=function(t,e,i,n){var r=adjustCoord(t.attr("le"))+2+offset.x,o=adjustCoord(t.attr("ri"))-1+offset.x,a=adjustCoord(t.attr("to"))+2+offset.y,s=adjustCoord(t.attr("bo"))-1+offset.y,l=t.attr("ty"),d=t.attr("dt")||t.attr("vl")||t.text(),c=t.attr("rq")||"1",h=t.attr("ed")||"1",u=t.attr("hd")||"0",p=t.attr("ch")||"0",f=t.attr("dps")||"All",g=t.attr("fi"),m=t.attr("id"),w=formManager.getField(g,m)||{},x=self.formFieldMode;if(self.formFieldMode=x&&go.formManager.isActive(g),self.formFieldMode){if(isDrawingTo.printer()&&"1"==w.commonHidden)return;if("sm"==l&&go.options.mirroring.enable&&go.mirroringManager&&"All"!==f&&("Client"===f&&!isSubProcess||"Host"===f&&isSubProcess))return}else{if("1"==p)return;if(go.options.mirroring.enable&&go.mirroringManager&&"All"!==f&&(isSubProcess&&"Client"!==f||!isSubProcess&&"Host"!==f))return}var v,b,y,C,k,S,T,I,M,A,F,E,P,D,O,_,N,L,R,B,j,H,z=getElementId(t,l),q=i[t.attr("tid")]||{},G=makeTextCss(t,q,e),U=t.attr("sa")||"All",W=t.attr("da"),p=!1,q=getWrapperDiv(r,o,a,s,n);go.options.textToSpeech.enable&&("rb"===l?(v=formManager.getField(g,t.attr("gi")),q.attr("title",v.title)):q.attr("title",w.title)),"tf"===l?(y=t.attr("tl"),N=t.attr("ph")||"",R=parseInt(t.attr("ha"))||0,b=parseInt(t.attr("dn"))||0,n=t.attr("pw"),k=t.attr("re"),v={type:t.attr("it")||"text",realDateFormat:t.attr("df")||"yyyy-MM-dd",displayDateFormat:t.attr("dfv")||"yyyy-MM-dd",attributes:Util.deserialize(t.attr("ia")),displayFormat:t.attr("ft"),checkZero:t.attr("cz"),checkNoZero:t.attr("cnz"),japanYear:parseInt(t.attr("jy"))+("1"===t.attr("gn")?2:0)},T="",(S={}).url=t.attr("pu"),S.width=t.attr("puw"),S.height=t.attr("puh"),S.top=t.attr("put"),S.left=t.attr("pul"),R&&"0"!=R?"1"==R?T="center":"2"==R?T="right":"3"!=R&&"4"!=R||(T="justify"):T="left",drawTextField(w,z,r,o,a,s,g,m,d,N,T,b,y,h,u,c,G,k,n,S,v,U,W,q)):"ta"===l?(y=t.attr("tl"),C=t.attr("ll"),N=t.attr("ph")||"",R=parseInt(t.attr("ha"))||0,b=parseInt(t.attr("dn"))||0,T="",(S={}).url=t.attr("pu"),S.width=t.attr("puw"),S.height=t.attr("puh"),S.top=t.attr("put"),S.left=t.attr("pul"),R&&"0"!=R?"1"==R?T="center":"2"==R?T="right":"3"!=R&&"4"!=R||(T="justify"):T="left",drawTextArea(w,z,r,o,a,s,g,m,d,N,T,b,y,C,h,u,c,G,k,S,U,W,q)):"cb"===l||"rb"===l?(y=t.attr("lb"),C=t.attr("la"),R=parseInt(t.attr("ha"))||0,B=parseInt(t.attr("va"))||0,k=t.attr("se"),S=t.attr("gi"),T="left",H="middle",A=w&&w.size||t.attr("sz")||16,F=t.attr("ts")||"100",E=t.attr("rb")||"0",R&&"0"!=R?"1"==R?T="center":"2"==R&&(T="right"):T="left",B&&"0"!=B?"1"==B?H="middle":"2"==B&&(H="bottom"):H="top",("cb"===(t.attr("sp")||l)?drawCheckBox:drawRadioButton)(w,z,r,o,a,s,g,m,S,d,k,h,u,c,y,C,G,T,H,U,A,W,F,E,q)):"co"===l?(I=[],M=[],N=t.attr("ph")||"",t.children("item").each(function(){var t=$(this);I.push(t.attr("sd")),M.push(t.attr("ad"))}),A=t.attr("sv"),F=t.attr("ct")||"0",E=parseInt(t.attr("dn"))+2||2,"0"==F?drawComboBox(w,z,r,o,a,s,g,m,A,h,u,c,G,I,M,U,W,N,E,q):(w=formManager.getNormalField(t),drawNormalCombo(w,r,o,a,s,A,G,I,M,getEventHandlers(t),N,E,q))):"sg"===l?(N=t.attr("ph")||"",R=parseInt(t.attr("ha"))||0,B=parseInt(t.attr("va"))||0,P=t.attr("ra")||0,j=t.attr("sn")||0,H="middle",R&&"0"!=R?"1"==R?G["text-align"]="center":"2"==R?G["text-align"]="right":"3"!=R&&"4"!=R||(G["text-align"]="justify"):G["text-align"]="left",B&&"0"!=B?"1"==B?H="middle":"2"==B&&(H="bottom"):H="top","1"==t.attr("asc")?(drawSignature(w,z,r,o,a,s,g,m,d,h,u,c,N,G,U,W,j,H,t,e,i,q),drawPicture(w,z,r,o,a,s,g,m,d,h,u,c,P,N,G,U,!1,W,q)):"1"===w.signType?drawPicture(w,z,r,o,a,s,g,m,d,h,u,c,P,N,G,U,!1,W,q):drawSignature(w,z,r,o,a,s,g,m,d,h,u,c,N,G,U,W,j,H,t,e,i,q)):"im"===l?(P=t.attr("ra")||0,N=t.attr("ph")||"",R=parseInt(t.attr("ha"))||0,D=t.attr("mk"),R&&"0"!=R?"1"==R?G["text-align"]="center":"2"==R?G["text-align"]="right":"3"!=R&&"4"!=R||(G["text-align"]="justify"):G["text-align"]="left",drawPicture(w,z,r,o,a,s,g,m,d,h,u,c,P,N,G,U,D,W,q)):"sm"===l?(t.attr("su"),t.attr("sc"),t.attr("sn"),O=t.text()||"",_={normalImage:t.attr("bi")||t.attr("rbi"),clickImage:t.attr("pi")||t.attr("rpi")},"0"==(t.attr("bt")||"0")?drawSubmit(r,o,a,s,g,m,O,G,h,_,U,q):drawNormalButton(r,o,a,s,O,G,_,getEventHandlers(t),q)):"fl"===l?(R=parseInt(t.attr("ha"))||0,B=parseInt(t.attr("va"))||0,D=t.attr("ms"),O=t.attr("ex")&&t.attr("ex").split(",").map(function(t){return t.toUpperCase()}),_=self.formFieldMode?t.attr("ph"):"",L=t.attr("re"),drawFile(w,r,o,a,s,R,B,g,m,d,G,c,h,D,O,_,L,U,W,q)):"pn"===l?(N=t.attr("ph")||"",L=t.attr("bt"),j=t.attr("sn")||0,R=parseInt(t.attr("ha"))||0,B=parseInt(t.attr("va"))||0,H="middle",R&&"0"!=R?"1"==R?G["text-align"]="center":"2"==R?G["text-align"]="right":"3"!=R&&"4"!=R||(G["text-align"]="justify"):G["text-align"]="left",B&&"0"!=B?"1"==B?H="middle":"2"==B&&(H="bottom"):H="top",drawPenField(w,z,r,o,a,s,g,m,d,h,u,c,N,L,G,t,e,i,U,W,j,H,q)):"rec"===l?(R=parseInt(t.attr("ha"))||0,B=parseInt(t.attr("va"))||0,i=t.attr("br")||"128",j=t.attr("sr")||"22050",H=t.attr("tm")||"30",drawRecorder(w,z,r,o,a,s,R,B,g,m,d,h,c,u,G,U,W,i,j,H,q)):"me"===l?drawMathField(q,{field:w,element:t,elementId:z,left:r,right:o,top:a,bottom:s,formId:g,fieldId:m,value:d,required:c,hidden:u,inputAuthority:U,noDefaultAction:W,textCss:G}):p=!0,!p&&self.formFieldMode&&"sm"!==l&&w.setElementId(z),w.type&&go.options.mirroring.enable&&go.mirroringManager&&"All"!==f&&("1"!==w.getOriginalCommonHidden()&&(isSubProcess&&"Client"===f||!isSubProcess&&"Host"===f)?w.show():w.hide()),self.formFieldMode=x},getEventHandlers=function(t){return eventHandler={change:getEventHandler(t.attr("evc")),click:getEventHandler(t.attr("click"))}},getEventHandler=function(encodedScript){if(void 0!==encodedScript){var planeScript=Util.base64.utf8Decode(encodedScript);return eval('var func = function(viewer, drilldown, value, form) { "use strict"; '+planeScript+"};"),func}},cxOpener=function(o,c){return{validate:function(t){return formManager.validateForm(o,t)},form:formManager.getFormWrapper(o),set:function(t){for(var e in t){var i=t[e],n=formManager.getField(o,e),r=c.find("[name="+e+"]");switch(n.type){case"ta":case"tf":r.val(i).trigger("input");break;case"cb":r.attr("checked",!!i).trigger("change");break;case"rb":r.filter("[fieldId="+i+"]").attr("checked","checked").trigger("change");break;case"co":r.find('option:contains("'+i+'")').each(function(){$(this).text()==i&&r.val($(this).attr("value")).trigger("change")});break;case"sg":case"im":case"pn":!function(s,l,t){var d=new Image;d.onload=function(){var t=l,e=t.get(0).getContext("2d");e.clearRect(0,0,t.width(),t.height());var i,n,r,o,a=t.attr("ratio");1==a?(r=d.width/d.height,(o=t.width()/t.height())<r?(i=t.height()*(o/r),n=(t.height()-i)/2,e.drawImage(d,0,n,t.width(),i)):(r=t.width()*(r/o),o=(t.width()-r)/2,e.drawImage(d,o,0,r,t.height()))):2==a?e.drawImage(d,0,0):e.drawImage(d,0,0,t.width(),t.height()),c.find("div[for="+s.id+"] span").hide(),s.value=t.get(0).toDataURL("image/png")},d.src=t}(n,r,i)}}}}},preventField=function(t,e){self.formFieldMode&&(formManager.checkFormLoadComplete(t)||e.on("mousedown.prevent touchstart.prevent",function(t){t.preventDefault(),t.stopPropagation(),dialog.show(R.get("formfield_event_disable_before_done"))}))},getWrapperDiv=function(t,e,i,n,r){return $(document.createElement("div")).attr("id","m2soft-crownix-field-wrapper").css({position:"absolute",left:(r?1:t)+"px",top:(r?1:i)+"px",width:e-t+"px",height:n-i+"px"}).appendTo(r||viewerTextDom)},getCommonDiv=function(t,e,i,n,r,o,a){o=o||$(document.createElement("div")).attr("id","crownix_form_field_hintingbox");return"2"==e.displayType?o.prependTo(t):o.appendTo(t),"2"==e.displayType&&"fl"===a.type||o.css({position:"absolute",left:i+"px",top:i+"px",width:n-2*i+"px",height:r-2*i+"px"}).addClass("commonFieldHinting"),a.hintingBox=o},getWarningImg=function(t,e,i,n,r){var o,a,s=$("<div>").css({position:"absolute",display:"block",top:n,left:i.width()-12+"px"}).appendTo(t),n=$("<img>").attr("src",WARNING_IMAGE).attr("id","crownix_form_field_"+e+"_warning").appendTo(s);r&&(o=$("<div>").addClass("crownix-field-warning-box").attr("id","crownix_form_field_"+e+"_warningBox").css("position","absolute").appendTo(s),a=$("<div>").html(r).addClass("crownix-field-warning-message").css("max-width",$("#"+Constant.TEXT_ID).width()-20).attr("id","crownix_form_field_"+e+"_warnning-message").css("max-width",$("#"+Constant.TEXT_ID).width()-20).on("touchstart",function(){go.scroll.enabled=!1}).on("touchend",function(){go.scroll.enabled=!0}).appendTo(o),triangle=$("<div>").css("left","-3px").addClass("crownix-triangle-down").appendTo(o),o.css("left",-Math.min(a.width(),i.width()+parseInt(t.css("left"))-10)),triangle.css("left",-parseInt(o.css("left"))-3),t.position().top<o.height()?(triangle.insertBefore(a),o.css("top",i.height()),triangle.removeClass("crownix-triangle-down").addClass("crownix-triangle-up"),a.css({left:a.position().left-3})):o.css("top",5-o.height()),o.hide(),n.on("click touchstart",function(){GuideManager.getInstance(go).isEnabled||o.toggle()})),n.hide();return{warningMark:n,warningBox:o,warningMessage:a,checkWarningBox:function(t){t.validityMessage&&(t.valid||GuideManager.getInstance(go).isEnabled?o.hide():o.show())}}},setTextAttr=function(i,n){var t=["fontSize","align","outLine","background","alpha"],e=new TextDialog(go.parentId,function(t,e){Util.browser.mobile?(n.css(transObjectToCss(transCssToObject(i,e[0]).style)),n.trigger("change")):n.css(transObjectToCss(transCssToObject(i,t).style))});return{show:function(){Util.browser.mobile?e.showDialog(n[0],void 0,t,"INPUT"==n.prop("tagName")?i.inputType:""):(n.css("position","relative"),$(".crownix-textnote-toolbar").length?$(".crownix-textnote-toolbar").siblings("#"+n[0].id).length||(this.closeToolbar(),this.show()):e.showToolbar(n[0],textDom,t),$(".crownix-textnote-toolbar").css("z-index",1e4))},setValue:function(t){Util.browser.mobile&&e.setValue(t)},closeToolbar:function(){e&&(n.css("position",""),e.closeToolbar())}}},drawTextField=function(n,r,t,e,i,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C,k){var S,T=$(document.createElement("input"));preventField(a,T),n.editable&&(p=n.editable),self.formFieldMode&&"0"===p&&n.disableColor&&k.addClass("crownix-formfield-disable");var I,M,A=formManager.getField(a,n.referenceId);n.referenceId&&"ta"==A.type?drawTextArea(n,r,t,e,i,o,a,s,l,d,c,h,u,A.limitedLineLength,p,f,g,m,w,v,y):(w=transObjectToCss(n.style),T.attr({type:"1"===x?"password":"date"===b.type||("number"===b.type||"tel"===b.type)&&null!=b.displayFormat?"text":b.type,inputmode:"number"===b.type||"tel"===b.type?"numeric":"",placeholder:self.formFieldMode?d:"",id:r,name:n.referenceId||s,formId:a,auth:y,noDefaultAction:"1"===C}).attr(b.attributes).css(w?$.extend({},m,w):m).css({width:e-t+"px",height:o-i+"px",margin:"0px",padding:"0px",border:"0px","text-align":c,"text-indent":h,"background-color":"rgba(0, 0, 0, 0)",cursor:isPopupDataEnabled(v)?"pointer":"default","-webkit-appearance":"none"}).bind(Util.browser.mobile||go.options.mirroring.enable?"click":"click focus",function(t){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),self.formFieldMode&&"1"!==C&&n.hideEffect(),I.checkWarningBox(n),go.options.mirroring.enable&&"1"!==C){if("Host"===y&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===y&&!go.mirroringManager.externalEvent.isSubProcess())return $(this).blur(),void setTimeout(function(){go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:b.type,elementId:t.currentTarget.id,value:n.value,auth:y,limitedLength:u})});"readonly"===$(this).attr("readonly")||go.scroll.isMoving()||$(t.currentTarget).hasClass("crownix-formfield-blink-lock")||$(t.currentTarget).hasClass("crownix-auth-lock")||(go.mirroringManager.externalEvent.isSubProcess()&&"date"!==b.type&&go.mirroringManager.showOverlay(),setTimeout(function(){go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:b.type,elementId:t.currentTarget.id,value:n.value,auth:y,limitedLength:u})})),$(t.currentTarget).hasClass("crownix-formfield-blink-lock")&&$(this).blur()}if(!0===go.options.formField.selectEntireText&&self.formFieldMode&&$(this).select(),Util.browser.mobile&&$(this).focus(),-1<this.className.indexOf("crownix-auth-lock"))return!0;if(isPopupDataEnabled(v))return $(this).blur(),createPopup(v,n,$(this).closest(".crownix-text")),!1;if(!0===go.options.useNumberKeyPad&&("tel"===b.type||"number"===b.type)){FieldOrder.getInstance().focus(r);var e,i=m2soft.crownix.Layout.currentTheme;return window.m2softFormFieldBridge.toKeyPad?(e="bgColor="+i.containerColor+"&btColor="+i.toolbarColor+"&ftColor="+i.toolbarIconColor,window.m2softFormFieldBridge.toKeyPad(n.formId,n.id,e,!!FieldOrder.getInstance().length(),n.value||"")):(i="formId="+n.formId+"&fieldId="+n.id+"&bgColor="+i.containerColor.substring(1,7)+"&btColor="+i.toolbarColor.substring(1,7)+"&ftColor="+i.toolbarIconColor.substring(1,7)+"&value="+(n.value||""),window.webkit?window.webkit.messageHandlers.showNumberKeypad.postMessage(i):document.location="crownixWebView://showNumberKeypad?"+i),!0}!GuideManager.getInstance(go).isEnabled&&go.options.formField.textAttr&&"date"!==n.inputType&&!T[0].readOnly&&M&&M.show()}).bind("focusin",function(t){self.formFieldMode&&"1"===n.editable&&(formManager.trigger("evfcin",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evfcin"}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evfcin"))}).bind("focusout",function(t){var e,i;if(self.formFieldMode&&(go.options.formField.textAttr&&M&&(transCssToObject(n,T[0]),M.closeToolbar()),n.determineEffect(),go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()||formManager.trigger("evfcout",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evfcout"}),go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evfcout"),""!==u&&"string"==typeof n.getValue()&&Util.browser.ios&&(i=parseInt(u),(e=n.getValue()).length>i&&(i=e.substring(0,i),n.setValue(i)))),I&&I.warningMessage)return $(t.relatedTarget).hasClass("crownix-field-warning-message")?($(t.currentTarget).focus(),!1):void(n.validityMessage&&I.warningBox.hide())}).appendTo(k),"number"==b.type&&T.attr("pattern","\\d*"),"text"!==b.type&&"number"!==b.type&&"tel"!==b.type||null==b.displayFormat||(S=new NumberUtil(b.displayFormat,b.checkZero,b.checkNoZero)),"date"===b.type?(self.formFieldMode&&(c=options.calendarComboStartYear,h=options.calendarComboEndYear,T.crownixdatepicker({dateFormat:b.displayDateFormat,japanYear:b.japanYear||null,checkZero:b.checkZero,changeMonth:go.options.useCalendarComboBox,changeYear:go.options.useCalendarComboBox,showButtonPanel:!0,useMirroring:go.options.mirroring.enable,yearRange:c||h?c+":"+h:"c-10:c+10",beforeShow:function(){go.options.mirroring.enable&&go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:b.type,elementId:T[0].id,value:n.value,auth:y,limitedLength:u})},onClose:function(){go.options.formField.textAttr?M&&M.show():T.blur(),go.options.mirroring.enable&&go.mirroringManager.externalEvent.focusOut()}})),""!==n.value&&null!=n.value||!l?T.val(DateUtil.convertDateFormat(n.value,b.realDateFormat,b.displayDateFormat,b.japanYear,b.checkZero)):(T.val(DateUtil.convertDateFormat(l,b.realDateFormat,b.displayDateFormat,b.japanYear,b.checkZero)),n.value=l)):void 0===S||self.formFieldMode&&!l&&!n.value?T.val(void 0===n.value?l:n.value):T.val(S.formatNumber(void 0===n.value?l:n.value)),self.formFieldMode&&n.validateRegEx(),setTimeout(function(){T.bind("change input",function(t){"input"===t.type&&"date"===b.type&&$(this).val(DateUtil.convertDateFormat(n.value,b.displayDateFormat,b.realDateFormat,b.japanYear,b.checkZero)),n.value="date"===b.type?DateUtil.convertDateFormat($(this).val(),b.displayDateFormat,b.realDateFormat,b.japanYear,b.checkZero,!0):$(this).val(),n.validateRegEx(),formManager.modified(n),I.checkWarningBox(n),n.spreadToShareField(n,formManager.getFields(n.formId),n.formId),A&&A.determineEffect(),go.shareManager&&(go.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:n.value}),"date"===b.type&&go.shareManager.sendFocusOutField()),go.options.mirroring.enable&&(go.mirroringManager.externalEvent.setValue(n.formId,n.id,n.value),"date"===b.type&&go.mirroringManager.externalEvent.focusOut()),GuideManager.getInstance(go).isEnabled&&GuideManager.getInstance(go).validateValue(),"input"===t.type&&(formManager.trigger("evinput",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evinput"}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evinput")),M&&M.setValue($(this).val())}),Util.browser.msie&&9==Util.browser.version&&T.on("keyup",function(){var t=event.keyCode||event.charCode;8!=t&&46!=t||T.trigger("date"===b.type&&Util.browser.mobile&&Util.browser.firefox?"change":"input")}),void 0!==S&&T.on("blur keyup",function(t){var e;"keyup"==t.type&&13!=t.keyCode||((e=S.unformatNumber($(t.currentTarget).val()))&&(n.value=e),T.val(S.formatNumber($(t.currentTarget).val())),self.formFieldMode&&(n.validateRegEx(),formManager.modified(n),n.spreadToShareField(n,formManager.getFields(n.formId),n.formId)),go.shareManager&&go.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:T.val()}),M&&M.setValue($(this).val()))}),"date"===b.type&&T.on("keydown",function(t){t.preventDefault(),8!=t.keyCode&&46!=t.keyCode||(T.val(""),T.trigger("change"))})}),go.shareManager&&go.shareManager.isConnected()&&T.hasClass("crownix-auth-lock")&&"date"===b.type?T.attr("readonly",!0):T.attr("readonly",!1),l=formManager.getRequiredHintingColor(a,s)||"",self.formFieldMode&&isDrawingTo.screen()&&n.showRequiredMark(l,k),l=formManager.getHintingColor(a,s)||"",self.formFieldMode&&""!=l&&isDrawingTo.screen()&&getCommonDiv(k,l,1,T.width(),T.height(),T,n),I=getWarningImg(k,a+"_"+s,T,0,n.validityMessage),self.formFieldMode&&go.options.formField.textAttr&&(M=setTextAttr(n,T)),null==n.valid||n.valid||I.warningMark.show(),n.referenceId&&T.attr("rfi","crownix_form_field_"+a+"_"+n.referenceId),self.formFieldMode&&!v.url&&"1"===p||T.attr("readonly","readonly"),self.formFieldMode?"1"!==f&&"1"!==n.commonHidden||n.hide():"1"===f&&T.css("visibility","hidden"),""===u||Util.browser.ios||T.attr("maxlength",u),"1"!==C&&(!0!==go.options.useNumberKeyPad||"tel"!==b.type&&"number"!==b.type)||T.on("focus",function(){T.blur()}),setAuthority(y,T))},drawTextArea=function(n,t,e,i,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C){var k=$(document.createElement("textarea"));preventField(a,k),n.editable&&(f=n.editable),self.formFieldMode&&"0"===f&&n.disableColor&&C.addClass("crownix-formfield-disable");var S,T,I=formManager.getField(a,n.referenceId);n.referenceId&&"tf"==I.type?drawTextField(e,i,r,o,a,s,l,d,c,h,u,f,g,m,w,x,I.password,void 0,void 0,b):(I=transObjectToCss(n.style),k.text(void 0===n.value?l:n.value).attr({id:t,placeholder:self.formFieldMode?d:"",name:n.referenceId||s,formId:a,auth:b}).css(I?$.extend({},w,I):w).css({width:i-e-h+"px",height:o-r+"px",margin:"0px",padding:"0px 0px 0px "+h+"px",border:"0px","text-align":c,background:"rgba(0, 0, 0, 0)",resize:"none",cursor:isPopupDataEnabled(v)?"pointer":"default","-webkit-appearance":"none"}).bind(go.options.mirroring.enable?"click":"click focus",function(t){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),S.checkWarningBox(n),"1"!==y&&go.options.mirroring.enable){if("Host"===b&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===b&&!go.mirroringManager.externalEvent.isSubProcess())return $(this).blur(),void go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:"text",elementId:t.currentTarget.id,value:n.value,auth:b,limitedLength:u});"readonly"===$(this).attr("readonly")||go.scroll.isMoving()||$(t.currentTarget).hasClass("crownix-formfield-blink-lock")||$(t.currentTarget).hasClass("crownix-auth-lock")||(go.mirroringManager.externalEvent.isSubProcess()&&go.mirroringManager.showOverlay(),go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:"text",elementId:t.currentTarget.id,value:n.value,auth:b,limitedLength:u})),$(t.currentTarget).hasClass("crownix-formfield-blink-lock")&&$(this).blur()}return"1"===y&&$(this).blur(),!0===go.options.formField.selectEntireText&&self.formFieldMode&&$(this).select(),self.formFieldMode&&"1"!==y&&n.hideEffect(),Util.browser.mobile&&this.focus(),!GuideManager.getInstance(go).isEnabled&&go.options.formField.textAttr&&!k[0].readOnly&&T&&T.show(),!isPopupDataEnabled(v)||-1<this.className.indexOf("crownix-auth-lock")||($(this).blur(),createPopup(v,n,$(this).closest(".crownix-text")),!1)}).bind("change",function(){S.checkWarningBox(n)}).bind("keydown",function(t){if(13==t.keyCode&&0<p&&k.val().split("\n").length>=p)return!1}).bind("focusin",function(t){self.formFieldMode&&"1"===n.editable&&(formManager.trigger("evfcin",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evfcin"}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evfcin"))}).bind("focusout",function(t){var e,i;if(self.formFieldMode&&(go.options.formField.textAttr&&T&&(transCssToObject(n,k[0]),T.closeToolbar()),n.determineEffect(),go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()||formManager.trigger("evfcout",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evfcout"}),go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evfcout"),""!==u&&"string"==typeof n.getValue()&&Util.browser.ios&&(i=parseInt(u),(e=n.getValue()).length>i&&(i=e.substring(0,i),n.setValue(i)))),S&&S.warningMessage)return $(t.relatedTarget).hasClass("crownix-field-warning-message")?($(t.currentTarget).focus(),!1):void(n.validityMessage&&S.warningBox.hide())}).appendTo(C),self.formFieldMode&&n.validateRegEx(),setTimeout(function(){k.bind("input",function(t){n.value=$(this).val(),n.validateRegEx(),formManager.modified(n),S.checkWarningBox(n),n.spreadToShareField(n,formManager.getFields(n.formId),n.formId),go.shareManager&&go.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:n.value}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.setValue(n.formId,n.id,n.value),GuideManager.getInstance(go).isEnabled&&GuideManager.getInstance(go).validateValue(),"input"===t.type&&(formManager.trigger("evinput",n.formId,n.id),go.shareManager&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"evinput"}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"evinput")),T&&T.setValue($(this).val())}),Util.browser.msie&&9==Util.browser.version&&k.on("keyup",function(){var t=event.keyCode||event.charCode;8!=t&&46!=t||k.trigger("input")})}),c=formManager.getRequiredHintingColor(a,s)||"",self.formFieldMode&&isDrawingTo.screen()&&n.showRequiredMark(c,C),c=formManager.getHintingColor(a,s)||"",self.formFieldMode&&""!=c&&isDrawingTo.screen()&&getCommonDiv(C,c,1,k.width(),k.height(),k,n),S=getWarningImg(C,a+"_"+s,k,0,n.validityMessage),self.formFieldMode&&go.options.formField.textAttr&&(T=setTextAttr(n,k)),null==n.valid||n.valid||S.warningMark.show(),n.referenceId&&k.attr("rfi","crownix_form_field_"+a+"_"+n.referenceId),""===u||Util.browser.ios||k.attr("maxlength",u),self.formFieldMode&&!v.url&&"1"===f||k.attr("readonly","readonly"),self.formFieldMode?"1"!==g&&"1"!==n.commonHidden||n.hide():"1"===g&&k.css("visibility","hidden"),setAuthority(b,k))},isPopupDataEnabled=function(t){return t.url&&self.formFieldMode},drawCheckBox=function(n,t,e,i,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C,k,S){var T,I=$(document.createElement("input")),M=$(document.createElement("label")),A=$(document.createElement("span")),F=$('<label class="crownix-css-checkborder crownix-css-selector">'),E=$('<label class="crownix-css-checkmark">'),P=$('<label class="crownix-css-checkmark">'),D=$('<div class="crownix-check-text-wrap">'),O=$('<div class="crownix-checkbox">'),_=$('<div class="crownix-check-text-clip">'),N=i-e,L=o-r,R=b/16+3,B=0,j=0,H=parseInt(b)||0,z=b/2,q=Math.ceil(.35*H*.3),G=.35*H,U=.59*H,W=parseFloat(C)/100;preventField(a,I),preventField(a,M);var V={};self.formFieldMode&&(h=n.editable,f=n.label,d=n.value,c="cb"===n.type?d:n.getSelected()?"1":"0","rb"===n.type&&(V=formManager.getField(a,l)||{}));C=formManager.getHintingColor(a,s)||"";self.formFieldMode&&""!=C&&isDrawingTo.screen()&&getCommonDiv(S,C,0,i-e,o-r,null,n);r=formManager.getRequiredHintingColor(a,s)||"";self.formFieldMode&&isDrawingTo.screen()&&n.showRequiredMark(r,S),F.attr("for",t).css({width:b,height:b,display:"inline-block",position:"absolute",left:-1,top:-1}),"1"===k?F.css("padding","1px"):F.css("border","1px solid #000000"),1==W?(T=q,B=Math.ceil(G),j=Math.ceil(U)):(B=G*W,j=U*W,W<1?(B<=(T=q-Math.ceil((H+Math.max((W-1)*H,1-H))/16))&&(B+=T),j<=T&&(j+=T),Math.ceil(B)>=Math.ceil(j)&&(j=1.5*B)):T=q+Math.ceil((H+Math.ceil((W-1)*H/2))/16)),E.css({position:"absolute",right:parseInt(z),bottom:parseInt(z-.2*b),display:"inline-block",width:Math.ceil(B)+"px","border-bottom":T+"px solid #0f1011","transform-origin":"100% 100%",transform:"rotate(45deg)",visibility:"hidden"}),P.css({position:"absolute",right:parseInt(z),bottom:parseInt(z-.2*b),display:"inline-block",height:Math.ceil(j)+"px","border-left":T+"px solid #0f1011","transform-origin":"100% 100%",transform:"rotate(45deg)",visibility:"hidden"}),_.css({display:"inline-block",position:"absolute",height:L+"px",overflow:"hidden"}),D.css({display:"inline-block",position:"absolute"}),E.attr("for",t),P.attr("for",t),M.attr("for",t).css({"white-space":"nowrap","word-break":"break-all",position:"absolute",width:N+"px",height:L+"px"}).attr("class","rb"===n.type?l:s).addClass("crownix-checkbox-boundary").appendTo(S),A.addClass("crownix_formfield_selector").css({"background-position":("1"==n.value||"1"===c?"-19px":"0px")+" -2px",width:b,height:b,position:"absolute","text-align":"left","margin-left":R+"px","margin-right":R+"px",display:"inline-block","background-color":"rgba(0, 0, 0, 0)"}).appendTo(O),_.appendTo(O),"cb"!==n.type&&I.attr("buttonId",s),I.attr({type:"cb"===n.shape?"radio":"checkbox",name:"cb"===n.shape?a+"_"+l:s,value:d,id:t,formId:a,auth:v}).bind("change",function(t){if("1"!==y){if((go.shareManager&&go.shareManager.isConnected()||go.mirroringManager)&&t.target.readOnly||go.mirroringManager&&$(t.target).parents('label[class*="crownix-field-lock"]').length)return!1;var e,i=I.is(":checked");"cb"===n.type?n.setSelected(i):i?V.select(n.id):V.unselect(n.id),formManager.modified(n),("cb"===n.type?n:V).determineEffect(),go.shareManager&&((e={}).formId=n.formId,e.fieldId="cb"===n.type?n.id:n.gid,e.value="cb"===n.type?i:n.id,"cb"===n.type&&(e.name="selected"),go.shareManager.sendFormField(e)),go.options.mirroring.enable&&(go.mirroringManager.externalEvent.setSelected(n.formId,n.id,i),go.mirroringManager.externalEvent.selectedField({formId:n.formId,fieldId:n.id,type:n.type,elementId:t.currentTarget.id,value:n.value,auth:v}))}}).bind(go.mirroringManager?"focus":"focus click",function(t){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),go.shareManager&&go.shareManager.isConnected()){if(t.target.readOnly||-1<this.className.indexOf("crownix-field-lock"))return void FieldOrder.getInstance().focus(t.target.id);go.shareManager.sendFocusOnField(n.formId,n.id)}if(go.mirroringManager&&(!t.currentTarget.className||t.target.readOnly))return!1;(isOldBrowser||(Util.browser.ios||Util.browser.safari)&&"click"==t.type)&&$("#"+n.elementId).focus()}).bind("keydown",function(t){if(32==t.keyCode&&go.shareManager&&t.target.readOnly)return!1}),go.shareManager&&go.shareManager.isConnected()&&(go.shareManager.isHost()&&"Client"==v||!go.shareManager.isHost()&&"Host"==v)&&I.attr("readonly",!0).addClass("crownix-auth-lock"),I.css({width:isOldBrowser?"0.1px":"0",height:isOldBrowser?"0.1px":"0",position:"relative",opacity:0}),"1"===y&&I.on("click",function(t){t.preventDefault()}),isDrawingTo.save()||I.appendTo(A),F.appendTo(A),E.appendTo(A),P.appendTo(A);parseInt(m["font-size"]);var J,Y,f=$(document.createElement("span")).attr("class","crownix_form_field_label").css({"vertical-align":"middle",display:"inline-block",position:"absolute"}).css(m).text(f);O.appendTo(M),f.appendTo(D),"0"==g?(D.appendTo(_),J=N-A.outerWidth(!0),f.width()>J&&(f.css({width:J+"px"}),M.css({"white-space":"inherit"})),D.css({width:f.width(),height:f.height()}),_.width(f.width()),A.css("left","0"),_.css("left",A.outerWidth(!0))):(D.prependTo(_),J=N-A.outerWidth(!0),f.width()>J&&(f.css({width:J+"px"}),M.css({"white-space":"inherit"})),D.css({width:f.width(),height:f.height()}),_.width(f.width()),_.css("left","0"),A.css("left",D.outerWidth(!0))),O.css({position:"absolute",width:A.outerWidth(!0)+D.outerWidth(!0)+"px"}),A.outerHeight(!0)>=f.height()?(D.css("height",A.outerHeight(!0)+2),O.css("height",A.outerHeight(!0)),f.css("top",(D.height()-f.height())/2-1)):(O.css("height",D.height()),A.css("top",(f.height()-A.outerHeight(!0))/2)),"left"===w?O.css("left","0"):"center"===w?(Y=(M.width()-O.width())/2,O.css("left",Y)):"right"===w&&O.css("right","0"),"top"===x?O.css("top","0"):"middle"===x?(w=((A=M.height())-(Y=O.height())+2)/2,_.css("top",-w),O.css("top",(A-Y)/2),D.css("top",w)):"bottom"===x&&O.css("top",M.height()-O.height()-2),("1"==n.value&&"cb"===n.type||"1"===c)&&(I.prop("checked",!0),E.css("visibility","visible"),P.css("visibility","visible")),self.formFieldMode&&"0"!==h||(I.attr("disabled","disabled"),"1"===k?F.css("visibility","hidden"):F.addClass("crownix-formfield-disable")),self.formFieldMode&&"1"===n.commonHidden&&n.hide(),setAuthority(v,I)},drawComboBox=function(e,t,i,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v){var b=$(document.createElement("select"));preventField(a,b);var y=e.displayValues||p,C=e.actualValues||f;e.editable&&(d=e.editable),self.formFieldMode&&"0"===d&&v.addClass("crownix-formfield-disable"),void 0!==e.selectedIndex&&(l=-1==e.selectedIndex?"":y[e.selectedIndex]),b.attr({name:s,id:t,formId:a,auth:g}).css(u).css({width:n-i+"px",height:o-r+"px",margin:"0px",padding:"0 0 0 "+x+"px",background:"transparent","-webkit-appearance":"none","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAh0lEQVQ4T93TMQrCUAzG8V9x8QziiYSuXdzFC7h4AcELOPQAdXYovZCHEATlgQV5GFTe1ozJlz/kS1IpjKqw3wQBVyy++JI0y1GTe7DCBbMAckeNIQKk/BanALBB+16LtnDELoMcsM/BESDlz2heDR3WePwKSLo5eoxz3z6NNcFD+vu3ij14Aqz/DxGbKB7CAAAAAElFTkSuQmCC)","background-position":"right center","background-repeat":"no-repeat","color-adjust":"exact"}).bind("change",function(){e.value=b.val(),formManager.modified(e);var t=b.find("option:selected");e.selectedIndex=b.find("option").index(t)-1,e.determineEffect(),go.shareManager&&go.shareManager.sendFormField({formId:e.formId,fieldId:e.id,value:e.selectedIndex}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.setValue(e.formId,e.id,e.value)}).appendTo(v),"1"!==m&&!go.options.mirroring.enable||b.on(ActionEvents.start+" touchstart keydown",function(t){!b.hasClass("crownix-formfield-blink-lock")&&"1"!==m&&go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()||(t.preventDefault(),b.focus(),$(this).blur())}),b.on("click",function(t){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),!go.options.mirroring.enable||go.scroll.isMoving()||"readonly"===$(this).attr("readonly")||b.hasClass("crownix-formfield-blink-lock")||$(t.currentTarget).hasClass("crownix-auth-lock")||(go.mirroringManager.externalEvent.selectedField({formId:e.formId,fieldId:e.id,type:e.type,elementId:t.currentTarget.id,value:e.value,auth:g}),go.mirroringManager.externalEvent.isSubProcess()&&(t.preventDefault(),b.focus(),$(this).blur(),"1"!==m&&(go.mirroringManager.showOverlay(),go.mirroringManager.externalEvent.showCombobox(y,C))))}),Util.browser.android&&b.css("background-color","transparent");$('<option value="" style="color:gray">').text(w).appendTo(b);for(var k=0;k<y.length;k++){var S=$("<option>").attr("value",C[k]).text(y[k]).appendTo(b);l==y[k]&&S.attr("selected","selected")}w=formManager.getHintingColor(a,s)||"";self.formFieldMode&&""!=w&&isDrawingTo.screen()&&(getCommonDiv(v,w,0,n-i,o-r,null,e).css({overflow:"visible"}).append(b),b.css({top:"0px",left:"0px",width:n-i-2+"px",height:o-r-2+"px","-webkit-appearance":"none","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAh0lEQVQ4T93TMQrCUAzG8V9x8QziiYSuXdzFC7h4AcELOPQAdXYovZCHEATlgQV5GFTe1ozJlz/kS1IpjKqw3wQBVyy++JI0y1GTe7DCBbMAckeNIQKk/BanALBB+16LtnDELoMcsM/BESDlz2heDR3WePwKSLo5eoxz3z6NNcFD+vu3ij14Aqz/DxGbKB7CAAAAAElFTkSuQmCC)","background-position":"right center","background-repeat":"no-repeat","color-adjust":"exact"}));s=formManager.getRequiredHintingColor(a,s)||"";self.formFieldMode&&isDrawingTo.screen()&&e.showRequiredMark(s,v),self.formFieldMode&&"0"!==d||b.attr("disabled","disabled"),self.formFieldMode&&"1"===e.commonHidden&&e.hide(),setAuthority(g,b)},drawRadioButton=function(i,t,e,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C,k,S){var T=$(document.createElement("input")),I=$(document.createElement("label")),M=$(document.createElement("span")),A=$('<label class="crownix-radio-outer crownix-css-selector">'),F=$('<label class="crownix-radio-inner-'+a+"-"+l+' crownix-css-checkmark">'),E=$('<div class="crownix-radio-text-wrap">'),P=$('<div class="crownix-radio-button">');preventField(a,T),preventField(a,I);var D={};self.formFieldMode&&(D=formManager.getField(a,l)||{},h=i.editable,f=i.label,d=i.value);var O=formManager.getHintingColor(a,s)||"";self.formFieldMode&&""!=O&&isDrawingTo.screen()&&getCommonDiv(S,O,0,n-e,o-r,null,i);O=formManager.getRequiredHintingColor(a,s)||"";self.formFieldMode&&isDrawingTo.screen()&&i.showRequiredMark(O,S);n-=e,e=o-r,o=Math.round(.2*b),r=b/16+3;A.attr("for",t).css({position:"absolute",left:"0",top:"0",display:"inline-block",width:b-2+"px",height:b-2+"px",border:"1px solid black","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%"}),isDrawingTo.printer()&&Util.browser.msie?F.css({position:"absolute",left:"1px",top:"1px",visibility:"hidden",width:"0px",height:"0px","margin-left":o-1+"px","margin-top":o-1+"px","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%",border:"solid "+(b-2*o)/2+"px"}):F.css({position:"absolute",left:"1px",top:"1px",visibility:"hidden",width:b-2*o+"px",height:b-2*o+"px","margin-left":o-1+"px","margin-top":o-1+"px","border-radius":"50%","-moz-border-radius":"50%","-wibkit-border-radius":"50%",background:"#121212","color-adjust":"exact"}),E.css({display:"inline-block",position:"absolute"}),I.attr("for",t).attr("class",l).addClass("crownix-radio-boundary").css({"white-space":"nowrap",overflow:"hidden","word-break":"break-all","text-align":w,position:"absolute",width:n+"px",height:e+"px"}).appendTo(S),M.addClass("crownix_formfield_selector").css({"background-position":(D.isSelected&&D.isSelected(s)||!self.formFieldMode&&"1"==c?"-58px":"-39px")+" -2px",width:b+"px",height:b+"px",position:"absolute","margin-left":r+"px","margin-right":r+"px",display:"inline-block","background-color":"rgba(0, 0, 0, 0)"}).appendTo(P),F.appendTo(M),A.appendTo(M),T.attr({type:"radio",name:a+"_"+l,value:d,id:t,formId:a,buttonId:s,auth:v}).bind("change",function(t){var e;if("1"!==y)return!((go.shareManager&&go.shareManager.isConnected()||go.mirroringManager)&&t.target.readOnly||go.mirroringManager&&$(t.target).parents('label[class*="crownix-field-lock"]').length)&&void(self.formFieldMode&&((e=T.is(":checked"))?D.select(i.id):D.unselect(i.id),formManager.modified(i),go.shareManager&&go.shareManager.sendFormField({formId:i.formId,fieldId:i.gid,value:i.id}),go.options.mirroring.enable&&(go.mirroringManager.externalEvent.setSelected(i.formId,i.id,e),go.mirroringManager.externalEvent.selectedField({formId:i.formId,fieldId:i.id,type:i.type,elementId:t.currentTarget.id,value:i.value,auth:v})),D.determineEffect()))}).bind(go.mirroringManager?"focus":"focus click",function(t){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),go.shareManager&&go.shareManager.isConnected()){if(t.target.readOnly||-1<this.className.indexOf("crownix-field-lock"))return void FieldOrder.getInstance().focus(t.target.id);go.shareManager.sendFocusOnField(i.formId,i.id)}if(go.mirroringManager&&(!t.currentTarget.className||t.target.readOnly))return!1;(isOldBrowser||(Util.browser.ios||Util.browser.safari)&&"click"==t.type)&&$("#"+i.elementId).focus()}).bind("keydown",function(t){if(32==t.keyCode&&go.shareManager&&t.target.readOnly)return!1}),go.shareManager&&go.shareManager.isConnected()&&(go.shareManager.isHost()&&"Client"==v||!go.shareManager.isHost()&&"Host"==v)&&T.attr("readonly",!0).addClass("crownix-auth-lock"),T.css({width:isOldBrowser?"0.1px":"0",height:isOldBrowser?"0.1px":"0",position:"relative",opacity:0}),"1"!==y||Util.browser.ios||T.on("click",function(t){t.preventDefault()}),isDrawingTo.save()||T.appendTo(M);parseInt(m["font-size"]);f=$("<span>").attr("class","crownix_form_field_label").css({"vertical-align":"middle",display:"inline-block",position:"absolute",left:"0px",top:"0px"}).css(m).text(f);P.appendTo(I),f.appendTo(E);var _,N;parseInt(b),parseInt(b);"0"==g?(E.appendTo(P),_=n-M.outerWidth(!0),f.width(),f.height(),f.width()>_&&(f.css("width",_+"px"),I.css("white-space","inherit")),E.css({width:f.width(),height:f.height()}),E.css("left",M.outerWidth(!0)),M.css("left","0")):(E.prependTo(P),f.width(),f.height(),_=n-M.outerWidth(!0),f.width()>_&&(f.css("width",_+"px"),I.css("white-space","inherit")),E.css({width:f.width(),height:f.height()}),E.css("left","0"),M.css("left",f.width())),P.css({position:"absolute",width:M.outerWidth(!0)+f.width()+"px"}),M.outerHeight(!0)>=f.height()?(E.css("height",M.outerHeight(!0)+2),P.css("height",M.outerHeight(!0)),N=(M.outerHeight(!0)+2-f.height())/2-1,f.css("top",N)):(P.css("height",f.height()),N=(f.height()-M.outerHeight(!0))/2,M.css("top",N)),"left"===w?P.css("left","0"):"center"===w?(n=(n-(M.outerWidth(!0)+f.width()))/2,P.css("left",n)):"right"===w&&P.css("right","0"),"top"===x?P.css("top","0"):"middle"===x?(w=(e-(M.outerHeight(!0)>=f.height()?M.outerHeight(!0):f.height())+2)/2,P.css("top",w)):"bottom"===x&&P.css("top",e-(M.outerHeight(!0)>=f.height()?M.outerHeight(!0):f.height())-2),(D.isSelected&&D.isSelected(s)||!self.formFieldMode&&"1"==c||i&&i.selected)&&(T.prop("checked",!0),F.css("visibility","visible")),self.formFieldMode&&"0"!==h||(T.attr("disabled","disabled"),A.addClass("crownix-formfield-disable")),self.formFieldMode&&"1"===i.commonHidden&&i.hide(),setAuthority(v,T)},drawSignature=function(p,f,t,e,i,n,r,o,a,s,l,d,g,c,m,w,x,h,u,v,b,y){var C=window.devicePixelRatio||1,t=e-t,i=n-i,k=$(document.createElement("canvas")).attr({id:f,width:t*C+"px",height:i*C+"px",formId:r,auth:m}).data("dpi",p.dpi);preventField(r,k),self.formFieldMode&&"0"===p.editable&&y.addClass("crownix-formfield-disable-guide");var S,T=k[0].getContext("2d"),I=new Image,M=null,A=self.formFieldMode,F=makeFontStyle(u,b,v);F.textBaseline=go.options.formField.guideAlignSignature?h:"middle",F.adjustFontScale=!0,F.originFontSize=F.fontSize,p.fontStyle=F,g&&!go.options.formField.signatureGuideColor&&(p.fontStyle.fillStyle="#CCCCCC"),u=new m2soft.crownix.FormField.Signature({},{width:t,height:i,guideText:g,guideTextStyle:p.fontStyle}),k.attr({name:o}).css({position:"absolute",width:t+"px",height:i+"px",margin:"0px",padding:"0px",border:"0px"}).bind("click tap",function(t,e){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),Util.browser.mobile&&document.activeElement.blur(),!go.isOpenWindow){if(go.options.mirroring.enable&&("Host"===m&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===m&&!go.mirroringManager.externalEvent.isSubProcess()))return FieldOrder.getInstance().setPreventMove(!1),FieldOrder.getInstance().removePreventDom(),void go.mirroringManager.externalEvent.selectedField({formId:p.formId,fieldId:p.id,type:p.type,elementId:t.currentTarget.id,value:p.value,auth:m,aschange:p.aschange});if("1"===w&&A)return(n=FieldOrder.getInstance()).focus(f),void n.setPreventMove(!1);if(!(!A||"0"===p.editable||-1<this.className.indexOf("crownix-field-lock")||-1<this.className.indexOf("crownix-auth-lock"))){var r=go.formManager.getSignGroup(p.groupSignId).getValue();if(!0!==e&&r&&go.options.formField.reuseSignature){function i(){if(p.signType="0",go.options.withSign&&1<o.length)for(var t=0;t<o.length;t++){var e,i,n=go.formManager.getField(o[t].formId,o[t].id);p.groupSignId==n.groupSignId?n.setValue({signature:r.signature,value:r.value,drawType:!1}):(e=go.formManager.getSignGroup(n.groupSignId).getValue())&&n.setValue({signature:e.signature,value:e.value,drawType:!1}),formManager.trigger("change",o[t].formId,o[t].id),formManager.modified(o[t]),go.options.mirroring.enable&&(i=JSON.stringify({value:o[t].value,signature:o[t].signature}),go.mirroringManager.externalEvent.setSignValue({formId:o[t].formId,fieldId:o[t].id,value:i,signType:o[t].signType}),go.mirroringManager.externalEvent.sendEvent(o[t].formId,o[t].id,"change")),go.shareManager&&go.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:n.signature?n.getSignature():n.value})}else"string"==typeof r?p.setValue(r):p.setValue({signature:r.signature,value:r.value,drawType:0==go.options.formField.fixedSignHeight}),formManager.trigger("change",p.formId,p.id),formManager.modified(p),go.options.mirroring.enable&&(i=JSON.stringify({value:p.value,signature:p.signature}),go.mirroringManager.externalEvent.setSignValue({formId:p.formId,fieldId:p.id,value:i,signType:p.signType}),go.mirroringManager.externalEvent.sendEvent(p.formId,p.id,"change")),go.shareManager&&go.shareManager.sendFormField({formId:p.formId,fieldId:p.id,value:p.signature?p.getSignature():p.value})}var o=go.formManager.getWithSign(p.withSignId).getsignList(),n=FieldOrder.getInstance(),a=t.target.id;if(!0===go.options.formField.confirmOnReuseSignature)return n.focus(p.elementId),viewerScroll.save(),go.textOnCanvas&&(go.canvasManager.needRedraw=!1),go.scroll.zoom(1),go.options.mirroring.enable&&go.mirroringManager.externalEvent.selectedField({formId:p.formId,fieldId:p.id,type:p.type,elementId:t.currentTarget.id,value:p.value,auth:m,reuseSignature:go.options.formField.reuseSignature}),void go.dialog.show(R.get("paste_before_sign_text"),{type:"confirm",ok:R.get("paste_before_sign"),cancel:R.get("input_new_sign"),position:"center",returnFocus:!1,inputHandler:function(){n.focusHiddenTab(),go.scroll.restore(),go.textOnCanvas&&(go.canvasManager.needRedraw=!0)},cancelHandler:function(){k.trigger("click",!0)},okHandler:function(){n.setPreventMove(!1),n.removePreventDom(),$("#"+a).removeClass("crownix-formfield-blink"),i(),go.options.mirroring.enable&&go.mirroringManager.externalEvent.hideWindow()}});if("auto"===go.options.formField.confirmOnReuseSignature){e=p.getValue();if(""===e||null===e){if(n.focus(p.elementId),n.setPreventMove(!1),n.removePreventDom(),i(),"0"===p.aschange)return}else i()}else i()}if("2"===p.signType)return go.options.mirroring.enable&&go.options.mirroring.scanType&&-1!=go.options.mirroring.scanType.indexOf("stamp")?(FieldOrder.getInstance().focus(p.elementId),void go.mirroringManager.externalEvent.selectedField({formId:p.formId,fieldId:p.id,type:p.type,elementId:t.currentTarget.id,value:p.value,auth:m,scanType:"stamp",aschange:p.aschange})):void(window.fingerPrintInterface&&go.options.fingerScan?p.getValue()||window.fingerPrintInterface.onTouch(p.formId,p.id):dialog.show(R.get("fingerprint_connect_error")));var s,l,d,c=viewerScroll;if(p.layerId)for(var h=0,u=go.layerManager.layerList.length;h<u;h++)if(go.layerManager.layerList[h].isFloating&&go.layerManager.layerList[h].id==p.layerId){c=go.layerManager.layerList[h].scroll;break}go.options.useWacomSign?new WacomSignWindow(go.options.wacomSignLicense).show(k,p.formId,p.id,formManager,M,!0,go.options.useWacomSign.topMsg,go.options.useWacomSign.bottomMsg,go.dialog,go.shareManager):go.options.useNativeSign?window.m2softFormFieldBridge.toSign?(window.m2softFormFieldBridge.toSign(k.width(),k.height(),parseInt(k.data("dpi"))||96,p.formId,p.id,!!FieldOrder.getInstance().length()),FieldOrder.getInstance().setPreventMove(!1),FieldOrder.getInstance().focus(f)):(s=m2soft.crownix.Layout.currentTheme,l="formId="+p.formId+"&fieldId="+p.id+"&bgColor="+s.containerColor.substring(1,7)+"&btColor="+s.toolbarColor.substring(1,7)+"&ftColor="+s.toolbarIconColor.substring(1,7)+"&width="+k.width()+"&height="+k.height()+"&dpi="+parseInt(k.data("dpi"))||96,window.webkit?window.webkit.messageHandlers.showSign.postMessage(l):document.location="crownixWebView://showSign?"+l):(s=function(t,e,i,n,r){if(!t&&i&&0<=i.lines.length){if(n.signature)return void n.setValue(n.getSignature());if(n.value)return void n.setValue(n.value);t=!1}var o;t?("1"==n.aschange?n.setSignValue({value:e,signature:i},n.signType):n.setValue({value:e,signature:i}),formManager.trigger("change",n.formId,n.id),formManager.modified(n),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"change"}),(!r||r&&r[n.groupSignId]==n.elementId)&&go.formManager.getSignGroup(n.groupSignId).setLastSignValue({signature:i,value:e})):((o=document.getElementById(n.elementId))&&new m2soft.crownix.FormField.Signature({},{width:$(o).width(),height:$(o).height(),guideText:n.element.attr("ph"),guideTextStyle:n.fontStyle}).drawSignature(o,{guideTextImageData:!0}),n.value?(n.setValue(null),formManager.trigger("change",n.formId,n.id),formManager.modified(n),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendEvent({formId:n.formId,fieldId:n.id,type:"change"})):n.setValue(null)),go.shareManager&&go.shareManager.sendFormField({formId:n.formId,fieldId:n.id,value:n.signature?n.getSignature():n.value}),go.options.mirroring.enable&&(o=JSON.stringify({value:n.value,signature:n.signature}),go.mirroringManager.externalEvent.setSignValue({formId:n.formId,fieldId:n.id,value:o,signType:n.signType}),go.mirroringManager.externalEvent.sendEvent(n.formId,n.id,"change")),n.determineEffect()},go.options.withSign&&1<go.formManager.getWithSign(p.withSignId).getsignList().length?(d=new WithSign(go),l=go.formManager.getWithSign(p.withSignId).getsignList(),go.isOpenWindow=!0,d.show(k,s,!0,l,makeFontStyle),go.shareManager&&go.shareManager.isConnected()&&d.bind("OnChangeValue",function(t){go.shareManager.onChangeSignValue(t)}),go.options.mirroring.enable&&d.bind("OnChangeValue",function(t){go.mirroringManager.externalEvent.onChangeSignValue(t)}),d.bind("OnClose",function(){go.options.mirroring.enable&&go.mirroringManager.externalEvent.hideWindow(),go.isOpenWindow=!1})):(d=p.element.attr("tt")||R.get("input_sign"),d=new SignWindow(d),go.isOpenWindow=!0,d.show(k,s,!0,c,x,g,F,go,p),go.shareManager&&go.shareManager.isConnected()&&d.bind("OnChangeValue",function(t){go.shareManager.onChangeSignValue(t)}),go.options.mirroring.enable&&d.bind("OnChangeValue",function(t){go.mirroringManager.externalEvent.onChangeSignValue(t)}),d.bind("OnClose",function(){go.options.mirroring.enable&&go.mirroringManager.externalEvent.hideWindow(),go.isOpenWindow=!1}))),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendFocusOnField(p.formId,p.id),go.options.mirroring.enable&&go.mirroringManager.externalEvent.selectedField({formId:p.formId,fieldId:p.id,type:p.type,elementId:t.currentTarget.id,value:p.value,auth:m,aschange:p.aschange}),go.options.withSign&&1<go.formManager.getWithSign(p.withSignId).getsignList().length||FieldOrder.getInstance().focus(p.elementId)}}}).appendTo(y),(p.signature||p.value||a)&&(self.formFieldMode&&isDrawingTo.screen()?p.signature?p.setValue(p.getSignature()):(p.value||a)&&p.setValue(p.value||a):(I.src=p.value||a,I.onload=function(){var t,e,i,n=k[0].width,r=k[0].height;I.width!=n||I.height!=r?(e=I.width/I.height,i=n/r,T.clearRect(0,0,n,r),e<i?(t=r*e,T.drawImage(I,(n-t)/2,0,r*e,r)):(t=n/e,T.drawImage(I,0,(r-t)/2,n,n/e))):T.drawImage(I,0,0,n,r)})),self.formFieldMode&&(h=function(t){t.stopPropagation(),t.preventDefault(),k.trigger(t.type,t)},""!=(a=formManager.getHintingColor(r,o)||"")&&isDrawingTo.screen()&&(S=getCommonDiv(y,a,1,t,i,null,p))&&(S.attr("formId",r),preventField(r,S),S.bind("click tap",h)),o=formManager.getRequiredHintingColor(r,o)||"",isDrawingTo.screen()&&(S=p.showRequiredMark(o,y))&&(S.attr("formId",r),preventField(r,S),S.bind("click tap",h)),p.textAttr=b,p.fontList=v),p.signature||!self.formFieldMode&&2!==go.options.formField.signatureGuideMode||u.drawSignature(k[0],{guideTextImageData:!0}),"1"==p.aschange&&"1"==p.signType&&k.hide(),self.formFieldMode&&"1"===p.commonHidden&&p.hide()},drawPicture=function(a,e,t,i,n,r,o,s,l,d,c,h,u,p,f,g,m,w,x){var v=$(document.createElement("input")).css({opacity:0,width:0,height:0}).attr({id:e,type:"file",accept:"image/*"}).addClass("crownix_form_field_file").appendTo(x);if(options.formField.image.capture)switch(options.formField.image.capture){case"front":v.attr("capture","user");break;case"back":v.attr("capture","environment")}Util.browser.msie&&v.bind("click",function(t){FieldOrder.getInstance().focus(this.id),setTimeout(function(){FieldOrder.getInstance().focus(e),v.focus()},500)});var b=$(document.createElement("canvas")).attr({id:e+"-canvas",width:i-t+"px",height:r-n+"px",formId:o,auth:g});preventField(o,b),self.formFieldMode&&"0"===a.editable&&x.addClass("crownix-formfield-disable");function y(t,e,i){var n,r,o,a;t.clearRect(0,0,i.width(),i.height()),1==u?(o=e.width/e.height,(a=i.width()/i.height())<o?(n=i.height()*(a/o),r=(i.height()-n)/2,t.drawImage(e,0,r,i.width(),n)):(o=i.width()*(o/a),a=(i.width()-o)/2,t.drawImage(e,a,0,o,i.height()))):2==u?t.drawImage(e,0,0):t.drawImage(e,0,0,i.width(),i.height())}var C=b[0].getContext("2d"),k=new Image,S=null;k.src=a.value||l,k.onload=function(){S&&S.html(""),y(C,k,b)},v.bind("change",function(t){t.stopPropagation(),t.preventDefault();var i=t.target.files[0];if(i&&void 0!==i.type&&!i.type.match("image.*"))return dialog.show(R.get("image_file_format_error")),Util.browser.msie&&9<Util.browser.version?v.replaceWith(v=v.clone(!0)):v.val(""),!1;function n(t){S&&S.hide(),a.value=(a.signType&&"1"===a.signType?t:b[0]).toDataURL("image/png"),formManager.trigger("change",a.formId,a.id),formManager.modified(a),go.shareManager&&go.shareManager.sendFormField({formId:a.formId,fieldId:a.id,value:a.value}),go.options.mirroring.enable&&("1"==a.aschange?go.mirroringManager.externalEvent.setSignValue({formId:a.formId,fieldId:a.id,value:a.value,signType:a.signType}):go.mirroringManager.externalEvent.setValue(a.formId,a.id,a.value)),"1"==a.signType&&formManager.getSealSignature(a.groupSignId).setLastSignValue(a.value),a.determineEffect()}var r=m2soft.crownix.ImageLoader;r.loadImage.parseMetaData(i,function(t){var e={canvas:!0};t.exif&&"number"==typeof t.exif.get("Orientation")&&!r.loadImage.orientation&&(e.orientation=t.exif.get("Orientation")),r.loadImage(i,function(t){m?new MaskWindow(t,u,b,!0,viewerScroll,n,y).show():"sg"==a.type&&"1"==a.aschange?a.showAttorney(t.toDataURL("image/png")):(y(C,t,b),n(t))},e),Util.browser.msie&&9<Util.browser.version?v.replaceWith(v=v.clone(!0)):v.val("")}),m&&go.options.mirroring.enable&&!go.mirroringManager.externalEvent.isSubProcess()&&"1"===a.idCardCapture&&go.options.mirroring.scanType&&-1!=go.options.mirroring.scanType.indexOf("idCard")&&(k.src=a.value||l,new MaskWindow(k,u,b,!0,viewerScroll,n,y).show())}).bind("keydown keyup",function(){var t=event.keyCode||event.charCode;if((32==t||13==t)&&(b.hasClass("crownix-field-lock")||b.hasClass("crownix-auth-lock")||"1"==w))return!1;(Util.browser.msie||Util.browser.edge)&&13==t&&"1"!=w&&v.trigger("click",event)});var T,I,M,A=self.formFieldMode;b.attr({name:s,ratio:u}).css({position:"absolute",width:i-t+"px",height:r-n+"px",margin:"0px",padding:"0px",border:"0px"}).bind("click tap",function(t,e){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),!go.options.mirroring.enable||!go.mirroringManager.externalEvent.isSubProcess()){if("1"===w&&A)return(r=FieldOrder.getInstance()).focus(a.elementId),void r.setPreventMove(!1);if(A&&"0"!==a.editable&&("1"===a.aschange||!(-1<this.className.indexOf("crownix-field-lock")||-1<this.className.indexOf("crownix-auth-lock")))){Util.hasTouch()&&formManager.trigger("click tap",a.formId,a.id);var i=go.formManager.getSealSignature(a.groupSignId).getValue();if(!0!==e&&"sg"==a.type&&i&&go.options.formField.reuseSignature){function n(){"1"==a.aschange?a.setSignValue(i,"1"):a.setValue(i),formManager.trigger("change",a.formId,a.id),formManager.modified(a),go.options.mirroring.enable&&(go.mirroringManager.externalEvent.setValue(a.formId,a.id,a.value),go.mirroringManager.externalEvent.sendEvent(a.formId,a.id,"change"))}var r=FieldOrder.getInstance(),o=t.target.id;if(!0===go.options.formField.confirmOnReuseSignature)return r.focus(a.elementId),viewerScroll.save(),go.textOnCanvas&&(go.canvasManager.needRedraw=!0),go.options.mirroring.enable&&go.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:t.currentTarget.id,value:a.value,auth:g,reuseSignature:go.options.formField.reuseSignature}),void go.dialog.show(R.get("paste_before_seal_text"),{type:"confirm",ok:R.get("paste_before_sign"),cancel:R.get("input_new_sign"),inputHandler:function(){r.focusHiddenTab(),go.scroll.restore()},cancelHandler:function(){b.trigger("click",!0)},okHandler:function(){r.setPreventMove(!1),r.removePreventDom(),$("#"+o).removeClass("crownix-formfield-blink"),n()}});if(a.getValue()!==i&&(r.focus(a.elementId),r.setPreventMove(!1),r.removePreventDom(),n(),"0"===a.aschange))return}go.options.mirroring.enable&&go.options.mirroring.scanType?-1!=go.options.mirroring.scanType.indexOf("idCard")&&"1"===a.idCardCapture?(FieldOrder.getInstance().focus(a.elementId),go.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:t.currentTarget.id,value:a.value,auth:g,scanType:"idCard"})):-1!=go.options.mirroring.scanType.indexOf("stamp")&&a.signType?(FieldOrder.getInstance().focus(a.elementId),a.value&&"1"==a.aschange&&"0"!=a.signType?a.showAttorney(a.value):go.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:t.currentTarget.id,value:a.value,auth:g,scanType:"stamp",aschange:a.aschange})):v.trigger("click",t):"1"===a.idCardCapture&&!0===go.options.useIdCardCapture?(e=m2soft.crownix.Layout.currentTheme,window.m2softFormFieldBridge.toPicture?window.m2softFormFieldBridge.toPicture(b.width(),b.height(),a.formId,a.id):(e="formId="+a.formId+"&fieldId="+a.id+"&bgColor="+e.containerColor.substring(1,7)+"&btColor="+e.toolbarColor.substring(1,7)+"&ftColor="+e.toolbarIconColor.substring(1,7),window.webkit?window.webkit.messageHandlers.showID.postMessage(e):document.location="crownixWebView://showID?"+e)):a.value&&"1"==a.aschange&&"0"!=a.signType?a.showAttorney(a.value):v.trigger("click",t),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendFocusOnField(a.formId,a.id),Util.browser.msie||setTimeout(function(){FieldOrder.getInstance().focus(a.elementId),v.focus()},500)}}}).appendTo(x),self.formFieldMode&&(T=function(t){t.stopPropagation(),t.preventDefault(),b.trigger(t.type,t)},""!=(I=formManager.getHintingColor(o,s)||"")&&isDrawingTo.screen()&&(M=getCommonDiv(x,I,1,i-t,r-n,null,a))&&(M.attr("formId",o),preventField(o,M),M.bind("click tap",T)),s=formManager.getRequiredHintingColor(o,s)||"",isDrawingTo.screen()&&(M=a.showRequiredMark(s,x))&&(M.attr("formId",o),preventField(o,M),M.bind("click tap",T)),p&&((S=getPlaceholderBox(t,n,i,r)).attr("formId",a.formId),preventField(o,S),S.attr("for",a.elementId).css(f).css("overflow","hidden").bind("click tap",T).appendTo(viewerTextDom).find("span").html(p),a.placeHolder=S)),"1"==a.aschange&&"1"!=a.signType&&(b.hide(),v.hide(),p&&S.hide()),self.formFieldMode&&"1"===a.commonHidden&&a.hide(),"1"!==a.aschange&&setAuthority(g,b)},drawFile=function(o,t,e,i,n,r,a,s,l,d,c,h,u,p,f,g,m,w,x,v){function b(t,e){return 0===a?0:1===a?t.height()/2-e.height()/2+"px":2===a?t.height()-e.height()+"px":void 0}function y(t,e){var i,n,r;t&&(e&&"inquiry"===e?(i=t.substring(t.lastIndexOf("/")+1),go.downloadUrl?(n=go.downloadUrl+"/download?filename="+d+"&attachment=true",r=$("<a>").text(i).css({color:"#000000","text-decoration":"underline"}).appendTo(I),$(r).on("click touchstart",function(t){t.preventDefault(),location.replace(n)})):$("<span>").text(i).appendTo(I),F.remove()):(d&&(t=t.substring(t.lastIndexOf("/")+1)),I.text(t)),I.css({"margin-top":b(T,I)}).css(!(d||o.value||o.file||e&&"sharing"===e)&&g?{color:"#BDBDBD"}:c),e&&"placeHolder"!==e&&(o.value=t))}function C(){Util.browser.msie&&9<Util.browser.version?S.replaceWith(S=S.clone(!0)):S.val(""),S.focus()}function k(t){dialog.show(R.get("not_support_file_append"),{inputHandler:function(){o.required&&"1"===o.required&&(o.required="0",O&&O.remove())}})}var S=$('<input type="file">'),T=$("<div>"),I=$("<div>"),M=$("<label>"),A=$("<div>").text(R.get("attach_file_button")),F=$("<div>"),E=$("<div>");v.addClass("crownix_form_field_file_wrapper"),S.attr({id:"crownix_form_field_input_file_"+s+"_"+l,name:l,auth:w,formname:s,fieldtype:"file"}).css({opacity:"0",width:"0",height:"0",float:"left"}).appendTo(v),M.css(c).css({height:v.height()-2,display:"inline-block","color-adjust":"exact",float:"right","padding-left":".75em","padding-right":".75em","line-height":"normal","vertical-align":"middle",background:"linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%)",filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff", endColorstr="#e5e5e5", GradientType=0)',"background-color":"rgba(255, 255, 255, 0)",border:"1px solid #8C8C8C"}).attr({id:"crownix_form_field_file_label_"+s+"_"+l,formid:s,name:l}).appendTo(v),A.appendTo(M).css({"margin-top":M.height()/2-A.height()/2+"px",cursor:"default"});var P,D,O,_,A=v.width()-M.innerWidth()-6;T.css(c).css({height:M.height(),width:A+"px","text-align":r?r-1?"right":"center":"left","color-adjust":"exact",border:"1px solid #8C8C8C",float:"left","background-color":"rgba(255, 255, 255, 0)","margin-right":"1px","line-height":"normal","vertical-align":"middle",cursor:"default"}).attr({id:"crownix_form_field_file_name_"+l,tabindex:"-1"}).addClass("crownix_form_field_file_name").appendTo(v),A<=0&&T.css("display","none"),I.attr("id","crownix_form_field_file_name_text_"+l).addClass("crownix_form_field_file_name_text").css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}).appendTo(T),F.css({position:"absolute",width:v.width(),height:v.height(),border:"0",top:"0",outline:"none"}).attr({tabindex:"-1",id:"crownix_form_field_"+s+"_"+l,name:l,formname:s,auth:w}).addClass("crownix_form_field_file").focus(function(){S.focus()}).appendTo(v),E.css({position:"absolute",left:T.position().left+1,top:T.position().top+1,width:T.width(),height:T.height()}).addClass("crownix-formfield-disable").appendTo(v).hide(),self.formFieldMode?(""!==(P=formManager.getHintingColor(s,l)||"")&&isDrawingTo.screen()&&("2"===P.displayType?D=getCommonDiv(v,P,1,T.width(),T.height(),T,o):(D=getCommonDiv(v,P,1,v.width(),v.height(),null,o))&&D.attr({name:l,auth:w,formname:s}).css("background-color","rgba(255, 255, 255, 0)")),A=formManager.getRequiredHintingColor(s,l)||"",self.formFieldMode&&""!==A&&isDrawingTo.screen()&&(O=o.showRequiredMark(A,v))&&O.css("z-index","1"),S.on("change",function(t){var e,i,n,r=t.target.files[0];r&&(n=(e=r.name).lastIndexOf("."),i=e.substring(0,n),t=e.substring(n+1).toUpperCase(),n=m&&new RegExp(m),p&&p<r.size/1048576?dialog.show(R.get("file_size_over").replace("%d",p),{inputHandler:C}):f&&f.indexOf(t)<0?dialog.show(R.get("wrong_file_extension").replace("%s",f),{inputHandler:C}):!n||n.test(i)?(o.file=r,o.value=e,o.determineEffect(),y(e),formManager.trigger("change",o.formId,o.id),go.shareManager&&go.shareManager.sendFormField({formId:o.formId,fieldId:o.id,value:e}),go.options.mirroring.enable&&go.mirroringManager.externalEvent.setFileName(e),formManager.modified(o)):dialog.show(R.get("invalid_file_name"),{inputHandler:C}))}),y(o.value||(o.file?o.file.name:g),o.value||o.file?"normal":"placeHolder"),_=function(){E.hide(),$('[id="crownix_form_field_file_label_'+s+"_"+l+'"]').removeClass("crownix-formfield-disable"),window.FormData?(M.on("click touchstart",function(t){options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()&&t.preventDefault(),"1"==x&&t.preventDefault(),F.focus()}),M.attr("for","crownix_form_field_input_file_"+o.formId+"_"+o.id),D&&preventField(s,D),$('[id="crownix_form_field_'+o.formId+"_"+o.id+'"], [id="crownix_form_field_hintingbox"][name='+o.id+"][formname="+o.formId+"]").off(),$('[id="crownix_form_field_'+o.formId+"_"+o.id+'"], [id="crownix_form_field_hintingbox"][name='+o.id+"][formname="+o.formId+"]").on("click touchend touchcancel",function(t){t.preventDefault(),t.stopPropagation(),M.click()})):(D&&"1"==P.displayType?(preventField(s,D),D.bind("click touchstart",k)):F.on("click touchstart",k),FieldOrder.getInstance().removeField([{formId:s,fieldId:l}])),S.bind("keydown",function(t){"1"!=x||13!=t.keyCode&&32!=t.keyCode||t.preventDefault(),Util.browser.msie&&13==t.keyCode&&"1"!=x&&M.click()})},A=function(){E.show(),M.hasClass("crownix-formfield-disable")||M.addClass("crownix-formfield-disable"),D&&D.off("click touchstart"),F.off("click touchstart"),FieldOrder.getInstance().removeField([{formId:this.formId,fieldId:this.id}])},o.setFileName||(o.setFileName=y),o.editableMode||(o.editableMode=_),o.readonlyMode||(o.readonlyMode=A),(o.editable&&"0"===o.editable?A:_)()):(M.remove(),T.css({width:v.width()-2,"border-style":"none"}),d?(y(d,"inquiry"),_=$(Icon.FILE_CLIP),v=I.height(),I.css({display:"inline-block","max-width":T.width()-v-5+"px","vertical-align":"top"}),_.css({width:v,height:v}).css("margin-top",b(T,_)).prependTo(T)):y(R.get("no_attach_file"))),self.formFieldMode&&"1"===o.commonHidden&&o.hide(),setAuthority(w,S)},drawPenField=function(a,r,t,e,i,n,o,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C){var k=window.devicePixelRatio||1,S=e-t,T=n-i,I=$(document.createElement("canvas")).attr({id:r,width:S*k+"px",height:T*k+"px",formId:o,name:s,auth:x});preventField(o,I),self.formFieldMode&&"0"===a.editable&&C.addClass("crownix-formfield-disable-guide");var M=I[0].getContext("2d"),A=new Image,F=makeFontStyle(g,w,m);F.textBaseline=go.options.formField.guideAlignPen?y:"middle",F.adjustFontScale=!0,F.originFontSize=F.fontSize,a.fontStyle=F,u&&(a.fontStyle.fillStyle="#CCCCCC");var E,P,D=new m2soft.crownix.FormField.Signature({},{width:S,height:T,guideText:u||p,guideTextStyle:a.fontStyle}),O=self.formFieldMode;I.css({position:"absolute",width:S+"px",height:T+"px",margin:"0px",padding:"0px",border:"0px"}).bind("click tap",function(t){if(options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),!go.isOpenWindow){if(go.options.mirroring.enable&&("Host"===x&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===x&&!go.mirroringManager.externalEvent.isSubProcess()))return FieldOrder.getInstance().setPreventMove(!1),FieldOrder.getInstance().removePreventDom(),void go.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:t.currentTarget.id,value:a.value,auth:x});if("1"===v&&O){var e=FieldOrder.getInstance();return e.focus(r),void e.setPreventMove(!1)}var n,o,i;!O||"0"===a.editable||-1<this.className.indexOf("crownix-field-lock")||-1<this.className.indexOf("crownix-auth-lock")||(go.options.slide.fixedLayout||go.options.formField.scrollPen.enable||go.slide.closeSlide(),n=go.scroll.enabled,go.scroll.enable(),o=function(t,e,i){if(n||go.scroll.disable(),go.fieldEffector&&go.fieldEffector.start(),t)a.value=e,a.signature=i,formManager.trigger("change",a.formId,a.id),formManager.modified(a);else if(a.value&&i&&0<=i.lines.length){if(a.signature)return void a.setValue(a.getSignature());if(a.value)return void a.setValue(a.value)}else a.value?(a.value=null,a.signature=null,formManager.trigger("change",a.formId,a.id),formManager.modified(a)):(a.value=null,a.signature=null);go.shareManager&&go.shareManager.sendFormField({formId:a.formId,fieldId:a.id,value:a.signature?a.getSignature():a.value}),go.options.mirroring.enable&&(go.mirroringManager.externalEvent.setValue(a.formId,a.id,a.value),go.mirroringManager.externalEvent.sendEvent(a.formId,a.id,"change")),a.determineEffect()},e=function(){if(go.options.formField.scrollPen.enable)return function(){Util.browser.mobile&&document.activeElement.blur();var t=ScrollPenWindow.getInstance(go);t.show(a.formId,a.id,{parentId:"m2soft-crownix-container",isOverlay:!0}),go.shareManager&&go.shareManager.isConnected()&&t.bind("OnChangeValue",function(t){go.shareManager.onChangeSignValue(t)}),go.options.mirroring.enable&&(t.bind("OnChangeValue",function(t){go.mirroringManager.externalEvent.onChangeSignValue(t)}),t.bind("OnClose",function(){go.mirroringManager.externalEvent.hideWindow()}))}();var t,e=new PenWindow(go),i=new KeyboardPenWindow(go);if(a.layerId)for(var n=0,r=go.layerManager.layerList.length;n<r;n++){if("layer"==go.layerManager.layerList[n].type&&go.layerManager.layerList[n].id==a.layerId){t=go.layerManager.layerList[n].scroll;break}if("layerGroup"==go.layerManager.layerList[n].type&&go.layerManager.layerList[n].group[a.layerId]){t=go.layerManager.layerList[n].group[a.layerId].scroll;break}}go.isOpenWindow=!0,!go.options.mirroring.enable&&go.options.formField.keyboardPen.enable&&(u||p)?(i.show({currentField:C,viewerScroll:viewerScroll,viewerCanvas:I,signature:D,completeHandler:function(t){a.value=t,a.signature=null,formManager.trigger("change",a.formId,a.id),formManager.modified(a),go.shareManager&&go.shareManager.sendFormField({formId:a.formId,fieldId:a.id,value:a.value})},guideText:u||p}),i.bind("OnClose",function(){go.isOpenWindow=!1,go.fieldEffector&&go.fieldEffector.start()})):(e.show(C,viewerScroll,I,o,t,b,u,p,F,a.signature),go.shareManager&&go.shareManager.isConnected()&&e.bind("OnChangeValue",function(t){go.shareManager.onChangeSignValue(t)}),go.options.mirroring.enable&&e.bind("OnChangeValue",function(t){go.mirroringManager.externalEvent.onChangeSignValue(t)}),e.bind("OnClose",function(){go.options.mirroring.enable&&go.mirroringManager.externalEvent.hideWindow(),go.isOpenWindow=!1}))},!go.options.useNativeSign||!window.m2softFormFieldBridge.toPen||0==(i=u||p||"").length&&go.options.formField.checkPenGuideString?e():(e=makeTextCss(g,w[g.attr("tid")]||{},m),e=Unit.ptToPx(parseInt(e["font-size"])||16),window.m2softFormFieldBridge.toPen(I.width(),I.height(),i,a.formId,a.id,e)),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendFocusOnField(a.formId,a.id),go.options.mirroring.enable&&go.mirroringManager.externalEvent.selectedField({formId:a.formId,fieldId:a.id,type:a.type,elementId:t.currentTarget.id,value:a.value,auth:x}),FieldOrder.getInstance().focus(a.elementId),go.fieldEffector&&go.fieldEffector.stop())}}).appendTo(C),p&&D.drawSignature(I[0],{guideTextImageData:!0}),self.formFieldMode&&(i=function(t){t.stopPropagation(),t.preventDefault(),I.trigger(t.type,t)},""!=(y=formManager.getHintingColor(o,s)||"")&&isDrawingTo.screen()&&(E=getCommonDiv(C,y,1,S,T,null,a))&&(E.attr("formId",o),preventField(o,E),E.bind("click tap",i)),u&&!a.signature&&D.drawSignature(I[0],{guideTextImageData:!0}),s=formManager.getRequiredHintingColor(o,s)||"",isDrawingTo.screen()&&(E=a.showRequiredMark(s,C))&&(E.attr("formId",o),preventField(o,E),E.bind("click tap",i))),(a.signature||a.value||l)&&(self.formFieldMode&&isDrawingTo.screen()?a.signature?a.setValue(a.getSignature()):(a.value||l)&&a.setValue(a.value||l):(P=a.value||l)&&(A.src=P,A.onload=function(){M.drawImage(A,0,0,S*k,T*k)})),self.formFieldMode&&"1"===a.commonHidden&&a.hide()},drawSubmit=function(t,e,i,n,r,o,a,s,l,d,c,h){var u,p,f=$('<button type="image"></button>'),g=$("<span>").text(a).css({cursor:"pointer","word-break":"break-all"}).on("click tap",function(t){f.focus()}).attr({id:o+"_label",for:"crownix_form_field_"+r+"_"+o}),m={button:f,textWrapper:g,size:{width:e-t,height:n-i},position:{left:t,top:i}},a=self.formFieldMode&&formManager.getSubmit(r+"."+o)||{};a.editable&&(l=a.editable),d.normalImage&&(f.css({background:"none",filter:"none",border:"0px"}),(u=new Image).onload=function(){f.prepend(u),applyImageSubmitButton(u,m)},u.src=d.normalImage,d.clickImage&&((p=new Image).onload=function(){var t=getFitSize(m.size,p);$(p).css({width:t.width,height:t.height,position:"absolute",top:"0px",left:"0px"}),f.bind(ActionEvents.start+" touchstart",function(){$(u).hide(),$(p).show(),applyImageSubmitButton(p,m)}).bind(ActionEvents.end+" touchend",function(){$(p).hide(),$(u).show(),applyImageSubmitButton(u,m)}).bind(ActionEvents.out,function(t){$(t.toElement).parent("#"+o).attr("id")!=o&&f.trigger(ActionEvents.end)}).prepend(p),$(p).hide()},p.src=d.clickImage)),f.append(g).addClass("crownix-dialog-button").addClass("crownix-dialog-button-action").attr({id:"crownix_form_field_"+r+"_"+o,formId:r,fieldId:o,auth:c}).css(s).css({overflow:"hidden",padding:"0px",width:e-t+"px",height:n-i+"px",cursor:"pointer"}).bind(Util.browser.mobile?"tap":"click",function(t){self.formFieldMode&&"1"==l&&(f.trigger("mouseout",t),formManager.submit(t))}).appendTo(h),m.textWrapperOriginalSize=g.width(),self.formFieldMode&&"1"==l||f.removeClass("crownix-dialog-button-action").attr("disabled",!0),setAuthority(c,f)},drawRecorder=function(h,u,t,e,i,n,r,o,a,s,p,l,d,c,f,g,m,w,x,v,b){function y(){O.attr({id:"crownix_form_field_"+a+"_"+s,tabindex:"-1",formid:a,name:s,auth:g}),O.css({border:"1px solid #8c8c8c",width:b.width()-2+"px",height:b.height()-2+"px","border-radius":"3px",background:"linear-gradient(to bottom, #ffffff 0%, #e5e5e5 100%)",filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff", endColorstr="#e5e5e5", GradientType=0 )',"background-color":"rgba(255, 255, 255, 0)"}),_.css({"line-height":O.height()+"px","white-space":"nowrap"}),O.appendTo(b),_.appendTo(O);var t=self.formFieldMode?$(Icon.RECORD_ICON):$(Icon.PLAY_ICON),e=$("<span>").css(f).css("cursor","default");e.text(self.formFieldMode?R.get("record_ready_state"):R.get("play_request")),t.appendTo(_),e.appendTo(_),t.css({width:e.height()+5+"px",height:e.height()+5+"px",float:"left","margin-left":O.width()/2-e.width()/2-(e.height()+5)/2+"px","margin-right":"1px"}),t.css("fill",f.color),e.css({display:"inline-block",clear:"both"}),_.css({top:O.height()/2-_.height()/2+"px",left:O.width()/2-_.width()/2+"px",overflow:"hidden"}),t.css({"margin-top":_.height()/2-t.height()/2+"px"})}var C,k,S,T,I,M,A,F,E,P,D,O=$("<div>"),_=$("<div>"),N={PRESS:Util.browser.mobile?"touchstart":"click"};self.formFieldMode?(y(),""!==(C=formManager.getHintingColor(a,s)||"")&&isDrawingTo.screen()&&("2"===C.displayType?(O.css("box-sizing","unset"),k=getCommonDiv(b,C,1,O.width(),O.height(),O,h)):(k=getCommonDiv(b,C,1,b.width(),b.height(),null,h))&&(k.attr({name:s,auth:g,formname:a}).css("background-color","rgba(255, 255, 255, 0)"),k.on(N.PRESS,function(t){O.trigger(t)}))),k=formManager.getRequiredHintingColor(a,s)||"",self.formFieldMode&&""!==k&&isDrawingTo.screen()&&(S=h.showRequiredMark(k,b))&&S.css("z-index","1"),h.getEditable()||b.addClass("crownix-formfield-disable"),O.on(N.PRESS,function(t){var n,r,e,i,o,a,s,l,d,c;$(this).parents("#m2soft-crownix-field-wrapper").hasClass("crownix-formfield-disable")||$(this).hasClass("crownix-quickfield-disable")||-1<this.className.indexOf("crownix-field-lock")||-1<this.className.indexOf("crownix-auth-lock")||(formManager.trigger("click",h.formId,h.id),options.textToSpeech.stopOnInput&&go.viewer.stopToSpeech(),O.focus(),go.shareManager&&go.shareManager.isConnected()&&go.shareManager.sendFocusOnField(h.formId,h.id),FieldOrder.getInstance().focus(u),"1"!=m&&(p||h.value?(n=$("<button>"),r=$("<button>"),e=$('<div class="crownix-audio-window-body">').css({width:"600px",height:"160px","background-color":"white","text-align":"center"}),n.appendTo(e),r.appendTo(e),n.css("display","none"),r.css("display","none"),n.on(N.PRESS,function(t){go.nativeInterface.recordStart?(go.nativeInterface.recordStart(h,function(){formManager.trigger("change",h.formId,h.id),formManager.modified(h),go.shareManager&&go.shareManager.sendFormField({formId:h.formId,fieldId:h.id,value:h.value}),h.determineEffect()}),o.close()):go.dialog.show(R.get("record_no_mobile"))}),i={css:{"max-width":"600px","max-height":"196px"}},o=new m2soft.crownix.Window("",e,{isOverlay:!0,buttonType:["close"],useResizeHandler:!0}),a=o.content,(l=$('<button id="test-btn">')).addClass("crownix-audio-button-group"),l.css({position:"absolute",left:"0",cursor:"pointer",width:"40px",height:"20px","margin-top":"5px"}),l[0].innerHTML=Icon.BACK,l.on("click",function(){n.css("display","inline-block"),r.css("display","inline-block"),$(this).css("display","none"),$("#audio-control-container").css("display","none")}),window.Uint8Array?r.on(N.PRESS,function(t){var e;h.isAttached()||go.downloadUrl?(n.css("display","none"),r.css("display","none"),s?$("#audio-control-container").css("display","inline-block"):s=new m2soft.crownix.AudioPlayer(go,a[0],h.formId,h.id),l.appendTo(o.windowFrame.children(".crownix-window-header")),l.css("display","inline-block"),h.isAttached()?s.loadFile(h.file):go.downloadUrl&&(e=go.downloadUrl+"/download?filename="+p+"&attachment=true",s.load(e))):go.dialog.show(R.get("record_play_fail"))}):(p.substring(p.lastIndexOf("/")+1),d=go.downloadUrl+"/download?filename="+p+"&attachment=true",c=$("<a download>").appendTo(e),$(c).on("click touchstart",function(t){t.preventDefault(),t.stopPropagation(),location.replace(d)}),r.on(N.PRESS,function(t){go.downloadUrl?$(c).click():(t.preventDefault(),t.stopPropagation(),go.dialog.show(R.get("record_play_fail")))})),o.show(i,function(){var t=o.windowFrame.children(".crownix-window-body").width(),e=.35*t,i=.5*o.windowFrame.children(".crownix-window-body").height(),t=(t-2*e)/4,i={"font-family":"Helvetica","font-weight":"bold","font-size":"1em",width:e+"px",height:i+"px",outline:"none","margin-top":.5*i+"px",display:"inline-block"};n.text(R.get("record_request")),n.css(i).css({border:"1px solid #cd0025","background-color":"#cd0025","border-radius":"5px",color:"#ffffff","margin-left":t+"px","margin-right":t/2+"px"}),r.text(R.get("play_request")),r.css(i).css({border:"1px solid #cd0025","background-color":"#ffffff","border-radius":"5px",color:"#cd0025","margin-left":t/2+"px","margin-right":t+"px"})})):go.nativeInterface.recordStart?go.nativeInterface.recordStart(h,function(){formManager.trigger("change",h.formId,h.id),formManager.modified(h),go.shareManager&&go.shareManager.sendFormField({formId:h.formId,fieldId:h.id,value:h.value}),h.determineEffect()}):go.dialog.show(R.get("record_no_mobile"))))})):p?(y(),window.Uint8Array?(E=$('<div class="crownix-audio-window-body">').css({width:"600px",height:"160px","background-color":"white","text-align":"center"}),T={css:{"max-width":"600px","max-height":"196px"}},I=new m2soft.crownix.Window("",E,{isOverlay:!0,buttonType:["close"],useResizeHandler:!0}),M=I.content,b.on(N.PRESS,function(t){go.downloadUrl?I.show(T,function(){var t,e=new m2soft.crownix.AudioPlayer(go,M[0],h.formId,h.id);go.downloadUrl&&(t=go.downloadUrl+"/download?filename="+p+"&attachment=true",e.load(t))}):go.dialog.show(R.get("record_play_fail"))})):(p.substring(p.lastIndexOf("/")+1),A=go.downloadUrl+"/download?filename="+p+"&attachment=true",F=$("<a download>").appendTo(b),$(F).on("click touchstart",function(t){t.preventDefault(),t.stopPropagation(),location.replace(A)}),b.on(N.PRESS,function(t){go.downloadUrl?$(F).click():(t.preventDefault(),t.stopPropagation(),go.dialog.show(R.get("record_play_fail")))}))):((E=$("<div>")).appendTo(b).text(R.get("record_no_file")).css(f).css({overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),b.css("text-align",r?r-1?"right":"center":"left"),E.css("margin-top",(P=b,D=E,0===o?0:1===o?P.height()/2-D.height()/2+"px":2===o?P.height()-D.height()+"px":void 0))),self.formFieldMode&&"1"===h.commonHidden&&h.hide(),setAuthority(g,O)},drawMathField=function(t,e){var i,n,r,o,a,s,l=e.field,d=l.mathField,c=e.element,h=e.elementId,u=e.formId,p=e.fieldId,f=e.inputAuthority,g=e.noDefaultAction,m=e.left,w=e.right,x=e.top,v=l.value,b=e.bottom,y=e.textCss,C=go.shareManager,k=go.options.mirroring.enable;if(!Util.getMathLibsInfo().support){var S=Util.getMathLibsInfo().need,S=R.get("unsupported_math_field").replace("%s",JSON.stringify(S))+"("+u+"."+l.id+")";return console.error(S),$(document.createElement("input")).attr({id:h,formId:u,name:l.id,auth:f,disabled:!0}).css({width:w-m+"px",height:b-x+"px",margin:"0px",padding:"0px",border:"0px",outline:"none","background-color":"#CCCCCC"}).val(S).appendTo(t)}self.formFieldMode&&isDrawingTo.screen()?(i=$(d),n=function(t){"1"!==g&&(t?(go.scroll.save(),go.scroll.scrollToElementWithFrame(d,1e3,280),go.scroll.disable()):(go.scroll.restore(),go.scroll.enable()))},r=function(){n(!0),i.unbind("focusin").bind("focusout",o).bind("input",a).bind("change",s),formManager.trigger("evfcin",l.formId,l.id),C&&C.sendEvent({formId:l.formId,fieldId:l.id,type:"evfcin"}),k&&go.mirroringManager.externalEvent.sendEvent(l.formId,l.id,"evfcin")},o=function(){n(!1),i.unbind("input focusout"),l.determineEffect(),k&&go.mirroringManager.externalEvent.isSubProcess()||formManager.trigger("evfcout",l.formId,l.id),C&&C.sendEvent({formId:l.formId,fieldId:p,type:"evfcout"}),k&&!go.mirroringManager.externalEvent.isSubProcess()&&go.mirroringManager.externalEvent.sendEvent(l.formId,l.id,"evfcout"),v=d.getValue(),l.setValue(v),i.hide()},a=function(t){l.value=d.getValue(),formManager.trigger("evinput",l.formId,l.id)},s=function(){i.unbind("change"),formManager.trigger("change",l.formId,l.id),C&&C.sendFormField({formId:l.formId,fieldId:l.id,value:l.value}),k&&go.mirroringManager.externalEvent.setValue(l.formId,l.id,l.value)},"0"===l.editable&&t.addClass("crownix-formfield-disable"),d.setOptions({virtualKeyboardContainer:go.containerDom[0]}),"1"===g&&(d.disabled=!0),i.attr({id:h,formId:u,name:l.id,auth:f}).css({width:w-m+"px",height:b-x+"px",margin:"0px",padding:"0px",border:"0px",outline:"none",color:y.color,"z-index":9999,"min-width":"150px","min-height":"50px","background-color":"#FFFFDD"}).unbind("click tab focusin focusout input change").bind(Util.browser.mobile||k?"click":"click tap",function(t){if(k&&("Host"===f&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===f&&!go.mirroringManager.externalEvent.isSubProcess()))return FieldOrder.getInstance().setPreventMove(!1),FieldOrder.getInstance().removePreventDom(),void go.mirroringManager.externalEvent.selectedField({formId:l.formId,fieldId:l.id,type:l.type,elementId:t.currentTarget.id,value:l.value,auth:f});"1"===g&&((t=FieldOrder.getInstance()).focus(h),t.setPreventMove(!1)),d.setValue(l.value),i.unbind("focusin").bind("focusin",r),formManager.trigger("click",l.formId,l.id)}).appendTo(t).hide(),$(d.shadowRoot).children("div").children(".ML__container").css({height:i.height()}),l.setValue(v,Painter),x=formManager.getRequiredHintingColor(u,p)||"",isDrawingTo.screen()&&l.showRequiredMark(x,t),""==(x=formManager.getHintingColor(u,p)||"")||!isDrawingTo.screen()||(x=getCommonDiv(t,x,1,i.width(),i.height(),void 0,l))&&(x.attr("formId",u),x.bind("click tap",function(){"1"===l.editable&&t.children("svg").click()}),preventField(u,x)),"1"===l.commonHidden&&l.hide()):((c=$(Painter.latexToSVG((self.formFieldMode?l:e).value,c))).css("color",y.color),c.css("vertical-align","none"),t.append(c),c.attr({width:Math.min(c.width()-2,t.width()),height:Math.min(c.height()-2,t.height())}))},applyImageSubmitButton=function(t,e){var t=$(t),i=getFitSize(e.size,{width:t.width(),height:t.height()});t.css({width:i.width,height:i.height,position:"absolute",top:"0px",left:"0px"});t={};t.left=e.position.left+(e.size.width-i.width)/2,t.top=e.position.top+(e.size.height-i.height)/2,e.button.css(i),e.button.css(t),e.textWrapper.width("");t=(i.width-e.textWrapperOriginalSize)/2;e.textWrapperOriginalSize>i.width&&(t=0,e.textWrapper.css({width:i.width})),e.textWrapper.css({"margin-left":t,position:"absolute",top:"0px",left:"0px"}),setTimeout(function(){var t=(i.height-e.textWrapper.height())/2;e.textWrapper.css({"margin-top":t})},0)},drawNormalButton=function(t,e,i,n,r,o,a,s,l){var d,c,h=$('<button type="image"></button>'),r=$("<span>").text(r).css({cursor:"pointer","word-break":"break-all"}).on("click tap",function(t){h.focus()}),u={button:h,textWrapper:r,size:{width:e-t,height:n-i},position:{left:t,top:i}};a.normalImage&&(h.css({background:"none",filter:"none",border:"0px"}),(d=new Image).onload=function(){h.prepend(d),applyImageSubmitButton(d,u)},d.src=a.normalImage,a.clickImage&&((c=new Image).onload=function(){var t=getFitSize(u.size,c);$(c).css({width:t.width,height:t.height,position:"absolute",top:"0px",left:"0px"}),h.bind(ActionEvents.start+" touchstart",function(){$(d).hide(),$(c).show(),applyImageSubmitButton(c,u)}).bind(ActionEvents.end+" touchend",function(){$(c).hide(),$(d).show(),applyImageSubmitButton(d,u)}).bind(ActionEvents.out,function(t){h.trigger(ActionEvents.end)}).prepend(c),$(c).hide()},c.src=a.clickImage)),h.attr("id","m2soft-crownix-normal-button").append(r).addClass("crownix-dialog-button").addClass("crownix-dialog-button-action").css(o).css({overflow:"hidden",padding:"0px",width:e-t+"px",height:n-i+"px",cursor:"pointer"}).bind(Util.browser.mobile?"tap":"click",function(t){h.trigger("mouseout",t),s&&s.click&&s.click(viewerAPI,drilldownAPI,void 0,formAPI)}).appendTo(l),textWrapperOriginalSize=r.width()},drawNormalCombo=function(e,t,i,n,r,o,a,s,l,d,c,h,u){var p=$(document.createElement("select"));void 0!==e.selectedIndex&&(o=-1==e.selectedIndex?"":s[e.selectedIndex]),p.attr("id","m2soft-crownix-normal-combo").css(a).css({width:i-t+"px",height:r-n+"px",margin:"0px",padding:"0 0 0 "+h+"px"}).bind("change",function(){d&&d.change&&d.change(viewerAPI,drilldownAPI,p.val(),formAPI),e.value=p.val();var t=p.find("option:selected");e.selectedIndex=p.find("option").index(t)-1}).appendTo(u),Util.browser.android&&p.css("background-color","transparent");$('<option value="" style="color:gray">').text(c).appendTo(p);for(var f=0;f<s.length;f++){var g=$("<option>").attr("value",l[f]).text(s[f]).appendTo(p);o==s[f]&&g.attr("selected","selected")}},getFitSize=function(t,e){var i=t.width/e.width,t=t.height/e.height,t=Math.min(i,t);return{width:e.width*t,height:e.height*t}},getPlaceholderBox=function(t,e,i,n){e=$("<div>").css({position:"absolute",left:t+"px",top:e+"px",width:i-t+"px",height:n-e+"px",margin:"0px",padding:"0px",border:"0px","text-align":"center","line-height":n-e+"px"}),$("<span>").attr("id","crownix_form_field_placeholder").addClass("placeholder").appendTo(e);return e},setAuthority=function(t,e){!go.options.mirroring.enable||("Host"===t&&go.mirroringManager.externalEvent.isSubProcess()||"Client"===t&&!go.mirroringManager.externalEvent.isSubProcess())&&(e.addClass("crownix-auth-lock"),"INPUT"===e[0].tagName&&"checkbox"!==e[0].type&&"radio"!==e[0].type&&"file"!==e[0].type||"TEXTAREA"===e[0].tagName?e.attr("readonly",!0):e.attr("disabled",!0))},createPopup=function(t,e,i){var n,r,o,a=["scrollbars=no","resizeable=yes","menubar=no","toolbar=yes","width="+t.width,"height="+t.height,"top="+t.top,"left="+t.left].join(", ");go.options.mirroring.enable&&go.mirroringManager.externalEvent.isSubProcess()?(n=$("<div>").addClass("crownix-overlay").appendTo("body"),r="crownix-mirroring-popup",(o=$('<iframe id="crownix-popup-'+e.id+'" class="crownix-popup" name="'+r+'">').attr("src",t.url).css({position:"absolute",top:t.top+"px",left:t.left+"px",background:"white",width:"0"!==t.width?t.width:"50%",height:"0"!==t.height?t.height:"50%"}).appendTo("body")).on("load",function(){window.external.SetComponentToField(r)}),o.on("DOMNodeRemoved",function(){n.remove()})):window.open(t.url,"crownix_popup_"+e.id,a),window.cxOpener=cxOpener(e.formId,i)};m2soft.crownix.Painter.updatePageNum=function(t){var e=$("#"+Constant.TEXT_ID),i=go.currentPage;t&&(null!=t.textDom&&(e=t.textDom),null!=t.currentPage&&(i=t.currentPage)),e.find(".crownix-pagenum").each(function(){var t=$(this).attr("format-type"),e=$(this).attr("pagenum-format"),t=go.report.getPageInfo(i,t);t.totalPage-=go.report.getRemovedPage().length,$(this).text(Util.formatPageNumber(e,t))})},this.drawNoteToCanvas=function(t,e){var t=$(t).find("path"),h=e.getContext("2d");t.each(function(){var t=$(this),e=t.attr("d"),i=t.attr("stroke"),n=t.attr("stroke-opacity"),r=t.attr("stroke-width"),o=t.attr("stroke-linecap"),a=t.attr("stroke-linejoin"),t=-1<e.indexOf("L")?"L":"l",s=-1<e.indexOf(",")?",":" ",l=e.split(t);h.save(),h.beginPath(),h.strokeStyle=i,h.lineWidth=1.3*parseInt(r),h.globalAlpha=n,h.lineCap=o,h.lineJoin=a,"M"!=l[0][0]&&"M"!=l[0][0]||(a=$.trim(l[0].substring(1)).split(s),h.moveTo(parseInt(a[0]),parseInt(a[1])));for(var d=1;d<l.length;d++){var c=$.trim(l[d]).split(s);h.lineTo(parseInt(c[0]),parseInt(c[1]))}h.stroke(),h.restore()})},this.drawPage=function(t,e,i,n,r,o,a,s){a||cxCanvas.clear();var l=e.fontList,d=e.textAttrList,c=e.lineAttrList,h=e.faceAttrList,e=e.indexedImageList;drawMedia=n||"d",r&&(offset=r),null!=o&&(margin=o),cxCanvas.setOffset(offset);function u(t){var e,i,n=t.prop("tagName").toUpperCase(),r=t.attr("ect");r&&-1<r.indexOf(drawMedia)?"IM"===n&&x.nextImage():(r=(i=c[(e=t).attr("lid")])&&applyPriorityToLineAttr(e,i),i=(i=h[(e=t).attr("fid")])&&applyPriorityToFaceAttr(e,i),"LN"===n?drawLine(t,r):"RA"===n?drawRect(t,r,i):"TL"===n?go.textOnCanvas?(drawTextToCanvas(t,l,d),(t.attr("hl")||t.attr("hi"))&&drawText(t,l,d)):drawText(t,l,d):"SC"===n?drawScribble(t,r):"LL"===n?drawPolyLine(t,r):"PO"===n?drawPolygon(t,r,i):"EP"===n?drawEllipse(t,r,i):"DM"===n?drawDiamond(t,r,i):"PL"===n?drawParallelogram(t,r,i):"HH"===n?drawHexaheron(t,r,i):"RR"===n?drawRoundeRect(t,r,i):"CY"===n?drawCylinder(t,r,i):"CV"===n?drawCurve(t,r):"IM"===n?drawImage(t,x.nextImage()):"FF"===n?drawFormField(t,l,d):"CT"===n?drawChart(t,"p"===drawMedia):"CL"===n||"LY"===n?drawLayer(t):"TG"===n?drawGrid(t,s,l,d):"EC"===n&&(go.textOnCanvas?(drawEncloseCharactersToCanvas(t,l,d),(t.attr("hl")||t.attr("hi"))&&drawEncloseCharactersToSVG(t,l,d)):drawEncloseCharactersToSVG(t,l,d)))}function p(){"p"===drawMedia?m2soft.crownix.Painter.updatePageNum({textDom:viewerTextDom,currentPage:parseInt(t.attr("no"))}):m2soft.crownix.Painter.updatePageNum(),null!==i&&i()}var f,g,m,w,x=new m2soft.crownix.ImageLoader({asyncOnAllLoad:!!go.options.showPageLoadingOverlay});go.options.scrollOptions.useInfiniteScroll&&"d"===drawMedia?(f=[],g=[],(m=function(t){var e=t.children();if(0<e.length)for(var i=0,n=e.length;i<n;i++){var r=(t=$(e[i])).prop("tagName").toUpperCase();g.push(e[i]),"PR"!==r&&"TB"!==r&&"TE"!==r&&"FC"!==r&&"SO"!==r&&"SG"!==r&&"IL"!==r&&"CA"!==r&&"SL"!==r||m(t)}})(t),o=parseInt($(canvasDom).parent().attr("no"))||$(canvasDom).parent().parent().attr("class"),w=go.pageRenderer.getRenderTask(o),g.map(function(t,e){"IM"!==t.nodeName&&"im"!==t.nodeName||f.push(t),w.add(u,$(t))}),w.add(p,null),w.add(function(){GuideManager.getInstance(go).getWindow()&&!GuideManager.getInstance(go).isEnabled||GuideManager.getInstance(go).show()},null),x.loadImage(f,e,w.start)):x.loadImage(t,e,function(){var o=function(t){var e=t.children();if(0<e.length)for(var i=0,n=e.length;i<n;i++){var r=(t=$(e[i])).prop("tagName").toUpperCase();u(t),"PR"!==r&&"TB"!==r&&"TE"!==r&&"FC"!==r&&"SO"!==r&&"SG"!==r&&"IL"!==r&&"CA"!==r&&"SL"!==r||o(t)}};o(t),p()})},this.useAdjustLetterSpace=function(t){useAdjustLetterSpace=t},this.useAdjustCharacterScale=function(t){useAdjustCharacterScale=t},this.updatePage=function(){for(var t=0;t<updateCallback.length;t++)"function"==typeof updateCallback[t]&&updateCallback[t]()},this.setUpdatePageCallback=function(t){updateCallback.push(t)},this.setFormFieldMode=function(t){this.formFieldMode=t},this.clearPage=function(){cxCanvas.clear()},this.createFormFields=function(t){for(var e=t.getTotalPage()-t.getRemovedPage().length,i=1;i<=e;i++){var n=t.getHeadForPage(i),r=t.getParsedPage(i),o=n.fontList,a=n.textAttrList,s=function(t){"FF"===(t.tagName&&t.tagName.toUpperCase())&&$(t).attr("ty")&&drawFormField($(t),o,a);var e=$(t).children();if(0<e.length)for(var i=0,n=e.length;i<n;i++)s(e[i])};s(r)}}},m2soft.crownix.Painter.adjustWidth=function(t){return void 0===t||.5==t||1==t?1:0==t?0:0<t?2*t-1:1},m2soft.crownix.Painter.applyPriorityToFaceAttr=function(t,e){var i=t.attr("fc"),n=t.attr("pt"),r=t.attr("al");if(i||n||r){t=$.extend({},e);return i&&(t.fc=i),n&&(t.pt=n),r&&(t.al=r),t}return e},m2soft.crownix.Painter.applyPriorityToLineAttr=function(t,e){var i=t.attr("lc"),n=t.attr("wd"),r=t.attr("st"),o=t.attr("ap");if(i||n||r||o){t=$.extend({},e);return i&&(t.lc=i),n&&(t.wd=m2soft.crownix.Painter.adjustWidth(n)),r&&(t.st=r),o&&(t.ap=o),t}return e},m2soft.crownix.Painter.adjustCoord=function(t,e,i,n){null!=i&&null!=i||(i=24.3),e=e||0;e=Math.floor(t/10.3+i)+(e%2==0?0:.5);return n&&1!=n&&(e-=e*n%1/n),e},m2soft.crownix.Painter.reverseAdjustCoord=function(t){return Math.floor(10.3*t)},m2soft.crownix.Painter.latexToSVG=function(t,e){if(m2soft.crownix.Util.getMathLibsInfo().support){t=t||"";var i=this.adjustCoord(e.attr("le")),n=this.adjustCoord(e.attr("ri")),r=this.adjustCoord(e.attr("to")),i=n-i,r=this.adjustCoord(e.attr("bo"))-r,t=MathJax.tex2svg(t).firstElementChild;return t.innerHTML&&-1<t.innerHTML.indexOf("data-mjx-error")&&(t=$('<svg xmlns="http://www.w3.org/2000/svg" width="98" height="76" role="img" focusable="false" viewBox="0 -716 4924 738" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="color: red" class=""><defs><path id="MJX-9-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path><path id="MJX-9-TEX-I-1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path><path id="MJX-9-TEX-I-1D449" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path><path id="MJX-9-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-9-TEX-I-1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path><path id="MJX-9-TEX-I-1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D43C" xlink:href="#MJX-9-TEX-I-1D43C"></use></g><g data-mml-node="mi" transform="translate(504,0)"><use data-c="1D441" xlink:href="#MJX-9-TEX-I-1D441"></use></g><g data-mml-node="mi" transform="translate(1392,0)"><use data-c="1D449" xlink:href="#MJX-9-TEX-I-1D449"></use></g><g data-mml-node="mi" transform="translate(2161,0)"><use data-c="1D434" xlink:href="#MJX-9-TEX-I-1D434"></use></g><g data-mml-node="mi" transform="translate(2911,0)"><use data-c="1D43F" xlink:href="#MJX-9-TEX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(3592,0)"><use data-c="1D43C" xlink:href="#MJX-9-TEX-I-1D43C"></use></g><g data-mml-node="mi" transform="translate(4096,0)"><use data-c="1D437" xlink:href="#MJX-9-TEX-I-1D437"></use></g></g></g></svg>')[0]).setAttribute("style","color: red"),t.setAttribute("width",i),t.setAttribute("height",r),t}},m2soft.ns("m2soft.crownix.Inquery"),m2soft.crownix.Inquery=function(){var l,d,c,f,h,u,p,g,m,w,x=m2soft.crownix.Resource,v=m2soft.crownix.Util,t=m2soft.crownix.FormDialog,b=m2soft.crownix.Message,a=m2soft.crownix.DateParser,e=m2soft.crownix.Constant,y="",C="",o="",s="yyyy/MM/dd HH:mm:ss",k=0,S=function(e){var t,i,n=$(".selectArrow").filter(nt("arrow"+e.id)),r=$(".iqSelect").filter(nt(e.id)),o=$(".iqInput").filter(nt("tb"+e.id));"en"==m2soft.crownix.Resource.language&&$(".crownix-inquery-inner .crownix-inquery-title").css({"font-size":"9pt","padding-left":"15px"}),v.os.windows&&v.browser.safari&&$(".iqSelect").css({"margin-top":"0px"}),v.browser.mobile||"co"!=e.ty?(o.css("position","absolute"),r.css({width:"258px",height:"27px","padding-right":"18px",border:"none",background:"transparent",display:"inline-block",opacity:0,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)","-moz-opacity":0,"-khtml-opacity":0}),n.css({position:"absolute","margin-left":"240px","margin-top":"10px"}),(v.browser.android||v.browser.androidDM)&&"1"===e.mu&&(t=$("<div>").addClass("selectAll").text("All").insertAfter(n),$(nt("tb"+e.id)).css({width:"185px","padding-right":t.width()+10+"px"}),t.on("click",{id:e.id},function(t){$(nt(t.data.id)).data("select_all")?($(nt(t.data.id)).data("select_all",!1),$(nt(t.data.id)+" option").prop("selected",!1)):($(nt(t.data.id)).data("select_all",!0),$(nt(t.data.id)+" option").prop("selected",!0));var e=[];r.find("option:selected").text(function(t){$(this).attr("select_all")||e.push($(this).text())}),$(nt("tb"+t.data.id)).val(e.join(","))}))):($(".crownix-inquery-scroll").css("position","static"),r.css({position:"absolute","z-index":100}),i=function(t){"1"===e.mu&&$(t.originalEvent.target).is("option, select")||($(".iqSelect").hide(),$("body").off("click",i),$(".crownix-inquery-scroll").off("scroll",i))},n.on("click",function(t){t.stopPropagation(),"none"==r.css("display")?(i(t),r.attr("size",Math.min(1==r.children().length?2:r.children().length,10)),r.css("display","block").css("top",o.position().top+o.outerHeight(!0)),r.focus(),$("body").on("click",i),$(".crownix-inquery-scroll").on("scroll",i)):r.hide()}))},T=function(){var t;4<k&&600<$(".crownix-inquery-overlay").width()?($(".scroll-area").css({width:"580px",float:"left"}),$(".crownix-inquery-scroll").css({width:"560px"}),$(".iqitem").css({width:"50%",float:"left",height:"60px"}),t=60*Math.ceil(k/2)+16+100,$(".crownix-inquery-outer").css({width:"580px","margin-left":"-300px"})):($(".crownix-inquery-scroll").css({width:"288px"}),$(".iqitem").css({width:"",float:"",height:"43px"}),t=55*k+16+100,$(".crownix-inquery-outer").css({width:"308px","margin-left":"-150px"})),$(".crownix-inquery-outer").css("height",t+"px"),$(".crownix-inquery-outer").css("max-height","50%"),226<(t=$(".crownix-inquery-outer").height())?$(".crownix-inquery-outer").css("min-height","226px"):$(".crownix-inquery-outer").css("min-height","171px"),$(".crownix-inquery-outer").css("max-height",$(".crownix-inquery-outer").height()+"px"),$(".crownix-inquery-scroll").css("height",$(".crownix-inquery-outer").height()-100+"px"),$(".crownix-inquery-outer").css({"margin-top":$(".crownix-inquery-outer").height()/-1.8+"px"})},I=function(e){$(nt("tb"+e.id)).on("change input keyup",function(t){t.preventDefault(),t.stopPropagation(),"input"!=t.type&&"keyup"!=t.type||("co"===e.ty?i:n)(e),r(e)})},i=function(t){var e=$(nt("tb"+t.id)),i=$(nt("save"+t.id));$(nt(t.id)).data("selectedIdx",0);var n=e.val(),e=i.val();if($(nt(t.id)+" option").prop("selected",!1),"1"===t.mu)for(var r=n.split(","),o=0;o<r.length;o++)$(nt(t.id)+" option:contains("+r[o]+")").prop("selected","selected");else $(nt(t.id)+" option:contains("+n+")").prop("selected","selected");void 0===e||""==n||n==e||(e=j(t.id,n,t.mu)).length&&(f[t.id]="1"===t.mu?"'"+e.replace(/\,/g,"','")+"'":e,i.val(n),U(t.id))},n=function(t){var e=$(nt("tb"+t.id));f[t.id]=e.val(),U(t.id)},r=function(t){"1"==t.rq&&(""==(t=$(nt("tb"+t.id))).val()?t.css({color:"#4D3838",background:"#D37979"}):t.css({color:"initial",background:"#fff"}))},M=function(r){$(nt(r.id)).change(function(t){t.preventDefault(),t.stopPropagation();var e,i=[],n=[];"1"!==r.mu||0!=$(this).find("option:selected").index()||v.browser.android&&v.browser.androidDM||($(this).data("select_all")?v.browser.mobile||(e=!1):e=!0,null==e?(e=!1,$(this).data("select_all",e),$(nt(r.id)+" option:eq(0)").prop("selected",e)):($(nt(r.id)+" option").prop("selected",e),$(this).data("select_all",e))),"1"===r.mu&&$(this).data("select_all")&&0!=$(this).find("option:selected").index()&&v.browser.ios&&($(this).data("select_all",!1),$(nt(r.id)+" option").prop("selected",!1)),$(this).find("option:selected").text(function(t){$(this).attr("select_all")||(i.push($(this).text()),n.push($(this).val()))}),$(nt(r.id)).data("selectedIdx",$(this)[0].selectedIndex),"1"===r.mu?f[$(this).attr("id")]=0<n.length?"'"+n.join("','")+"'":n:f[$(this).attr("id")]=0<n.length?n[0]:"",$(nt("tb"+$(this).attr("id"))).val(i.join(",")).change(),U(r.id),v.browser.ios&&$(this).blur()})},A=function(i){$(nt("tb"+i.id)).on("focusout",function(t){t.preventDefault(),t.stopPropagation();var e=$(nt("tb"+i.id)).val(),t=$(nt(("ca"===i.ty?"ca":"save")+i.id)).val();""==e||e==t||(t=j(i.id,e,i.mu)).length&&("ca"===i.ty?($(nt("ca"+i.id)).val(e),$(nt("date"+i.id)).val(rt(i.sc,e,O(i.cl),i.ac,s)),f[i.id]=a.formatDate(i.ac,new Date($(nt("date"+i.id)).val()),O(i.cl)),U(i.id)):(f[i.id]=t,$(nt("save"+i.id)).val(e),F(i.id)))})},F=function(t){for(var e in h){var i=h[e],n=i.pv;e!=t&&"co"==i.ty&&void 0!==n&&-1<n.indexOf(t)&&($(nt(e)).empty(),"0"!==i.an&&$(nt(e)).append('<option value=""></option>'))}},E=function(o){$(nt("date"+o.id)).on("change",function(t){var e=o.sc,i=o.ac,n=$(nt("date"+o.id)).val(),r=O(o.cl);0<n.length&&(n=new Date(a.getDateFromFormat(s,n,r)),$(nt("tb"+o.id)).val(a.formatDate(e,n,r)),$(nt("tb"+o.id)).css({color:"initial",background:"#fff"}),$(nt("ca"+o.id)).val(a.formatDate(i,n,r)),f[o.id]=a.formatDate(i,n,r),U(o.id))})},P=function(o){$(nt("tb"+o.id)).on("change input keyup",function(t){var e=o.sc,i=$(nt("date"+o.id)).val(),n=$(nt("tb"+o.id)).val(),r=o.cl;"1"==o.rq&&0==n||!D(i,e,n,r)?$(nt("tb"+o.id)).css({color:"#4D3838",background:"#D37979"}):$(nt("tb"+o.id)).css({color:"initial",background:"#fff"})})},D=function(t,e,i,n){if(0==i.length)return!0;i=R(t,e,i,O(n),s);return a.isDate(s,i,O(n))},O=function(t){var e=t;return-1<t.indexOf("english")?e="en":-1<t.indexOf("korean")?e="ko":-1<t.indexOf("japanese")?e="ja":-1<t.indexOf("chinese")&&(e="zh-CN"),e},_=function(t){var e=g.calendarComboStartYear,i=g.calendarComboEndYear;$(nt("date"+t.id)).crownixdatepicker({dateFormat:s,showOn:"button",buttonImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REQ2QTZFQjI2NUNDMTFFNEE3MTM4OTE2QTA5QUUwODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REQ2QTZFQjM2NUNDMTFFNEE3MTM4OTE2QTA5QUUwODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERDZBNkVCMDY1Q0MxMUU0QTcxMzg5MTZBMDlBRTA4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERDZBNkVCMTY1Q0MxMUU0QTcxMzg5MTZBMDlBRTA4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoPHgkcAAADwSURBVHjaYviPAb5u3fomOxtI/scBsCpgBGIGVPAqPBzCEFu5kgEbwKqABYj/vX//fc+enydO/HnyBE0zXA8coCl4V1zMbmHB6eICMghoytc1axjIAkC7/4D1ggyCmCJQW8umo4PffkwA1PWhuRloAhNcCG4KT3w8s6gokMSlGVkBXBcosCEBgdVygmEEV8PEQCXAgl+aYBjBAQ1c9Hn2bOoYxJuaSp4RwGRIy8BGzkfEsKkf2FQziEDKJgZAtI+GEeEwQrjo15UrZJgC1wVy0ZfFi79t2UKJv7h8fFggFCMHB6TwJzlnyMhACn+AAAMATZTDsO74jnoAAAAASUVORK5CYII=",buttonImageOnly:!0,onClose:function(t,e){$(this).attr("disabled",!1)},beforeShow:function(t,e){$(this).attr("disabled",!0)},changeMonth:g.useCalendarComboBox,changeYear:g.useCalendarComboBox,showButtonPanel:!0,yearRange:e||i?e+":"+i:"c-10:c+10"})},N=function(e){if(m.isAllowedFeature("FormField")&&p)$(this).blur(),d.show(x.get("inquery_formfield_reset"),{type:"confirm",inputHandler:function(t){t&&(m.isAllowedFeature("Note")&&g.enableNote&&v.isSupportSVG()?d.show(x.get("inquery_note_reset"),{type:"confirm",inputHandler:function(t){e(t)}}):e(!0))}});else{if(!(m.isAllowedFeature("Note")&&g.enableNote&&v.isSupportSVG()))return e(!0);$(this).blur(),d.show(x.get("inquery_note_reset"),{type:"confirm",inputHandler:function(t){t&&(m.isAllowedFeature("FormField")&&p?d.show(x.get("inquery_formfield_reset"),{type:"confirm",inputHandler:function(t){e(t)}}):e(!0))}})}},L=function(t,e){if(t)0<e.length&&($(this).blur(),d.show(x.get("submit_fail_not_filled_required_form")+"<br />"+e));else{for(var i in h){var n=$(nt("tb"+i)).val(),r=$(nt(i)).data("selectedIdx")?B(i):j(i,n,h[i].mu);0<n.length&&void 0!==r&&(n=r),void 0!==$(nt("ca"+i)).val()&&(n=$(nt("ca"+i)).val()),"1"!=h[i].mu||!n||((r=$(nt(i)).attr("type"))<2||7<r)&&(n="'"+n.replace(/\,/g,"','")+"'"),f[i]=n}$(".crownix-inquery-overlay").hide(),$(".crownix-inquery-outer").hide(),3<w?o=z():(q(),G()),g.isInquery=!0,u(y,C,g)}},R=function(t,e,i,n,r){t=new Date(a.getDateFromFormat(s,t,n)),t=new Date(a.getDateFromFormat(e,i,n,t));return a.formatDate(r,t,n)},B=function(t){if($(nt(t))[0]){for(var e=[],i=$(nt(t))[0].options,n=0;n<i.length;n++)i[n].selected&&e.push(i[n].value);return e.join(",")}},j=function(t,e,i){var n=[],r="1"==i?e.split(","):"";return $(nt(t)).find("option").text(function(){"1"==i?-1!=r.indexOf($(this).text())&&n.push($(this).val()):e!==$(this).text()||n.length||n.push($(this).val())}),!n.length&&e&&n.push(e),n.join(",")},H=function(t,e,i){var n="",t=$(nt(t)).find("option");if((n=t.length?t.filter(function(t){return!!e&&("1"!=i?e===$(this).val():-1!=e.replace(/\'/g,"").split(",").indexOf($(this).val()))}):n).length){for(var r=[],o=0;o<n.length;o++)r.push($(n[o]).text());return r.join(",")}return e&&"1"==i?n=e.replace(/\'/g,""):e},z=function(){var t,e=["/rp "],i=["/rv"],n=0;for(t in f)0==t.indexOf("$")?n=Math.max(n,Number(t.replace("$",""))):i.push(" "+t+"["+f[t]+"]");for(var r=1;r<=n;r++)void 0!==f["$"+r]?e.push("["+f["$"+r]+"]"):e.push("[]");return(1<e.length?e.join(""):"")+" "+(1<i.length?i.join(""):"")},q=function(){var t,e=["/rp "],i=["/rv"],n=0;for(t in f)0==t.indexOf("$")?n=Math.max(n,Number(t.replace("$",""))):i.push(" "+t+"["+f[t]+"]");for(var r=1;r<=n;r++)void 0!==f["$"+r]?e.push("["+f["$"+r]+"]"):e.push("[]");C=null!==(C=null!==C.match(/\/rp\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g)?C.replace(/\/rp\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g,e.join("")):C.concat(" ",1<e.length?e.join(""):"")).match(/\/rv\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g)?C.replace(/\/rv\s+.*?\](?=\s*\/r[a-zA-Z]+|\s*$|(\r\n|\n|\r))/g,i.join("")):C.concat(" ",1<i.length?i.join(""):"")},G=function(){var t=C.match(/\B\/rdonotreport(ex|)\s*(\[[^\]]*\])/g);C=null!==t?(t=t.toString(),y=t.substring(t.indexOf("[")+1,t.indexOf("]")),C.replace(/\B\/rdonotreport(ex|)\s*(\[[^\]]*\])/g,"")):C.replace(/\B\/rdonotreport(ex|)\b/g,"")},U=function(t){for(var e in h){var i=h[e],n=i.pv;e!=t&&"co"==i.ty&&void 0!==n&&-1<n.indexOf(t)&&W(i)}},W=function(t){if(0==t.db)(void 0===t.sp?V:J)(t);else if(1==t.db){for(var e=t.ad.split(t.se),i=t.sd.split(t.se),n="0"!==t.an?'<option value=""></option>':"",r="1"===t.mu?v.browser.android||v.browser.androidDM?[]:["<option select_all=false>"+x.get("select_all")+"</option>"]:[n],o=0;o<e.length;o++){var a="";if(f[t.id])for(var s="1"===t.mu?f[t.id].replace(/\'/g,"").split(","):f[t.id],l=0;l<s.length;l++)s[l]==e[o]&&(a=" selected");r.push('<option value="'+e[o]+'"'+a+">"+i[o]+"</option>")}$(nt(t.id)).append(r.join(""))}},V=function(n){var t={opcode:106,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",RDFile:"viewer.rdf",RDClient:"RD.Viewer",ComName:"HTML5Viewer",RDParam:"viewer.rdf",charset:"UTF-8",checkcache:0,checkcachedate:0,cachedate:0,service:n.ds,encsql:1,charset:"UTF-8",queryinfo:1,selectquery:n.qr,inquery:JSON.stringify(f)};$.ajax({type:"POST",url:c,data:et(t),async:!1,success:function(t,e,i){Y(i,n)},error:function(t,e,i){Z(t,e,i)},complete:function(t){tt(t)}})},J=function(n){var t={opcode:112,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",RDFile:"viewer.rdf",RDClient:"RD.Viewer",ComName:"HTML5Viewer",RDParam:"viewer.rdf",charset:"UTF-8",service:n.ds,encsql:1,charset:"UTF-8",queryinfo:1,spname:n.sp,vcount:n.pa.length,inquery:JSON.stringify(f)};$.ajax({type:"POST",url:c,data:et(t)+it(n),async:!1,success:function(t,e,i){Y(i,n)},error:function(t,e,i){Z(t,e,i)},complete:function(t){tt(t)}})},Y=function(t,e){X(t)||(t=Q(t),$(nt(e.id)).empty(),$(nt(e.id)).append(K(t,e)),$(nt(e.id)).attr("type",t[0].type),$(nt(e.id)).find("option:selected").attr("selected")||$(nt(e.id)).prop("selectedIndex",-1),v.browser.android&&v.browser.androidDM||"1"!==e.mu||$(nt(e.id)).find("option:selected").length!=$(nt(e.id)).find("option").length-1||($(nt(e.id)).data("select_all",!0),$(nt(e.id)+" option:eq(0)").prop("selected",!0)))},X=function(t){return 0===t.responseText.indexOf("0")&&($(this).blur(),d.show(t.responseText.replace("0|","")),b.progress.hide(l),!0)},Q=function(t){var e=t.responseText.split("\n");if("1|1008|0"!=e[0])return $(this).blur(),d.show(x.get("request_server_error")),void b.progress.hide(l);for(var i=e[1],n={},r=0;r<i;r++){var o=e[2+r].split("|");n[r]={name:o[0],type:o[1],size:o[2],data:[]}}if("1|1008|0"!=e[2+Number(i)])return $(this).blur(),d.show(x.get("request_server_error")),void b.progress.hide(l);for(var a=e[Number(i)+3].split("|"),r=0;r<a.length-1;r+=Number(i))for(var s=0;s<i;s++)n[s].data.push(a[r+s]);return n},K=function(t,e){for(var i,n=Object.keys(t).length,r=[],o=[],a="0"!==e.an?'<option value=""></option>':"",s="1"===e.mu?v.browser.android||v.browser.androidDM?[]:["<option select_all=false>"+x.get("select_all")+"</option>"]:[a],l=e.ad.toUpperCase(),d=e.sd.toUpperCase(),c=0;c<n;c++)l!=(i=t[c].name.toUpperCase())&&l.replace(/.*\./,"")!=i||(o=t[c].data),d!=i&&d.replace(/.*\./,"")!=i||(r=t[c].data);for(c=0;c<o.length;c++){var h="";if(f[e.id])if("1"===e.mu)for(var u=f[e.id].replace(/\'/g,"").split(","),p=0;p<u.length;p++)u[p]==o[c]&&(h=" selected");else f[e.id]===o[c]&&(h=" selected");s.push('<option value="'+o[c].replace(/\s+$/,"")+'"'+h+">"+r[c].replace(/\s+$/,"")+"</option>")}return s.join("")},Z=function(t,e,i){$(this).blur(),"error"==e?d.show(x.get("server_connect_error")):"timeout"==e?d.show(x.get("request_timeout_error")):"abort"==e?d.show(x.get("request_abort_error")):null!=i&&d.show(i),b.progress.hide(l)},tt=function(t){t={opcode:99,"User-Agent":"ReportDesigner",pwkey:"M2-S20040515-RDAGENT",rdid:"-"+t.getResponseHeader("RDID")};$.ajax({type:"POST",url:c,data:et(t),async:!1})},et=function(t){var e,i=[];for(e in t)i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i.join("&")},it=function(t){var e,i=["&"];for(e in t.pa)i.push("colval="+encodeURIComponent(t.pa[e]));return i.join("&")},nt=function(t){return"#"+(t=t.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&"))},rt=function(t,e,i,n,r){e=a.getDateFromFormat(t,e,i,void 0,void 0,!0);if(0==e)return a.formatDate(r,new Date,i);e=new Date(e);return a.formatDate(r,e,i)},ot=function(){l=$("#"+e.CONTAINER_ID),d=new t("#"+e.CONTAINER_ID)};return ot.prototype={constructor:m2soft.crownix.InqueryDialog,setData:function(t,e,i,n,r,o,a,s,l,d){c=t,f=e,h=i,u=n,y=r,C=o,p=a,g=s,m=l,w=d,function(){var t,e={};for(t in h)e[t]="";f=Object.assign(e,f)}(),0!==k&&(k=0,$(".crownix-inquery-overlay").remove(),$(".crownix-inquery-outer").remove())},show:function(){0<$(".crownix-inquery-outer").length?(T(),$(".crownix-inquery-overlay").fadeIn(100),$(".crownix-inquery-outer").fadeIn(200)):b.progress.show(l,"",function(){l.parent().append('<div class="crownix-inquery-overlay" id="iOverlay">&nbsp;</div>'),$(".crownix-inquery-overlay").css("height","100%").css("width","100%").fadeIn(100),l.parent().append('<div class="crownix-inquery-outer"></div>'),$(".crownix-inquery-outer").append('<div class="crownix-inquery-inner" id="inquery-inner"></div>'),$(".crownix-inquery-inner").append('<div class="crownix-inquery-title"></div>'),$(".crownix-inquery-outer").fadeIn(200),function(){for(var t in $(".crownix-inquery-inner").append('<div class="crownix-inquery-scroll" id="inquery-scroll"></div>'),$(".crownix-inquery-scroll").append('<hr class="scroll-area" />'),h){var e,i="iq"+t,n=h[t];$("<div>").attr("id",i).addClass("iqitem").appendTo(".crownix-inquery-scroll"),$("<div>").attr("class","iqCaption").appendTo(nt(i)).text(n.ca),"co"==n.ty?(e="","1"==n.il&&(e="  readonly"),$(nt(i)).append('<input id="tb'+t+'" type="text" class="iqCombo iqInput"'+e+'/><div id="arrow'+t+'" class="selectArrow"></div>'),$(nt(i)).append('<select id="'+t+'" class="iqSelect" '+("1"==n.mu?"multiple":"")+"></select>"),$(nt(i)).append('<input id="save'+t+'" type="hidden" />'),W(n),I(n),M(n),A(n)):"tf"==n.ty?($(nt(i)).append('<input id="tb'+t+'" type="text" class="iqCombo" />'),I(n)):"ca"==n.ty&&((r=$("<div>").css("position","relative").appendTo(nt(i))).append('<input id="tb'+t+'" type="text" class="iqCombo iqInput" />'),r.append('<input id="date'+t+'" type="text" style="font-size: 1px; border: 0px; height: 0px"/>'),r.append('<input id="ca'+t+'" type="hidden" />'),_(n),E(n),P(n),A(n));var r,i=nt("tb"+t);"co"==n.ty?($(i).val(H(t,f[t],n.mu)),$(nt("save"+t)).val(f[t]&&"1"==n.mu?f[t].replace(/\'/g,""):f[t])):"ca"==n.ty?(r=rt(n.ac,f[t],O(n.cl),n.sc,s),$(nt("date"+t)).val(r).change()):$(i).val(f[t]),k++,S(n)}$(".crownix-inquery-scroll").append('<hr class="scroll-area" style="margin-top: 10px"/>'),$(".crownix-inquery-inner .crownix-inquery-title").append(x.get("insert_inquery_condition").replace("%d",k)),T()}(),$(".crownix-inquery-inner").append('<div class="iButtons"></div>'),$(".iButtons").append('<button value="ok">'+x.get("ok_button_text")+"</button>"),$(".iButtons").append('<button value="cancel">'+x.get("cancel_button_text")+"</button>"),$(".crownix-inquery-outer").keydown(function(t){$(".crownix-inquery-overlay").is(":visible")&&(13==t.keyCode&&$('.iButtons > button[value="ok"]').click(),27==t.keyCode&&$('.iButtons > button[value="cancel"]').click())}),$('.iButtons > button[value="ok"]').click(function(){var t,e=!1,i="";for(t in h){var n,r,o,a,s=h[t],l=nt("tb"+t);"1"==s.rq&&""==$(l).val()&&($(l).change(),i+="["+(""!=s.ca?s.ca:s.id)+"]",e=!0),"ca"==s.ty&&(n=s.sc,a=$(nt("date"+s.id)).val(),o=$(nt("tb"+s.id)).val(),r=s.cl,D(a,n,o,r)?0<o.length&&(n=s.sc,l=s.ac,r=O(s.cl),o=$(nt("tb"+s.id)).val(),a=$(nt("date"+s.id)).val(),l=R(a,n,o,r,l),$(nt("ca"+s.id)).val(l)):($(this).blur(),d.show(x.get("inquery_calendar_format_error")),e=!0))}N(function(t){t&&L(e,i)})}),$('.iButtons > button[value="cancel"]').click(function(){$(".crownix-inquery-overlay").hide(),$(".crownix-inquery-outer").hide()}),b.progress.hide(l)})},getMrdPlainParam:function(){return o}},ot}(),m2soft.ns("m2soft.crownix.ShapeEditor"),m2soft.crownix.ShapeEditor=function(o,b){function y(t,e){if(0==t.length)return"";for(var i=$("<note>"),n=0,r=t.length;n<r;n++){var o=t[n];e&&e.length&&-1!=e.indexOf(o.tool)||("text"!=o.type?$("<element>").attr({type:o.tool,svgType:o.type,path:o.getPath?o.getPath().toString():o.path,"stroke-color":(o.attrs||o).stroke,"stroke-opacity":(o.attrs||o)["stroke-opacity"],"stroke-width":(o.attrs||o)["stroke-width"],"stroke-linecap":(o.attrs||o)["stroke-linecap"],"stroke-linejoin":(o.attrs||o)["stroke-linejoin"],"page-no":o["page-no"]}):$("<element>").attr({type:o.tool,svgType:o.type,x:o.x,y:o.y,width:o.width,height:o.height,"font-color":Raphael.color(o["font-color"]).hex,"font-size":Math.round(h.pxToPt(parseInt(o["font-size"]))),"text-anchor":o["text-anchor"],"font-weight":o["font-weight"],"font-style":o["font-style"],"text-decoration":o["text-decoration"],line:0!=o["stroke-width"],fill:0==o.opacity?"transparent":o.fill,opacity:o.opacity,"page-no":o["page-no"]}).text(o.text)).appendTo(i)}return i[0].outerHTML}function t(t,e){var t=$(t),i=[];return t.children().each(function(){var t=$(this);if(e&&e.length&&-1!=e.indexOf(t.attr("type")))return!0;"text"!=t.attr("type")?i.push({type:t.attr("svgType"),tool:t.attr("type"),path:t.attr("path"),stroke:t.attr("stroke-color"),"stroke-opacity":t.attr("stroke-opacity"),"stroke-width":t.attr("stroke-width"),"stroke-linecap":t.attr("stroke-linecap"),"stroke-linejoin":t.attr("stroke-linejoin"),"page-no":t.attr("page-no")}):i.push({type:t.attr("svgType"),tool:t.attr("type"),x:parseInt(t.attr("x")),y:parseInt(t.attr("y")),width:parseInt(t.attr("width")),height:parseInt(t.attr("height")),text:t.text(),"font-color":function(t){t=Raphael.getRGB(t);return"rgb("+t.r+", "+t.g+", "+t.b+")"}(t.attr("font-color")),"font-size":Math.round(h.ptToPx(parseInt(t.attr("font-size"))))+"px","text-anchor":t.attr("text-anchor"),"font-weight":"bold"==t.attr("font-weight")?t.attr("font-weight"):parseInt(t.attr("font-weight")),"font-style":t.attr("font-style"),"text-decoration":t.attr("text-decoration"),"stroke-width":"true"==t.attr("line")?2:0,fill:"transparent"==t.attr("fill")?"#FAF4C0":t.attr("fill"),opacity:t.attr("opacity")||("transparent"==t.attr("fill")?0:1),"page-no":t.attr("page-no")})}),i}function a(n){var i={},r=[];function o(){var t;n?((t=n.context).closePath(),t.clearRect(0,0,$(n.canvas).width(),$(n.canvas).height())):(O.closePath(),O.clearRect(0,0,D.width(),D.height()))}this.start=function(t,e){var i;M=!0,r.push(["M",t,e]),n?((i=n.context).beginPath(),i.moveTo(t,e)):(O.beginPath(),O.moveTo(t,e))},this.move=function(t,e){var i;M=!0,r.push(["L",t,e]),n?((i=n.context).clearRect(0,0,$(n.canvas).width(),$(n.canvas).height()),i.lineTo(t,e),i.stroke()):(O.clearRect(0,0,D.width(),D.height()),O.lineTo(t,e),O.stroke())},this.end=function(t){if(2<r.length){if(function(){for(var t=0;t<r.length;t++)for(var e=r[t],i=0;i<e.length;i++)if("M"!==e[i]&&"L"!==e[i]&&isNaN(e[i]))return!0;return!1}())return o(),M=!1,r=[],void alert(S.get("invalid_note_path"));r[0][0]="M";var e=(n?n.paper:w).path(r);(i=e.attr(F)).type="path",i.realId=i.id,i.tool="scribble",n&&(i["page-no"]=n["page-no"]),A.push(i),t||(t={action:"scribble",element:i},n&&(t.paper=n.paper),I.add(t),b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"scribble",xml:y([i]),id:i.id}),b.options.mirroring.enable&&b.mirroringManager.externalEvent.sendDraw({type:"scribble",xml:y([i]),id:i.id,pageNo:b.currentPage})),o()}M=!1,r=[]},this.getName=function(){return"scribble"}}function s(h){function u(t){I.add({action:t?"eraseStart":"eraseFinish"})}function p(t,e,i,n,r){for(var o,a,s=A.length,l="path"===t?e:{x:e.sx,y:e.sy},d="path"===t?i:{x:i.ex,y:i.ey},c=0;c<s;c++)if(o=A[c]){if("text"===(a=o.type)){if(r&&-1<r.indexOf("text"))continue;if(!(o=q("path"===t?l:(l.x+d.x)/2,"path"===t?d:(l.y+d.y)/2,h&&h["page-no"]))||o.element!==A[c])continue}("text"===a||("path"===t?o.isInsidePath(l,d,_):o.isInsideRect(l,d)))&&function(t,e,i){if(!(A.length<=0)){A.splice(t,1)[0],i||(i={action:"erase",element:e},h&&(i.paper=h.paper),0===m.length&&u(!0),m.push(e),I.add(i),b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"erase",xml:y("text"===e.type?[e.element]:[e]),id:e.id}),b.options.mirroring.enable&&b.mirroringManager.externalEvent.sendDraw({type:"erase",xml:y("text"===e.type?[e.element]:[e]),id:e.id,pageNo:b.currentPage})),w.clear?w.clear():b.noteManager.clearAllPaper();for(var n=A.length,r=0;r<n;r++){var o=A[r],a=o.type;B&&!b.documentScroller.isLoaded(o["page-no"])||("text"!==a?B?G(o):((a=(w[a]||o.paper[a]).call(o.paper).attr(o.attrs)).realId=o.id,a.tool=o.tool):j(o))}}}(c,o,n)}}var i,n,f,g,m=[];this.start=function(t,e){i=f=t,n=g=e},this.move=function(t,e,i,n){if(t&&e){var r,o,a=Math.abs(t-f),s=Math.abs(e-g);if(5<=a||5<=s)for(r=Math.ceil((s<a?a:s)/5)||1,o=0;o<r;o++){var l=(t-f)/r,d=(e-g)/r,c=Math.ceil(f+l*o),h=Math.ceil(g+d*o),l=Math.ceil(c+l),d=Math.ceil(h+d);p("rect",{sx:c,sy:h},{ex:l,ey:d},i,n)}else p("path",t,e,i,n);f=t,g=e}},this.end=function(t,e){Math.abs(f-i)<5&&Math.abs(g-n)<5&&p("path",f,g,t,e),0<m.length&&!t&&u(!1),m=[]},this.getName=function(){return"eraser"}}function l(r){function o(t,e,i){return t=Math.max(t,0),e=Math.max(e,0),{x:t=Math.min(t,T.width()-i.width()),y:e=Math.min(e,T.height()-i.height())}}function a(){return{left:(f.offset().left-(r&&r.container||T).offset().left)/E,top:(f.offset().top-(r&&r.container||T).offset().top)/E}}function i(t,e){var i=e.css("text-align");return"right"==i?i="end":"center"==i?i="middle":"left"==i&&(i="start"),i={x:t.parentNode?t.parentNode.offsetLeft:t.x+6,y:t.parentNode?t.parentNode.offsetTop:t.y+6,width:(t.parentNode?$(t.parentNode).width():t.width)+6,height:(t.parentNode?$(t.parentNode).height():t.height)+6,"font-size":t.parentNode?e.css("font-size"):Math.round(parseFloat(e.css("font-size"))),text:e.val(),"font-weight":parseInt(e.css("font-weight")),"font-style":e.css("font-style"),"text-decoration":e.attr("text-decoration"),"font-color":e.val()?e.css("color"):e[0].style.color,"stroke-width":"solid #000000"==e.attr("border")?2:0,fill:e.attr("background-color")&&"transparent"!=e.attr("background-color")?e.attr("background-color"):"#FAF4C0",opacity:e.attr("opacity")?e.attr("opacity"):1,"text-anchor":i},r&&(i["page-no"]=t["page-no"]||r["page-no"]),i=j(i),i=H(i.textEl,i.rectEl),$(t.parentNode).hasClass("crownix-note-textnote")&&$(t.parentNode).remove(),i}function n(e){var t;if(b.shareManager&&b.shareManager.isConnected()&&(!k.browser.mobile||k.browser.mobile&&p)&&(p&&(t=y([p.element])),b.shareManager.sendNote({type:"text",xml:y([e]),oldXml:t})),b.options.mirroring.enable&&(!k.browser.mobile||k.browser.mobile&&p)&&(p&&(t=y([p.element])),b.mirroringManager.externalEvent.sendDraw({type:"text",xml:y([e]),oldXml:t,pageNo:b.currentPage})),p){for(var i=A.length-1;0<=i;i--)"text"==A[i].type&&p&&JSON.stringify(A[i])==JSON.stringify(p.element)&&(A[i]=e);z(),I.getHistory().forEach(function(t){t.element&&"text"==t.element.type&&JSON.stringify(t.element)==JSON.stringify(p.element)&&(t.element=e)})}else A.push(e),I.add({action:"text",element:e})}function s(t){t.preventDefault(),t.stopPropagation(),b.scroll.enabled=!1,k.browser.mobile?$(t.currentTarget).blur():N||((C||r.textDialog).showToolbar(t.currentTarget,r&&r.container||T),N=!0)}function l(t){if(L)return k.browser.msie&&$(t.currentTarget).focus(),void(L=!1);t.preventDefault(),t.stopPropagation(),N=!1,b.scroll.enabled=!0;var e=i(t.currentTarget,$(t.currentTarget));n(e),k.browser.mobile&&(C||r.textDialog).showDialog(t.currentTarget,e),b.toolbar.enable(),v=v||setTimeout(function(){v=null},300)}var d,c,h,u,p=null,f=null,g=!1,m=!1,w=!1,x=!1,v=null;this.init=function(){var t=r&&r.textNoteDom||f;t&&t.css("border","none"),m=g=x=R=!1,r&&r.textNoteDom?r.textNoteDom=null:f=null},this.start=function(t,e){if(p=q(d=t,c=e,r&&r["page-no"]))g=p.isWResize,m=p.isHResize,(f=$("<div>").addClass("crownix-note-textnote").appendTo(r&&r.container||T)).css({left:p.element.x,top:p.element.y,width:p.element.width-6,height:p.element.height-6}),w?(clearTimeout(w),x=!(w=null)):w=setTimeout(function(){w=null},300);else{if(v)return;f=$("<div>").addClass("crownix-note-textnote").appendTo(r&&r.container||T),b.options.textNote?(f.css({width:Math.min(b.options.textNote.width||f.width(),T.width()),height:Math.min(b.options.textNote.height||f.height(),T.height())}),e=o(d-f.width()/2,c-f.height()/2,f),f.css({left:e.x,top:e.y})):f.css({left:d,top:c})}r&&(r.textNoteDom=f)},this.move=function(t,e){var i,n;h=t,u=e,R=!0,null!=(f=r&&r.textNoteDom?r.textNoteDom:f)&&(f.css("border","3px dotted #FFC19E"),p?(g||m?(h>p.element.x?(h=Math.min((r&&r.container||T).width(),h),i=g?f.width()+h-d:f.width(),$(f).css({width:i})):(h=Math.max(h,0),i=p.element.x-d,g&&$(f).css({left:h,width:i})),u>p.element.y?(u=Math.min((r&&r.container||T).height(),u),n=m?f.height()+u-c:f.height(),$(f).css({height:n})):(u=Math.max(u,0),n=p.element.y-c,m&&$(f).css({top:u,height:n}))):(i=a().left+h-d,n=a().top+u-c,$(f).css({left:o(i,n,f).x,top:o(i,n,f).y}),f.offset().left<=0&&(r&&r.container||T).offset().left<=0&&b.scroll.scrollTo(b.scroll.x+5*E,b.scroll.y,1e3),f.offset().top<=b.toolbar.getHeight()&&(r&&r.container||T).offset().top<=b.toolbar.getHeight()&&b.scroll.scrollTo(b.scroll.x,b.scroll.y+5*E,1e3),b.scroll.wrapperWidth-5<=f.offset().left+f.width()*E&&b.scroll.scrollTo(b.scroll.x-5*E,b.scroll.y,1e3),b.scroll.wrapperHeight-5<=f.offset().top+f.height()*E&&b.scroll.scrollTo(b.scroll.x,b.scroll.y-5*E,1e3)),d=h,c=u):b.options.textNote||k.browser.android&&Math.abs(h-d)<=5&&Math.abs(u-c)<=5||(d<h?f.css({width:h-d}):f.css({left:h,width:d-h}),c<u?f.css({height:u-c}):f.css({top:u,height:c-u})))},this.end=function(){var t,e=r?r.textNoteDom:f;e&&(t=$("<textarea>").attr("placeholder",S.get("text_placeholder")).bind("focus",s).bind("blur",l).appendTo(e),b.toolbar.disable(),p?(function(t){for(var e=A.length-1;0<=e;e--)A[e]==p.element&&z(e);var i="end"==(i=p.element["text-anchor"])?"right":"middle"==i?"center":"left";t.css({color:p.element["font-color"],"font-size":p.element["font-size"],"font-weight":p.element["font-weight"],"font-style":p.element["font-style"],"text-align":i,"text-decoration":p.element["text-decoration"],border:0==p.element["stroke-width"]?"none":"solid #000000"}),t.attr({border:0==p.element["stroke-width"]?"none":"solid #000000","background-color":p.element.fill,opacity:p.element.opacity,"text-decoration":p.element["text-decoration"]}),r&&t.attr("page-no",r["page-no"]),t.val(p.element.text)}(t),x?t.focus():k.browser.mobile?(e=i(t[0],$(t[0])),n(e),b.toolbar.enable()):t.blur()):t.focus(),this.init())},this.getName=function(){return"text"},this.textareaToSvg=function(t,e){!function(e,i){var t,n=!1;b.shareManager&&b.shareManager.isConnected()&&(p&&(t=y([i])),b.shareManager.sendNote({type:"text",xml:y([e]),oldXml:t})),b.options.mirroring.enable&&(p&&(t=y([i])),b.mirroringManager.externalEvent.sendDraw({type:"text",xml:y([e]),oldXml:t,pageNo:b.currentPage})),I.getHistory().forEach(function(t){"text"==t.element.type&&JSON.stringify(t.element)==JSON.stringify(i)&&(t.element=e,n=!0)}),n||p||A.push(e);for(var r=A.length-1;0<=r;r--)"text"==A[r].type&&JSON.stringify(A[r])==JSON.stringify(i)&&(A[r]=e,n=!0);z()}(i(t,e),t)},this.redrawElement=function(){z()}}function d(n){function r(t,e){return{x:Math.round((t-(n&&n.container||T).offset().left)/E),y:Math.round((e-(n&&n.container||T).offset().top)/E)}}function e(t){n&&U(n.canvas.getContext("2d")),N?$(t.target).parents().each(function(t,e){return $(e).hasClass("crownix-note-textnote")?!(L=!0):void(L=!1)}):(t.preventDefault(),t.stopPropagation(),$(document).on(p.move,s),$(document).on(p.end,l),t=r(t.originalEvent.pageX,t.originalEvent.pageY),(n?n.tool:f).start(t.x,t.y),b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"start",x:t.x,y:t.y,tool:f.getName(),attribute:F}),b.options.mirroring.enable&&b.mirroringManager.externalEvent.sendDraw({type:"start",x:t.x,y:t.y,tool:f.getName(),attribute:F,pageNo:b.currentPage}))}function i(t){t.preventDefault(),t.stopPropagation(),"text"==(n?n.tool:f).getName()?(n&&n.container||T).on(p.move,d):(t.target.style.cursor="",(n&&n.container||T).off(p.move,d)),(n&&n.container||T).on(p.out,c)}function o(t){var e;n&&U(n.canvas.getContext("2d")),2<=t.originalEvent.touches.length?a=!0:(a=!1,t.preventDefault(),t.stopPropagation(),(e=n&&n.container||T).on("touchmove",h),e.on("touchend",u),t=r(t.originalEvent.touches[0].pageX,t.originalEvent.touches[0].pageY),(n&&n.tool||f).start(t.x,t.y),b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"start",x:t.x,y:t.y,tool:f.getName(),attribute:F}))}var a=!1,s=function(t){t.preventDefault(),t.stopPropagation();t=r(t.originalEvent.pageX,t.originalEvent.pageY);(n?n.tool:f).move(t.x,t.y),b.shareManager&&b.shareManager.isConnected()&&"text"!==f.getName()&&b.shareManager.sendNote({x:t.x,y:t.y}),b.options.mirroring.enable&&"text"!==f.getName()&&b.mirroringManager.externalEvent.sendDraw({x:t.x,y:t.y,pageNo:b.currentPage})},l=function(t){b.shareManager&&b.shareManager.isConnected()&&"text"!=f.getName()&&b.shareManager.sendNote({type:"end"}),b.options.mirroring.enable&&"text"!=f.getName()&&b.mirroringManager.externalEvent.sendDraw({type:"end",pageNo:b.currentPage,excludeNoteType:b.options.mirroring.excludeNoteType}),t.preventDefault(),t.stopPropagation(),$(document).off(p.move,s),$(document).off(p.end,l),(n?n.tool:f).end()},d=function(t){var e,i;N?t.target.style.cursor="":(e=r(t.originalEvent.pageX,t.originalEvent.pageY),(i=q(e.x,e.y,n&&n["page-no"]))?(e=i.isWResize,i=i.isHResize,t.target.style.cursor=e&&!i?"e-resize":!e&&i?"n-resize":e&&i?"nw-resize":"move"):t.target.style.cursor="")},c=function(t){t.preventDefault(),t.stopPropagation();t=n&&n.container||T;t.off(p.move,d),t.off(p.out,c)},h=function(t){a?f.init():(t.preventDefault(),t.stopPropagation(),t=r(t.originalEvent.touches[0].pageX,t.originalEvent.touches[0].pageY),(n&&n.tool||f).move(t.x,t.y),b.shareManager&&b.shareManager.isConnected()&&"text"!=f.getName()&&b.shareManager.sendNote({x:t.x,y:t.y}))},u=function(t){a||(b.shareManager&&b.shareManager.isConnected()&&"text"!=f.getName()&&b.shareManager.sendNote({type:"end"}),t.preventDefault(),t.stopPropagation(),(t=n&&n.container||T).off("touchmove",h),t.off("touchend",u),(n&&n.tool||f).end())};this.on=function(){var t=n&&$(n.container)||T;k.hasTouch()?t.on("touchstart",o):(t.on(p.start,e),t.on(p.over,i))},this.off=function(){var t=n&&n.container||T;k.hasTouch()?(t.off("touchstart",o),t.off("touchmove",h),t.off("touchend",u)):(t.off(p.start,e),t.off(p.move,s),t.off(p.end,l),t.off(p.over,i),t.off(p.move,d))}}function c(){function i(){"function"==typeof P&&P({undoable:t.undoable(),redoable:t.redoable(),clearable:0<A.length})}var t=this,l=[],d=-1,e=-1;t.undoable=function(){return-1<d&&e<d},t.redoable=function(){return d<l.length-1},t.add=function(t,e){d+1<l.length&&l.splice(d+1,l.length-(d+1)),l.push(t),d=l.length-1,!0!==e&&i()},t.undo=function(){t.undoable()&&(d--,function(){if(!(d<0)&&"erase"===l[d].action)for(var t=d-1;0<=t;t--)if("eraseStart"===l[t].action)return d=t-1}(),t.rebuildElements(),i())},t.redo=function(){t.redoable()&&(d++,function(){if("eraseStart"===l[d].action)for(var t=d+1;t<l.length;t++)if("eraseFinish"===l[t].action)return d=t}(),t.rebuildElements(),i())},t.freeze=function(t){e=void 0===t?d:t,i()},t.clear=function(){l=[],e=d=-1,i()},t.rebuildElements=function(){var t=[];b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"clearElement",rebuild:!0}),b.options.mirroring.enable&&b.mirroringManager.externalEvent.sendDraw({type:"clearElement",rebuild:!0,pageNo:b.currentPage});for(var e=0;e<=d;e++){var i=l[e];switch(i.action){case"scribble":t.push(i.element);break;case"erase":for(var n=0,r=t.length;n<r;n++){var o=t[n];if(null!=o.realId&&o.realId==i.element.realId){t.splice(n,1);break}if(null==o.realId&&i.element.element&&JSON.stringify(i.element.element)==JSON.stringify(o)){t.splice(n,1);break}}break;case"text":t.push(i.element);break;case"clear":t=[]}}if(w.clear?w.clear():b.noteManager.clearAllPaper(),b.shareManager&&b.shareManager.isConnected()||b.options.mirroring.enable){for(e=A.length-1;0<=e;e--)for(n=0;n<l.length;n++)if(l[n].element&&A[e].tool==l[n].element.tool&&"scribble"==A[e].tool&&A[e].getPath().toString()==l[n].element.getPath().toString()||"text"==A[e].tool&&"text"==l[n].element.tool&&JSON.stringify(A[e])==JSON.stringify(l[n].element)){A.splice(e,1);break}for(e=0;e<A.length;e++)t.push(A[e])}A=[];for(e=0,r=t.length;e<r;e++){var a,s=t[e];"text"!=s.type?B?(G(s),A.push(s)):((a=s.paper[s.type]().attr(s.attrs)).realId=s.id,a.tool=s.tool,a["page-no"]=s["page-no"],A.push(a)):(a=j(s),A.push(H(a.textEl,a.rectEl))),b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"scribble",xml:y([s]),rebuild:!0}),b.options.mirroring.enable&&b.mirroringManager.externalEvent.sendDraw({type:"scribble",xml:y([s]),rebuild:!0,pageNo:b.currentPage})}},t.getHistory=function(){return l},i()}function i(){var t=F.stroke,e=F["stroke-opacity"],i=F["stroke-width"],t=Raphael.getRGB(t);O.strokeStyle="rgba("+t.r+","+t.g+","+t.b+","+e+")","string"==typeof i&&-1!==i.indexOf("pt",i.length-2)?(e=i.substring(0,i.length-2),e=parseInt(e,10),O.lineWidth=e*_/72):O.lineWidth=i,O.lineCap=F["stroke-linecap"],O.lineJoin=F["stroke-linejoin"]}function n(t){var e=k.browser.firefox?122:26,i=k.browser.firefox?121:25;t.ctrlKey&&t.which===e?I.undo():t.ctrlKey&&t.which===i&&I.redo()}var C,k=m2soft.crownix.Util,h=m2soft.crownix.util.Unit,S=m2soft.crownix.Resource,u=m2soft.crownix.TextDialog,p=m2soft.crownix.Util.ActionEvents,r=m2soft.crownix.Constant,T={},w={},f={},g={},m={},x={},I={},v={},M=!1,A=[],F={stroke:"#000000","stroke-width":"2pt","stroke-opacity":1,"stroke-linecap":"round","stroke-linejoin":"round"},E=1,P=null,D={},O={},_=96,N=!1,L=!1,R=!1,B=b.options.scrollOptions.useInfiniteScroll,j=function(t,e){var i=e||w,n=(i=void 0===(i=b.options.mirroring.enable&&-1!=b.options.mirroring.excludeNoteType.indexOf("text")?Raphael(document.createElement("div"),T.width(),T.height()):i).rect?(a=b.noteManager.noteElementMap[t["page-no"]])?a.paper:Raphael(document.createElement("div"),T.width(),T.height()):i).rect(t.x,t.y,t.width,t.height).attr({fill:t.fill,opacity:t.opacity,"stroke-width":t["stroke-width"]}),r=i.text(0,0,t.text).attr({"text-anchor":t["text-anchor"],"font-size":Math.round(parseFloat(t["font-size"]))+"px","font-weight":t["font-weight"],"font-style":t["font-style"],fill:t["font-color"],"clip-rect":[t.x,t.y,t.width,t.height].join(" ")}).data("text",t.text);t.text&&r.attr("text",function(t,e){for(var i=t.data("text").split("\n"),n=[],r="",o=0,a=i.length;o<a;o++)if(i[o])for(;i[o];){t.attr("text",i[o]);var s=t.getBBox().width/t.attr("text").length,s=Math.max(1,Math.floor(e/Math.ceil(s)));n.push(i[o].substring(0,s)),i[o]=i[o].substring(0+s,i[o].length)}else n.push(i[o]);for(o=0,a=n.length;o<a;o++)r+=n[o],n[o]||(r+=" "),o<a-1&&(r+="\n");return r}(r,t.width-6)),r.attrs["page-no"]=t["page-no"],r.attrs["text-decoration"]=t["text-decoration"],$(r.node).css({"text-decoration":t["text-decoration"]}).append(" "),$(r.node).children().css("white-space","pre");var o=r.getBBox(),e=t.x+3,a=t.y+o.height/2+3,o=t.width-6;t.height;return"middle"==r.attr("text-anchor")?e+=o/2:"end"==r.attr("text-anchor")&&(e+=o),r.attr({x:e,y:a}),i.path(["M",t.x+t.width-.5,t.y+t.height-9.5,"l",-9.5,9.5,"M",t.x+t.width-.5,t.y+t.height-4.5,"l",-4.5,4.5].join(",")).attr({stroke:"#8C8C8C"}),{textEl:r,rectEl:n}},H=function(t,e){return{type:"text",tool:"text",x:e.attrs.x,y:e.attrs.y,width:e.attrs.width,height:e.attrs.height,text:t.data("text"),"font-color":t.attrs.fill,"font-size":t.attrs["font-size"],"text-anchor":t.attrs["text-anchor"],"font-weight":t.attrs["font-weight"],"font-style":t.attrs["font-style"],"text-decoration":t.attrs["text-decoration"],"stroke-width":e.attrs["stroke-width"],fill:e.attrs.fill,opacity:e.attrs.opacity,"page-no":t.attrs["page-no"]}},z=function(t){w.clear?w.clear():b.noteManager.clearAllPaper();for(var e=0,i=A.length;e<i;e++){var n=A[e];B&&!b.documentScroller.isLoaded(n["page-no"])||("text"===n.type&&t!=e?j(A[e]):"path"===n.type&&(B?G(n):(w[n.type]||n.paper[n.type]).call(n.paper).attr(n.attrs)))}},q=function(t,e,i){var n=k.browser.mobile?20:8;if(!R){for(var r=A.length-1;0<=r;r--)if("text"==A[r].type&&(!i||i==A[r]["page-no"])&&A[r].x<t&&A[r].x+A[r].width+n>t&&A[r].y<e&&A[r].y+A[r].height+n>e){var o=!1,a=!1;return A[r].x+A[r].width-n<t&&A[r].x+A[r].width+n>t&&(o=!0),A[r].y+A[r].height-n<e&&A[r].y+A[r].height+n>e&&(a=!0),{element:A[r],isWResize:o,isHResize:a}}return null}},G=function(t){var e=b.noteManager.noteElementMap[t["page-no"]];e&&e.paper.canvas.appendChild(t[0])},U=function(t){var e=F.stroke,i=F["stroke-opacity"],n=F["stroke-width"],e=Raphael.getRGB(e);t.strokeStyle="rgba("+e.r+","+e.g+","+e.b+","+i+")","string"==typeof n&&-1!==n.indexOf("pt",n.length-2)?(i=n.substring(0,n.length-2),i=parseInt(i,10),t.lineWidth=i*_/72):t.lineWidth=n,t.lineCap=F["stroke-linecap"],t.lineJoin=F["stroke-linejoin"]};Raphael.el.isInsidePath=function(t,e,i){var n=this.realPath=Raphael._getPath[this.type](this);this.attr("transform")&&this.attr("transform").length&&(n=Raphael.transformPath(n,this.attr("transform")));var r,o=this.attr("stroke-width")||1;"string"==typeof o&&-1!==o.indexOf("pt",o.length-2)&&"number"==typeof i&&(r=o.substring(0,o.length-2),o=parseInt(r,10)*i/72);var a,s,l,d,c,h,u,p,f=o/2+3,o=Raphael.pathBBox(n);if(t<o.x-f&&t>o.x2+f&&e<o.y-f&&e>o.y2+f)return!1;for(var g=0,m=n.length-1;g<m;g++)if(a=n[g][1],s=n[g][2],p=n[g+1][1],l=n[g+1][2],d=Math.min(a,p),c=Math.max(a,p),h=Math.min(s,l),u=Math.max(s,l),!(t<d-f||c+f<t||e<h-f||u+f<e)){if(d==c||h==u)return!0;if(p=(l-s)/(p-a),Math.abs(p*(t-a)-e+s)/Math.sqrt(p*p+1)<f)return!0}return!1},Raphael.el.isInsideRect=function(t,e){var i,n,r,o,a,s=this.realPath=Raphael._getPath[this.type](this);this.attr("transform")&&this.attr("transform").length&&(s=Raphael.transformPath(s,this.attr("transform")));var l=Math.min(t.x,e.x),d=Math.min(t.y,e.y),c=Math.max(t.x,e.x),h=Math.max(t.y,e.y),e=Raphael.pathBBox(s);if(c<e.x||l>e.x2||h<e.y||d>e.y2)return!1;for(var u=0,p=s.length-1;u<p;u++)if(r=s[u][1],i=s[u][2],o=s[u+1][1],a=s[u+1][2],n=Math.min(r,o),r=Math.max(r,o),o=Math.min(i,a),a=Math.max(i,a),!(c<n||r<l||h<o||a<d))return!0;return!1};var e=$("<div>").css({width:"1in",height:"1in",display:"none"}).appendTo("body"),_=e.width();e.remove();function W(){b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"start"})}function V(){b.shareManager&&b.shareManager.isConnected()&&b.shareManager.sendNote({type:"end"})}function J(){if(v.off)v.off();else for(var t=b.noteManager.noteElementMap,e=Object.keys(t),i=0;i<e.length;i++)t[e[i]].noteMoveHandler.off()}function Y(t,e){var i=this;i["page-no"]=t,i.container=e,i.canvas=null,i.noteMoveHandler=null,i.scribbleDrawer=null,i.shapeEraser=null,i.textBox=null,i.textDialog=null,i.textNoteDom=null,i.paper=null,i.tool=null,i.setTool=function(t){"scribble"===t?f=i.tool=i.scribbleDrawer:"eraser"===t?f=i.tool=i.shapeEraser:"text"===t&&(f=i.tool=i.textBox)}}this.prepare=function(t,e){var i=b.noteManager.noteElementMap,n=new Y(t,e);n.canvas=$("<canvas>").attr({width:parseInt(e[0].style.width),height:parseInt(e[0].style.height)}).css({position:"absolute",left:0,top:0}).appendTo(e)[0];var r=n.context=n.canvas.getContext("2d");this.isLock()&&n.canvas.addClass("crownix-auth-lock"),U(r),e.find("svg").css("left",0),n.paper=Raphael(e[0],parseInt(e[0].style.width),parseInt(e[0].style.height)),n.scribbleDrawer=new a(n),n.shapeEraser=new s(n),n.textBox=new l(n),n.setTool("scribble"),n.noteMoveHandler=new d(n),n.textDialog=new u(o,this.textareaToSvg,W,V),f instanceof a||(f=g=n.scribbleDrawer),I instanceof c||(I=new c),i[t]=n},this.newPage=function(t,e){T=t,D=$("<canvas>").attr({width:T.width(),height:T.height()}).css({position:"absolute",left:0,top:0}).appendTo(T),O=D[0].getContext("2d"),e&&D.addClass("crownix-auth-lock"),i(),w=Raphael(T[0],T.width(),T.height()),T.find("svg").css("left",0),v=new d,g=new a,m=new s,x=new l,C=new u(o,this.textareaToSvg,W,V),f=g,I=new c,N=L=R=!1},this.disposePage=function(){$(document).off("keypress",n),v.off(),C.destroyDialog(),w.remove&&w.remove(),T.remove&&T.remove(),A=[]},this.setMode=function(t,e){"editable"===t?(J(),(T=B?$("."+r.NOTE_CLASS):T).css({cursor:"crosshair",display:"block"}),e&&(T.css("display","none"),T.fadeIn(500)),this.isLock()||(function(){if(v.on)v.on();else for(var t=b.noteManager.noteElementMap,e=Object.keys(t),i=0;i<e.length;i++)t[e[i]].noteMoveHandler.on()}(),document.addEventListener("keypress",n))):"disable"===t?(J(),(T=B?$("."+r.NOTE_CLASS):T).css({cursor:"auto",display:"block"}),e&&(T.css("display","none"),T.fadeIn(500)),$(document).off("keypress",n)):"hide"===t&&(J(),(T=B?$("."+r.NOTE_CLASS):T).css("cursor","auto"),e?T.hide():T.fadeOut(500),$(document).off("keypress",n)),e=m2soft.crownix.Layout.currentTheme?m2soft.crownix.Layout.currentTheme.pageBorderWidth:"1px",T.css("margin",e),T.find("svg").css({top:0,left:0})},this.getToolName=function(){return f.getName()},this.setTool=function(t){if("scribble"===t?f=g:"eraser"===t?f=m:"text"===t&&(f=x),B)for(var e=b.noteManager.noteElementMap,i=Object.keys(e),n=0;n<i.length;n++)e[i[n]].setTool(t)},this.getTool=function(){return f},this.isDrawing=function(){return M},this.setRatio=function(t){E=t},this.getShapeAttribute=function(){return F},this.setShapeAttribute=function(t){if("object"==typeof t)for(var e in t)e in F&&(F[e]=t[e]);B||i()},this.applySketchAttribute=function(){i()},this.undo=function(){I.undo()},this.redo=function(){I.redo()},this.clear=function(t){A=[],w.clear?w.clear():b.noteManager.clearAllPaper(),t?I.clear():I.add({action:"clear"})},this.setHistoryChageHandler=function(t){P=t},this.getElements=function(){return A},this.addElements=function(t){for(var e=0,i=t.length;e<i;e++){var n,r,o=t[e];"text"!=o.type?((n=(B?Raphael.prototype.path():w[o.type]()).attr(o)).tool=o.tool,n.type=o.type,n.realId=n.id,B&&(n["page-no"]=parseInt(o["page-no"]))):(r=j(o),n=H(r.textEl,r.rectEl)),A.push(n),I.add({action:o.tool,element:n},!0)}I.freeze()},this.setZIndex=function(t){1==t?(k.browser.msie&&k.browser.version<=10&&function(){if(D&&D.hide)D.hide();else{var t,e=b.noteManager.noteElementMap;for(t in e)$(e[t].canvas).hide()}}(),T.css("pointer-events","none")):3==t&&(k.browser.msie&&k.browser.version<=10&&function(){if(D&&D.show)D.show();else{var t,e=b.noteManager.noteElementMap;for(t in e)$(e[t].canvas).show()}}(),T.css("pointer-events","auto")),k.browser.msie&&k.browser.version<=10&&0<$('[class^="crownix-grid-"]').length&&T.css("z-index",t)},this.disableNote=function(){v.off(),$(document).off("keypress",n)},this.enableNote=function(){v.off(),v.on(),$(document).on("keypress",n)},this.draw=function(t){"start"==t.type?(f.start(t.x,t.y),this.disableNote()):"end"==t.type?(f.end(!0,t.excludeNoteType),this.isLock()||this.enableNote()):"clear"==t.type?this.clear():f.move(t.x,t.y,!0,t.excludeNoteType)},this.lock=function(){D&&(D.addClass("crownix-auth-lock"),this.disableNote())},this.unlock=function(t){D.removeClass("crownix-auth-lock"),"editable"==t&&this.enableNote()},this.isLock=function(){if(r&&r.hasClass)o=r.hasClass("crownix-auth-lock");else for(var t=b.noteManager.noteElementMap,e=Object.keys(t),i=0;i<e.length;i++)var n=t[e[i]],r=$(n.canvas),o=r.hasClass("crownix-auth-lock");return o},this.convertToXML=y,this.convertToElements=t,this.convertToRaphaelElement=function(t){return t.forEach(function(t){if("text"!=t.type)(i=w[t.type]().attr(t)).tool=t.tool,i.type=t.type,i.realId=i.id,A.push(i);else{var e=j(t),i=H(e.textEl,e.rectEl);if(t.oldElement){for(var n=!1,r=A.length-1;0<=r;r--)if("text"==A[r].type&&i&&JSON.stringify(A[r])==JSON.stringify(t.oldElement)){A[r]=i,n=!0,I.clear();break}n||A.push(i)}else A.push(i)}}),A},this.hasElement=function(t){for(var e=0;e<A.length;e++)if(t.tool==A[e].tool&&("text"!=t.tool&&t.path==A[e].getPath()||"text"==t.tool&&JSON.stringify(t)==JSON.stringify(A[e])))return!0;return!1},this.textareaToSvg=function(t,e){t&&e&&f.textareaToSvg(t,e)},this.redrawTextBox=function(){"text"==f.getName()&&f.redrawElement()},this.drawTextnote=function(t,e){j(t,e)},this.isFocusInTextBox=function(){return N},this.appendPathElement=function(t){G(t)}},m2soft.ns("m2soft.crownix.NoteManager"),m2soft.crownix.NoteManager=function(t,l){var e,a=m2soft.crownix.Util,s=m2soft.crownix.Constant,d=-1,c=new m2soft.crownix.Map,h=new m2soft.crownix.ShapeEditor(t,l),i=new m2soft.crownix.NoteToolbar(t,this,l),u="disable",o="scribble",p=null,f=!1,n=[],g=l.options;l.shapeEditor=h;var r={};h.setHistoryChageHandler(function(t){t.undoable?i.enableToolbarItem(["undo"]):i.disableToolbarItem(["undo"]),t.redoable?i.enableToolbarItem(["redo"]):i.disableToolbarItem(["redo"]),t.clearable?i.enableToolbarItem(["eraseAll"]):i.disableToolbarItem(["eraseAll"])});function m(e){return n.forEach(function(t){t<=e&&e++}),e}function w(t){return"print"===t?l.options.excludeNoteTypeInPrint:"export"===t?l.options.excludeNoteTypeInExport:[]}function x(e){var t,i=h.getElements().filter(function(t){return parseInt(t["page-no"])===e});return 0===i.length&&c.containsKey(e)&&(t=c.get(e),h.addElements(h.convertToElements(t)),i=h.getElements()),i}this.noteElementMap=r,this.setMode=function(t,e){var i,n,r,o;h.setMode(t,e),"disable"===t?h.setZIndex(1):h.setZIndex(3),f&&(fieldOrder=m2soft.crownix.FieldOrder.getInstance(),e||fieldOrder.blur(),"editable"==t?fieldOrder.disable():fieldOrder.enable()),i=u=t,n=g.scrollbarOnNote,e=g.scrollbarOnViewer,t=l.options.scrollOptions.useInfiniteScroll?$("#m2soft-document-scroller"):$("#"+s.PAGE_ID),"editable"==i?(o=(r=parseInt(n.width))+10,a.changeScrollbarToTarget(t,r,r,n.color,Math.ceil(r/2),o),t.find(".iScrollHorizontalScrollbar").hide(),t.find(".iScrollVerticalScrollbar").hide()):(o=(r=parseInt(e.width))+10,a.changeScrollbarToTarget(t,r,r,e.color,"",o),t.find(".iScrollHorizontalScrollbar").show(),t.find(".iScrollVerticalScrollbar").show()),l.shareManager&&l.shareManager.isConnected()&&l.shareManager.isHost()&&l.shareManager.relocateLockControl()},this.getMode=function(){return u},this.getToolName=function(){return h.getToolName()},this.setTool=function(t){h.setTool(t),o=t},this.setShapeAttribute=function(t){h.setShapeAttribute(t),p=t},this.prepare=function(t,e){e=m(e),h.prepare(e,t),0<e&&h.isDrawing()&&h.getTool().end(),c.get(e)&&x(e).forEach(function(t){"path"===t.type?h.appendPathElement(t):h.drawTextnote(t)}),h.setTool(o),this.setMode(u,!0),p&&h.setShapeAttribute(p),d=e},this.drawPage=function(t,e){e=m(e);var i,n,r=!1;0<d&&(h.isLock()&&(r=!0),h.isDrawing()&&h.getTool().end(),n=h.getElements(),i=h.convertToXML(n),c.put(d,i),h.disposePage()),h.newPage(t,r),(i=c.get(e))&&(n=h.convertToElements(i),h.addElements(n)),h.setTool(o),this.setMode(u,!0),p&&h.setShapeAttribute(p),d=e},this.drawNote=function(t,e,i){e=m(e);var n,i=w(i);if(l.options.scrollOptions.useInfiniteScroll?c.put(e,h.convertToXML(x(e),i)):0<d&&(n=h.convertToXML(h.getElements(),i),c.put(d,n)),n=c.get(e)){var r=h.convertToElements(n,i);if(0<r.length)for(var o=Raphael(t[0],t.width(),t.height()),a=0,s=r.length;a<s;a++)"text"!=r[a].type?o[r[a].type]().attr(r[a]):h.drawTextnote(r[a],o)}},this.setRatio=function(t){h.setRatio(t)},this.undo=function(){h.undo()},this.redo=function(){h.redo()},this.clear=function(t){h.clear(t),!t&&l.shareManager&&l.shareManager.isConnected()&&l.shareManager.sendNote({type:"clear"}),!t&&l.options.mirroring.enable&&l.mirroringManager.externalEvent.sendDraw({type:"clear",pageNo:l.currentPage})},this.destroyNoteToolbar=function(){i.destroy()},this.toNoteParameter=function(t,e,i){var n=w(i);l.options.scrollOptions.useInfiniteScroll?c=function(t){var e=new m2soft.crownix.Map,i=h.getElements(),n={};i.map(function(t,e){var i=t["page-no"];i&&(void 0===n[i]&&(n[i]=[]),n[i].push(t))});for(var r=Object.keys(n),o=0,a=r.length;o<a;o++){var s=h.convertToXML(n[r[o]],t);e.put(r[o],s)}return e}(n):0<d&&(a=h.convertToXML(h.getElements(),n),c.put(d,a));for(var r=[" /rnotedata "],o=t;o<=e;o++){r.push("[");var a,s=c.get(o);!s||0<(s=h.convertToElements(s,n)).length&&(a=h.convertToXML(s,n))&&r.push(a),r.push("] ")}return r.join("")},this.getNoteXml=function(t,e){e=w(e);return l.options.scrollOptions.useInfiniteScroll?h.convertToXML(x(t),e):t===d?h.convertToXML(h.getElements(),e):h.convertToXML(h.convertToElements(c.get(t),e))},this.getShapeAttribute=function(){return h.getShapeAttribute()},this.setFormFieldMode=function(t){f=t},this.export=function(t){for(var e=t,i={},n=1;n<=e;n++)i[n]=this.getNoteXml(n);return i},this.import=function(t){for(var e in t){var i;e==d?(i=h.convertToElements(t[e]),h.addElements(i)):c.put(e,t[e])}},this.removeNote=function(t){n.push(t),n.sort(a.ASCENDING_COMPARATOR)},this.restoreNote=function(t){t=n.indexOf(t);-1!=t&&n.splice(t,1)},this.draw=function(t){h.draw(t)},this.lock=function(){h.lock()},this.unlock=function(){h.unlock(u)},this.addElement=function(t,e,i,n){var r=h.convertToElements(t)[0],o=[];if(i){if(h.hasElement(r))return;n&&(r.oldElement=h.convertToElements(n)[0]),o=h.convertToRaphaelElement([r]),l.shareManager&&l.shareManager.isConnected()&&r&&"text"==r.type&&l.shareManager.scrollToPos(r.x,r.y)}else{e=m(e);var a,i=c.get(e);if(i&&(o=h.convertToElements(i)),a=n?h.convertToElements(n)[0]:a)for(var s=o.length-1;0<=s;s--)"text"==o[s].type&&r&&JSON.stringify(o[s])==JSON.stringify(a)&&(o[s]=r);else o.push(r)}c.put(e,h.convertToXML(o))},this.removeElement=function(t,e,i){var n=h.convertToElements(t)[0],r=[];if(!i){e=m(e);for(var i=c.get(e),o=(r=i?h.convertToElements(i):r).length-1;0<=o;o--)("text"==n.type&&JSON.stringify(r[o])==JSON.stringify(n)||"text"!=n.type&&r[o].path==n.path)&&r.splice(o,1)}c.put(e,h.convertToXML(r))},this.removeAllElement=function(t,e){t=m(t),c.remove(t),t!==l.currentPage||e||h.disposePage()},this.removeScanNote=function(t){for(var e=m(t);e<=l.totalPage;e++)c.containsKey(e)&&c.remove(e);t<=l.currentPage&&(d=l.totalPage-t,h.disposePage())},this.rearrangeScanNote=function(t){var e=0;if(l.scanPage&&(e+=l.scanPage.getAddedPages().length),l.editor&&(e+=l.editor.getAddedPages().length),0!==e&&0!==t){t<0&&d>l.totalPage-e&&d<=l.totalPage-t-e?d=-1:0<t&&d>l.totalPage-e-t&&(d+=t);for(var i=new m2soft.crownix.Map,n=l.totalPage-t-e+1;n<=l.totalPage-t;n++){var r=m(n);c.containsKey(r)&&(i.put(r+t,c.get(r)),c.remove(r))}for(var o=0;o<i.size();o++){var a=i.keys()[o];c.put(a,i.get(a))}}},this.isLock=function(){return h.isLock()},this.redrawTextBox=function(){h.redrawTextBox()},this.disableNote=function(){h.disableNote()},this.enableNote=function(){h.isLock()||h.enableNote()},this.hideNoteItem=function(t){i.hideNoteItem(t)},this.showNoteItem=function(t){i.showNoteItem(t)},this.note=function(t){i.click(t.mode),"note"===t.mode&&t.tool&&i.click(t.tool,t.style)},this.removeNoteElement=function(t){delete r[t]},this.clearAllPaper=function(){for(var t=Object.keys(r),e=0;e<t.length;e++){var i=r[t[e]].paper;i&&i.clear()}},this.isFocusInTextBox=function(){return h.isFocusInTextBox()},this.hideNote=function(){i.hideToolbar(),e=u,l.noteManager.note({mode:"show"})},this.showNote=function(){i.showToolbar(),e&&(l.noteManager.note({mode:"hide"==e?e:"editable"==e?"note":"show"}),e=void 0)}},m2soft.ns("m2soft.crownix.LinkManager"),m2soft.crownix.LinkManager=function(t){var i=m2soft.crownix.Resource,n=t,e=[],r=[],o={},a=[],s={visited:"#551A8B",unvisited:"#0000EE",hover:void 0},l=s;this.initHyperlinkColor=function(){$("head > .crownix-hyperlink-style").remove(),l=s},this.setHyperlinkColor=function(t){l=t||s},this.getHyperlinkColor=function(t){return!0===this.isVisited(t)?l.visited:l.unvisited},this.getHoverColor=function(){return l.hover},this.setVisited=function(t){!1===this.isVisited(t)&&a.push(t)},this.isVisited=function(t){return-1!==a.indexOf(t)};function d(t){setTimeout(function(){t.stateful||1!=t.curPageNum?n.viewer.movePage(n.isGroupReport?n.mrdGroupManager.getRelativePageNumber(t.curPageNum):t.curPageNum):n.drilldownManager.disableForgery()},0),t.submitFinished&&(n.formManager.disableEdit(),n.viewer.setPreventPrintExport(!1)),null!=t.noteData&&n.noteManager.import(t.noteData),setTimeout(function(){null!=t.formData&&n.importFormData(t.formData)},0),t.addedPages&&(n.editor.setAddedPages(t.addedPages),n.totalPage+=n.editor.getAddedPages().length,1<n.totalPage&&t.curPageNum!=n.totalPage&&n.toolbar.enableToolbarItem(["next","last"]),n.editor.setStorageEditorData(t.storageEditorData))}this.getStateDataSize=function(){var t,e=0;for(t in o){var i,n,r=o[t].mmlData.mml;for(i in o[t].mmlData.drilldownInfo)r+=o[t].mmlData.drilldownInfo[i];for(n in o[t].formData&&(r+=o[t].formData),o[t].noteData)r+=o[t].noteData[n];e+=function(t,e,i,n){for(e=i=0;n=t.charCodeAt(i++);e+=n>>11?3:n>>7?2:1);return e}(r)}return e},this.isFullStack=function(){return!(this.getStateDataSize()<104857600)},this.pushPrevDocStack=function(t){e.push(t)},this.popPrevDocStack=function(){return e.pop()},this.pushNextDocStack=function(t){r.push(t)},this.popNextDocStack=function(){return r.pop()},this.deleteNextDocStack=function(){r=[]},this.setStateData=function(t,e){o[t]=e},this.getStateData=function(t){return this.isExistData(t)?o[t]:null},this.isExistData=function(t){return!!o[t]},this.isEmptyPrevDocStack=function(){return!(0<e.length)},this.isEmptyNextDocStack=function(){return!(0<r.length)},this.makeStateData=function(){var t={mrdPath:n.viewer.getMrdPath(),mrdParam:n.viewer.getMrdParam(),curPageNum:n.currentPage,noteData:n.noteManager?n.noteManager.export(n.totalPage):null,formData:n.isFormEditMode&&!1===n.options.hyperlink.refreshData?n.exportFormData():null,mmlData:n.exportMML(),submitFinished:n.formManager.isAllFormSubmitted(),addedPages:n.editor?n.editor.getAddedPages():null,storageEditorData:n.editor?n.editor.getStorageEditorData():null};return!1===n.stateLess&&(t.isHyperlink=!0,t.stateful=!0,t.license=n.license,t.totalPageNum=n.totalPage,t.rdid=n.rdid,t.report=n.report),t},this.saveState=function(t){if(this.isFullStack()&&"new"==t)return!1;var e=n.viewer.getMrdPath()+"_"+n.viewer.getMrdParam(),i=this.makeStateData();return"prev"==t?this.pushNextDocStack(e):this.pushPrevDocStack(e),this.setStateData(e,i),!0},this.restoreState=function(t){var e=this.getStateData(t),t=e.stateful?e:e.mmlData;n.viewer.setMrdPath(e.mrdPath),n.viewer.setMrdParam(e.mrdParam),n.options.hyperlink.refreshData?(n.options.keepLinkManager=!0,n.formManager&&n.formManager.isModified()?n.dialog.show(i.get("confirm_page_out")+" "+i.get("confirm_hyperlink_move"),{type:"confirm",inputHandler:function(t){t&&(n.formManager.saved(),n.viewer.openFile(e.mrdPath,e.mrdParam,n.options))}}):n.viewer.openFile(e.mrdPath,e.mrdParam,n.options)):n.importMML(t,void 0,function(){d(e)})},this.onReportFinished=function(){var t=n.viewer.getMrdPath()+"_"+n.viewer.getMrdParam(),t=this.getStateData(t);t&&d(t)},this.prevDoc=function(){var t=this.popPrevDocStack();t&&(this.saveState("prev"),this.restoreState(t))},this.nextDoc=function(){var t=this.popNextDocStack();t&&(this.saveState("next"),this.restoreState(t))}},m2soft.ns("m2soft.crownix.DataManager"),m2soft.crownix.DataManager=function(){function e(){var r=-1;return l.some(function(t,e){for(var i=e+1;i<l.length;i++){if(-1!=r)return;var n=l[i];if(t.id==n.id&&t.page==n.page)return o=t.id,void(r=i)}return-1<r})}var o,t=m2soft.crownix.Resource,l=[],d=[],n=!0,r=!1;this.build=function(t,s){0!=t.length&&(n=!1,t.children().each(function(t,e){var i,n,r,o,a;"MD"===(e.tagName&&e.tagName.toUpperCase())&&(i=(a=$(e)).attr("pg"),o=a.attr("id"),n=a.attr("fid"),r=a.attr("ly"),e=a.attr("sl"),a={ignore:!(o={id:o,value:a.text()}),drillId:s},i&&(o.page=parseInt(i),a.page=parseInt(i)),n&&(o.fid=n,a.fid=n,a.ignore=!0),r&&(a.layerId=r),e&&(a.sublayerId=e),l.push(o),d.push(a))}),e()||(n=!0))},this.getDataList=function(){return l.filter(function(t,e){return r?!d[e].ignore&&d[e].fid:!d[e].ignore})},this.isError=function(){return!n},this.getErrorMessage=function(){return t.get("duplicated_id_error")+"("+o+")"},this.ignoreData=function(i,n){var r=1;l.forEach(function(t,e){d[e].page==i&&(d[e].ignore=n),d[e].ignore||(t.page=r,d[e+1]&&d[e].page!=d[e+1].page&&r++)})},this.ignoreLayerData=function(e,i,t){r=t&&!i,d.forEach(function(t){t.sublayerId!=e&&t.layerId!=e&&t.fid!=e||(t.ignore=i)})},this.removeData=function(i){n=!1,l=l.filter(function(t,e){return!d[e].drillId||d[e].drillId!=i||(d.splice(e,1),!1)}),e()||(n=!0)}},m2soft.ns("m2soft.crownix.ShareDialog"),m2soft.crownix.ShareDialog=function(){var r,i,a,n,o,s=m2soft.crownix.Window,l=m2soft.crownix.Resource,t=function(t){a=t,o=!0,i=!($(window).width()>$(window).height())||520<$(window).height(),r=$("<div>").attr("id","crownix-sharedialog-container"),e(),$(window).on("orientationchange",function(t){var e=window.orientation;i=90!==e&&-90!==e||520<$(window).height(),h(i,i?f:p)}),$(window).on("resize",c)};t.prototype={show:function(t){var e=i?{css:{"max-width":"450px","max-height":"520px"}}:{css:{"max-width":"700px","max-height":"380px"}};(n=new s(l.get("share_dialog_title"),r,{isOverlay:o,buttonType:["close"],useResizeHandler:!1})).show(e,u),(i?f:p)(),$(".crownix-window-close").bind("click",function(){t.close()}),a.report||($("input[name=reportTitle]").attr({disabled:"disabled"}),$(".crownix-create-content-isPublic-input > input[type=checkbox]").attr({disabled:"disabled"}),$("#registerBtn").attr({disabled:"disabled"})),h(i,i?f:p)},close:function(){n.close()},addReportList:function(t){w(t)},addReport:function(t,e,i){x(t,e,i)},removeReport:function(t){b(t)},renewUserCount:function(t,e){y(t,e)}};function d(t,e,i){i=i||1,this.report=$("<div>").attr("id","report-"+t).addClass("crownix-sharedialog-report");var n=$("<div>").addClass("crownix-report-title").appendTo(this.report),r=$("<div>").addClass("crownix-report-title-checkbox").appendTo(n);$("<input>").attr("type","checkbox").addClass("crownix-sharedialog-checkbox").appendTo(r).on("change",function(){this.checked?($(".crownix-report-title-checkbox > input:checked").attr("checked",!1),this.checked=!0,o.text()===l.get("share_private")?$('input[name="joinPassword"]').removeAttr("disabled").focus():$('input[name="joinPassword"]').attr("disabled","disabled").val("")):$('input[name="joinPassword"]').attr("disabled","disabled").val("")}),n=$("<div>").addClass("crownix-report-title-span").appendTo(n),$("<span>").text(t).appendTo(n);var n=$("<div>").addClass("crownix-report-isPublic").appendTo(this.report),o=$("<span>").text(e?l.get("share_public"):l.get("share_private")).addClass("isPublic").appendTo(n),n=$("<div>").addClass("crownix-report-userCount").appendTo(this.report);return $("<span>").text(i).addClass("crownix-userCount").appendTo(n),this.report}var c=function(){var t=$("#crownix-window-frame"),e=t.find(".crownix-window-header"),i=t.find(".crownix-window-body"),n=o?".crownix-overlay":"body";i.css({height:t.height()-e.height()-6+"px"}),e=("body"==n?$(window):$(n)).width(),n=("body"==n?$(window):$(n)).height(),t.css({left:(e-t.width())/2+"px",top:(n-t.height())/2+"px"}),u()},h=function(t,e){t=t?{"max-width":"450px","max-height":"520px"}:{"max-width":"700px","max-height":"380px"};$("#crownix-window-frame").css(t),e(),c()},u=function(){$(".crownix-span-input").each(function(){$(this).css("margin-top",$(this).parent().height()/2-$(this).height()/2+"px")})},p=function(){$("#crownix-sharedialog-container").css("min-height","220px"),$(".crownix-sharedialog-listfield").css({height:"95%",width:"46%",float:"left"}),$(".crownix-sharedialog-createfield").css({height:"95%",width:"46%",float:"left"}),$(".crownix-create-content").css("height","60%")},f=function(){$("#crownix-sharedialog-container").css("min-height","400px"),$(".crownix-sharedialog-listfield").css({height:"50%",width:"95%"}),$(".crownix-sharedialog-createfield").css({height:"46%",width:"95%"}),$(".crownix-create-content").css("height","74%")},e=function(){g(),m()},g=function(){var t=$("<div>").addClass("crownix-sharedialog-listfield").appendTo(r);$("<h4>").text(l.get("share_list_title")).addClass("crownix-sharedialog-h4").appendTo(t);var e=$("<div>").addClass("crownix-sharedialog-listfield-inner").appendTo(t),i=$("<div>").addClass("crownix-report-list").appendTo(e),n=$("<div>").addClass("crownix-report-list-header").appendTo(i),t=$("<div>").addClass("crownix-report-title ").appendTo(n);$("<span>").text(l.get("share_report_title")).appendTo(t);t=$("<div>").addClass("crownix-report-isPublic").appendTo(n);$("<span>").text(l.get("share_is_public")).appendTo(t);n=$("<div>").addClass("crownix-report-userCount").appendTo(n);$("<span>").text(l.get("share_user_count")).appendTo(n);$("<div>").addClass("crownix-report-list-body").appendTo(i);i=$("<div>").addClass("crownix-report-list-footer").appendTo(e),e=$("<div>").addClass("crownix-report-list-footer-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_password")).appendTo(e);e=$("<div>").addClass("crownix-report-list-footer-input crownix-span-input").appendTo(i),$("<input>").attr({type:"password",name:"joinPassword",disabled:"disabled",id:"sharedialog-join-password"}).addClass("crownix-sharedialog-input").appendTo(e).on("keydown",function(t){if(32==t.keyCode)return a.dialog.show(l.get("share_not_allowed_space")),!1}),i=$("<div>").addClass("crownix-report-list-footer-button crownix-span-input").appendTo(i);$("<button>").attr({type:"button",id:"joinBtn"}).text(l.get("share_join")).addClass("crownix-sharedialog-button").appendTo(i).on("click",function(){0===$(".crownix-report-title-checkbox > input:checked").length?a.dialog.show(l.get("share_no_select_report")):!$('input[name="joinPassword"]').attr("disabled")&&0===$('input[name="joinPassword"]').val().length?a.dialog.show(l.get("share_need_password")):C()})},m=function(){var t=$("<div>").addClass("crownix-sharedialog-createfield").appendTo(r);$("<h4>").text(l.get("share_create_title")).addClass("crownix-sharedialog-h4").appendTo(t);var e=$("<div>").addClass("crownix-create-content").appendTo(t),i=$("<div>").addClass("crownix-create-content-title").appendTo(e),t=$("<div>").addClass("crownix-create-content-title-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_report_title")).appendTo(t);t=$("<div>").addClass("crownix-create-content-title-input crownix-span-input").appendTo(i);$("<input>").attr({type:"text",name:"reportTitle"}).addClass("crownix-sharedialog-input").appendTo(t);i=$("<div>").addClass("crownix-create-content-options").appendTo(e),t=$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_private")).appendTo(t);t=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr("type","checkbox").on("change",function(){this.checked?$('input[name="createPassword"]').removeAttr("disabled").focus():$('input[name="createPassword"]').attr({disabled:"disabled"}).val("")}).addClass("crownix-sharedialog-checkbox").appendTo(t);t=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_pageSync")).appendTo(t);t=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr({type:"checkbox",name:"pagesync"}).addClass("crownix-sharedialog-checkbox").appendTo(t);i=$("<div>").addClass("crownix-create-content-options").appendTo(e),t=$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_sync")).appendTo(t);t=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr({type:"checkbox",name:"sharesync"}).addClass("crownix-sharedialog-checkbox").appendTo(t);t=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_unlock")).appendTo(t);t=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr({type:"checkbox",name:"shareunlock"}).addClass("crownix-sharedialog-checkbox").appendTo(t);i=$("<div>").addClass("crownix-create-content-options").appendTo(e),$("<div>").addClass("crownix-create-content-isPublic-span crownix-span-input").appendTo(i),t=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr({type:"checkbox",name:"sharetmp"}).css("visibility","hidden").addClass("crownix-sharedialog-checkbox").appendTo(t);t=$("<div>").addClass("crownix-create-content-pagesync-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_hide_lock")).appendTo(t);i=$("<div>").addClass("crownix-create-content-isPublic-input crownix-span-input").appendTo(i);$("<input>").attr({type:"checkbox",name:"sharehidelock"}).addClass("crownix-sharedialog-checkbox").appendTo(i);i=$("<div>").addClass("crownix-create-content-password").appendTo(e),e=$("<div>").addClass("crownix-create-content-password-span crownix-span-input").appendTo(i);$("<span>").text(l.get("share_password")).appendTo(e);e=$("<div>").addClass("crownix-create-content-password-input crownix-span-input").appendTo(i);$("<input>").attr({type:"password",name:"createPassword",disabled:"disabled",id:"sharedialog-create-password"}).addClass("crownix-sharedialog-input").appendTo(e).on("keydown",function(t){if(32==t.keyCode)return a.dialog.show(l.get("share_not_allowed_space")),!1});i=$("<div>").addClass("crownix-create-content-password-button crownix-span-input").appendTo(i);$("<button>").attr({type:"button",id:"registerBtn"}).text(l.get("share_create")).addClass("crownix-sharedialog-button").appendTo(i).on("click",function(){""===$("input[name=reportTitle]").val().trim()?(a.dialog.show(l.get("share_need_report_title")),$("input[name=reportTitle]").val("").focus()):!$('input[name="createPassword"]').attr("disabled")&&0===$('input[name="createPassword"]').val().length?a.dialog.show(l.get("share_need_password")):k()})},w=function(t){$(".crownix-report-list-body").children().each(function(){$(this).remove()});for(var e=0;e<t.length;e++){var i=new d(t[e].name,t[e].isPublic,t[e].userCount);$(".crownix-report-list-body").append(i),v(i)}},x=function(t,e){var i=new d(t,e),e=$(".crownix-report-list-body");e.children().each(function(){if($(this).attr("id").substring(7)>t)return $(i).insertBefore(this),!1}),0===$(i).parent().length&&e.append(i),v(i)},v=function(t){$(t).children().each(function(){$(this).is(".crownix-report-title")?$(this).children().each(function(){$(this).css("margin-top",t.height()/2-$(this).height()/2+"px")}):$(this).css("margin-top",t.height()/2-$(this).height()/2+"px")})},b=function(t){$('div[id="report-'+t+'"]').remove()},y=function(t,e){var i=$('div[id="report-'+t+'"] > .crownix-report-userCount > .crownix-userCount').text();$('div[id="report-'+t+'"] > .crownix-report-userCount > .crownix-userCount').text(e?++i:--i)},C=function(){var t=$(".crownix-report-title-checkbox > input:checked").parent().next().children().text(),e=$("input[name=joinPassword]").val();a.shareManager.joinReport(t,e)},k=function(){var t=$("#crownix-sharedialog-container input[name=reportTitle]").val(),e=$("#crownix-sharedialog-container input[name=createPassword]").val(),i=$("#crownix-sharedialog-container input[name=pagesync]").prop("checked"),n=$("#crownix-sharedialog-container input[name=sharesync]").prop("checked"),r=$("#crownix-sharedialog-container input[name=shareunlock]").prop("checked"),o=$("#crownix-sharedialog-container input[name=sharehidelock]").prop("checked");a.shareManager.createReport(t,e,{pageSync:!!i,useSync:!!n,unlock:!!r,hideLock:!!o})};return t}(),m2soft.ns("m2soft.crownix.LockControl"),m2soft.crownix.LockControl=function(){var n,i,r,o=m2soft.crownix.Resource,a=m2soft.crownix.resource.Icon,t=function(t,e){i="#"+t,r=e};t.prototype={createBtnDom:function(){e()},removeBtnDom:function(){s()},relocate:function(){d()},toggleButton:function(){l()},hiddenButton:function(){c()}};var e=function(){n=!0;var t=$("<div>").attr("id","crownix-share-lock-control").addClass("crownix-share-lock-control").appendTo(i).bind("click tab",l).css("right",$(".iScrollVerticalScrollbar").width()+58+"px"),t=$("<button>").attr({type:"button",id:"crownix-share-lock-control-button",title:o.get("share_do_unlock")}).addClass("crownix-share-lock-control-button").appendTo(t);$(a.SHARE_LOCK).css("display","none").appendTo(t).fadeIn(500)},s=function(){$("#crownix-share-lock-control").remove()},l=function(){var t,e,i=$("#crownix-share-lock-control-button");(n=!n)?(t=o.get("share_do_unlock"),e=a.SHARE_LOCK,r.sendLockFields()):(t=o.get("share_do_lock"),e=a.SHARE_UNLOCK,r.sendUnlockFields()),i.attr("title",t).children().remove(),$(e).css("display","none").appendTo(i).fadeIn(500)},d=function(){$(".crownix-share-lock-control").css("right",$(".iScrollVerticalScrollbar").width()+58+"px")},c=function(){$("#crownix-share-lock-control-button").css("display","none")};return t}(),m2soft.ns("m2soft.crownix.ShareManager"),m2soft.crownix.ShareManager=function(r,c,e){function i(){setTimeout(function(){var t=v?"Client":"Host";$('[id^="crownix_form_field_"][auth='+t+"]").filter("input[type=file], :not(input):not(textarea)").addClass("crownix-auth-lock").attr("disabled",!0),$('[id^="crownix_form_field_"][auth='+t+"]").filter("input[type!=file], textarea").addClass("crownix-auth-lock").attr("readonly",!0)},0)}function n(){setTimeout(function(){v||($('[id^="crownix_form_field_"][auth]').filter("input[type=file], :not(input):not(textarea)").addClass("crownix-auth-lock").attr("disabled",!0),$('[id^="crownix_form_field_"][auth]').filter("input[type!=file], textarea").addClass("crownix-auth-lock").attr("readonly",!0),c.noteManager&&c.noteManager.lock(),c.formManager&&c.formManager.lock())},0)}function o(){setTimeout(function(){if(!v){for(var t,e,i=$(".crownix-auth-lock[auth=Client], .crownix-auth-lock[auth=All]").removeClass("crownix-auth-lock"),n=0;n<i.length;n++)$(i[n]).hasClass("crownix-formfield-blink-lock")&&$(i[n]).hasClass("crownix-field-lock")||("submit"!==i[n].type?(t=i[n].getAttribute("formid")||i[n].getAttribute("formname"),e=i[n].getAttribute("name"),"radio"===i[n].type&&(e=i[n].getAttribute("buttonid")),e=(t=c.formManager.getField(t,e)).getEditable(),t.setEditable(e),"cb"===t.type||"rb"===t.type?"true"!==i[n].getAttribute("noDefaultAction")&&(i[n].readOnly=!1):e&&("tf"===t.type||"ta"===t.type?"true"!==i[n].getAttribute("noDefaultAction")&&(i[n].readOnly=!1):$(i[n]).attr("disabled",!1))):i[n].disabled=!1);c.noteManager&&c.noteManager.unlock(),c.formManager&&c.formManager.unlock()}},0)}function h(t,e){c.formManager.validator.removeBorder(),e="im"==t?$("#"+e+"-canvas"):"cb"==t?$("label[for="+e+'][class*="crownix-checkbox-boundary"]'):"rb"==t?$("label[for="+e+'][class*="crownix-radio-boundary"]'):$("#"+e),"fl"==t&&e.siblings("input").addClass("crownix-formfield-blink-lock"),e.addClass("crownix-formfield-blink-lock")}function a(t,e,i,n,r){return!!document.querySelector("#"+n)&&(c.formManager.validator.border(t,e,i,r),!0)}function u(t,e){e="im"==t?$("#"+e+"-canvas"):$("#"+e),"im"!==t&&"sg"!==t&&("tf"==t||"cb"==t||"rb"==t||"ta"==t?e.attr("readonly",!0):("fl"==t&&e.siblings("input").attr("disabled",!0).addClass("crownix-field-lock"),e.attr("disabled",!0))),e.addClass("crownix-field-lock")}function s(t){for(var e in t)t[e]&&(e=c.formManager.getField(t[e].formId,t[e].fieldId),h(e.type,e.elementId),u(e.type,e.elementId))}function t(){w&&(f.on("reportList",function(t){w.addReportList(t)}),f.on("newReport",function(t){w.addReport(t.name,t.isPublic,1)}),f.on("renewUserCount",function(t){w.renewUserCount(t.name,t.incCount)}),f.on("removeReport",function(t){w.removeReport(t)})),f.on("shareError",function(t){c.dialog.show(T.get(t.message))}),f.on("openFile",function(e){if(C=function(){c.isFormEditMode?c.viewer.importFormData(e.formData):c.drilldownManager.import(e.formData.drilldownInfo),1!=e.pageNo?c.movePage(e.pageNo):(e.isLock?n:o)(),setTimeout(function(){var t;c.isFormEditMode&&s(e.focusInfo),(t=e.noteData)&&c.noteManager&&c.noteManager.import(t)},0)},e.mrd.openMml)e.mrd.mml.drilldownInfo&&(e.mrd.mml.drilldownInfo=void 0),c.viewer.importMML(e.mrd.mml);else if(F.isArray(e.mrd.path)){for(var t=[],i=0;i<e.mrd.path.length;i++)t.push({mrdPath:e.mrd.path[i],mrdParam:e.mrd.param[i]});c.viewer.openFile(t,e.mrd.options)}else c.viewer.openFile(e.mrd.path,e.mrd.param,e.mrd.options)}),f.on("startSharing",function(t){w&&w.close(),c.toolbar.toggleShareButton(!0),c.viewer.hideToolbarItem(["storage"]),"host"===t?(x||((x=new M(e,O)).createBtnDom(),R&&x.toggleButton(),B&&x.hiddenButton()),v=!0,i()):v=!1}),f.on("formField",function(t){var e=c.formManager.getField(t.formId,t.fieldId),i=c.formManager.getFieldWrapper(t.formId,t.fieldId);"cb"==e.type?i.setSelected(t.value,!0):"rg"==e.type?c.formManager.getFieldWrapper(t.formId,t.value).setSelected(!0,!0):"co"==e.type?e.setValueByIndex(t.value,c,t.formId):"fl"==e.type?e.setFileName(t.value,"sharing"):("sg"!=e.type&&"pn"!=e.type||(e.strokeCheck=t.strokeCheck),i.setValue(null===t.value?"":t.value,!0))}),f.on("focusOn",function(t){var e,i,n,r,o,a,s,l,d=c.formManager.getField(t.formId,t.fieldId);h(d.type,d.elementId),u(d.type,d.elementId),!v&&t.isLock&&(n=d.elementId,"rg"==d.type&&(n=d.buttonList[d.selectedId].elementId),A.getInstance().scrollToField($("#"+n))),v&&("sg"!==(e=d.type)&&"pn"!==e||(s=780,l=290,o=(i=$("#"+E.CONTAINER_ID)).width(),a=i.height(),(r=Math.min(s,o-20))<s&&(s=r,l=Math.floor(l*(r/780))),t=$('<div id="share-signature-mirrorview-overlay">').addClass("crownix-overlay"),n=$('<div id="share-signature-mirrorview-window">').css({left:(o-s)/2+"px",top:(a-(50+l+60))/2+"px",width:s+"px"}),d=$('<div id="share-signature-mirrorview-header">').css("height","50px"),e=$('<span id="share-signature-mirrorview-header-text">').text(T.get("share_sign_mirrorview_title")),r=$('<span id="share-signature-mirrorview-close" class="crownix-window-close">'),$("<img>").attr("src",P.CLOSE_BUTTON).appendTo(r),o=$('<canvas id="share-signature-mirrorview-canvas">').attr({width:s,height:l}),a=$('<div id="share-signature-mirrorview-footer">').css("height","60px"),s=$('<button id="share-signature-mirrorview-clear" class="share-signature-mirrorview-button">').text(T.get("clear_sign")),l=$('<button id="share-signature-mirrorview-save" class="share-signature-mirrorview-button">').text(T.get("save")),n.appendTo(t),n.append(d,o,a),d.append(e,r),a.append(s,l),t.appendTo(i),r.on("click",function(t){z("sg"),f.emit("signingControl","close")}),s.on("click",function(t){f.emit("signingControl","reset")}),l.on("click",function(t){z("sg"),f.emit("signingControl","ok")}),c.scroll.disable()))}),f.on("emphasize",function(t){var e=c.formManager.getField(t.formId,t.fieldId);a(e.formId,e.id,e.type,e.elementId,e.inputType)||D.getChannel("viewer:onDrawPage").subscribeOnce(function(){a(e.formId,e.id,e.type,e.elementId,e.inputType)})}),f.on("focusOut",function(t){var e,i,n=c.formManager.getField(t.formId,t.fieldId);n.id&&(e=n.type,i=n.elementId,i="im"==e?$("#"+i+"-canvas"):"cb"==e?$("label[for="+i+'][class*="crownix-checkbox-boundary"]'):"rb"==e?$("label[for="+i+'][class*="crownix-radio-boundary"]'):$("#"+i),"fl"==e&&i.siblings("input").removeClass("crownix-formfield-blink-lock"),i.removeClass("crownix-formfield-blink-lock"),t=n.type,e=n.elementId,i=n.getEditable(),(e="im"==t?$("#"+e+"-canvas"):$("#"+e)).hasClass("crownix-auth-lock")||!0!==i||"im"!==t&&"sg"!==t&&("tf"==t||"cb"==t||"rb"==t||"ta"==t?"true"!==e.attr("noDefaultAction")&&e.attr("readonly",!1):("fl"==t&&e.siblings("input").attr("disabled",!1).removeClass("crownix-field-lock"),e.attr("disabled",!1))),e.removeClass("crownix-field-lock"),v&&z(n.type))}),f.on("lockFields",function(){n(),f.emit("focusOut"),A.getInstance().blur()}),f.on("unlockFields",function(){o()}),f.on("note",function(t){"scribble"==(t=t).type?c.noteManager.addElement(t.xml,t.pageNo,t.pageNo==c.currentPage):"erase"==t.type?c.noteManager.removeElement(t.xml,t.pageNo,t.pageNo==c.currentPage):"clearElement"==t.type?(t.pageNo==c.currentPage&&c.noteManager.clear(t.rebuild),c.noteManager.removeAllElement(t.pageNo,t.rebuild)):"text"==t.type?(c.noteManager.addElement(t.xml,t.pageNo,t.pageNo==c.currentPage,t.oldXml),t.pageNo==c.currentPage&&c.noteManager.redrawTextBox(),y&&(c.noteManager.setShapeAttribute(y.attr),c.noteManager.setTool(y.tool),c.noteManager.setMode(y.mode),y=void 0),N=!1,c.noteManager.enableNote()):"start"==t.type?t.pageNo==c.currentPage&&(N=!0,y=y||{attr:$.extend(!0,{},c.noteManager.getShapeAttribute()),tool:c.noteManager.getToolName(),mode:c.noteManager.getMode()},c.noteManager.setTool(t.tool),c.noteManager.setShapeAttribute(t.attribute),"text"==t.tool?c.noteManager.disableNote():(c.noteManager.draw(t),H(t.x,t.y))):"clear"==t.type?t.pageNo==c.currentPage?c.noteManager.draw(t):c.noteManager.removeAllElement(t.pageNo):N&&(c.noteManager.draw(t),"end"==t.type&&(y&&(c.noteManager.setShapeAttribute(y.attr),c.noteManager.setTool(y.tool),c.noteManager.setMode(y.mode),y=void 0),N=!1))}),f.on("drilldown",function(t){c.drilldownManager.toggle(id).fail(function(t){dialog.show(t)}).done(function(t){})}),f.on("movePage",function(t){t!=c.currentPage&&c.movePage(t)}),f.on("syncFormData",function(t){v||c.viewer.importFormData(t),f.emit("syncDone"),k=c.dialog.message(T.get("submit_formfield"),null,!0,c.options.submitMsgPosition)}),f.on("submitFinished",function(t){for(var e,i=t.submitFormIds,n=c.formManager.getFormList(),r=[],o=0;o<i.length;o++)for(e in n[i[o]].unbindEvent(),n[i[o]].disableEdit(),n[i[o]].isSubmitted=!0,n[i[o]].getFields())r.push({formId:i[o],fieldId:e});k&&k.fadeOut(500,function(){k.remove()}),c.formManager.isAllFormSubmitted()&&(c.report.isPreventSave()?c.toolbar.enableToolbarItem(["print","print_pdf","cloud_print"]):c.toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"]),c.viewer.setPreventPrintExport(!1)),c.emit("submit-finished",t.result),c.formManager.saved();function a(){A.getInstance().removeField(r),A.getInstance().blur(),$("[formid="+t.submitFormId+"][fieldid="+t.submitFieldId+"]").removeClass("crownix-dialog-button-action").attr("disabled",!0).off()}c.options.noMessageOfSubmitSuccess?a():c.dialog.show(T.get("submit_formfield_insert_ok"),{inputHandler:a})}),f.on("submitFailed",function(){k.fadeOut(500,function(){k.remove()}),c.dialog.show(T.get("submit_formfield_insert_fail"))}),f.on("hostDoesNotExist",function(t){r.maintainConnection?f.emit("leaveReport"):(f.close(),c.dialog.show(T.get(t))),c.emit("sharing-aborted")}),f.on("connect_timeout",function(){c.dialog.show(T.get("request_timeout_error"))}),f.on("reconnect",function(t){_&&_.name&&f.emit("joinReport",{name:_.name,password:_.password,reconnect:!0,isHost:v},function(t){_.name=t.name,_.password=t.password})}),f.on("connect",function(){S&&S()}),f.on("disconnect",function(t){m.unbindEvent(),g&&clearTimeout(g),$(window).off("blur focus"),"transport close"===t?f.io.reconnect():"io client disconnect"===t&&_.name?c.viewer.initViewer():"ping timeout"===t?_.name?(c.viewer.initViewer(),c.dialog.show(T.get("share_stop_sharing"))):w&&w.close():"transport error"===t&&c.dialog.show(T.get("request_server_error"))}),f.on("initFormField",function(t){c.formManager.initFields(t.options)}),f.on("reDrawPage",function(){c.movePage(c.currentPage,!0)}),f.on("getFormData",function(t,e){var i={mrd:{}};c.isFormEditMode?i.formData=c.viewer.exportFormData({includeExtra:!0}):c.drilldownManager&&(i.formData={drilldownInfo:c.drilldownManager.export()}),r.mmlFromServer?i.mrd.mml=c.viewer.exportMML({includeImage:!0}):(i.mrd.path=c.mrdPath,i.mrd.param=c.mrdParam,i.mrd.options=c.options),c.noteManager&&(i.noteData=JSON.stringify(c.noteManager.export(c.totalPage))),e(i)}),f.on("event",function(t){t.type&&t.formId&&t.fieldId?c.formManager.trigger(t.type,t.formId,t.fieldId):"layer-close"===t.type?c.layerManager&&c.layerManager.getActiveFloatingLayer().win.close():"layer-onOk"===t.type?c.layerManager&&c.layerManager.getActiveFloatingLayer().onOk():"layer-onCancel"===t.type&&c.layerManager&&c.layerManager.getActiveFloatingLayer().onCancel()}),f.on("responseFormData",function(t){c.viewer.importFormData(t.formData),setTimeout(function(){c.isFormEditMode&&s(t.focusInfo)},0)}),f.on("onOverlay",function(){k=c.dialog.message(T.get("share_sync"),null,!0,c.options.submitMsgPosition)}),f.on("offOverlay",function(){k&&k.fadeOut(0,function(){k.remove()})}),f.on("displayOnSignMirrorView",function(t){var e,i,n,r,o,a,s,l=document.getElementById("share-signature-mirrorview-canvas");null!==l&&(e=l.getContext("2d"),-1<t.indexOf("|")?(i=t.split("|"),n=parseInt(i[0]),r=parseInt(i[1]),o=l.width/n,a=o*r,e.clearRect(a,0,o,l.height),(s=new Image).onload=function(){e.drawImage(s,a,0,o,l.height)},s.src=i[2]):(e.clearRect(0,0,l.width,l.height),(s=new Image).onload=function(){e.drawImage(s,0,0,l.width,l.height)},s.src=t))}),f.on("validate",function(t){c.viewer.validate(t)}),f.on("getMessage",function(t){c.emit("sharing-get-message",t)}),f.on("onSigning",function(t){switch(t){case"close":$(".crownix-signature-button.close-button").click();break;case"reset":$(".crownix-signature-button.reset-button, #crownix-signature-reset-button").click();break;case"ok":$(".crownix-signature-button.ok-button").click()}}),$(window).on("blur",m.setBlurTimeout).on("focus",m.setFocusTimeout),m.setFocusTimeout()}function l(t){var e=t.idleTime||18e5,i=function(){e<0||(g&&clearTimeout(g),g=_.name?setTimeout(function(){var t=setTimeout(function(){$("#aOverlay").remove(),$(".crownix-dialog-outer").remove(),f.close(),c.dialog.show(T.get("share_stop_sharing"))},2e4);r(),c.dialog.show(T.get("share_session_timeout").replace("%s",e/6e4),{inputHandler:function(){n(),clearTimeout(t),i()}})},e):setTimeout(function(){f.close(),c.dialog.show(T.get("share_stop_sharing"))},e))},n=function(){$(document).on("mousemove touchend",i)},r=function(){$(document).off("mousemove touchend",i)};this.setIdleTime=function(t){e=t},this.getIdleTime=function(){return e},this.setBlurTimeout=function(){e<0||(g&&clearTimeout(g),g=setTimeout(function(){f.close(),c.dialog.show(T.get("share_stop_sharing"))},e))},this.setFocusTimeout=function(){i()},this.bindEvent=function(){n()},this.unbindEvent=function(){r()}}function d(){return r&&!r.url?(c.dialog.show("no_share_server_url"),!1):(q()||(f=io.connect(r.url,{reconnection:r.reconnection||!1,"reconectionDelay ":2e4,reconnectionAttempts:3,timeout:r.timeout?1e3*r.timeout:2e4}),m=m||new l(r),t()),!0)}function p(t,e,i,n){n={name:e,password:i,curPage:c.currentPage,mrd:{openMml:r.mmlFromServer},options:n},c.isFormEditMode&&(n.formData=c.viewer.exportFormData({includeExtra:!0})),r.mmlFromServer?n.mrd.mml=c.viewer.exportMML({includeImage:!0}):(n.mrd.path=c.mrdPath,n.mrd.param=c.mrdParam,n.mrd.options=c.options),c.noteManager&&(n.noteData=JSON.stringify(c.noteManager.export(c.totalPage))),"createReport"===t?f.emit("createReport",n,function(t){_.name=t.name,_.password=t.password,m.bindEvent(),m.setFocusTimeout(),c.emit("sharing-finished",_)}):(f.emit("reopenReport",n),m.bindEvent(),m.setFocusTimeout())}var f,g,m,w,x,v,b,y,C,k,S,T=m2soft.crownix.Resource,I=m2soft.crownix.ShareDialog,M=m2soft.crownix.LockControl,A=m2soft.crownix.FieldOrder,F=m2soft.crownix.Util,E=m2soft.crownix.Constant,P=m2soft.crownix.resource.Icon,D=m2soft.crownix.ChannelManager,r=r,e=e,O=this,c=c,_={},N=!1,L=!1,R=!1,B=!1,j=!1,H=function(i,n){var t=c.containerDom,r=c.scroll,t=(t.scrollLeft(),t.scrollTop(),t.offset());(F.browser.mobile||0<t.left||0<t.top)&&setTimeout(function(){var t=-i,e=45-n+$(document).scrollTop();0<t?t=0:t<r.maxScrollX&&(t=r.maxScrollX),0<e?e=0:e<r.maxScrollY&&(e=r.maxScrollY),r.scrollToKeepCenter(t,e,0)},F.browser.mobile?500:0)},z=function(t){"sg"!==t&&"pn"!==t||($("#share-signature-mirrorview-overlay").remove(),!1===c.scroll.enabled&&c.scroll.enable())},q=function(){return!!f&&f.connected};this.connect=function(t){f&&!0===f.connected?t&&t(f.connected):(t&&(S=t),d())},this.disconnect=function(t){f&&!0!==f.disconnected&&(!1!==t.confirm&&!confirm(T.get("share_disconnect_confirm"))||(c.toolbar&&c.toolbar.toggleShareButton(!1),x&&x.removeBtnDom(),f.close()))},this.createReport=function(t,e,i){(L||f||d())&&(0!==t.replace(/(^\s*)|(\s*$)/gi,"").length?/\s/g.test(e)?c.dialog.show(T.get("share_not_allowed_space")):(null==r.mmlFromServer&&(r.mmlFromServer=!0),(i=$.extend({},i)).unlock&&(R=!0),i.hideLock&&(B=!0),i.syncInvalid&&(j=!0),p("createReport",t,e,i)):c.dialog.show(T.get("share_need_report_title")))},this.joinReport=function(t,e){(L||f||d())&&f.emit("joinReport",{name:t,password:e},function(t){_.name=t.name,_.password=t.password,m.bindEvent(),m.setFocusTimeout()})},this.sendFormField=function(t){q()&&f.emit("formField",t)},this.sendFocusOnField=function(t,e){f&&f.emit("focusOn",{formId:t,fieldId:e})},this.sendEmphasizeForm=function(t,e){f&&f.emit("emphasize",{formId:t,fieldId:e})},this.sendFocusOutField=function(){f&&f.emit("focusOut")},this.sendLockFields=function(){f&&f.emit("lockFields")},this.sendUnlockFields=function(){f&&f.emit("unlockFields")},this.toggleDrilldown=function(t){q()&&f.emit("drilldown",t)},this.submitRequest=function(t,e,i,n){!function(t){if(t){if(0<=t.indexOf(",")){var e,i=t.split(",");for(e in i)if(!c.formManager.validateFileFields(i[e]))return!1;return!0}return c.formManager.validateFileFields(t)}return!0}(i)||(b=e,f.emit("submitRequest",i,function(t){"done"===t?n():c.dialog.show(T.get(t))}))},this.submitFinished=function(t,e){var i,n=[];for(i in e)n.push(i);f.emit("submitFinished",{submitFormIds:n,submitFormId:i,submitFieldId:b,result:t})},this.submitFailed=function(){f.emit("submitFailed"),c.dialog.show(T.get("submit_formfield_insert_fail"))},this.showDialog=function(){w=new I(c),d()&&w.show(f)},this.isHost=function(){return v},this.isConnected=function(){return q()},this.sendNote=function(t){f&&(t.pageNo=c.currentPage,f.emit("note",t))},this.movePage=function(t){f&&f.emit("movePage",{isHost:v,page:t})},this.initFields=function(){f&&(i(),v||(n(),f.emit("isLock",function(){o()})))},this.unableLicense=function(){L=!0},this.relocateLockControl=function(){x&&x.relocate()},this.reportFinished=function(){v?p("reopenReport"):C&&C()},this.scrollToPos=function(t,e){H(t,e)},this.sendInitFormField=function(t){q()&&f.emit("initFormField",t)},this.reDrawPage=function(){f&&f.emit("reDrawPage",{isHost:v})},this.sendEvent=function(t){q()&&f.emit("event",t)},this.requestFormData=function(){q()&&f.emit("requestFormData")},this.startSync=function(){f.emit("startSync")},this.endSync=function(){f.emit("endSync")},this.onChangeSignValue=function(t){f.emit("changeSignValue",t)},this.validate=function(t){j&&f.emit("validate",t)},this.sendMessage=function(t){f.emit("sendMessage",t)}},m2soft.ns("m2soft.crownix.TextDialog"),m2soft.crownix.TextDialog=function(p,e,r,t){function l(){var t=parseFloat(T.val());return{border:i.toRgbString(i.hexToRgb("#000000",0,t)),background:i.toRgbString(i.hexToRgb("#FAF4C0",0,t))}}function o(t){if("bold"==$(t).css("font-weight")||700==$(t).css("font-weight")?g.addClass("button-selected"):g.removeClass("button-selected"),"italic"==$(t).css("font-style")?m.addClass("button-selected"):m.removeClass("button-selected"),-1!==$(t).css("text-decoration").toLowerCase().indexOf("underline")?w.addClass("button-selected"):w.removeClass("button-selected"),-1!==$(t).css("text-decoration").toLowerCase().indexOf("line-through")?x.addClass("button-selected"):x.removeClass("button-selected"),v&&(-1!=($(t).css("border")||t.style.border).indexOf("solid")?v.addClass("button-selected"):v.removeClass("button-selected")),T&&($(t).attr("opacity")?(T.val($(t).attr("opacity")),o=l(),$(t).css("border-color",o.border),$(t).css("background-color",o.background)):$(t).attr("opacity",T.val())),k&&(k.removeClass("button-selected"),y.removeClass("button-selected"),C.removeClass("button-selected"),b&&b.children("svg").remove(),"center"==$(t).css("text-align")?(C.addClass("button-selected"),b&&b.prepend(E.CENTER_ALIGN)):"right"==$(t).css("text-align")?(k.addClass("button-selected"),b&&b.prepend(E.RIGHT_ALIGN)):(y.addClass("button-selected"),b&&b.prepend(E.LEFT_ALIGN))),h){var e=parseInt($(t).css("font-size")?Math.round(F.pxToPt(parseInt($(t).css("font-size")))):"12");if(d.browser.mobile){h=null;for(var i=0,n=$(".crownix-textEdit-fontSize div").length;i<n;i++){var r=$(".crownix-textEdit-fontSize div")[i];$(r).removeClass("fontSize-selected"),$(r).data("fontSize")==e&&($(r).addClass("fontSize-selected"),h=$(r))}h||(h=$(".crownix-textEdit-fontSize")).data("fontSize",e)}else h.children("select").val(e)}if(d.browser.mobile){var o=$(t).css("color")?Raphael.color($(t).css("color")).hex:"#000000",a=$(".crownix-textEdit-colorselector-mobile div");a.removeClass("fontColor-selected");for(i=0,n=a.length;i<n;i++){var s=a[i];if($(s).data("fontColor").toLowerCase()==o.toLowerCase()){$(s).addClass("fontColor-selected"),u=$(s);break}u=null}}else H()}var f,c,g,m,w,x,h,u,v,b,y,C,k,S,T,I,M,A=m2soft.crownix.Resource,d=m2soft.crownix.Util,F=m2soft.crownix.util.Unit,E=m2soft.crownix.resource.Icon,i=m2soft.crownix.util.Color,P=m2soft.crownix.Constant,D=[8,10,12,14,16,18,20,22,24,26,28,30],O=["#000000","#808080","#C0C0C0","#FFFFFF","#FFFF00","#00FF00","#00FFFF","#FF00FF","#FF0000","#008000","#0000FF","#000080","#800000","#808000","#008080","#800080"],_=function(t){"SELECT"!=t.target.nodeName&&(f!==document.activeElement?$(f).focus():"function"==typeof e&&e(f))},N=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),g.hasClass("button-selected")?($(f).css("font-weight",""),g.removeClass("button-selected")):($(f).css("font-weight","bold"),g.addClass("button-selected"))},L=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),m.hasClass("button-selected")?($(f).css("font-style",""),m.removeClass("button-selected")):($(f).css("font-style","italic"),m.addClass("button-selected"))},R=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),w.hasClass("button-selected")?(f&&($(f).parents("#m2soft-crownix-field-wrapper").length?f.style.textDecoration=f.style.textDecoration.replace("underline",""):($(f).attr("text-decoration",""),$(f).css("text-decoration",""))),w.removeClass("button-selected")):(f&&($(f).parents("#m2soft-crownix-field-wrapper").length?f.style.textDecoration="none"==f.style.textDecoration?"underline":f.style.textDecoration+" underline":($(f).attr("text-decoration","underline"),$(f).css("text-decoration","underline"),x.removeClass("button-selected"))),w.addClass("button-selected"))},B=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),x.hasClass("button-selected")?(f&&($(f).parents("#m2soft-crownix-field-wrapper").length?f.style.textDecoration=f.style.textDecoration.replace("line-through",""):($(f).attr("text-decoration",""),$(f).css("text-decoration",""))),x.removeClass("button-selected")):(f&&($(f).parents("#m2soft-crownix-field-wrapper").length?f.style.textDecoration="none"==f.style.textDecoration?"line-through":f.style.textDecoration+" line-through":($(f).attr("text-decoration","line-through"),$(f).css("text-decoration","line-through"),w.removeClass("button-selected"))),x.addClass("button-selected"))},j=function(t){$(".crownix-textnote-alignselector").fadeOut(function(){$(".crownix-textnote-alphaselector").hide(),"none"==$(".crownix-textnote-colorselector").css("display")?($(".crownix-textnote-colorselector").fadeIn(),$(".crownix-textnote-colorselector").css("zIndex",1)):($(".crownix-textnote-colorselector").fadeOut(),$(".crownix-textnote-colorselector").css("zIndex",""))})},H=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut();var e=t?$(t.target).data("fontColor"):$(f).css("color");$(f).css("color",e),d.browser.mobile?($(".crownix-textEdit-colorselector-mobile div").removeClass("fontColor-selected"),$(t.target).addClass("fontColor-selected"),u=$(t.target)):$(".crownix-textnote-fontcolor").css({stroke:e})},z=function(t){d.browser.mobile||$(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),v.hasClass("button-selected")?($(f).css("border",""),$(f).attr("border",""),v.removeClass("button-selected")):($(f).css("border","solid #000000"),$(f).attr("border","solid #000000"),v.addClass("button-selected"))},q=function(t){var e;d.browser.mobile||(d.browser.msie||document.activeElement!==f||f.blur(),e=l(),$(f).css("border-color",e.border),$(f).css("background-color",e.background),$(f).attr("opacity",T.val()),$(f).focus())},G=function(t){d.browser.mobile||$(".crownix-textnote-colorselector").fadeOut(function(){$(".crownix-textnote-alignselector").hide(),"none"==S.css("display")?(S.fadeIn(),S.css("zIndex",1)):(S.fadeOut(),S.css("zIndex",""))})},U=function(t){d.browser.mobile||$(".crownix-textnote-colorselector").fadeOut(function(){$(".crownix-textnote-alphaselector").hide(),"none"==$(".crownix-textnote-alignselector").css("display")?($(".crownix-textnote-alignselector").fadeIn(),$(".crownix-textnote-alignselector").css("zIndex",1)):($(".crownix-textnote-alignselector").fadeOut(),$(".crownix-textnote-alignselector").css("zIndex",""))})},W=function(t){d.browser.mobile||$(".crownix-textnote-alignselector").fadeOut(),y.removeClass("button-selected"),C.removeClass("button-selected"),k.removeClass("button-selected"),$(t.currentTarget).addClass("button-selected"),"start"==$(t.currentTarget).data("align")?($(f).css("text-align","left"),b&&(b.children("svg").remove(),b.prepend(E.LEFT_ALIGN))):"middle"==$(t.currentTarget).data("align")?($(f).css("text-align","center"),b&&(b.children("svg").remove(),b.prepend(E.CENTER_ALIGN))):"end"==$(t.currentTarget).data("align")&&($(f).css("text-align","right"),b&&(b.children("svg").remove(),b.prepend(E.RIGHT_ALIGN))),$(f).val($(f).val())},V=function(t){d.browser.mobile?($(f).css("font-size",$(t.currentTarget).data("fontSize")+"pt"),h=$(t.currentTarget),$(".crownix-textEdit-fontSize div").removeClass("fontSize-selected"),$(t.currentTarget).addClass("fontSize-selected")):($(".crownix-textnote-colorselector, .crownix-textnote-alignselector, .crownix-textnote-alphaselector").fadeOut(),$(t.currentTarget).data("isClick")?($(t.currentTarget).data("isClick",!1),$(f).focus()):$(t.currentTarget).data("isClick",!0))},J=function(t){$(f).css("font-size",t.target.value+"pt"),$(f).focus()},Y=function(){var t;g.hasClass("button-selected")?I.css("font-weight","bold"):I.css("font-weight",""),m.hasClass("button-selected")?I.css("font-style","italic"):I.css("font-style",""),I[0].style.textDecoration="",w.hasClass("button-selected")&&(I[0].style.textDecoration="underline",I.attr("text-decoration","underline")),x.hasClass("button-selected")&&(I[0].style.textDecoration=I[0].style.textDecoration+" line-through",I.attr("text-decoration","line-through")),v&&(v.hasClass("button-selected")?(I.css("border","solid #000000"),I.attr("border","solid #000000")):(I.css("border","none"),I.attr("border","none"))),T&&(t=l(),I.attr("opacity",T.val()),I.css("border-color",t.border),I.css("background-color",t.background)),y&&(C.hasClass("button-selected")?I.css("text-align","center"):k.hasClass("button-selected")?I.css("text-align","right"):I.css("text-align","left")),h&&I.css("font-size",h.data("fontSize")+"pt"),u?I.css("color",u.data("fontColor")):I.css("color",f.style.color)},X=function(){$(".crownix-textnote-dialog-modal").fadeOut(),$(".crownix-textEdit-dialog").fadeOut(),$(".crownix-textnote-dialog-modal").remove(),"function"==typeof t&&t()},Q=function(){$(".crownix-textnote-dialog").fadeOut(function(){$(".crownix-textEdit-dialog").fadeIn(),o(I)})},K=function(){$(".crownix-textEdit-dialog").fadeOut(function(){$(".crownix-textnote-dialog").fadeIn(),I.focus(),Y()})},Z=function(){$(".crownix-textnote-dialog-modal").fadeOut(),$(".crownix-textEdit-dialog").fadeOut(),"function"==typeof e&&e(M,I),$(".crownix-textnote-dialog-modal").remove()},tt=function(){$(".crownix-textEdit-dialog").fadeOut(function(){$(".crownix-textnote-dialog").fadeIn(),I.focus()})};this.showDialog=function(t,e,i,n){"function"==typeof r&&r(),f=t,M=e,function(t,e){var i=$("<div>").addClass("crownix-textnote-dialog-modal").appendTo(p),n=$("<div>").addClass("crownix-textnote-dialog").appendTo(i),r=f,o=$(r).val();(e?$("<input>").attr({placeholder:f.placeholder,type:"date"==e?"text":e,inputmode:"number"===e||"tel"===e?"numeric":""}).on("input keyup blur",function(t){$(r).val($(this).val()),$(r).trigger(t)}).prop("readonly","date"==e):$("<textarea>").attr({placeholder:f&&f.placeholder?f.placeholder:A.get("text_placeholder"),maxLength:r.maxLength}).on("input",function(t){$(r).val($(this).val()),$(r).trigger(t)})).appendTo(n);var a=$("<div>").addClass("crownix-textnote-btnGroup").appendTo(n);$("<button>",{text:A.get("cancel_button_text")}).addClass("crownix-textnote-dialog-left").bind("click",function(){$(r).val(o),X()}).appendTo(a),$("<button>",{text:A.get("text_attr")}).addClass("crownix-textnote-dialog-center").bind("click",Q).appendTo(a),$("<button>",{text:A.get("ok_button_text")}).addClass("crownix-textnote-dialog-right").bind("click",Z).appendTo(a),n=$("<div>").addClass("crownix-textEdit-dialog").appendTo(i),$("<div>",{text:A.get("text_attr")}).addClass("crownix-textEdit-title").appendTo(n),a=$("<div>").addClass("crownix-textEdit-layout").appendTo(n),$("<p>",{text:A.get("text_style")}).addClass("crownix-textEdit-subtitle").appendTo(a),i=$("<div>").addClass("crownix-textEdit-contents").appendTo(a),a=$("<li>").appendTo(i),g=$("<div>",{text:"B"}).css("font-weight","bold").bind("click",N).appendTo(a),a=$("<li>").appendTo(i),m=$("<div>",{text:"I"}).css("font-style","italic").bind("click",L).appendTo(a),a=$("<li>").appendTo(i),w=$("<div>",{text:"U"}).css("text-decoration","underline").bind("click",R).appendTo(a),a=$("<li>").appendTo(i),x=$("<div>",{text:"S"}).css("text-decoration","line-through").bind("click",B).appendTo(a);var i=$("<div>").addClass("crownix-textEdit-layout").appendTo(n),a=($("<p>",{text:A.get("text_font")}).addClass("crownix-textEdit-subtitle").appendTo(i),$("<div>").addClass("crownix-textEdit-font").appendTo(i)),s=$("<div>").addClass("crownix-textEdit-fontSize").appendTo(a);if(!t||-1==t.indexOf("fontSize"))for(var l=0,d=D.length;l<d;l++)$("<div>",{text:"Aa"}).data("fontSize",D[l]).css("font-size",D[l]+"pt").bind("click",V).appendTo(s);for(var i=$("<div>").addClass("crownix-textEdit-font").appendTo(i),c=$("<div>").addClass("crownix-textEdit-colorselector-mobile").appendTo(i),l=0,d=O.length;l<d;l++)$("<div>").data("fontColor",O[l]).css("background-color",O[l]).bind("click",H).appendTo(c);t&&-1!=t.indexOf("align")||(h=$("<div>").addClass("crownix-textEdit-layout").appendTo(n),$("<p>",{text:A.get("text_align")}).addClass("crownix-textEdit-subtitle").appendTo(h),u=$("<div>").addClass("crownix-textEdit-contents").appendTo(h),y=$("<li>").prepend(E.LEFT_ALIGN).data("align","start").bind("click",W).appendTo(u),C=$("<li>").prepend(E.CENTER_ALIGN).data("align","middle").bind("click",W).appendTo(u),k=$("<li>").prepend(E.RIGHT_ALIGN).data("align","end").bind("click",W).appendTo(u));var h=$("<div>").addClass("crownix-textEdit-layout").appendTo(n),u=($("<p>",{text:A.get("textnote_format")}).addClass("crownix-textEdit-subtitle").appendTo(h),$("<div>").addClass("crownix-textEdit-contents").appendTo(h));t&&-1!=t.indexOf("outLine")||(v=$("<li>").prepend(E.OUTLINE).bind("click",z).appendTo(u)),t&&-1!=t.indexOf("background")||$("<li>").prepend(E.BACKGROUND).data("isTransparent",!1).bind("click",G).attr("class","button-selected").appendTo(u),h.children(".crownix-textEdit-contents").children().length||h.remove(),t&&-1!=t.indexOf("alpha")||(S=$("<div>").addClass("crownix-textnote-alphaselector").css({float:"none","vertical-align":"top","margin-top":"3px","box-shadow":"none",display:"inline-block"}).appendTo(u),T=$("<div>").attr({class:"crownix-note-alpha-slider"}).css({"background-color":"#4374D9"}).on("change",q).appendTo(S),$("<input>").attr({class:"crownix-note-alpha-number",disabled:"disabled"}).css({color:"#000000",opacity:1}).appendTo(S),T.crownixNoUiSlider({range:[0,1],start:1,handles:1,step:.05,margin:20,connect:"lower",direction:"ltr",orientation:"horizontal",behaviour:"extend-tap",serialization:{to:function(t){t=parseInt(100*t)+"%";$(".crownix-note-alpha-number").val(t)}}},!0)),n=$("<div>").addClass("crownix-textnote-btnGroup").appendTo(n),$("<button>",{text:A.get("cancel_button_text")}).addClass("crownix-textnote-dialog-left").bind("click",tt).appendTo(n),$("<button>",{text:A.get("ok_button_text")}).addClass("crownix-textnote-dialog-right").bind("click",K).appendTo(n),$(".crownix-textnote-dialog-modal").fadeIn(function(){(I=e?$(".crownix-textnote-dialog-modal input"):$(".crownix-textnote-dialog-modal textarea")).focus(),Y(),I.val(f.value),M||(f=M)}),$(".crownix-textnote-dialog").fadeIn()}(i,n),o(f)},this.showToolbar=function(t,e,i){f=t,c=e,function(t){var e=$("<div>").addClass("crownix-textnote-toolbar").bind("click",_).appendTo(f.parentNode),i=$("<li>").appendTo(e);if(g=$("<div>",{text:"B",title:A.get("mask_dialog_bold")}).css("font-weight","bold").bind("click",N).appendTo(i),i=$("<li>").appendTo(e),m=$("<div>",{text:"I",title:A.get("text_italic")}).css("font-style","italic").bind("click",L).appendTo(i),i=$("<li>").appendTo(e),w=$("<div>",{text:"U",title:A.get("text_underline")}).css("text-decoration","underline").bind("click",R).appendTo(i),i=$("<li>").appendTo(e),x=$("<div>",{text:"S",title:A.get("text_strike")}).css("text-decoration","line-through").bind("click",B).appendTo(i),!t||-1==t.indexOf("fontSize")){$("<div>").addClass("crownix-textnote-separator").appendTo(e),h=$("<li>").attr("title",A.get("text_fontsize")).appendTo(e);for(var n=$("<select>").data("isClick",!1).bind("click",V).bind("change",J).appendTo(h),r=0,o=D.length;r<o;r++)$("<option>",{text:D[r]}).appendTo(n)}u=$("<li>").attr("title",A.get("text_fontcolor")).prepend(E.FONT_COLOR).bind("click",j).appendTo(e),t&&-1!=t.indexOf("align")||($("<div>").addClass("crownix-textnote-separator").appendTo(e),b=$("<li>").attr("title",A.get("text_align")).prepend(E.LEFT_ALIGN).bind("click",U).appendTo(e),$("<div>").addClass("crownix-textnote-separator").appendTo(e)),t&&-1!=t.indexOf("outLine")||(v=$("<li>").attr("title",A.get("text_outline")).prepend(E.OUTLINE).bind("click",z).appendTo(e)),t&&-1!=t.indexOf("background")||$("<li>").attr("title",A.get("text_background")).prepend(E.BACKGROUND).bind("click",G).appendTo(e),t&&-1!=t.indexOf("alpha")||(S=$("<div>").addClass("crownix-textnote-alphaselector").appendTo(e),T=$("<div>").attr({class:"crownix-note-alpha-slider"}).on("change",q).appendTo(S),$("<input>").attr({class:"crownix-note-alpha-number",disabled:"disabled"}).css({color:"#000000",opacity:1}).appendTo(S),T.crownixNoUiSlider({range:[0,1],start:.5,handles:1,step:.05,margin:20,connect:"lower",direction:"ltr",orientation:"horizontal",behaviour:"extend-tap",serialization:{to:function(t){t=parseInt(100*t)+"%";$(".crownix-note-alpha-number").val(t)}}},!0));for(var a=$("<div>").addClass("crownix-textnote-colorselector").appendTo(e),r=0,o=O.length;r<o;r++)$("<div>").data("fontColor",O[r]).css({"background-color":O[r],color:O[r]}).text("O").bind("click",H).appendTo(a);i=$("<div>").addClass("crownix-textnote-alignselector").appendTo(e),k=$("<div>").attr("title",A.get("text_rightalign")).prepend(E.RIGHT_ALIGN).data("align","end").bind("click",W).appendTo(i),C=$("<div>").attr("title",A.get("text_centeralign")).prepend(E.CENTER_ALIGN).data("align","middle").bind("click",W).appendTo(i),y=$("<div>").attr("title",A.get("text_leftalign")).prepend(E.LEFT_ALIGN).data("align","start").bind("click",W).appendTo(i),t=e.parents("#crownix-cxgrid-body-container"),i=$("#"+P.CONTAINER_ID),(e.offset().top+e.height()+a.height()>i.offset().top+i.outerHeight()||t.length&&t.offset().top+t.height()<e.offset().top+e.height()+a.height())&&(e.css({top:-(f.offsetHeight+e[0].offsetHeight+2*(e.css("padding")?parseInt(e.css("padding")):3))}),a.css({top:-(e[0].offsetHeight+2*(e.css("padding")?parseInt(e.css("padding")):3)+a.height()+2*(a.css("padding")?parseInt(a.css("padding")):5))}));for(var s=e.children("li"),l=0,d=0,r=0;r<s.length;r++)l<s[r].offsetLeft&&(l=s[r].offsetLeft,d=s[r].clientWidth);e.css("width",l+d+2*(e.css("padding")?parseInt(e.css("padding")):3)),c.outerWidth()+c.offset().left<$(e).offset().left+$(e).width()||t.length&&t.offset().left+t.width()<e.offset().left+e.width()+a.width()?$(e).css({float:"right"}):c.outerWidth()+c.offset().left>=$(e).offset().left+$(e).width()&&$(e).css({float:"left"})}(i),o(f)},this.destroyDialog=function(){$(".crownix-textnote-dialog-modal").remove()},this.closeToolbar=function(){$(".crownix-textnote-toolbar").remove()},this.setValue=function(t){I&&I.val(t)}},m2soft.ns("m2soft.crownix.Runtime"),m2soft.crownix.Runtime=function(){var l=[];this.addColumn=function(t,e,i){return l.push({objectName:t,width:e,option:i,cellInfos:[]}),this},this.addCell=function(t,e,i,n,r,o,a,s){return l[l.length-1].cellInfos.push({index:t,title:e,variable:i,summarize:n,command:r,attribute:o,option:a,refField:s}),this},this.toJson=function(){return 0<l.length?JSON.stringify({columnInfos:l}):""}},m2soft.ns("m2soft.crownix.Forgery"),function(){function d(t){var e=t.target,i=$(e),n=t.data.isFormEdit,t=t.originalEvent&&(t.originalEvent.srcElement||t.originalEvent.originalTarget);return!!i.hasClass("crownix-pagenum")||(!(!i.hasClass("crownix-layer-page")&&!i.hasClass("iScrollIndicator"))||(!!(i.hasClass("crownix-search-mark")||i.hasClass("crownix-search-mark-layer")||i.parent().hasClass("crownix-search-mark")||i.parent().hasClass("crownix-search-mark-layer"))||(!!(i.hasClass("crownix-layer-page")||i.hasClass("iScrollIndicator")||i.hasClass("iScrollHorizontalScrollbar")||i.hasClass("iScrollVerticalScrollbar"))||(!(!i.parents().hasClass("crownix-guide-overlay")&&!i.hasClass("crownix-guide-overlay"))||("svg"==e.tagName||0<i.parents("svg").length||("A"==e.tagName||"a"==e.tagName||(!(!t||"crownix_focus_mark"!==t.id&&"crownix-virtual-cursor"!==t.className)||(!!(e.id&&"m2soft-crownix-normal-button"===e.id||("img"===e.tagName.toLowerCase()||"span"===e.tagName.toLowerCase())&&e.parentElement&&"m2soft-crownix-normal-button"===e.parentElement.id||e.id&&"m2soft-crownix-normal-combo"===e.id)||(!(!i.hasClass("crownix-textnote-toolbar")&&!i.parents().hasClass("crownix-textnote-toolbar"))||(t=e,i=$(t),!!("crownix-cxgrid-body-table"==t.parentElement.id||0==t.id.indexOf("crownix-cxgrid-")||t.parentElement&&0==t.parentElement.id.indexOf("crownix-cxgrid-")||i.hasClass("crownix-cxgrid-menu-item-label"))||!!n&&(n=e,e=$(n),!!(n.id&&0==n.id.indexOf("crownix_form_field_")||0<e.parents('[id^="crownix_form_field_"]').length||e.attr("for")&&0==e.attr("for").indexOf("crownix_form_field_")||0<e.parents('[for^="crownix_form_field_"]').length||n.id&&"m2soft-crownix-field-wrapper"===n.id||n.parentElement&&"m2soft-crownix-field-wrapper"===n.parentElement.id))))))))))))}function r(t){var e,i,n,r,o,a,s,l;d(t)||(e="Not Approved",n=(i=t.data.text).width(),r=i.height(),o=Math.min(n,r)/8,s=(a=t.data.canvas).getContext("2d"),l=$("<div>").attr({id:"crownix-forgery-mark"}).css({position:"absolute",color:"#CB1111","font-family":"Arial","font-size":o+"px",transform:"rotate(330deg)"}).text(e),i.off("DOMSubtreeModified"),l.appendTo(i),l.css({left:n/2-l.width()/2+"px",top:r/2-l.height()/2+"px"}),s.save(),s.translate(n/2,r/2),s.rotate(11/6*Math.PI),s.font=o+"px Arial",s.textAlign="center",s.textBaseline="middle",s.fillStyle="#CB1111",s.fillText(e,0,0),s.restore(),c.detect(i,a,t.data.isFormEdit))}var t,c=m2soft.crownix.Forgery;m2soft.crownix.Forgery.detect=function(e,i,n){return clearTimeout(t),t=setTimeout(function(){var t=$._data(e[0],"events");t&&t.DOMSubtreeModified||setTimeout(function(){e.on("DOMSubtreeModified",{text:e,canvas:i,isFormEdit:n},r)},0)},1e3)}}(),m2soft.ns("m2soft.crownix.CanvasManager"),m2soft.crownix.CanvasManager=function(g){var m,w,l,x,v,o,d,c,h,u,b=m2soft.crownix.Util,y=m2soft.crownix.ChannelManager,C=g.options.maxScaleRatio,p=0,f=0;this.saveParts=function(){var t,e,i,n,r;x&&(t=m.getContext("2d"),n=window.devicePixelRatio||1,r=g.drilldownManager.getDrilldownLength()||!window.devicePixelRatio?1:w.scale*n>C?C:w.scale*n,e=p*r,i=f*r,n=m.width,r=m.height,o=t.getImageData(0,0,n,r),0<p&&0<f?(d=t.getImageData(0,0,e,i),c=t.getImageData(e,0,n,i),h=t.getImageData(0,i,e,r),u=t.getImageData(e,i,n,r)):0<p?(d=t.getImageData(0,0,e,r),c=t.getImageData(e,0,n,r)):0<f&&(d=t.getImageData(0,0,n,i),h=t.getImageData(0,i,n,r)))},this.moveParts=function(){var t,e,i,n,r,o,a,s;l&&(l.remove(),$(m).show(),l=void 0),!x||0==w.maxScrollX&&0==w.maxScrollY||(t=m.getContext("2d"),s=window.devicePixelRatio||1,e=g.drilldownManager.getDrilldownLength()||!window.devicePixelRatio?1:w.scale*s>C?C:w.scale*s,i=p*e,n=f*e,r=w.x<0?Math.abs(w.x):0,o=w.y<0?Math.abs(w.y):0,a=m.width,s=m.height,g.drilldownManager.getDrilldownLength()||!window.devicePixelRatio?(r/=w.scale,o/=w.scale):(r*=e/w.scale,o*=e/w.scale),t.save(),g.drilldownManager.getDrilldownLength()||t.scale(1,1),t.clearRect(0,0,a,s),t.restore(),0<p&&0<f?(t.putImageData(u,i,n,r,o,a,s),t.putImageData(c,i,o,r,0,a,s),t.putImageData(h,r,n,0,o,a,s),t.putImageData(d,r,o)):0<p?(t.putImageData(c,i,0,r,0,a,s),t.putImageData(d,r,0)):0<f&&(t.putImageData(h,0,n,0,o,a,s),t.putImageData(d,0,o)))},this.moveHyperlinks=function(){var s,l,d,c,h;!x||0==w.maxScrollX&&0==w.maxScrollY||(s=w.scale,l=p*s,d=f*s,c=w.x<0?Math.abs(w.x):0,h=w.y<0?Math.abs(w.y):0,document.querySelectorAll("#m2soft-crownix-text > a").forEach(function(t){var e,i=t.style,n=(parseInt(i.left)+4.8)*s,r=parseInt(i.top)*s,o=parseInt(i.width)*s,a=parseInt(i.height)*s;n<l&&r<d?i.transform="translate("+c/s+"px, "+h/s+"px)":n<l?(i.display=r+a+w.y<d?"none":"block",r+w.y<d&&r+w.y+a>d?i["clip-path"]="inset("+(d-(r+w.y))/s+"px 0 0 0)":i["clip-path"]="unset",i.transform="translateX("+c/s+"px)"):r<d?(i.display=n+o+w.x<l?"none":"block",n+w.x<l&&n+w.x+o>l?i["clip-path"]="inset(0 0 0 "+(l-(n+w.x))/s+"px)":i["clip-path"]="unset",i.transform="translateY("+h/s+"px)"):(t=e=0,i.display=r+w.y+a<d||n+w.x+o<l?"none":"block",r+w.y<d&&r+w.y+a>d&&(t=(d-(r+w.y))/s),n+w.x<l&&n+w.x+o>l&&(e=(l-(n+w.x))/s),i["clip-path"]=e||t?"inset("+t+"px 0 0 "+e+"px)":"unset")}))},this.restore=function(){var t;x&&(t=m.getContext("2d"),m.width,m.height,(l=$(m).clone().appendTo($(m).parent()))[0].getContext("2d").drawImage(m,0,0),$(m).hide(),t.putImageData(o,0,0))},this.setPage=function(t,e,i,n,r){m=n[0],w=r,0;t=e.getParsedPage(t).find("FL");void 0!==t?(p=t.attr("fx")?t.attr("fx")/10.3-4.8:0,f=t.attr("fy")?t.attr("fy")/10.3:0,0<p||0<f?(x=!0,w.options.momentum=!1,w.options.bounce=!1):x=!1):x=!1,$(i).on(b.browser.mobile?"touchend":"click",function(t){var a,s,l;w.moved||(a=w.scale,s=b.browser.mobile?(t.originalEvent.changedTouches[0].pageX-i.offset().left)/a:t.offsetX,l=b.browser.mobile?(t.originalEvent.changedTouches[0].pageY-i.offset().top)/a:t.offsetY,t=$(t.target),isNaN(s)||isNaN(l)||(w.x<0&&s+w.x/a<p&&(s+=w.x/a),w.y<0&&l+w.y/a<f&&(l+=w.y/a),s*=a,l*=a,t.find("a").each(function(t,e){var i=$(this),n=i.position(),r=i.width()*a,o=i.height()*a;s>n.left&&s<n.left+r&&l>n.top&&l<n.top+o&&i.find("div").trigger("click")})))})},this.redraw=function(e,t,i,n,r,o,a,s,l){m=r[0],w=a,0;var d=t.getParsedPage(e),c=t.getHeadForPage(e),h=d.attr("wd")/10.3,u=d.attr("ht")/10.3,a=m.getContext("2d"),p=g.options.scrollOptions.useInfiniteScroll,f=this;g.drilldownManager.getDrilldownLength()&&x||(t=w.scale*window.devicePixelRatio||1,C<t&&(t=C),m.width=h*t,m.height=u*t,a.fillStyle="#FFFFFF",a.fillRect(0,0,m.width,m.height),a.scale(t,t),!p||"iOS"!==b.browser.name&&"Safari"!==b.browser.name||$(m).css("transform","translateZ(-1px)")),$(n).children().not(l).remove(),p||w.disable(),s(m,n,d,c,function(){var t;g.drilldownManager.updateInfo(e,d,i,n,r,o),g.drilldownManager.reload(e),g.options.useTableOfContents&&g.tableOfContents&&g.tableOfContents.onDrawPage(n,e),g.ttsManager&&g.ttsManager.makeParagraphs(d),p?(i.children(".crownix-page-loading").remove(),i.attr("loading-state","done"),1===e&&1<g.totalPage&&g.toolbar.enableToolbarItem(["next","last","move"])):i.css("visibility","visible"),g.license.isAllowedFeature("FormField")&&g.isFormEditMode&&m2soft.crownix.FieldOrder.getInstance().bind(n,w,e),g.options.useFixedFrame&&f.moveHyperlinks(),g.ttsManager&&g.ttsManager.setFocus(),g.finishDrawPage=!0,y.getChannel("viewer:onDrawPage").publish(),y.getChannel("tabOrder:movePage").publish(),y.getChannel("viewer:onReportFinished").publish(),y.getChannel("viewer:onMoveFormField").publish(),$("#"+m2soft.crownix.Constant.PAGE_LOADING_ID).remove(),(t=window.devicePixelRatio)&&matchMedia&&!g.options.scrollOptions.useInfiniteScroll&&(v&&v.removeEventListener("change",g.redrawPage),(v=matchMedia("(resolution: "+t+"dppx)")).addEventListener&&v.addEventListener("change",g.redrawPage))})},this.isFixedFrame=function(){return x},this.needRedraw=!0},function(t){function a(){}function p(t,e){return t-e}var f,g,u="hasOwnProperty",m=/[\.\/]/,w={n:{}},x=function(t,e){t=String(t);var i,n=g,r=Array.prototype.slice.call(arguments,2),o=x.listeners(t),a=0,s=[],l={},d=[],c=f;f=t;for(var h=g=0,u=o.length;h<u;h++)"zIndex"in o[h]&&(s.push(o[h].zIndex),o[h].zIndex<0&&(l[o[h].zIndex]=o[h]));for(s.sort(p);s[a]<0;)if(i=l[s[a++]],d.push(i.apply(e,r)),g)return g=n,d;for(h=0;h<u;h++)if("zIndex"in(i=o[h]))if(i.zIndex==s[a]){if(d.push(i.apply(e,r)),g)break;do{if((i=l[s[++a]])&&d.push(i.apply(e,r)),g)break}while(i)}else l[i.zIndex]=i;else if(d.push(i.apply(e,r)),g)break;return g=n,f=c,d.length?d:null};x._events=w,x.listeners=function(t){for(var e,i,n,r,o,a,s=t.split(m),l=w,d=[l],c=[],h=0,u=s.length;h<u;h++){for(a=[],r=0,o=d.length;r<o;r++)for(i=[(l=d[r].n)[s[h]],l["*"]],n=2;n--;)(e=i[n])&&(a.push(e),c=c.concat(e.f||[]));d=a}return c},x.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(m),n=w,r=0,o=i.length;r<o;r++)n=(n=n.n).hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,o=n.f.length;r<o;r++)if(n.f[r]==e)return a;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},x.f=function(t){var e=[].slice.call(arguments,1);return function(){x.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},x.stop=function(){g=1},x.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(f):f},x.nts=function(){return f.split(m)},x.off=x.unbind=function(t,e){if(t){for(var i,n,r,o=t.split(m),a=[w],s=0,l=o.length;s<l;s++)for(c=0;c<a.length;c+=r.length-2){if(r=[c,1],i=a[c].n,"*"!=o[s])i[o[s]]&&r.push(i[o[s]]);else for(n in i)i[u](n)&&r.push(i[n]);a.splice.apply(a,r)}for(s=0,l=a.length;s<l;s++)for(i=a[s];i.n;){if(e){if(i.f){for(c=0,h=i.f.length;c<h;c++)if(i.f[c]==e){i.f.splice(c,1);break}i.f.length||delete i.f}for(n in i.n)if(i.n[u](n)&&i.n[n].f){for(var d=i.n[n].f,c=0,h=d.length;c<h;c++)if(d[c]==e){d.splice(c,1);break}d.length||delete i.n[n].f}}else for(n in delete i.f,i.n)i.n[u](n)&&i.n[n].f&&delete i.n[n].f;i=i.n}}else x._events=w={n:{}}},x.once=function(t,e){var i=function(){return x.unbind(t,i),e.apply(this,arguments)};return x.on(t,i)},x.version="0.4.2",x.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=x:"undefined"!=typeof define?define("eve",[],function(){return x}):t.eve=x}(this),function(e,i){"function"==typeof define&&define.amd?define(["eve"],function(t){return i(e,t)}):i(e,e.eve)}(this,function(t,F){function R(t){if(R.is(t,"function"))return a?t():F.on("raphael.DOMload",t);if(R.is(t,W))return R._engine.create[v](R,t.splice(0,3+R.is(t[0],G))).add(t);var e=Array.prototype.slice.call(arguments,0);if(R.is(e[e.length-1],"function")){var i=e.pop();return a?i.call(R._engine.create[v](R,e)):F.on("raphael.DOMload",function(){i.call(R._engine.create[v](R,e))})}return R._engine.create[v](R,arguments)}function m(t){if("function"==typeof t||Object(t)!==t)return t;var e,i=new t.constructor;for(e in t)t[O](e)&&(i[e]=m(t[e]));return i}function T(r,o,a){function s(){var t=Array.prototype.slice.call(arguments,0),e=t.join("␀"),i=s.cache=s.cache||{},n=s.count=s.count||[];return i[O](e)?function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}(n,e):(1e3<=n.length&&delete i[n.shift()],n.push(e),i[e]=r[v](o,t)),a?a(i[e]):i[e]}return s}function s(){return this.hex}function x(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function w(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function y(t,e,i,n,r,o,a,s,l){for(var d=(l=1<(l=null==l?1:l)?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0,p=0;p<12;p++){var f=d*c[p]+d,g=w(f,t,i,r,a),f=w(f,e,n,o,s),f=g*g+f*f;u+=h[p]*A.sqrt(f)}return d*u}function k(t,e,i){var n=R.bezierBBox(t),r=R.bezierBBox(e);if(!R.isBBoxIntersect(n,r))return i?0:[];for(var n=y.apply(0,t),r=y.apply(0,e),o=B(~~(n/5),1),a=B(~~(r/5),1),s=[],l=[],d={},c=i?0:[],h=0;h<o+1;h++){var u=R.findDotsAtSegment.apply(R,t.concat(h/o));s.push({x:u.x,y:u.y,t:h/o})}for(h=0;h<a+1;h++)u=R.findDotsAtSegment.apply(R,e.concat(h/a)),l.push({x:u.x,y:u.y,t:h/a});for(h=0;h<o;h++)for(var p=0;p<a;p++){var f=s[h],g=s[h+1],m=l[p],w=l[p+1],x=H(g.x-f.x)<.001?"y":"x",v=H(w.x-m.x)<.001?"y":"x",b=function(t,e,i,n,r,o,a,s){if(!(B(t,i)<j(r,a)||j(t,i)>B(r,a)||B(e,n)<j(o,s)||j(e,n)>B(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var d=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,c=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,h=+d.toFixed(2),l=+c.toFixed(2);if(!(h<+j(t,i).toFixed(2)||h>+B(t,i).toFixed(2)||h<+j(r,a).toFixed(2)||h>+B(r,a).toFixed(2)||l<+j(e,n).toFixed(2)||l>+B(e,n).toFixed(2)||l<+j(o,s).toFixed(2)||l>+B(o,s).toFixed(2)))return{x:d,y:c}}}}(f.x,f.y,g.x,g.y,m.x,m.y,w.x,w.y);b&&d[b.x.toFixed(4)]!=b.y.toFixed(4)&&(d[b.x.toFixed(4)]=b.y.toFixed(4),f=f.t+H((b[x]-f[x])/(g[x]-f[x]))*(g.t-f.t),m=m.t+H((b[v]-m[v])/(w[v]-m[v]))*(w.t-m.t),0<=f&&f<=1.001&&0<=m&&m<=1.001&&(i?c++:c.push({x:b.x,y:b.y,t1:j(f,1),t2:j(m,1)})))}return c}function r(t,e,i){t=R._path2curve(t),e=R._path2curve(e);for(var n,r,o,a,s,l,d,c,h=i?0:[],u=0,p=t.length;u<p;u++){var f=t[u];if("M"==f[0])n=o=f[1],g=a=f[2];else for(var g="C"==f[0]?(n=(d=[n,g].concat(f.slice(1)))[6],d[7]):(d=[n,g,n,g,o,a,o,a],n=o,a),m=0,w=e.length;m<w;m++){var x=e[m];if("M"==x[0])r=s=x[1],v=l=x[2];else{var v="C"==x[0]?(r=(c=[r,v].concat(x.slice(1)))[6],c[7]):(c=[r,v,r,v,s,l,s,l],r=s,l),b=k(d,c,i);if(i)h+=b;else{for(var y=0,C=b.length;y<C;y++)b[y].segment1=u,b[y].segment2=m,b[y].bez1=d,b[y].bez2=c;h=h.concat(b)}}}}return h}function E(t,e,i,n,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function i(){return this.x+" "+this.y+" "+this.width+" × "+this.height}function P(t,e,i,n,r,o){function l(t){return((h*t+c)*t+d)*t}var a,d=3*e,c=3*(n-e)-d,h=1-d-c,s=3*i,u=3*(r-i)-s,p=1-s-u;return a=function(t,e){var i,n,r,o,a,s;for(r=t,s=0;s<8;s++){if(o=l(r)-t,H(o)<e)return r;if(H(a=(3*h*r+2*c)*r+d)<1e-6)break;r-=o/a}if(n=1,(i=0)>(r=t))return i;if(n<r)return n;for(;i<n;){if(o=l(r),H(o-t)<e)return r;o<t?i=r:n=r,r=(n-i)/2+i}return r}(t,a=1/(200*o)),((p*a+u)*a+s)*a}function l(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[O](r)&&(n[$(r)]=t[r],i.push($(r)));i.sort(o)}this.anim=n,this.top=i[i.length-1],this.percents=i}function C(t,e,i,n,r,o){i=$(i);var a,s,l,d,c,h=t.ms,u={},p={},f={};if(n)for(m=0,w=te.length;m<w;m++){var g=te[m];if(g.el.id==e.id&&g.anim==t){g.percent!=i?(te.splice(m,1),l=1):s=g,e.attr(g.totalOrigin);break}}else n=+p;for(var m=0,w=t.percents.length;m<w;m++){if(t.percents[m]==i||t.percents[m]>n*t.top){i=t.percents[m],c=t.percents[m-1]||0,h=h/t.top*(i-c),d=t.percents[m+1],a=t.anim[i];break}n&&e.attr(t.anim[t.percents[m]])}if(a){if(s)s.initstatus=n,s.start=new Date-s.ms*n;else{for(var x in a)if(a[O](x)&&(et[O](x)||e.paper.customAttributes[O](x)))switch(u[x]=e.attr(x),null==u[x]&&(u[x]=tt[x]),p[x]=a[x],et[x]){case G:f[x]=(p[x]-u[x])/h;break;case"colour":u[x]=R.getRGB(u[x]);var v=R.getRGB(p[x]);f[x]={r:(v.r-u[x].r)/h,g:(v.g-u[x].g)/h,b:(v.b-u[x].b)/h};break;case"path":var b=Pt(u[x],p[x]),y=b[1];for(u[x]=b[0],f[x]=[],m=0,w=u[x].length;m<w;m++){f[x][m]=[0];for(var C=1,k=u[x][m].length;C<k;C++)f[x][m][C]=(y[m][C]-u[x][m][C])/h}break;case"transform":v=e._,b=Nt(v[x],p[x]);if(b)for(u[x]=b.from,p[x]=b.to,f[x]=[],f[x].real=!0,m=0,w=u[x].length;m<w;m++)for(f[x][m]=[u[x][m][0]],C=1,k=u[x][m].length;C<k;C++)f[x][m][C]=(p[x][m][C]-u[x][m][C])/h;else{b=e.matrix||new E,v={_:{transform:v.transform},getBBox:function(){return e.getBBox(1)}};u[x]=[b.a,b.b,b.c,b.d,b.e,b.f],_t(v,p[x]),p[x]=v._.transform,f[x]=[(v.matrix.a-b.a)/h,(v.matrix.b-b.b)/h,(v.matrix.c-b.c)/h,(v.matrix.d-b.d)/h,(v.matrix.e-b.e)/h,(v.matrix.f-b.f)/h]}break;case"csv":var S=N(a[x])[L](D),T=N(u[x])[L](D);if("clip-rect"==x)for(u[x]=T,f[x]=[],m=T.length;m--;)f[x][m]=(S[m]-u[x][m])/h;p[x]=S;break;default:for(S=[][_](a[x]),T=[][_](u[x]),f[x]=[],m=e.paper.customAttributes[x].length;m--;)f[x][m]=((S[m]||0)-(T[m]||0))/h}var I,M=a.easing,A=R.easing_formulas[M];if(A=A||((A=N(M).match(X))&&5==A.length?(I=A,function(t){return P(t,+I[1],+I[2],+I[3],+I[4],h)}):dt),g={anim:t,percent:i,timestamp:M=a.start||t.start||+new Date,start:M+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:h,easing:A,from:u,diff:f,to:p,el:e,callback:a.callback,prev:c,next:d,repeat:o||t.times,origin:e.attr(),totalOrigin:r},te.push(g),n&&!s&&!l&&(g.stop=!0,g.start=new Date-h*n,1==te.length))return ie();l&&(g.start=new Date-g.ms*n),1==te.length&&ee(ie)}F("raphael.anim.start."+e.id,e,t)}}function e(t){for(var e=0;e<te.length;e++)te[e].el.paper==t&&te.splice(e--,1)}R.version="2.1.2",R.eve=F;function o(t,e){return $(t)-$(e)}function n(t,e,i,n){return[["M",t,e],["m",0,-(n=null==n?i:n)],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]}var a,d,c,D=/[, ]+/,h={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},u=/\{(\d+)\}/g,O="hasOwnProperty",f={doc:document,win:t},p={was:Object.prototype[O].call(f.win,"Raphael"),is:f.win.Raphael},g=function(){this.ca=this.customAttributes={}},v="apply",_="concat",b="ontouchstart"in f.win||f.win.DocumentTouch&&f.doc instanceof DocumentTouch,N=String,L="split",S="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[L](" "),I={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},M=N.prototype.toLowerCase,A=Math,B=A.max,j=A.min,H=A.abs,z=A.pow,q=A.PI,G="number",U="string",W="array",V=Object.prototype.toString,J=(R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=A.round,$=parseFloat,K=parseInt,Z=N.prototype.toUpperCase,tt=R._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},et=R._availableAnimAttrs={blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rx:G,ry:G,stroke:"colour","stroke-opacity":G,"stroke-width":G,transform:"transform",width:G,x:G,y:G},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(R._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),dt=function(t){return t},ct=R._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ht=R._getPath={path:function(t){return t.attr("path")},circle:function(t){t=t.attrs;return n(t.cx,t.cy,t.r)},ellipse:function(t){t=t.attrs;return n(t.cx,t.cy,t.rx,t.ry)},rect:function(t){t=t.attrs;return ct(t.x,t.y,t.width,t.height,t.r)},image:function(t){t=t.attrs;return ct(t.x,t.y,t.width,t.height)},text:function(t){t=t._getBBox();return ct(t.x,t.y,t.width,t.height)},set:function(t){t=t._getBBox();return ct(t.x,t.y,t.width,t.height)}},ut=R.mapPath=function(t,e){if(!e)return t;for(var i,n,r,o,a,s=0,l=(t=Pt(t)).length;s<l;s++)for(r=1,o=(a=t[s]).length;r<o;r+=2)i=e.x(a[r],a[r+1]),n=e.y(a[r],a[r+1]),a[r]=i,a[r+1]=n;return t};if(R._g=f,R.type=f.win.SVGAngle||f.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==R.type){var pt,ft=f.doc.createElement("div");if(ft.innerHTML='<v:shape adj="1"/>',(pt=ft.firstChild).style.behavior="url(#default#VML)",!pt||"object"!=typeof pt.adj)return R.type="";ft=null}R.svg=!(R.vml="VML"==R.type),R._Paper=g,R.fn=ft=g.prototype=R.prototype,R._id=0,R._oid=0,R.is=function(t,e){return"finite"==(e=M.call(e))?!Y[O](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||V.call(t).slice(8,-1).toLowerCase()==e},R.angle=function(t,e,i,n,r,o){if(null!=r)return R.angle(t,e,r,o)-R.angle(i,n,r,o);i=t-i,n=e-n;return i||n?(180+180*A.atan2(-n,-i)/q+360)%360:0},R.rad=function(t){return t%360*q/180},R.deg=function(t){return 180*t/q%360},R.snapTo=function(t,e,i){if(i=R.is(i,"finite")?i:10,R.is(t,W)){for(var n=t.length;n--;)if(H(t[n]-e)<=i)return t[n]}else{var r=e%(t=+t);if(r<i)return e-r;if(t-i<r)return e-r+t}return e},R.createUUID=(d=/[xy]/g,c=function(t){var e=0|16*A.random();return("x"==t?e:8|3&e).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(d,c).toUpperCase()}),R.setWindow=function(t){F("raphael.setWindow",R,f.win,t),f.win=t,f.doc=f.win.document,R._engine.initWin&&R._engine.initWin(f.win)};function gt(){return"hsb("+[this.h,this.s,this.b]+")"}function mt(){return"hsl("+[this.h,this.s,this.l]+")"}function wt(){return this.hex}function xt(t,e,i){var n;return null==e&&R.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&R.is(t,U)&&(t=(n=R.getRGB(t)).r,e=n.g,i=n.b),(1<t||1<e||1<i)&&(t/=255,e/=255,i/=255),[t,e,i]}function vt(t,e,i,n){return i={r:t*=255,g:e*=255,b:i*=255,hex:R.rgb(t,e,i),toString:wt},R.is(n,"finite")&&(i.opacity=n),i}var bt=function(t){if(R.vml){var i,n=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),i=e.body}catch(t){i=createPopup().document.body}var r=i.createTextRange();bt=T(function(t){try{i.style.color=N(t).replace(n,"");var e=r.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=f.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",f.doc.body.appendChild(o),bt=T(function(t){return o.style.color=t,f.doc.defaultView.getComputedStyle(o,"").getPropertyValue("color")})}return bt(t)};R.color=function(t){var e;return R.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=R.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):R.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=R.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(R.is(t,"string")&&(t=R.getRGB(t)),R.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=R.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=R.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=wt,t},R.hsb2rgb=function(t,e,i,n){var r,o,a;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=(t=t.h).o),o=(a=i*e)*(1-H((t=(t*=360)%360/60)%2-1)),i=e=r=i-a,vt(i+=[a,o,0,0,o,a][t=~~t],e+=[o,a,a,o,0,0][t],r+=[0,0,o,a,a,o][t],n)},R.hsl2rgb=function(t,e,i,n){var r,o,a;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(1<t||1<e||1<i)&&(t/=360,e/=100,i/=100),o=(a=2*e*(i<.5?i:1-i))*(1-H((t=(t*=360)%360/60)%2-1)),i=e=r=i-a/2,vt(i+=[a,o,0,0,o,a][t=~~t],e+=[o,a,a,o,0,0][t],r+=[0,0,o,a,a,o][t],n)},R.rgb2hsb=function(t,e,i){var n,r;return t=(i=xt(t,e,i))[0],e=i[1],i=i[2],{h:((0==(r=(n=B(t,e,i))-j(t,e,i))?null:n==t?(e-i)/r:n==e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/n,b:n,toString:gt}},R.rgb2hsl=function(t,e,i){var n,r,o;return t=(i=xt(t,e,i))[0],e=i[1],i=i[2],n=((r=B(t,e,i))+(o=j(t,e,i)))/2,{h:((0==(o=r-o)?null:r==t?(e-i)/o:r==e?(i-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:n<.5?o/(2*n):o/(2-2*n),l:n,toString:mt}},R._path2string=function(){return this.join(",").replace(rt,"$1")},R._preload=function(t,e){var i=f.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,f.doc.body.removeChild(this)},i.onerror=function(){f.doc.body.removeChild(this)},f.doc.body.appendChild(i),i.src=t},R.getRGB=T(function(t){if(!t||(t=N(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:s};var e,i,n,r,o,a=(t=!nt[O](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()?bt(t):t).match(J);return a?(a[2]&&(n=K(a[2].substring(5),16),i=K(a[2].substring(3,5),16),e=K(a[2].substring(1,3),16)),a[3]&&(n=K((t=a[3].charAt(3))+t,16),i=K((t=a[3].charAt(2))+t,16),e=K((t=a[3].charAt(1))+t,16)),a[4]&&(o=a[4][L](it),e=$(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),i=$(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=$(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(r=$(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100)),a[5]?(o=a[5][L](it),e=$(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),i=$(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=$(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),"deg"!=o[0].slice(-3)&&"°"!=o[0].slice(-1)||(e/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(r=$(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),R.hsb2rgb(e,i,n,r)):a[6]?(o=a[6][L](it),e=$(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),i=$(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=$(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),"deg"!=o[0].slice(-3)&&"°"!=o[0].slice(-1)||(e/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(r=$(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),R.hsl2rgb(e,i,n,r)):((a={r:e,g:i,b:n,toString:s}).hex="#"+(16777216|n|i<<8|e<<16).toString(16).slice(1),R.is(r,"finite")&&(a.opacity=r),a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}},R),R.hsb=T(function(t,e,i){return R.hsb2rgb(t,e,i).hex}),R.hsl=T(function(t,e,i){return R.hsl2rgb(t,e,i).hex}),R.rgb=T(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),R.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},t=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),t.hex},R.getColor.reset=function(){delete this.start},R.parsePathString=function(t){if(!t)return null;var e=yt(t);if(e.arr)return Mt(e.arr);var o={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return(a=R.is(t,W)&&R.is(t[0],W)?Mt(t):a).length||N(t).replace(ot,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(st,function(t,e){e&&n.push(+e)}),"m"==r&&2<n.length&&(a.push([e][_](n.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)a.push([e][_](n));else for(;n.length>=o[r]&&(a.push([e][_](n.splice(0,o[r]))),o[r]););}),a.toString=R._path2string,e.arr=Mt(a),a},R.parseTransformString=T(function(t){if(!t)return null;var r=[];return(r=R.is(t,W)&&R.is(t[0],W)?Mt(t):r).length||N(t).replace(at,function(t,e,i){var n=[];M.call(e),i.replace(st,function(t,e){e&&n.push(+e)}),r.push([e][_](n))}),r.toString=R._path2string,r});var yt=function(e){var i=yt.ps=yt.ps||{};return i[e]?i[e].sleep=100:i[e]={sleep:100},setTimeout(function(){for(var t in i)i[O](t)&&t!=e&&(i[t].sleep--,i[t].sleep||delete i[t])}),i[e]};R.findDotsAtSegment=function(t,e,i,n,r,o,a,s,l){var d=1-l,c=z(d,3),h=z(d,2),u=l*l,p=u*l,f=c*t+3*h*l*i+3*d*l*l*r+p*a,g=c*e+3*h*l*n+3*d*l*l*o+p*s,c=t+2*l*(i-t)+u*(r-2*i+t),h=e+2*l*(n-e)+u*(o-2*n+e),p=i+2*l*(r-i)+u*(a-2*r+i),u=n+2*l*(o-n)+u*(s-2*o+n),i=d*t+l*i,n=d*e+l*n,a=d*r+l*a,l=d*o+l*s,s=90-180*A.atan2(c-p,h-u)/q;return(p<c||h<u)&&(s+=180),{x:f,y:g,m:{x:c,y:h},n:{x:p,y:u},start:{x:i,y:n},end:{x:a,y:l},alpha:s}},R.bezierBBox=function(t,e,i,n,r,o,a,s){R.is(t,"array")||(t=[t,e,i,n,r,o,a,s]);t=Et.apply(null,t);return{x:t.min.x,y:t.min.y,x2:t.max.x,y2:t.max.y,width:t.max.x-t.min.x,height:t.max.y-t.min.y}},R.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},R.isBBoxIntersect=function(t,e){var i=R.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},R.pathIntersection=function(t,e){return r(t,e)},R.pathIntersectionNumber=function(t,e){return r(t,e,1)},R.isPointInsidePath=function(t,e,i){var n=R.pathBBox(t);return R.isPointInsideBBox(n,e,i)&&1==r(t,[["M",e,i],["H",n.x2+10]],1)%2},R._removedFactory=function(t){return function(){F("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};function Ct(t,e,i,n){return[t,e,i,n,i,n]}function kt(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]}function St(t,e,i,n,r,o,a,s,l){var d=1-l;return{x:z(d,3)*t+3*z(d,2)*l*i+3*d*l*l*r+z(l,3)*a,y:z(d,3)*e+3*z(d,2)*l*n+3*d*l*l*o+z(l,3)*s}}function Tt(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}var It=R.pathBBox=function(t){var e=yt(t);if(e.bbox)return m(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,n,r=0,o=0,a=[],s=[],l=0,d=(t=Pt(t)).length;l<d;l++)"M"==(i=t[l])[0]?(r=i[1],o=i[2],a.push(r),s.push(o)):(n=Et(r,o,i[1],i[2],i[3],i[4],i[5],i[6]),a=a[_](n.min.x,n.max.x),s=s[_](n.min.y,n.max.y),r=i[5],o=i[6]);var c=j[v](0,a),h=j[v](0,s),u=B[v](0,a),p=B[v](0,s),f=u-c,g=p-h,g={x:c,y:h,x2:u,y2:p,width:f,height:g,cx:c+f/2,cy:h+g/2};return e.bbox=m(g),g},Mt=function(t){t=m(t);return t.toString=R._path2string,t},g=R._pathToRelative=function(t){var e=yt(t);if(e.rel)return Mt(e.rel);var i=[],n=0,r=0,o=0,a=0,s=0;"M"==(t=!R.is(t,W)||!R.is(t&&t[0],W)?R.parsePathString(t):t)[0][0]&&(o=n=t[0][1],a=r=t[0][2],s++,i.push(["M",n,r]));for(var l=s,d=t.length;l<d;l++){var c=i[l]=[],h=t[l];if(h[0]!=M.call(h[0]))switch(c[0]=M.call(h[0]),c[0]){case"a":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]-n).toFixed(3),c[7]=+(h[7]-r).toFixed(3);break;case"v":c[1]=+(h[1]-r).toFixed(3);break;case"m":o=h[1],a=h[2];default:for(var u=1,p=h.length;u<p;u++)c[u]=+(h[u]-(u%2?n:r)).toFixed(3)}else{c=i[l]=[],"m"==h[0]&&(o=h[1]+n,a=h[2]+r);for(var f=0,g=h.length;f<g;f++)i[l][f]=h[f]}var m=i[l].length;switch(i[l][0]){case"z":n=o,r=a;break;case"h":n+=+i[l][m-1];break;case"v":r+=+i[l][m-1];break;default:n+=+i[l][m-2],r+=+i[l][m-1]}}return i.toString=R._path2string,e.rel=Mt(i),i},At=R._pathToAbsolute=function(t){var e=yt(t);if(e.abs)return Mt(e.abs);if(!(t=!R.is(t,W)||!R.is(t&&t[0],W)?R.parsePathString(t):t)||!t.length)return[["M",0,0]];var i=[],n=0,r=0,o=0,a=0,s=0;"M"==t[0][0]&&(o=n=+t[0][1],a=r=+t[0][2],s++,i[0]=["M",n,r]);for(var l,d,c=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=s,u=t.length;h<u;h++){if(i.push(l=[]),(d=t[h])[0]!=Z.call(d[0]))switch(l[0]=Z.call(d[0]),l[0]){case"A":l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=+(d[6]+n),l[7]=+(d[7]+r);break;case"V":l[1]=+d[1]+r;break;case"H":l[1]=+d[1]+n;break;case"R":for(var p=[n,r][_](d.slice(1)),f=2,g=p.length;f<g;f++)p[f]=+p[f]+n,p[++f]=+p[f]+r;i.pop(),i=i[_](x(p,c));break;case"M":o=+d[1]+n,a=+d[2]+r;default:for(f=1,g=d.length;f<g;f++)l[f]=+d[f]+(f%2?n:r)}else if("R"==d[0])p=[n,r][_](d.slice(1)),i.pop(),i=i[_](x(p,c)),l=["R"][_](d.slice(-2));else for(var m=0,w=d.length;m<w;m++)l[m]=d[m];switch(l[0]){case"Z":n=o,r=a;break;case"H":n=l[1];break;case"V":r=l[1];break;case"M":o=l[l.length-2],a=l[l.length-1];default:n=l[l.length-2],r=l[l.length-1]}}return i.toString=R._path2string,e.abs=Mt(i),i},Ft=function(t,e,i,n,r,o,a,s,l,d){var c,h,u,p=120*q/180,f=q/180*(+r||0),g=[],m=T(function(t,e,i){return{x:t*A.cos(i)-e*A.sin(i),y:t*A.sin(i)+e*A.cos(i)}});d?(b=d[0],y=d[1],x=d[2],v=d[3]):(t=(h=m(t,e,-f)).x,e=h.y,s=(h=m(s,l,-f)).x,l=h.y,1<(w=(u=(A.cos(q/180*r),A.sin(q/180*r),(t-s)/2))*u/(i*i)+(c=(e-l)/2)*c/(n*n))&&(i*=w=A.sqrt(w),n*=w),h=i*i,w=n*n,x=(h=(o==a?-1:1)*A.sqrt(H((h*w-h*c*c-w*u*u)/(h*c*c+w*u*u))))*i*c/n+(t+s)/2,v=h*-n*u/i+(e+l)/2,b=A.asin(((e-v)/n).toFixed(9)),y=A.asin(((l-v)/n).toFixed(9)),(b=t<x?q-b:b)<0&&(b=2*q+b),(y=s<x?q-y:y)<0&&(y=2*q+y),a&&y<b&&(b-=2*q),!a&&b<y&&(y-=2*q)),H(w=y-b)>p&&(c=y,h=s,u=l,y=b+p*(a&&b<y?1:-1),s=x+i*A.cos(y),l=v+n*A.sin(y),g=Ft(s,l,i,n,r,0,a,h,u,[y,c,x,v]));var w=y-b,x=A.cos(b),v=A.sin(b),b=A.cos(y),y=A.sin(y),w=A.tan(w/4),i=4/3*i*w,n=4/3*n*w,w=[t,e],x=[t+i*v,e-n*x],b=[s+i*y,l-n*b],l=[s,l];if(x[0]=2*w[0]-x[0],x[1]=2*w[1]-x[1],d)return[x,b,l][_](g);for(var C=[],k=0,S=(g=[x,b,l][_](g).join()[L](",")).length;k<S;k++)C[k]=k%2?m(g[k-1],g[k],f).y:m(g[k],g[k+1],f).x;return C},Et=T(function(t,e,i,n,r,o,a,s){var l,d=r-2*i+t-(a-2*r+i),c=2*(i-t)-2*(r-i),h=t-i,u=(-c+A.sqrt(c*c-4*d*h))/2/d,p=(-c-A.sqrt(c*c-4*d*h))/2/d,f=[e,s],g=[t,a];return"1e12"<H(u)&&(u=.5),"1e12"<H(p)&&(p=.5),0<u&&u<1&&(l=St(t,e,i,n,r,o,a,s,u),g.push(l.x),f.push(l.y)),0<p&&p<1&&(l=St(t,e,i,n,r,o,a,s,p),g.push(l.x),f.push(l.y)),d=o-2*n+e-(s-2*o+n),h=e-n,u=(-(c=2*(n-e)-2*(o-n))+A.sqrt(c*c-4*d*h))/2/d,p=(-c-A.sqrt(c*c-4*d*h))/2/d,"1e12"<H(u)&&(u=.5),"1e12"<H(p)&&(p=.5),0<u&&u<1&&(l=St(t,e,i,n,r,o,a,s,u),g.push(l.x),f.push(l.y)),0<p&&p<1&&(l=St(t,e,i,n,r,o,a,s,p),g.push(l.x),f.push(l.y)),{min:{x:j[v](0,g),y:j[v](0,f)},max:{x:B[v](0,g),y:B[v](0,f)}}}),Pt=R._path2curve=T(function(t,e){var i=!e&&yt(t);if(!e&&i.curve)return Mt(i.curve);function n(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][_](Ft[v](0,[e.x,e.y][_](t.slice(1))));break;case"S":r="C"==i||"S"==i?(n=2*e.x-e.bx,2*e.y-e.by):(n=e.x,e.y),t=["C",n,r][_](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][_](kt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][_](kt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][_](Ct(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][_](Ct(e.x,e.y,t[1],e.y));break;case"V":t=["C"][_](Ct(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][_](Ct(e.x,e.y,e.X,e.Y))}return t}function r(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][_](i.splice(0,6)));t.splice(e,1),h=B(a.length,s&&s.length||0)}}function o(t,e,i,n,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],h=B(a.length,s&&s.length||0))}for(var a=At(t),s=e&&At(e),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=0,h=B(a.length,s&&s.length||0);c<h;c++){a[c]=n(a[c],l),r(a,c),s&&(s[c]=n(s[c],d)),s&&r(s,c),o(a,s,l,d,c),o(s,a,d,l,c);var u=a[c],p=s&&s[c],f=u.length,g=s&&p.length;l.x=u[f-2],l.y=u[f-1],l.bx=$(u[f-4])||l.x,l.by=$(u[f-3])||l.y,d.bx=s&&($(p[g-4])||d.x),d.by=s&&($(p[g-3])||d.y),d.x=s&&p[g-2],d.y=s&&p[g-1]}return s||(i.curve=Mt(a)),s?[a,s]:a},null,Mt),Dt=(R._parseDots=T(function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r={},o=t[i].match(/^([^:]*):?([\d\.]*)/);if(r.color=R.getRGB(o[1]),r.color.error)return null;r.color=r.color.hex,o[2]&&(r.offset=o[2]+"%"),e.push(r)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){for(var a=$(e[i-1].offset||0),s=0,l=i+1;l<n;l++)if(e[l].offset){s=e[l].offset;break}s||(s=100,l=n);for(var d=((s=$(s))-a)/(l-i+1);i<l;i++)a+=d,e[i].offset=a+"%"}return e}),R._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Ot=(R._tofront=function(t,e){e.top!==t&&(Dt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},R._toback=function(t,e){e.bottom!==t&&(Dt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},R._insertafter=function(t,e,i){Dt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},R._insertbefore=function(t,e,i){Dt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},R.toMatrix=function(t,e){var i=It(t),t={_:{transform:""},getBBox:function(){return i}};return _t(t,e),t.matrix}),_t=(R.transformPath=function(t,e){return ut(t,Ot(t,e))},R._extractTransform=function(t,e){if(null==e)return t._.transform;e=N(e).replace(/\.{3}|\u2026/g,t._.transform||"");var i,n=R.parseTransformString(e),r=0,e=0,o=1,a=1,s=t._,l=new E;if(s.transform=n||[],n)for(var d=0,c=n.length;d<c;d++){var h,u,p,f,g,m=n[d],w=m.length,x=N(m[0]).toLowerCase(),v=m[0]!=x,b=v?l.invert():0;"t"==x&&3==w?v?(h=b.x(0,0),u=b.y(0,0),p=b.x(m[1],m[2]),f=b.y(m[1],m[2]),l.translate(p-h,f-u)):l.translate(m[1],m[2]):"r"==x?2==w?(g=g||t.getBBox(1),l.rotate(m[1],g.x+g.width/2,g.y+g.height/2),r+=m[1]):4==w&&(v?(p=b.x(m[2],m[3]),f=b.y(m[2],m[3]),l.rotate(m[1],p,f)):l.rotate(m[1],m[2],m[3]),r+=m[1]):"s"==x?2==w||3==w?(g=g||t.getBBox(1),l.scale(m[1],m[w-1],g.x+g.width/2,g.y+g.height/2),o*=m[1],a*=m[w-1]):5==w&&(v?(p=b.x(m[3],m[4]),f=b.y(m[3],m[4]),l.scale(m[1],m[2],p,f)):l.scale(m[1],m[2],m[3],m[4]),o*=m[1],a*=m[2]):"m"==x&&7==w&&l.add(m[1],m[2],m[3],m[4],m[5],m[6]),s.dirtyT=1,t.matrix=l}t.matrix=l,s.sx=o,s.sy=a,s.deg=r,s.dx=i=l.e,s.dy=e=l.f,1==o&&1==a&&!r&&s.bbox?(s.bbox.x+=+i,s.bbox.y+=+e):s.dirtyT=1}),Nt=R._equaliseTransform=function(t,e){e=N(e).replace(/\.{3}|\u2026/g,t),t=R.parseTransformString(t)||[],e=R.parseTransformString(e)||[];for(var i,n,r,o,a=B(t.length,e.length),s=[],l=[],d=0;d<a;d++){if(r=t[d]||Tt(e[d]),o=e[d]||Tt(r),r[0]!=o[0]||"r"==r[0].toLowerCase()&&(r[2]!=o[2]||r[3]!=o[3])||"s"==r[0].toLowerCase()&&(r[3]!=o[3]||r[4]!=o[4]))return;for(s[d]=[],l[d]=[],i=0,n=B(r.length,o.length);i<n;i++)i in r&&(s[d][i]=r[i]),i in o&&(l[d][i]=o[i])}return{from:s,to:l}};function Lt(t){return t[0]*t[0]+t[1]*t[1]}function Rt(t){var e=A.sqrt(Lt(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}R._getContainer=function(t,e,i,n){var r=null!=n||R.is(t,"object")?t:f.doc.getElementById(t);return null!=r?r.tagName?null==e?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:i}:{container:1,x:t,y:e,width:i,height:n}:void 0},R.pathToRelative=g,R._engine={},R.path2curve=Pt,R.matrix=function(t,e,i,n,r,o){return new E(t,e,i,n,r,o)},(g=E.prototype).add=function(t,e,i,n,r,o){var a,s,l,d,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],u=[[t,i,r],[e,n,o],[0,0,1]];for(t&&t instanceof E&&(u=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(l=d=0;l<3;l++)d+=h[a][l]*u[l][s];c[a][s]=d}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},g.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new E(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},g.clone=function(){return new E(this.a,this.b,this.c,this.d,this.e,this.f)},g.translate=function(t,e){this.add(1,0,0,1,t,e)},g.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},g.rotate=function(t,e,i){t=R.rad(t),e=e||0,i=i||0;var n=+A.cos(t).toFixed(9),t=+A.sin(t).toFixed(9);this.add(n,t,-t,n,e,i),this.add(1,0,0,1,-e,-i)},g.x=function(t,e){return t*this.a+e*this.c+this.e},g.y=function(t,e){return t*this.b+e*this.d+this.f},g.get=function(t){return+this[N.fromCharCode(97+t)].toFixed(4)},g.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},g.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},g.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},g.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=A.sqrt(Lt(e[0])),Rt(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=A.sqrt(Lt(e[1])),Rt(e[1]),t.shear/=t.scaley;var i=-e[0][1],e=e[1][1];return e<0?(t.rotate=R.deg(A.acos(e)),i<0&&(t.rotate=360-t.rotate)):t.rotate=R.deg(A.asin(i)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},g.toTransformString=function(t){t=t||this[L]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:"")+(t.rotate?"r"+[t.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]};g=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);ft.safari="Apple Computer, Inc."==navigator.vendor&&(g&&g[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&g&&g[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:function(){};function Bt(){this.returnValue=!1}function jt(){return this.originalEvent.preventDefault()}function Ht(){this.cancelBubble=!0}function zt(){return this.originalEvent.stopPropagation()}function qt(t){var e=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,i=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}}function Gt(t){for(var e,i=t.clientX,n=t.clientY,r=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,o=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft,a=Wt.length;a--;){if(e=Wt[a],b&&t.touches){for(var s,l=t.touches.length;l--;)if((s=t.touches[l]).identifier==e.el._drag.id){i=s.clientX,n=s.clientY,(t.originalEvent||t).preventDefault();break}}else t.preventDefault();var d,c=e.el.node,h=c.nextSibling,u=c.parentNode,p=c.style.display;f.win.opera&&u.removeChild(c),c.style.display="none",d=e.el.paper.getElementByPoint(i,n),c.style.display=p,f.win.opera&&(h?u.insertBefore(c,h):u.appendChild(c)),d&&F("raphael.drag.over."+e.el.id,e.el,d),i+=o,n+=r,F("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,n-e.el._drag.y,i,n,t)}}for(var Ut=f.doc.addEventListener?function(o,t,a,s){function e(t){var e=qt(t);return a.call(s,t,e.x,e.y)}return o.addEventListener(t,e,!1),b&&I[t]&&o.addEventListener(I[t],function(t){for(var e=qt(t),i=t,n=0,r=t.targetTouches&&t.targetTouches.length;n<r;n++)if(t.targetTouches[n].target==o){(t=t.targetTouches[n]).originalEvent=i,t.preventDefault=jt,t.stopPropagation=zt;break}return a.call(s,t,e.x,e.y)},!1),function(){return o.removeEventListener(t,e,!1),b&&I[t]&&o.removeEventListener(I[t],e,!1),!0}}:f.doc.attachEvent?function(t,e,n,r){function i(t){t=t||f.win.event;var e=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,i=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft,i=t.clientX+i,e=t.clientY+e;return t.preventDefault=t.preventDefault||Bt,t.stopPropagation=t.stopPropagation||Ht,n.call(r,t,i,e)}t.attachEvent("on"+e,i);return function(){return t.detachEvent("on"+e,i),!0}}:void 0,Wt=[],Vt=function(t){R.unmousemove(Gt).unmouseup(Vt);for(var e,i=Wt.length;i--;)(e=Wt[i]).el._drag={},F("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Wt=[]},Jt=R.el={},Yt=S.length;Yt--;)!function(n){R[n]=Jt[n]=function(t,e){return R.is(t,"function")&&(this.events=this.events||[],this.events.push({name:n,f:t,unbind:Ut(this.shape||this.node||f.doc,n,t,e||this)})),this},R["un"+n]=Jt["un"+n]=function(t){for(var e=this.events||[],i=e.length;i--;)e[i].name!=n||!R.is(t,"undefined")&&e[i].f!=t||(e[i].unbind(),e.splice(i,1),e.length||delete this.events);return this}}(S[Yt]);Jt.data=function(t,e){var i=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return i;if(1!=arguments.length)return i[t]=e,F("raphael.data.set."+this.id,this,e,t),this;if(R.is(t,"object")){for(var n in t)t[O](n)&&this.data(n,t[n]);return this}return F("raphael.data.get."+this.id,this,i[t],t),i[t]},Jt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Jt.getData=function(){return m(lt[this.id]||{})},Jt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Jt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Xt=[];Jt.drag=function(s,l,d,c,h,u){function t(t){(t.originalEvent||t).preventDefault();var e=t.clientX,i=t.clientY,n=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,r=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft;if(this._drag.id=t.identifier,b&&t.touches)for(var o,a=t.touches.length;a--;)if(o=t.touches[a],this._drag.id=o.identifier,o.identifier==this._drag.id){e=o.clientX,i=o.clientY;break}this._drag.x=e+r,this._drag.y=i+n,Wt.length||R.mousemove(Gt).mouseup(Vt),Wt.push({el:this,move_scope:c,start_scope:h,end_scope:u}),l&&F.on("raphael.drag.start."+this.id,l),s&&F.on("raphael.drag.move."+this.id,s),d&&F.on("raphael.drag.end."+this.id,d),F("raphael.drag.start."+this.id,h||c||this,t.clientX+r,t.clientY+n,t)}return this._drag={},Xt.push({el:this,start:t}),this.mousedown(t),this},Jt.onDragOver=function(t){t?F.on("raphael.drag.over."+this.id,t):F.unbind("raphael.drag.over."+this.id)},Jt.undrag=function(){for(var t=Xt.length;t--;)Xt[t].el==this&&(this.unmousedown(Xt[t].start),Xt.splice(t,1),F.unbind("raphael.drag.*."+this.id));Xt.length||R.unmousemove(Gt).unmouseup(Vt),Wt=[]},ft.circle=function(t,e,i){i=R._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(i),i},ft.rect=function(t,e,i,n,r){r=R._engine.rect(this,t||0,e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(r),r},ft.ellipse=function(t,e,i,n){n=R._engine.ellipse(this,t||0,e||0,i||0,n||0);return this.__set__&&this.__set__.push(n),n},ft.path=function(t){!t||R.is(t,U)||R.is(t[0],W)||(t+="");var e=R._engine.path(R.format[v](R,arguments),this);return this.__set__&&this.__set__.push(e),e},ft.image=function(t,e,i,n,r){r=R._engine.image(this,t||"about:blank",e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(r),r},ft.text=function(t,e,i){i=R._engine.text(this,t||0,e||0,N(i));return this.__set__&&this.__set__.push(i),i},ft.set=function(t){R.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ce(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},ft.setStart=function(t){this.__set__=t||this.set()},ft.setFinish=function(){var t=this.__set__;return delete this.__set__,t},ft.setSize=function(t,e){return R._engine.setSize.call(this,t,e)},ft.setViewBox=function(t,e,i,n,r){return R._engine.setViewBox.call(this,t,e,i,n,r)},ft.top=ft.bottom=null,ft.raphael=R;ft.getElementByPoint=function(t,e){var i,n,r,o,a,s=this.canvas,l=f.doc.elementFromPoint(t,e);if(f.win.opera&&"svg"==l.tagName&&(n=(i=s).getBoundingClientRect(),r=i.ownerDocument,o=r.body,a=r.documentElement,i=a.clientTop||o.clientTop||0,r=a.clientLeft||o.clientLeft||0,o={y:n.top+(f.win.pageYOffset||a.scrollTop||o.scrollTop)-i,x:n.left+(f.win.pageXOffset||a.scrollLeft||o.scrollLeft)-r},(r=s.createSVGRect()).x=t-o.x,r.y=e-o.y,r.width=r.height=1,(r=s.getIntersectionList(r,null)).length&&(l=r[r.length-1])),!l)return null;for(;l.parentNode&&l!=s.parentNode&&!l.raphael;)l=l.parentNode;return(l=l==this.canvas.parentNode?s:l)&&l.raphael?this.getById(l.raphaelid):null},ft.getElementsByBBox=function(e){var i=this.set();return this.forEach(function(t){R.isBBoxIntersect(t.getBBox(),e)&&i.push(t)}),i},ft.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},ft.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},ft.getElementsByPoint=function(e,i){var n=this.set();return this.forEach(function(t){t.isPointInside(e,i)&&n.push(t)}),n},Jt.isPointInside=function(t,e){var i=this.realPath=ht[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=R.transformPath(i,this.attr("transform"))),R.isPointInsidePath(i,t,e)},Jt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=ht[this.type](this),e.bboxwt=It(this.realPath),e.bboxwt.toString=i,e.dirty=0),e.bboxwt):(!e.dirty&&!e.dirtyT&&e.bbox||(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=ht[this.type](this)),e.bbox=It(ut(this.realPath,this.matrix)),e.bbox.toString=i,e.dirty=e.dirtyT=0),e.bbox)},Jt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Jt.glow=function(t){if("text"==this.type)return null;for(var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),o=this.realPath||ht[this.type](this),o=this.matrix?ut(o,this.matrix):o,a=1;a<1+i;a++)r.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*a).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};function Qt(t,e,i,n,r,o,a,s,l){return null==l?y(t,e,i,n,r,o,a,s):R.findDotsAtSegment(t,e,i,n,r,o,a,s,function(t,e,i,n,r,o,a,s,l){if(!(l<0||y(t,e,i,n,r,o,a,s)<l)){for(var d=.5,c=1-d,h=y(t,e,i,n,r,o,a,s,c);.01<H(h-l);)h=y(t,e,i,n,r,o,a,s,c+=(h<l?1:-1)*(d/=2));return c}}(t,e,i,n,r,o,a,s,l))}var g=function(p,f){return function(t,e,i){for(var n,r,o,a,s,l="",d={},c=0,h=0,u=(t=Pt(t)).length;h<u;h++){if("M"==(o=t[h])[0])n=+o[1],r=+o[2];else{if(e<c+(a=Qt(n,r,o[1],o[2],o[3],o[4],o[5],o[6]))){if(f&&!d.start){if(l+=["C"+(s=Qt(n,r,o[1],o[2],o[3],o[4],o[5],o[6],e-c)).start.x,s.start.y,s.m.x,s.m.y,s.x,s.y],i)return l;d.start=l,l=["M"+s.x,s.y+"C"+s.n.x,s.n.y,s.end.x,s.end.y,o[5],o[6]].join(),c+=a,n=+o[5],r=+o[6];continue}if(!p&&!f)return{x:(s=Qt(n,r,o[1],o[2],o[3],o[4],o[5],o[6],e-c)).x,y:s.y,alpha:s.alpha}}c+=a,n=+o[5],r=+o[6]}l+=o.shift()+o}return d.end=l,s=(s=p?c:f?d:R.findDotsAtSegment(n,r,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha?{x:s.x,y:s.y,alpha:s.alpha}:s}},$t=g(1),Kt=g(),Zt=g(0,1);R.getTotalLength=$t,R.getPointAtLength=Kt,R.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Zt(t,e).end;i=Zt(t,i,1);return e?Zt(i,e).end:i},Jt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():$t(t)},Jt.getPointAtLength=function(t){var e=this.getPath();if(e)return Kt(e,t)},Jt.getPath=function(){var t,e=R._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t=e?e(this):t},Jt.getSubpath=function(t,e){var i=this.getPath();if(i)return R.getSubpath(i,t,e)};g=R.easing_formulas={linear:function(t){return t},"<":function(t){return z(t,1.7)},">":function(t){return z(t,.48)},"<>":function(t){var e=.48-t/1.04,i=A.sqrt(.1734+e*e),t=i-e,e=-i-e,e=z(H(t),1/3)*(t<0?-1:1)+z(H(e),1/3)*(e<0?-1:1)+.5;return 3*(1-e)*e*e+e*e*e},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:z(2,-10*t)*A.sin(2*(t-.075)*q/.3)+1},bounce:function(t){var e=7.5625,t=t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375;return t}};g.easeIn=g["ease-in"]=g["<"],g.easeOut=g["ease-out"]=g[">"],g.easeInOut=g["ease-in-out"]=g["<>"],g["back-in"]=g.backIn,g["back-out"]=g.backOut;var te=[],ee=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ie=function(){for(var t=+new Date,e=0;e<te.length;e++){var i=te[e];if(!i.el.removed&&!i.paused){var n,r=t-i.start,o=i.ms,a=i.easing,s=i.from,l=i.diff,d=i.to,c=(i.t,i.el),h={},u={};if(i.initstatus?(r=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*o,i.status=i.initstatus,delete i.initstatus,i.stop&&te.splice(e--,1)):i.status=(i.prev+(i.percent-i.prev)*(r/o))/i.anim.top,!(r<0))if(r<o){var p,f=a(r/o);for(p in s)if(s[O](p)){switch(et[p]){case G:g=+s[p]+f*o*l[p];break;case"colour":g="rgb("+[ne(Q(s[p].r+f*o*l[p].r)),ne(Q(s[p].g+f*o*l[p].g)),ne(Q(s[p].b+f*o*l[p].b))].join(",")+")";break;case"path":for(var g=[],m=0,w=s[p].length;m<w;m++){g[m]=[s[p][m][0]];for(var x=1,v=s[p][m].length;x<v;x++)g[m][x]=+s[p][m][x]+f*o*l[p][m][x];g[m]=g[m].join(" ")}g=g.join(" ");break;case"transform":if(l[p].real)for(g=[],m=0,w=s[p].length;m<w;m++)for(g[m]=[s[p][m][0]],x=1,v=s[p][m].length;x<v;x++)g[m][x]=s[p][m][x]+f*o*l[p][m][x];else{function b(t){return+s[p][t]+f*o*l[p][t]}g=[["m",b(0),b(1),b(2),b(3),b(4),b(5)]]}break;case"csv":if("clip-rect"==p)for(g=[],m=4;m--;)g[m]=+s[p][m]+f*o*l[p][m];break;default:var y=[][_](s[p]);for(g=[],m=c.paper.customAttributes[p].length;m--;)g[m]=+y[m]+f*o*l[p][m]}h[p]=g}c.attr(h),function(t,e,i){setTimeout(function(){F("raphael.anim.frame."+t,e,i)})}(c.id,c,i.anim)}else{if(function(t,e,i){setTimeout(function(){F("raphael.anim.frame."+e.id,e,i),F("raphael.anim.finish."+e.id,e,i),R.is(t,"function")&&t.call(e)})}(i.callback,c,i.anim),c.attr(d),te.splice(e--,1),1<i.repeat&&!i.next){for(n in d)d[O](n)&&(u[n]=i.totalOrigin[n]);i.el.attr(u),C(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&C(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}R.svg&&c&&c.paper&&c.paper.safari(),te.length&&ee(ie)},ne=function(t){return 255<t?255:t<0?0:t};Jt.animateWith=function(t,e,i,n,r,o){if(this.removed)return o&&o.call(this),this;o=i instanceof l?i:R.animation(i,n,r,o);C(o,this,o.percents[0],null,this.attr());for(var a=0,s=te.length;a<s;a++)if(te[a].anim==e&&te[a].el==t){te[s-1].start=te[a].start;break}return this},Jt.onAnimation=function(t){return t?F.on("raphael.anim.frame."+this.id,t):F.unbind("raphael.anim.frame."+this.id),this},l.prototype.delay=function(t){var e=new l(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},l.prototype.repeat=function(t){var e=new l(this.anim,this.ms);return e.del=this.del,e.times=A.floor(B(t,0))||1,e},R.animation=function(t,e,i,n){if(t instanceof l)return t;!R.is(i,"function")&&i||(n=n||i||null,i=null),e=+e||0;var r,o,a={};for(o in t=Object(t))t[O](o)&&$(o)!=o&&$(o)+"%"!=o&&(r=!0,a[o]=t[o]);return r?(i&&(a.easing=i),n&&(a.callback=n),new l({100:a},e)):new l(t,e)},Jt.animate=function(t,e,i,n){if(this.removed)return n&&n.call(this),this;n=t instanceof l?t:R.animation(t,e,i,n);return C(n,this,n.percents[0],null,this.attr()),this},Jt.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},Jt.status=function(t,e){var i,n,r=[],o=0;if(null!=e)return C(t,this,-1,j(e,1)),this;for(i=te.length;o<i;o++)if((n=te[o]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Jt.pause=function(t){for(var e=0;e<te.length;e++)te[e].el.id!=this.id||t&&te[e].anim!=t||!1!==F("raphael.anim.pause."+this.id,this,te[e].anim)&&(te[e].paused=!0);return this},Jt.resume=function(t){for(var e,i=0;i<te.length;i++)te[i].el.id!=this.id||t&&te[i].anim!=t||(e=te[i],!1!==F("raphael.anim.resume."+this.id,this,e.anim)&&(delete e.paused,this.status(e.anim,e.status)));return this},Jt.stop=function(t){for(var e=0;e<te.length;e++)te[e].el.id!=this.id||t&&te[e].anim!=t||!1!==F("raphael.anim.stop."+this.id,this,te[e].anim)&&te.splice(e--,1);return this},F.on("raphael.remove",e),F.on("raphael.clear",e),Jt.toString=function(){return"Raphaël’s object"};var re,oe,ae,se,le,de,ce=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=Jt.constructor&&t[e].constructor!=ce||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},he=ce.prototype;for(re in he.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=Jt.constructor&&t.constructor!=ce||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},he.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},he.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(!1===t.call(e,this.items[i],i))return this;return this},Jt)Jt[O](re)&&(he[re]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i][v](t,e)})}}(re));return he.attr=function(t,e){if(t&&R.is(t,W)&&R.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var r=0,o=this.items.length;r<o;r++)this.items[r].attr(t,e);return this},he.clear=function(){for(;this.length;)this.pop()},he.splice=function(t,e){t=t<0?B(this.length+t,0):t,e=B(0,j(this.length-t,e));for(var i=[],n=[],r=[],o=2;o<arguments.length;o++)r.push(arguments[o]);for(o=0;o<e;o++)n.push(this[t+o]);for(;o<this.length-t;o++)i.push(this[t+o]);var a=r.length;for(o=0;o<a+i.length;o++)this.items[t+o]=this[t+o]=o<a?r[o]:i[o-a];for(o=this.items.length=this.length-=e-a;this[o];)delete this[o++];return new ce(n)},he.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},he.animate=function(t,e,i,n){!R.is(i,"function")&&i||(n=i||null);var r,o=this.items.length,a=o,s=this;if(!o)return this;n&&(r=function(){--o||n.call(s)}),i=R.is(i,U)?i:r;for(var l=R.animation(t,e,i,r),d=this.items[--a].animate(l);a--;)this.items[a]&&!this.items[a].removed&&this.items[a].animateWith(d,l,l),this.items[a]&&!this.items[a].removed||o--;return this},he.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},he.getBBox=function(){for(var t,e=[],i=[],n=[],r=[],o=this.items.length;o--;)this.items[o].removed||(t=this.items[o].getBBox(),e.push(t.x),i.push(t.y),n.push(t.x+t.width),r.push(t.y+t.height));return{x:e=j[v](0,e),y:i=j[v](0,i),x2:n=B[v](0,n),y2:r=B[v](0,r),width:n-e,height:r-i}},he.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},he.toString=function(){return"Raphaël‘s set"},he.glow=function(e){var i=this.paper.set();return this.forEach(function(t){t=t.glow(e);null!=t&&t.forEach(function(t){i.push(t)})}),i},he.isPointInside=function(e,i){var n=!1;return this.forEach(function(t){return t.isPointInside(e,i)?(console.log("runned"),!(n=!0)):void 0}),n},R.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e,i={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(e in t.face)t.face[O](e)&&(i.face[e]=t.face[e]);if(this.fonts[n]?this.fonts[n].push(i):this.fonts[n]=[i],!t.svg)for(var r in i.face["units-per-em"]=K(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[O](r)){var o=t.glyphs[r];if(i.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[O](a)&&(i.glyphs[r].k[a]=o.k[a])}return t},ft.getFont=function(t,e,i,n){if(n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,R.fonts){var r,o=R.fonts[t];if(!o){var a,s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(a in R.fonts)if(R.fonts[O](a)&&s.test(a)){o=R.fonts[a];break}}if(o)for(var l=0,d=o.length;l<d&&((r=o[l]).face["font-weight"]!=e||r.face["font-style"]!=i&&r.face["font-style"]||r.face["font-stretch"]!=n);l++);return r}},ft.print=function(t,e,i,n,r,o,a,s){o=o||"middle",a=B(j(a||0,1),-1),s=B(j(s||1,3),1);var l=N(i)[L](""),d=0,c=0,h="";if(n=R.is(n,"string")?this.getFont(n):n)for(var u,p,f=(r||16)/n.face["units-per-em"],r=n.face.bbox[L](D),g=+r[0],m=r[3]-r[1],w=0,x=+r[1]+("baseline"==o?m+ +n.face.descent:m/2),v=0,b=l.length;v<b;v++)"\n"==l[v]?(c=p=d=0,w+=m*s):(u=c&&n.glyphs[l[v-1]]||{},p=n.glyphs[l[v]],d+=c?(u.w||n.w)+(u.k&&u.k[l[v]]||0)+n.w*a:0,c=1),p&&p.d&&(h+=R.transformPath(p.d,["t",d*f,w*f,"s",f,f,g,x,"t",(t-g)/f,(e-x)/f]));return this.path(h).attr({fill:"#000",stroke:"none"})},ft.add=function(t){if(R.is(t,"array"))for(var e,i=this.set(),n=0,r=t.length;n<r;n++)e=t[n]||{},h[O](e.type)&&i.push(this[e.type]().attr(e));return i},R.format=function(t,e){var i=R.is(e,W)?[0][_](e):arguments;return(t=t&&R.is(t,U)&&i.length-1?t.replace(u,function(t,e){return null==i[++e]?"":i[e]}):t)||""},R.fullfill=(le=/\{([^\}]+)\}/g,de=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,n){return String(t).replace(le,function(t,e){return i=t,o=t=n,e.replace(de,function(t,e,i,n,r){e=e||n,o&&("function"==typeof(o=e in o?o[e]:o)&&r&&(o=o()))}),o=(null==o||o==t?i:o)+"";var i,o})}),R.ninja=function(){return p.was?f.win.Raphael=p.is:delete Raphael,R},R.st=he,oe=document,ae="DOMContentLoaded",null==oe.readyState&&oe.addEventListener&&(oe.addEventListener(ae,se=function(){oe.removeEventListener(ae,se,!1),oe.readyState="complete"},!1),oe.readyState="loading"),function t(){/in/.test(oe.readyState)?setTimeout(t,9):R.eve("raphael.DOMload")}(),F.on("raphael.DOMload",function(){a=!0}),function(){if(R.svg){var k="hasOwnProperty",S=String,g=parseFloat,x=parseInt,m=Math,v=m.max,b=m.abs,w=m.pow,y=/[, ]+/,u=R.eve,C="http://www.w3.org/1999/xlink",T={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},I={};R.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};function M(t,e){var n="linear",i=t.id+e,r=.5,o=.5,a=t.node,s=t.paper,l=a.style,d=R._g.doc.getElementById(i);if(!d){if(e=(e=S(e).replace(R._radial_gradient,function(t,e,i){return n="radial",e&&i&&(r=g(e),i=2*(.5<(o=g(i)))-1,.25<w(r-.5,2)+w(o-.5,2)&&(o=m.sqrt(.25-w(r-.5,2))*i+.5)&&.5!=o&&(o=o.toFixed(5)-1e-5*i)),""})).split(/\s*\-\s*/),"linear"==n){var c=e.shift(),c=-g(c);if(isNaN(c))return null;var h=[0,0,m.cos(R.rad(c)),m.sin(R.rad(c))],c=1/(v(b(h[2]),b(h[3]))||1);h[2]*=c,h[3]*=c,h[2]<0&&(h[0]=-h[2],h[2]=0),h[3]<0&&(h[1]=-h[3],h[3]=0)}var u=R._parseDots(e);if(!u)return null;if(i=i.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&i!=t.gradient.id&&(s.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){d=P(n+"Gradient",{id:i}),t.gradient=d,P(d,"radial"==n?{fx:r,fy:o}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientTransform:t.matrix.invert()}),s.defs.appendChild(d);for(var p=0,f=u.length;p<f;p++)d.appendChild(P("stop",{offset:u[p].offset||(p?"100%":"0%"),"stop-color":u[p].color||"#fff"}))}}return P(a,{fill:"url(#"+i+")",opacity:1,"fill-opacity":1}),l.fill="",l.opacity=1,l.fillOpacity=1}function A(t){var e=t.getBBox(1);P(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})}function F(t,e,i){if("path"==t.type){for(var n,r,o,a,s,l,d,c,h,u=S(e).toLowerCase().split("-"),p=t.paper,f=i?"end":"start",g=t.node,m=t.attrs,w=m["stroke-width"],x=u.length,v="classic",b=3,y=3,C=5;x--;)switch(u[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":v=u[x];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":b=5;break;case"short":b=2}for(c in c="open"==v?(b+=2,y+=2,C+=2,l=1,r=i?4:1,{fill:"none",stroke:m.stroke}):(r=l=b/2,{fill:m.stroke,stroke:"none"}),t._.arrows?i?(t._.arrows.endPath&&I[t._.arrows.endPath]--,t._.arrows.endMarker&&I[t._.arrows.endMarker]--):(t._.arrows.startPath&&I[t._.arrows.startPath]--,t._.arrows.startMarker&&I[t._.arrows.startMarker]--):t._.arrows={},"none"!=v?(o="raphael-marker-"+v,a="raphael-marker-"+f+v+b+y,R._g.doc.getElementById(o)?I[o]++:(p.defs.appendChild(P(P("path"),{"stroke-linecap":"round",d:T[v],id:o})),I[o]=1),(s=R._g.doc.getElementById(a))?(I[a]++,d=s.getElementsByTagName("use")[0]):(s=P(P("marker"),{id:a,markerHeight:y,markerWidth:b,orient:"auto",refX:r,refY:y/2}),d=P(P("use"),{"xlink:href":"#"+o,transform:(i?"rotate(180 "+b/2+" "+y/2+") ":"")+"scale("+b/C+","+y/C+")","stroke-width":(1/((b/C+y/C)/2)).toFixed(4)}),s.appendChild(d),p.defs.appendChild(s),I[a]=1),P(d,c),l=l*("diamond"!=v&&"oval"!=v),d=i?(n=t._.arrows.startdx*w||0,R.getTotalLength(m.path)-l*w):(n=l*w,R.getTotalLength(m.path)-(t._.arrows.enddx*w||0)),(c={})["marker-"+f]="url(#"+a+")",(d||n)&&(c.d=R.getSubpath(m.path,n,d)),P(g,c),t._.arrows[f+"Path"]=o,t._.arrows[f+"Marker"]=a,t._.arrows[f+"dx"]=l,t._.arrows[f+"Type"]=v,t._.arrows[f+"String"]=e):(d=i?(n=t._.arrows.startdx*w||0,R.getTotalLength(m.path)-n):(n=0,R.getTotalLength(m.path)-(t._.arrows.enddx*w||0)),t._.arrows[f+"Path"]&&P(g,{d:R.getSubpath(m.path,n,d)}),delete t._.arrows[f+"Path"],delete t._.arrows[f+"Marker"],delete t._.arrows[f+"dx"],delete t._.arrows[f+"Type"],delete t._.arrows[f+"String"]),I)!I[k](c)||I[c]||(h=R._g.doc.getElementById(c))&&h.parentNode.removeChild(h)}}function E(t,e,i){if(e=l[S(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",r={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],a=e.length;a--;)o[a]=e[a]*n+(a%2?1:-1)*r;P(t.node,{"stroke-dasharray":o.join(",")})}}function p(n,t){var e,i=n.node,r=n.attrs,o=i.style.visibility;for(e in i.style.visibility="hidden",t)if(t[k](e)){if(!R._availableAttrs[k](e))continue;var a=t[e];switch(r[e]=a,e){case"blur":n.blur(a);break;case"href":case"title":var s=P("title"),l=R._g.doc.createTextNode(a);s.appendChild(l),i.appendChild(s);break;case"target":var d=i.parentNode;"a"!=d.tagName.toLowerCase()&&(s=P("a"),d.insertBefore(s,i),s.appendChild(i),d=s),"target"==e?d.setAttributeNS(C,"show","blank"==a?"new":a):d.setAttributeNS(C,e,a);break;case"cursor":i.style.cursor=a;break;case"transform":n.transform(a);break;case"arrow-start":F(n,a);break;case"arrow-end":F(n,a,1);break;case"clip-rect":var c,d=S(a).split(y);4==d.length&&(n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode),u=P("clipPath"),c=P("rect"),u.id=R.createUUID(),P(c,{x:d[0],y:d[1],width:d[2],height:d[3]}),u.appendChild(c),n.paper.defs.appendChild(u),P(i,{"clip-path":"url(#"+u.id+")"}),n.clip=c),a||(c=i.getAttribute("clip-path"))&&((w=R._g.doc.getElementById(c.replace(/(^url\(#|\)$)/g,"")))&&w.parentNode.removeChild(w),P(i,{"clip-path":""}),delete n.clip);break;case"path":"path"==n.type&&(P(i,{d:a?r.path=R._pathToAbsolute(a):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&F(n,n._.arrows.startString),"endString"in n._.arrows&&F(n,n._.arrows.endString,1)));break;case"width":if(i.setAttribute(e,a),n._.dirty=1,!r.fx)break;e="x",a=r.x;case"x":r.fx&&(a=-r.x-(r.width||0));case"rx":if("rx"==e&&"rect"==n.type)break;case"cx":i.setAttribute(e,a),n.pattern&&A(n),n._.dirty=1;break;case"height":if(i.setAttribute(e,a),n._.dirty=1,!r.fy)break;e="y",a=r.y;case"y":r.fy&&(a=-r.y-(r.height||0));case"ry":if("ry"==e&&"rect"==n.type)break;case"cy":i.setAttribute(e,a),n.pattern&&A(n),n._.dirty=1;break;case"r":"rect"==n.type?P(i,{rx:a,ry:a}):i.setAttribute(e,a),n._.dirty=1;break;case"src":"image"==n.type&&i.setAttributeNS(C,"href",a);break;case"stroke-width":1==n._.sx&&1==n._.sy||(a/=v(b(n._.sx),b(n._.sy))||1),n.paper._vbSize&&(a*=n.paper._vbSize),i.setAttribute(e,a),r["stroke-dasharray"]&&E(n,r["stroke-dasharray"],t),n._.arrows&&("startString"in n._.arrows&&F(n,n._.arrows.startString),"endString"in n._.arrows&&F(n,n._.arrows.endString,1));break;case"stroke-dasharray":E(n,a,t);break;case"fill":var h=S(a).match(R._ISURL);if(h){var u=P("pattern"),p=P("image");u.id=R.createUUID(),P(u,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),P(p,{x:0,y:0,"xlink:href":h[1]}),u.appendChild(p),function(i){R._preload(h[1],function(){var t=this.offsetWidth,e=this.offsetHeight;P(i,{width:t,height:e}),P(p,{width:t,height:e}),n.paper.safari()})}(u),n.paper.defs.appendChild(u),P(i,{fill:"url(#"+u.id+")"}),n.pattern=u,n.pattern&&A(n);break}var f,g,m=R.getRGB(a);if(m.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=S(a).charAt())&&M(n,a)){!("opacity"in r||"fill-opacity"in r)||(f=R._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(g=f.getElementsByTagName("stop"),P(g[g.length-1],{"stop-opacity":("opacity"in r?r.opacity:1)*("fill-opacity"in r?r["fill-opacity"]:1)})),r.gradient=a,r.fill="none";break}}else delete t.gradient,delete r.gradient,!R.is(r.opacity,"undefined")&&R.is(t.opacity,"undefined")&&P(i,{opacity:r.opacity}),!R.is(r["fill-opacity"],"undefined")&&R.is(t["fill-opacity"],"undefined")&&P(i,{"fill-opacity":r["fill-opacity"]});m[k]("opacity")&&P(i,{"fill-opacity":1<m.opacity?m.opacity/100:m.opacity});case"stroke":m=R.getRGB(a),i.setAttribute(e,m.hex),"stroke"==e&&m[k]("opacity")&&P(i,{"stroke-opacity":1<m.opacity?m.opacity/100:m.opacity}),"stroke"==e&&n._.arrows&&("startString"in n._.arrows&&F(n,n._.arrows.startString),"endString"in n._.arrows&&F(n,n._.arrows.endString,1));break;case"gradient":"circle"!=n.type&&"ellipse"!=n.type&&"r"==S(a).charAt()||M(n,a);break;case"opacity":r.gradient&&!r[k]("stroke-opacity")&&P(i,{"stroke-opacity":1<a?a/100:a});case"fill-opacity":if(r.gradient){(f=R._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(g=f.getElementsByTagName("stop"),P(g[g.length-1],{"stop-opacity":a}));break}default:"font-size"==e&&(a=x(a,10)+"px");var w=e.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});i.style[w]=a,n._.dirty=1,i.setAttribute(e,a)}}D(n,t),i.style.visibility=o}function s(t,e){(this[0]=this.node=t).raphael=!0,this.id=R._oid++,t.raphaelid=this.id,this.matrix=R.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var P=function(t,e){if(e)for(var i in"string"==typeof t&&(t=P(t)),e)e[k](i)&&("xlink:"==i.substring(0,6)?t.setAttributeNS(C,i.substring(6),S(e[i])):t.setAttribute(i,S(e[i])));else(t=R._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},l={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},D=function(t,e){if("text"==t.type&&(e[k]("text")||e[k]("font")||e[k]("font-size")||e[k]("x")||e[k]("y"))){var i=t.attrs,n=t.node,r=n.firstChild?x(R._g.doc.defaultView.getComputedStyle(n.firstChild,"").getPropertyValue("font-size"),10):10;if(e[k]("text")){for(i.text=e.text;n.firstChild;)n.removeChild(n.firstChild);for(var o,a=S(e.text).split("\n"),s=[],l=0,d=a.length;l<d;l++)o=P("tspan"),l&&P(o,{dy:1.2*r,x:i.x}),o.appendChild(R._g.doc.createTextNode(a[l])),n.appendChild(o),s[l]=o}else for(l=0,d=(s=n.getElementsByTagName("tspan")).length;l<d;l++)l?P(s[l],{dy:1.2*r,x:i.x}):P(s[0],{dy:0});P(n,{x:i.x,y:i.y}),t._.dirty=1;t=t._getBBox(),t=i.y-(t.y+t.height/2);t&&R.is(t,"finite")&&P(s[0],{dy:t})}},t=R.el;(s.prototype=t).constructor=s,R._engine.path=function(t,e){var i=P("path");e.canvas&&e.canvas.appendChild(i);e=new s(i,e);return e.type="path",p(e,{fill:"none",stroke:"#000",path:t}),e},t.rotate=function(t,e,i){return this.removed||((t=S(t).split(y)).length-1&&(e=g(t[1]),i=g(t[2])),t=g(t[0]),null!=(e=null==i?i:e)&&null!=i||(e=(n=this.getBBox(1)).x+n.width/2,i=n.y+n.height/2),this.transform(this._.transform.concat([["r",t,e,i]]))),this;var n},t.scale=function(t,e,i,n){return this.removed||((t=S(t).split(y)).length-1&&(e=g(t[1]),i=g(t[2]),n=g(t[3])),t=g(t[0]),null==e&&(e=t),null!=(i=null==n?n:i)&&null!=n||(r=this.getBBox(1)),i=null==i?r.x+r.width/2:i,n=null==n?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]]))),this;var r},t.translate=function(t,e){return this.removed||((t=S(t).split(y)).length-1&&(e=g(t[1])),t=g(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},t.transform=function(t){var e=this._;return null==t?e.transform:(R._extractTransform(this,t),this.clip&&P(this.clip,{transform:this.matrix.invert()}),this.pattern&&A(this),this.node&&P(this.node,{transform:this.matrix}),1==e.sx&&1==e.sy||(e=this.attrs[k]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":e})),this)},t.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this},t.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this},t.remove=function(){if(!this.removed&&this.node.parentNode){var t,e=this.paper;for(t in e.__set__&&e.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),R._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[t]="function"==typeof this[t]?R._removedFactory(t):null;this.removed=!0}},t._getBBox=function(){var t;"none"==this.node.style.display&&(this.show(),t=!0);var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}return t&&this.hide(),e},t.attr=function(t,e){if(this.removed)return this;if(null==t){var i,n={};for(i in this.attrs)this.attrs[k](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&R.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var r=t.split(y),o={},a=0,s=r.length;a<s;a++)o[t=r[a]]=t in this.attrs?this.attrs[t]:R.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:R._availableAttrs[t];return s-1?o:o[r[0]]}if(null==e&&R.is(t,"array")){for(o={},a=0,s=t.length;a<s;a++)o[t[a]]=this.attr(t[a]);return o}var l,d;for(d in null!=e?(l={})[t]=e:null!=t&&R.is(t,"object")&&(l=t),l)u("raphael.attr."+d+"."+this.id,this,l[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[k](d)&&l[k](d)&&R.is(this.paper.customAttributes[d],"function")){var c,h=this.paper.customAttributes[d].apply(this,[].concat(l[d]));for(c in this.attrs[d]=l[d],h)h[k](c)&&(l[c]=h[c])}return p(this,l),this},t.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&R._tofront(this,t),this},t.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),R._toback(this,this.paper),this.paper,this},t.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),R._insertafter(this,t,this.paper),this},t.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),R._insertbefore(this,t,this.paper),this},t.blur=function(t){var e,i,n=this;return 0!=+t?(e=P("filter"),i=P("feGaussianBlur"),n.attrs.blur=t,e.id=R.createUUID(),P(i,{stdDeviation:+t||1.5}),e.appendChild(i),n.paper.defs.appendChild(e),n._blur=e,P(n.node,{filter:"url(#"+e.id+")"})):(n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")),n},R._engine.circle=function(t,e,i,n){var r=P("circle");t.canvas&&t.canvas.appendChild(r);t=new s(r,t);return t.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},t.type="circle",P(r,t.attrs),t},R._engine.rect=function(t,e,i,n,r,o){var a=P("rect");t.canvas&&t.canvas.appendChild(a);t=new s(a,t);return t.attrs={x:e,y:i,width:n,height:r,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},t.type="rect",P(a,t.attrs),t},R._engine.ellipse=function(t,e,i,n,r){var o=P("ellipse");t.canvas&&t.canvas.appendChild(o);t=new s(o,t);return t.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},t.type="ellipse",P(o,t.attrs),t},R._engine.image=function(t,e,i,n,r,o){var a=P("image");P(a,{x:i,y:n,width:r,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(C,"href",e),t.canvas&&t.canvas.appendChild(a);t=new s(a,t);return t.attrs={x:i,y:n,width:r,height:o,src:e},t.type="image",t},R._engine.text=function(t,e,i,n){var r=P("text");t.canvas&&t.canvas.appendChild(r);t=new s(r,t);return t.attrs={x:e,y:i,"text-anchor":"middle",text:n,font:R._availableAttrs.font,stroke:"none",fill:"#000"},t.type="text",p(t,t.attrs),t},R._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},R._engine.create=function(){var t=R._getContainer.apply(0,arguments),e=t&&t.container,i=t.x,n=t.y,r=t.width,o=t.height;if(!e)throw new Error("SVG container not found.");var a,s=P("svg"),t="overflow:hidden;",i=i||0,n=n||0;return P(s,{height:o=o||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg"}),1==e?(s.style.cssText=t+"position:absolute;left:"+i+"px;top:"+n+"px",R._g.doc.body.appendChild(s),a=1):(s.style.cssText=t+"position:relative",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s)),(e=new R._Paper).width=r,e.height=o,e.canvas=s,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},R._engine.setViewBox=function(t,e,i,n,r){u("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a=v(i/this.width,n/this.height),s=this.top,l=r?"meet":"xMinYMin",d=null==t?(this._vbSize&&(a=1),delete this._vbSize,"0 0 "+this.width+" "+this.height):(this._vbSize=a,t+" "+e+" "+i+" "+n);for(P(this.canvas,{viewBox:d,preserveAspectRatio:l});a&&s;)o="stroke-width"in s.attrs?s.attrs["stroke-width"]:1,s.attr({"stroke-width":o}),s._.dirty=1,s._.dirtyT=1,s=s.prev;return this._viewBox=[t,e,i,n,!!r],this},R.prototype.renderfix=function(){var e,i=this.canvas,t=i.style;try{e=i.getScreenCTM()||i.createSVGMatrix()}catch(t){e=i.createSVGMatrix()}var n=-e.e%1,r=-e.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,t.left=this._left+"px"),r&&(this._top=(this._top+r)%1,t.top=this._top+"px"))},R.prototype.clear=function(){R.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=P("desc")).appendChild(R._g.doc.createTextNode("Created with Raphaël "+R.version)),t.appendChild(this.desc),t.appendChild(this.defs=P("defs"))},R.prototype.remove=function(){for(var t in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?R._removedFactory(t):null};var e,i=R.st;for(e in t)t[k](e)&&!i[k](e)&&(i[e]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(e))}}(),function(){if(R.vml){function g(t,e,i){var n=R.matrix();return n.rotate(-t,.5,.5),{dx:n.x(e,i),dy:n.y(e,i)}}function v(t,e,i,n,r,o){var a,s=t._,l=t.matrix,d=s.fillpos,c=t.node,h=c.style,u=1,p="",f=P/e,t=P/i;h.visibility="hidden",e&&i&&(c.coordsize=m(f)+" "+m(t),h.rotation=o*(e*i<0?-1:1),o&&(n=(a=g(o,n,r)).dx,r=a.dy),e<0&&(p+="x"),i<0&&(p+=" y")&&(u=-1),h.flip=p,c.coordorigin=n*-f+" "+r*-t,(d||s.fillsize)&&(t=(t=c.getElementsByTagName(I))&&t[0],c.removeChild(t),d&&(a=g(o,l.x(d[0],d[1]),l.y(d[0],d[1])),t.position=a.dx*u+" "+a.dy*u),s.fillsize&&(t.size=s.fillsize[0]*m(e)+" "+s.fillsize[1]*m(i)),c.appendChild(t)),h.visibility="visible")}var b="hasOwnProperty",y=String,C=parseFloat,h=Math,k=h.round,S=h.max,T=h.min,m=h.abs,I="fill",M=/[, ]+/,u=R.eve,A={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},F=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,E=/-?[^,\s-]+/g,d="position:absolute;left:0;top:0;width:1px;height:1px",P=21600,D={path:1,rect:1,image:1},O={circle:1,ellipse:1};R.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};function _(t,e,i){for(var n=y(e).toLowerCase().split("-"),i=i?"end":"start",r=n.length,o="classic",a="medium",s="medium";r--;)switch(n[r]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[r];break;case"wide":case"narrow":s=n[r];break;case"long":case"short":a=n[r]}t=t.node.getElementsByTagName("stroke")[0];t[i+"arrow"]=o,t[i+"arrowlength"]=a,t[i+"arrowwidth"]=s}function p(t,e){t.attrs=t.attrs||{};var i,n,r,o,a,s,l,d=t.node,c=t.attrs,h=d.style,u=D[t.type]&&(e.x!=c.x||e.y!=c.y||e.width!=c.width||e.height!=c.height||e.cx!=c.cx||e.cy!=c.cy||e.rx!=c.rx||e.ry!=c.ry||e.r!=c.r),p=O[t.type]&&(c.cx!=e.cx||c.cy!=e.cy||c.r!=e.r||c.rx!=e.rx||c.ry!=e.ry),f=t;for(i in e)e[b](i)&&(c[i]=e[i]);if(u&&(c.path=R._getPath[t.type](t),t._.dirty=1),e.href&&(d.href=e.href),e.title&&(d.title=e.title),e.target&&(d.target=e.target),e.cursor&&(h.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||u)&&(d.path=function(t){var e=/[ahqstv]/gi,i=R._pathToAbsolute;if(y(t).match(e)&&(i=R._path2curve),e=/[clmz]/g,i==R._pathToAbsolute&&!y(t).match(e)){var n=y(t).replace(F,function(t,e,i){var n=[],r="m"==e.toLowerCase(),o=A[e];return i.replace(E,function(t){r&&2==n.length&&(o+=n+A["m"==e?"l":"L"],n=[]),n.push(k(t*P))}),o+n});return n}for(var r,o,a=i(t),n=[],s=0,l=a.length;s<l;s++){r=a[s],"z"==(o=a[s][0].toLowerCase())&&(o="x");for(var d=1,c=r.length;d<c;d++)o+=k(r[d]*P)+(d!=c-1?",":"");n.push(o)}return n.join(" ")}(~y(c.path).toLowerCase().indexOf("r")?R._pathToAbsolute(c.path):c.path),"image"==t.type&&(t._.fillpos=[c.x,c.y],t._.fillsize=[c.width,c.height],v(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),p&&(o=+c.cx,n=+c.cy,p=+c.rx||+c.r||0,r=+c.ry||+c.r||0,d.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",k((o-p)*P),k((n-r)*P),k((o+p)*P),k((n+r)*P),k(o*P)),t._.dirty=1),"clip-rect"in e&&(4==(n=y(e["clip-rect"]).split(M)).length&&(n[2]=+n[2]+ +n[0],n[3]=+n[3]+ +n[1],(o=(r=d.clipRect||R._g.doc.createElement("div")).style).clip=R.format("rect({1}px {2}px {3}px {0}px)",n),d.clipRect||(o.position="absolute",o.top=0,o.left=0,o.width=t.paper.width+"px",o.height=t.paper.height+"px",d.parentNode.insertBefore(r,d),r.appendChild(d),d.clipRect=r)),e["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="auto")),t.textpath&&(s=t.textpath.style,e.font&&(s.font=e.font),e["font-family"]&&(s.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),e["font-size"]&&(s.fontSize=e["font-size"]),e["font-weight"]&&(s.fontWeight=e["font-weight"]),e["font-style"]&&(s.fontStyle=e["font-style"])),"arrow-start"in e&&_(f,e["arrow-start"]),"arrow-end"in e&&_(f,e["arrow-end"],1),null==e.opacity&&null==e["stroke-width"]&&null==e.fill&&null==e.src&&null==e.stroke&&null==e["stroke-width"]&&null==e["stroke-opacity"]&&null==e["fill-opacity"]&&null==e["stroke-dasharray"]&&null==e["stroke-miterlimit"]&&null==e["stroke-linejoin"]&&null==e["stroke-linecap"]||((s=(s=d.getElementsByTagName(I))&&s[0])||(s=N(I)),"image"==t.type&&e.src&&(s.src=e.src),e.fill&&(s.on=!0),null!=s.on&&"none"!=e.fill&&null!==e.fill||(s.on=!1),s.on&&e.fill&&((g=y(e.fill).match(R._ISURL))?(s.parentNode==d&&d.removeChild(s),s.rotate=!0,s.src=g[1],s.type="tile",a=t.getBBox(1),s.position=a.x+" "+a.y,t._.fillpos=[a.x,a.y],R._preload(g[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})):(s.color=R.getRGB(e.fill).hex,s.src="",s.type="solid",R.getRGB(e.fill).error&&(f.type in{circle:1,ellipse:1}||"r"!=y(e.fill).charAt())&&L(f,e.fill,s)&&(c.fill="none",c.gradient=e.fill,s.rotate=!1))),("fill-opacity"in e||"opacity"in e)&&(l=((+c["fill-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+R.getRGB(e.fill).o+1||2)-1),l=T(S(l,0),1),s.opacity=l,s.src&&(s.color="none")),d.appendChild(s),a=!1,(g=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0])||(a=g=N("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(g.on=!0),"none"!=e.stroke&&null!==e.stroke&&null!=g.on&&0!=e.stroke&&0!=e["stroke-width"]||(g.on=!1),s=R.getRGB(e.stroke),g.on&&e.stroke&&(g.color=s.hex),l=((+c["stroke-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+s.o+1||2)-1),s=.75*(C(e["stroke-width"])||1),l=T(S(l,0),1),null==e["stroke-width"]&&(s=c["stroke-width"]),e["stroke-width"]&&(g.weight=s),s&&s<1&&(l*=s)&&(g.weight=1),g.opacity=l,e["stroke-linejoin"]&&(g.joinstyle=e["stroke-linejoin"]||"miter"),g.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(g.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]&&(l={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},g.dashstyle=l[b](e["stroke-dasharray"])?l[e["stroke-dasharray"]]:""),a&&d.appendChild(g)),"text"==f.type){f.paper.canvas.style.display="";var d=f.paper.span,g=c.font&&c.font.match(/\d+(?:\.\d*)?(?=px)/),h=d.style;c.font&&(h.font=c.font),c["font-family"]&&(h.fontFamily=c["font-family"]),c["font-weight"]&&(h.fontWeight=c["font-weight"]),c["font-style"]&&(h.fontStyle=c["font-style"]),g=C(c["font-size"]||g&&g[0])||10,h.fontSize=100*g+"px",f.textpath.string&&(d.innerHTML=y(f.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));d=d.getBoundingClientRect();f.W=c.w=(d.right-d.left)/100,f.H=c.h=(d.bottom-d.top)/100,f.X=c.x,f.Y=c.y+f.H/2,("x"in e||"y"in e)&&(f.path.v=R.format("m{0},{1}l{2},{1}",k(c.x*P),k(c.y*P),k(c.x*P)+1));for(var m=["x","y","text","font","font-family","font-weight","font-style","font-size"],w=0,x=m.length;w<x;w++)if(m[w]in e){f._.dirty=1;break}switch(c["text-anchor"]){case"start":f.textpath.style["v-text-align"]="left",f.bbx=f.W/2;break;case"end":f.textpath.style["v-text-align"]="right",f.bbx=-f.W/2;break;default:f.textpath.style["v-text-align"]="center",f.bbx=0}f.textpath.style["v-text-kern"]=!0}}function c(t,e){(this[0]=this.node=t).raphael=!0,this.id=R._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=R.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},e.bottom||(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null}var N,L=function(t,e,i){t.attrs=t.attrs||{};var n=(t.attrs,Math.pow),r="linear",o=".5 .5";if(t.attrs.gradient=e,e=(e=y(e).replace(R._radial_gradient,function(t,e,i){return r="radial",e&&i&&(e=C(e),i=C(i),.25<n(e-.5,2)+n(i-.5,2)&&(i=h.sqrt(.25-n(e-.5,2))*(2*(.5<i)-1)+.5),o=e+" "+i),""})).split(/\s*\-\s*/),"linear"==r){var a=e.shift(),a=-C(a);if(isNaN(a))return null}var s=R._parseDots(e);if(!s)return null;if(t=t.shape||t.node,s.length){t.removeChild(i),i.on=!0,i.method="none",i.color=s[0].color,i.color2=s[s.length-1].color;for(var l=[],d=0,c=s.length;d<c;d++)s[d].offset&&l.push(s[d].offset+" "+s[d].color);i.colors=l.length?l.join():"0% "+i.color,"radial"==r?(i.type="gradientTitle",i.focus="100%",i.focussize="0 0",i.focusposition=o,i.angle=0):(i.type="gradient",i.angle=(270-a)%360),t.appendChild(i)}return 1},t=R.el;(c.prototype=t).constructor=c,t.transform=function(t){if(null==t)return this._.transform;var e,i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:"";i&&(e=t=y(t).replace(/\.{3}|\u2026/g,this._.transform||"")),R._extractTransform(this,n+t);var r=this.matrix.clone(),o=this.skew,a=this.node,s=~y(this.attrs.fill).indexOf("-"),i=!y(this.attrs.fill).indexOf("url(");return r.translate(1,1),i||s||"image"==this.type?(o.matrix="1 0 0 1",o.offset="0 0",n=r.split(),s&&n.noRotation||!n.isSimple?(a.style.filter=r.toFilter(),t=this.getBBox(),i=this.getBBox(1),s=t.x-i.x,i=t.y-i.y,a.coordorigin=s*-P+" "+i*-P,v(this,1,1,s,i,0)):(a.style.filter="",v(this,n.scalex,n.scaley,n.dx,n.dy,n.rotate))):(a.style.filter="",o.matrix=y(r),o.offset=r.offset()),e&&(this._.transform=e),this},t.rotate=function(t,e,i){return this.removed?this:null!=t?((t=y(t).split(M)).length-1&&(e=C(t[1]),i=C(t[2])),t=C(t[0]),null!=(e=null==i?i:e)&&null!=i||(e=(n=this.getBBox(1)).x+n.width/2,i=n.y+n.height/2),this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this):void 0;var n},t.translate=function(t,e){return this.removed||((t=y(t).split(M)).length-1&&(e=C(t[1])),t=C(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},t.scale=function(t,e,i,n){return this.removed||((t=y(t).split(M)).length-1&&(e=C(t[1]),i=C(t[2]),n=C(t[3]),isNaN(i)&&(i=null),isNaN(n)&&(n=null)),t=C(t[0]),null==e&&(e=t),null!=(i=null==n?n:i)&&null!=n||(r=this.getBBox(1)),i=null==i?r.x+r.width/2:i,n=null==n?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]])),this._.dirtyT=1),this;var r},t.hide=function(){return this.removed||(this.node.style.display="none"),this},t.show=function(){return this.removed||(this.node.style.display=""),this},t._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),R.eve.unbind("raphael.*.*."+this.id),R._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?R._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(null==t){var i,n={};for(i in this.attrs)this.attrs[b](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&R.is(t,"string")){if(t==I&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=t.split(M),o={},a=0,s=r.length;a<s;a++)o[t=r[a]]=t in this.attrs?this.attrs[t]:R.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:R._availableAttrs[t];return s-1?o:o[r[0]]}if(this.attrs&&null==e&&R.is(t,"array")){for(o={},a=0,s=t.length;a<s;a++)o[t[a]]=this.attr(t[a]);return o}var l,d;for(d in null!=e&&((l={})[t]=e),l=null==e&&R.is(t,"object")?t:l)u("raphael.attr."+d+"."+this.id,this,l[d]);if(l){for(d in this.paper.customAttributes)if(this.paper.customAttributes[b](d)&&l[b](d)&&R.is(this.paper.customAttributes[d],"function")){var c,h=this.paper.customAttributes[d].apply(this,[].concat(l[d]));for(c in this.attrs[d]=l[d],h)h[b](c)&&(l[c]=h[c])}l.text&&"text"==this.type&&(this.textpath.string=l.text),p(this,l)}return this},t.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&R._tofront(this,this.paper),this},t.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),R._toback(this,this.paper)),this},t.insertAfter=function(t){return this.removed||((t=t.constructor==R.st.constructor?t[t.length-1]:t).node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),R._insertafter(this,t,this.paper)),this},t.insertBefore=function(t){return this.removed||((t=t.constructor==R.st.constructor?t[0]:t).node.parentNode.insertBefore(this.node,t.node),R._insertbefore(this,t,this.paper)),this},t.blur=function(t){var e=this.node.runtimeStyle,i=(i=e.filter).replace(n,"");return 0!=+t?(this.attrs.blur=t,e.filter=i+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=R.format("-{0}px 0 0 -{0}px",k(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur),this},R._engine.path=function(t,e){var i=N("shape");i.style.cssText=d,i.coordsize=P+" "+P,i.coordorigin=e.coordorigin;var n=new c(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path="",p(n,r),e.canvas.appendChild(i);e=N("skew");return e.on=!0,i.appendChild(e),n.skew=e,n.transform(""),n},R._engine.rect=function(t,e,i,n,r,o){var a=R._rectPath(e,i,n,r,o),s=t.path(a),t=s.attrs;return s.X=t.x=e,s.Y=t.y=i,s.W=t.width=n,s.H=t.height=r,t.r=o,t.path=a,s.type="rect",s},R._engine.ellipse=function(t,e,i,n,r){t=t.path();return t.attrs,t.X=e-n,t.Y=i-r,t.W=2*n,t.H=2*r,t.type="ellipse",p(t,{cx:e,cy:i,rx:n,ry:r}),t},R._engine.circle=function(t,e,i,n){t=t.path();return t.attrs,t.X=e-n,t.Y=i-n,t.W=t.H=2*n,t.type="circle",p(t,{cx:e,cy:i,r:n}),t},R._engine.image=function(t,e,i,n,r,o){var a=R._rectPath(i,n,r,o),s=t.path(a).attr({stroke:"none"}),l=s.attrs,d=s.node,t=d.getElementsByTagName(I)[0];return l.src=e,s.X=l.x=i,s.Y=l.y=n,s.W=l.width=r,s.H=l.height=o,l.path=a,s.type="image",t.parentNode==d&&d.removeChild(t),t.rotate=!0,t.src=e,t.type="tile",s._.fillpos=[i,n],s._.fillsize=[r,o],d.appendChild(t),v(s,1,1,0,0,0),s},R._engine.text=function(t,e,i,n){var r=N("shape"),o=N("path"),a=N("textpath");e=e||0,i=i||0,n=n||"",o.v=R.format("m{0},{1}l{2},{1}",k(e*P),k(i*P),k(e*P)+1),o.textpathok=!0,a.string=y(n),a.on=!0,r.style.cssText=d,r.coordsize=P+" "+P,r.coordorigin="0 0";var s=new c(r,t),l={fill:"#000",stroke:"none",font:R._availableAttrs.font,text:n};s.shape=r,s.path=o,s.textpath=a,s.type="text",s.attrs.text=y(n),s.attrs.x=e,s.attrs.y=i,s.attrs.w=1,s.attrs.h=1,p(s,l),r.appendChild(a),r.appendChild(o),t.canvas.appendChild(r);t=N("skew");return t.on=!0,r.appendChild(t),s.skew=t,s.transform(""),s},R._engine.setSize=function(t,e){var i=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&R._engine.setViewBox.apply(this,this._viewBox),this},R._engine.setViewBox=function(t,e,i,n,r){R.eve("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a=this.width,s=this.height,l=1/S(i/a,n/s);return r&&(i*(o=s/n)<a&&(t-=(a-i*o)/2/o),n*(a=a/i)<s&&(e-=(s-n*a)/2/a)),this._viewBox=[t,e,i,n,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:l},this.forEach(function(t){t.transform("...")}),this},R._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{e.namespaces.rvml||e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),N=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){N=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},R._engine.initWin(R._g.win),R._engine.create=function(){var t=R._getContainer.apply(0,arguments),e=t.container,i=t.height,n=t.width,r=t.x,o=t.y;if(!e)throw new Error("VML container not found.");var a=new R._Paper,s=a.canvas=R._g.doc.createElement("div"),t=s.style,r=r||0,o=o||0,n=n||512,i=i||342;return(a.width=n)==+n&&(n+="px"),(a.height=i)==+i&&(i+="px"),a.coordsize=216e5+" 21600000",a.coordorigin="0 0",a.span=R._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(a.span),t.cssText=R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==e?(R._g.doc.body.appendChild(s),t.left=r+"px",t.top=o+"px",t.position="absolute"):e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),a.renderfix=function(){},a},R.prototype.clear=function(){R.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=R._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},R.prototype.remove=function(){for(var t in R.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?R._removedFactory(t):null;return!0};var e,i=R.st;for(e in t)t[b](e)&&!i[b](e)&&(i[e]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(e))}}(),p.was?f.win.Raphael=R:Raphael=R,R}),function(o,a,h){var s,u=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){o.setTimeout(t,1e3/60)},p=function(){var n={},r=a.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in r)return t[e].substr(0,t[e].length-1);return!1}();function t(t){return!1!==e&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var i in e)t[i]=e[i]},n.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},n.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},n.prefixPointerEvent=function(t){return o.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},n.momentum=function(t,e,i,n,r,o){var a=t-e,e=h.abs(a)/i,i=e/(o=void 0===o?6e-4:o);return(o=t+e*e/(2*o)*(a<0?-1:1))<n?(o=r?n-r/2.5*(e/8):n,i=(a=h.abs(o-t))/e):0<o&&(o=r?r/2.5*(e/8):0,i=(a=h.abs(t)+o)/e),{destination:h.round(o),duration:i}};var i=t("transform");return n.extend(n,{hasTransform:!1!==i,hasPerspective:t("perspective")in r,hasTouch:"ontouchstart"in o,hasPointer:o.PointerEvent||o.MSPointerEvent,hasTransition:t("transition")in r}),n.isBadAndroid=/Android /.test(o.navigator.appVersion)&&!/Chrome\/\d/.test(o.navigator.appVersion),n.extend(n.style={},{transform:i,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),n.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},n.addClass=function(t,e){var i;n.hasClass(t,e)||((i=t.className.split(" ")).push(e),t.className=i.join(" "))},n.removeClass=function(t,e){n.hasClass(t,e)&&(e=new RegExp("(^|\\s)"+e+"(\\s|$)","g"),t.className=t.className.replace(e," "))},n.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},n.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return h.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*h.pow(2,-10*t)*h.sin((t-.055)*(2*h.PI)/.22)+1}}}),n.tap=function(t,e){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},n.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA|BUTTON)/i.test(i.tagName)||((e=a.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},n}();function t(t,e){for(var i in this.wrapper="string"==typeof t?a.querySelector(t):t,this.scroller=e.scroller||this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.pageTurnMethod="swipe",this.options={zoomMin:1,zoomMax:4,startZoom:1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,infiniteUseTransform:!0,deceleration:.004,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/,className:/crownix_form_field_label|crownix_hyperlink/},HWCompositing:!0,useTransition:!0,useTransform:!0,isGuideMode:!1,scroller:null},e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&p.hasPerspective?" translateZ(0)":"",this.options.useTransition=p.hasTransition&&this.options.useTransition,this.options.useTransform=p.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?p.ease[this.options.bounceEasing]||p.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),!0===this.options.doubleTap&&(this.options.doubleTap="doubleTap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.infiniteElements&&(this.options.probeType=3),this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform,3==this.options.probeType&&(this.options.useTransition=!1),this.options.pageTurnMethod&&(this.pageTurnMethod=this.options.pageTurnMethod),null!==this.options.scroller&&(this.scroller=this.options.scroller),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this.doubleTapFlag=!1,this.lastTap=0,this.saveScrollX,this.saveScrollY,this.saveScale,this.scale=h.min(h.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable(),this.resetPosition()}function l(t,e,i){var n=a.createElement("div"),r=a.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(r),n}function d(t,e){for(var i in this.wrapper="string"==typeof e.el?a.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[i]=e[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(p.addEvent(this.indicator,"touchstart",this),p.addEvent(o,"touchend",this)),this.options.disablePointer||(p.addEvent(this.indicator,p.prefixPointerEvent("pointerdown"),this),p.addEvent(o,p.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(p.addEvent(this.indicator,"mousedown",this),p.addEvent(o,"mouseup",this))),this.options.fade&&(this.wrapperStyle[p.style.transform]=this.scroller.translateZ,this.wrapperStyle[p.style.transitionDuration]=p.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}t.prototype={version:"5.1.2",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys(),this.options.infiniteElements&&this._initInfinite()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){var e,i;t.startedScroll||1!=p.eventType[t.type]&&!0!==t.bubbleScroll&&0!==t.button||!this.enabled||this.initiated&&p.eventType[t.type]!==this.initiated||(!this.options.preventDefault||p.isBadAndroid||p.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault(),e=t.touches?t.touches[0]:t,this.initiated=p.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=p.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,i=this.getComputedPosition(),this._translate(h.round(i.x),h.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,t.startedScroll=!0,this._execEvent("beforeScrollStart"))},_move:function(t){if(this.enabled&&p.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n=t.touches?t.touches[0]:t,r=n.pageX-this.pointX,o=n.pageY-this.pointY,a=p.getTime();if(this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=r,this.distY+=o,e=h.abs(this.distX),i=h.abs(this.distY),!(this.doubleTapFlag||300<a-this.endTime&&e<10&&i<10)){n=null;n=e>i+this.options.directionLockThreshold?"h":i>=e+this.options.directionLockThreshold?"v":"n";n=null;if(n=e>i+this.options.directionLockThreshold?"h":i>=e+this.options.directionLockThreshold?"v":"n",this.directionLocked||this.options.freeScroll||(this.directionLocked=n),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}r=this.hasHorizontalScroll?r:0,o=this.hasVerticalScroll?o:0,i=this.x+r,e=this.y+o,(0<i||i<this.maxScrollX)&&(i=this.options.bounce?this.x+r/3:this.x,this._events.pullOut&&this._execEvent("pullOut",{newX:i,deltaX:r})),(0<e||e<this.maxScrollY)&&(e=this.options.bounce?this.y+o/3:this.y),this.options.parentScroll&&(0==i&&0==this.maxScrollX&&"v"!=n||0==i&&-1==this.directionY&&"v"!=n||i==this.maxScrollX&&1==this.directionX&&"v"!=n||0==e&&0==this.maxScrollY&&"h"!=n||0==e&&-1==this.directionY&&"h"!=n||e==this.maxScrollY&&1==this.directionY&&"h"!=n)&&(t.bubbleScroll=!0,this.options.parentScroll._start(t),this._end(t)),this.directionX=0<r?-1:r<0?1:0,this.directionY=0<o?-1:o<0?1:0,(0==i&&0==this.maxScrollX&&"v"!=n||0==i&&-1==this.directionX&&"v"!=n||i==this.maxScrollX&&1==this.directionX&&"v"!=n||0==e&&0==this.maxScrollY&&"h"!=n||0==e&&-1==this.directionY&&"h"!=n||e==this.maxScrollY&&1==this.directionY&&"h"!=n)&&this.options.parentScroll&&(t.bubbleScroll=!0,this.options.parentScroll._start(t),this._end(t)),this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(i,e),this.deltaX=r,this.deltaY=o,this._execEvent("scrollMove"),300<a-this.startTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&(!p.eventType[t.type]||p.eventType[t.type]===this.initiated)){if(this._events.pullEnd&&this._execEvent("pullEnd"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e]._end(t);this.options.preventDefault&&!p.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var i,n,r=p.getTime()-this.startTime,o=h.round(this.x),a=h.round(this.y),s=h.abs(o-this.startX),l=h.abs(a-this.startY),d=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=p.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,a),!this.moved){if(this.options.tap&&this.options.doubleTap){if(0<=t.type.indexOf("mouse"))return;this.doubleTapFlag?(clearTimeout(this.doubleTapFlag),this.doubleTapFlag=null,p.tap(t,this.options.doubleTap)):(i=this).doubleTapFlag=setTimeout(function(){i.doubleTapFlag=null,p.tap(t,i.options.tap)},250)}else if(this.options.tap){if(0<=t.type.indexOf("mouse"))return;p.tap(t,this.options.tap)}return this.options.click&&p.click(t),"pointerup"!=t.type&&"MSPointerUp"!=t.type&&"mouseup"!=t.type&&"touchend"!=t.type||this._execEvent("toolbarToggle"),void this._execEvent("scrollCancel")}if(this._events.flick&&r<200&&s<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&r<300&&(l=this.hasHorizontalScroll?p.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?p.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},o=l.destination,a=n.destination,d=h.max(l.duration,n.duration),this.isInTransition=1),this.options.snap&&(n=this._nearestSnap(o,a),this.currentPage=n,d=this.options.snapSpeed||h.max(h.max(h.min(h.abs(o-n.x),1e3),h.min(h.abs(a-n.y),1e3)),300),o=n.x,a=n.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),o!=this.x||a!=this.y)return(0<o||o<this.maxScrollX||0<a||a<this.maxScrollY)&&(c=p.ease.quadratic),void this.scrollTo(o,a,d,c);this._execEvent("scrollEnd")}}}},_resize:function(){var t;this.enabled&&(t=this,clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh(),t._execEvent("resize")},this.options.resizePolling))},resetPosition:function(t){if(!this.options.isGuideMode){var e,i=this.x,n=this.y;return(t=t||0,!this.hasHorizontalScroll||0<this.x?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||0<this.y?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),this.options.keepCenter&&(i=0<(e=this._getMarginToCenter(this.scale,this.options.pageAlign)).left?e.left:i,n=0<e.top?e.top:n),h.floor(i)==h.floor(this.x)&&h.floor(n)==h.floor(this.y))?!1:(this.scrollTo(i,n,t,this.options.bounceEasing),!0)}},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var t;this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=h.round(this.scroller.offsetWidth*this.scale),this.scrollerHeight=h.round(this.scroller.offsetHeight*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infiniteElements&&(this.options.infiniteLimit=this.options.infiniteLimit||h.floor(2147483645/this.infiniteElementHeight),t=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight),this.maxScrollY=void 0!==t?t:this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=p.offset(this.wrapper),this.resetPosition(),this._execEvent("refresh")},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){!this._events[t]||-1<(e=this._events[t].indexOf(e))&&this._events[t].splice(e,1)},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||p.ease.circular,this.isInTransition=this.options.useTransition&&0<i,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(h.floor(t),h.floor(e))):this._animate(h.floor(t),h.floor(e),i,n.fn)},scrollToKeepCenter:function(t,e,i,n){var r;this.options.keepCenter&&(t+=0<(r=this._getMarginToCenter(this.scale)).left?r.left:0,e+=0<r.top?r.top:0),this.scrollTo(t,e,i,n),this._execEvent("scrollToKeepCenter")},scrollToElement:function(t,e,i,n,r){var o;(t=t.nodeType?t:this.scroller.querySelector(t))&&((o=p.offset(t)).left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===i&&(i=h.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=h.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=i||0,o.top-=n||0,o.left=o.left*this.scale,o.top=o.top*this.scale,o.left=0<o.left?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=0<o.top?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=null==e||"auto"===e?h.max(h.abs(this.x-o.left),h.abs(this.y-o.top)):e,this.options.keepCenter&&(n=this._getMarginToCenter(this.scale),o.left=(0<n.left?n:o).left,o.top=(0<n.top?n:o).top),this.scrollTo(o.left,o.top,e,r),this._execEvent("scrollToElement"))},scrollToElementWithFrame:function(t,e,i,n){var r,o;(t=t.nodeType?t:this.scroller.querySelector(t))&&(r=p.offset(t),this.wrapperOffset=p.offset(this.wrapper),r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,o=h.round(t.offsetWidth/2-this.wrapper.offsetWidth/2),t=h.round(t.offsetHeight/2-this.wrapper.offsetHeight/2+i/2),r.left=r.left*this.scale,r.top=r.top*this.scale,r.left-=o||0,r.top-=t||0,r.left=0<r.left?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=0<r.top?0:r.top<this.maxScrollY-i?this.maxScrollY-i:r.top,i=this._getMarginToCenter(this.scale),r.left=(0<i.left?i:r).left,e=null==e||"auto"===e?h.max(h.abs(this.x-r.left),h.abs(this.y-r.top)):e,n=n||p.ease.circular,this.isInTransition=!1,!e||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(e),this._translate(r.left,r.top)):this._animate(r.left,r.top,e,n.fn),this._execEvent("scrollToElementWithFrame"))},save:function(){this.saveScrollX=this.x,this.saveScrollY=this.y,this.saveScale=this.scale},restore:function(){this.scale!==this.saveScale&&this.zoom(this.saveScale),this.scrollTo(this.saveScrollX,this.saveScrollY,0),this.refresh(),this._execEvent("restore")},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[p.style.transitionDuration]=t+"ms",t||p.isBadAndroid,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[p.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[p.style.transform]="translate("+t+"px,"+e+"px) scale("+this.scale+") "+this.translateZ:(t=h.round(t),e=h.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var e=t?p.removeEvent:p.addEvent,t=this.options.bindToWrapper?this.wrapper:o;e(o,"orientationchange",this),e(o,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||p.hasTouch||(e(this.wrapper,"mousedown",this),e(t,"mousemove",this),e(t,"mousecancel",this),e(t,"mouseup",this),e(this.wrapper,"mouseleave",this)),!p.hasPointer||this.options.disablePointer||p.hasTouch||(e(this.wrapper,p.prefixPointerEvent("pointerdown"),this),e(t,p.prefixPointerEvent("pointermove"),this),e(t,p.prefixPointerEvent("pointercancel"),this),e(t,p.prefixPointerEvent("pointerup"),this),e(this.wrapper,p.prefixPointerEvent("pointerleave"),this)),p.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(t,"touchmove",this),e(t,"touchcancel",this),e(t,"touchend",this),e(this.wrapper,"touchleave",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e=o.getComputedStyle(this.scroller,null),e=this.options.useTransform?(t=+((e=e[p.style.transform].split(")")[0].split(", "))[12]||e[4]),+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),+e.top.replace(/[^-\d.]/g,""));return{x:t,y:e}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,n=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollX&&(t={el:l("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollY&&(t={el:l("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)));for(var o=(n=this.options.indicators?n.concat(this.options.indicators):n).length;o--;)this.indicators.push(new d(this,n[o]));function a(t){if(r.indicators)for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[p.style.transformOrigin]="0 0"},_zoomStart:function(t){var e=h.abs(t.touches[0].pageX-t.touches[1].pageX),i=h.abs(t.touches[0].pageY-t.touches[1].pageY);this.touchesDistanceStart=h.sqrt(e*e+i*i),this.startScale=this.scale;i={top:0,left:0};this.options.keepCenter&&(i=this._getMarginToCenter(1)),this.originX=h.abs(t.touches[0].pageX+t.touches[1].pageX)/2+this.wrapperOffset.left-this.x-i.left,this.originY=h.abs(t.touches[0].pageY+t.touches[1].pageY)/2+this.wrapperOffset.top-this.y-i.top,this._execEvent("zoomStart")},_zoom:function(t){var e,i;this.enabled&&p.eventType[t.type]===this.initiated&&(this.options.preventDefault&&t.preventDefault(),e=h.abs(t.touches[0].pageX-t.touches[1].pageX),i=h.abs(t.touches[0].pageY-t.touches[1].pageY),t=h.sqrt(e*e+i*i),e=1/this.touchesDistanceStart*t*this.startScale,this.scaled=!0,e<this.options.zoomMin?e=.5*this.options.zoomMin*h.pow(2,e/this.options.zoomMin):e>this.options.zoomMax&&(e=2*this.options.zoomMax*h.pow(.5,this.options.zoomMax/e)),i=e/this.startScale,t=this.originX-this.originX*i+this.startX,i=this.originY-this.originY*i+this.startY,this.scale=e,this.scrollTo(t,i,0))},_zoomEnd:function(t){var e,i;this.enabled&&p.eventType[t.type]===this.initiated&&(this.options.preventDefault&&t.preventDefault(),this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),i=this.scale/this.startScale,e=this.originX-this.originX*i+this.startX,t=this.originY-this.originY*i+this.startY,0<e?e=0:e<this.maxScrollX&&(e=this.maxScrollX),0<t?t=0:t<this.maxScrollY&&(t=this.maxScrollY),this.options.keepCenter&&(e+=0<(i=this._getMarginToCenter(this.scale,this.options.pageAlign)).left?i.left:0,t+=0<i.top?i.top:0),this.x==e&&this.y==t||this.scrollTo(e,t,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd"))},zoom:function(t,e,i,n){var r;this.enabled&&(this._execEvent("zoomStart"),t<this.options.zoomMin?t=this.options.zoomMin:t>this.options.zoomMax&&(t=this.options.zoomMax),t!=this.scale&&(r=t/this.scale,e=void 0===e?this.wrapperWidth/2:e,i=void 0===i?this.wrapperHeight/2:i,n=void 0===n?300:n,e=e+this.wrapperOffset.left-this.x,i=i+this.wrapperOffset.top-this.y,e=e-e*r+this.x,i=i-i*r+this.y,this.scale=t,this.refresh(),0<e?e=0:e<this.maxScrollX&&(e=this.maxScrollX),0<i?i=0:i<this.maxScrollY&&(i=this.maxScrollY),this.options.keepCenter&&(e=0<(t=this._getMarginToCenter(t,this.options.pageAlign)).left?t.left:e,i=0<t.top?t.top:i),this.scrollTo(e,i,n),this._execEvent("zoomEnd")))},zoomAndScrollTo:function(t,e,i){this.enabled&&(this._execEvent("zoomStart"),this.scale,this.scale=t,e=this.wrapperWidth/2-e*t,i=this.wrapperHeight/2-i*t,this.refresh(),this.scrollTo(e,i),this._execEvent("zoomEnd"))},_getMarginToCenter:function(t,e){var i=(this.wrapperWidth-(parseInt(this.scrollerStyle.width)+2*parseInt(this.scrollerStyle.paddingLeft))*t)/2,t=(this.wrapperHeight-(parseFloat(this.scrollerStyle.height)+2*parseInt(this.scrollerStyle.paddingTop))*t)/2;return{left:i=i<0||"left"==e?0:i,top:t=t<0||"top"==e?0:t}},_wheelZoom:function(t){var e,i=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){i._execEvent("zoomEnd")},400),"deltaX"in t)e=-t.deltaY/h.abs(t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaY/h.abs(t.wheelDeltaY);else if("wheelDelta"in t)e=t.wheelDelta/h.abs(t.wheelDelta);else{if(!("detail"in t))return;e=-t.detail/h.abs(t.wheelDelta)}e=this.scale+e/5,this.zoom(e,t.pageX,t.pageY,0)},_initWheel:function(){p.addEvent(this.wrapper,"wheel",this),p.addEvent(this.wrapper,"mousewheel",this),p.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){p.removeEvent(this.wrapper,"wheel",this),p.removeEvent(this.wrapper,"mousewheel",this),p.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,n,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)e=1===t.deltaMode?(r=-t.deltaX*this.options.mouseWheelSpeed,-t.deltaY*this.options.mouseWheelSpeed):(r=-t.deltaX,-t.deltaY);else if("wheelDeltaX"in t)r=t.wheelDeltaX/120*this.options.mouseWheelSpeed,e=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)r=e=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;r=e=-t.detail/3*this.options.mouseWheelSpeed}if(r*=this.options.invertWheelDirection,e*=this.options.invertWheelDirection,this.hasVerticalScroll||(r=e,e=0),this.options.snap)return i=this.currentPage.pageX,n=this.currentPage.pageY,0<r?i--:r<0&&i++,0<e?n--:e<0&&n++,void this.goToPage(i,n);if(i=this.x+h.round(this.hasHorizontalScroll?r:0),n=this.y+h.round(this.hasVerticalScroll?e:0),0==this.maxScrollX&&0==this.maxScrollY)return 0<r?(s=!1,void this._execEvent("prevPage")):(s=!1,void this._execEvent("nextPage"));if(0<i){if(i=0,!this.hasVerticalScroll&&0==this.x)return s=!1,void this._execEvent("prevPage")}else if(i<this.maxScrollX&&(i=this.maxScrollX,!this.hasVerticalScroll&&this.x==this.maxScrollX))return s=!0,void this._execEvent("nextPage");if(0<n){if((n=0)==this.y)return s=!1,void this._execEvent("prevPage")}else if(n<this.maxScrollY&&(n=this.maxScrollY,this.y==this.maxScrollY))return s=!0,void this._execEvent("nextPage");this.options.keepCenter&&(i+=0<(r=this._getMarginToCenter(this.scale)).left?r.left:0,n+=0<r.top?r.top:0),this.scrollTo(i,n,0),1<this.options.probeType&&this._execEvent("scroll"),this._execEvent("scrollMove")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,r,o,a=0,s=0,l=0,d=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=h.round(d/2),n=h.round(c/2);l>-this.scrollerWidth;){for(this.pages[a]=[],r=t=0;r>-this.scrollerHeight;)this.pages[a][t]={x:h.max(l,this.maxScrollX),y:h.max(r,this.maxScrollY),width:d,height:c,cx:l-i,cy:r-n},r-=c,t++;l-=d,a++}else for(t=(o=this.options.snap).length,e=-1;a<t;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(s=0,e++),this.pages[s]||(this.pages[s]=[]),l=h.max(-o[a].offsetLeft,this.maxScrollX),r=h.max(-o[a].offsetTop,this.maxScrollY),i=l-h.round(o[a].offsetWidth/2),n=r-h.round(o[a].offsetHeight/2),this.pages[s][e]={x:l,y:r,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:i,cy:n},l>this.maxScrollX&&s++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.x-this.startX),1e3),h.min(h.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,r=0;if(h.abs(t-this.absStartX)<this.snapThresholdX&&h.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;r<n;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i==this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,o=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||h.max(h.max(h.min(h.abs(r-this.x),1e3),h.min(h.abs(o-this.y),1e3)),300):i,this.currentPage={x:r,y:o,pageX:t,pageY:e},this.scrollTo(r,o,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];p.addEvent(o,"keydown",this),p.addEvent(o,"keyup",this),this.on("destroy",function(){p.removeEvent(o,"keydown",this),p.removeEvent(o,"keyup",this)})},_keydown:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,r=i?this.currentPage.pageY:this.y,o=p.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(h.round(e.x),h.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-a<200?h.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:r+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:r-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,r=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=n=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=i?1:5+this.keyAcceleration>>0;break;default:return}switch(t.keyCode){case this.options.keyBindings.pageUp:0!==this.y&&this.hasVerticalScroll?s=!0:(s=!1,this._execEvent("prevPage"));break;case this.options.keyBindings.pageDown:this.y!==this.maxScrollY&&this.hasVerticalScroll?s=!1:(s=!0,this._execEvent("nextPage"))}i?this.goToPage(n,r):(0<n?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),0<r?(r=0,this.keyAcceleration=0):r<this.maxScrollY?(r=this.maxScrollY,this.keyAcceleration=0):s=void 0,"swipe"===this.pageTurnMethod?s?r=0:0==s&&(r=this.maxScrollY):"scroll"===this.pageTurnMethod&&this.y!==r&&this._execEvent("scrollMove"),this.scrollTo(n,r,0),this.resetPosition(),this.keyTime=o)}},_keyup:function(t){switch(t.keyCode){case this.options.keyBindings.pageUp:case this.options.keyBindings.pageDown:"scroll"===this.pageTurnMethod&&this._execEvent("scrollEnd");break;default:return}},_animate:function(n,r,o,a){var s=this,l=this.x,d=this.y,c=p.getTime(),h=c+o;this.isAnimating=!0,function t(){var e,i=p.getTime();if(h<=i)return s.isAnimating=!1,s._translate(n,r),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"));e=a((i-c)/o),i=(n-l)*e+l,e=(r-d)*e+d,s._translate(i,e),s.isAnimating&&u(t),3==s.options.probeType&&s._execEvent("scroll")}()},_initInfinite:function(){var t=this.options.infiniteElements;this.infiniteElements="string"==typeof t?a.querySelectorAll(t):t,this.infiniteLength=this.infiniteElements.length,this.infiniteMaster=this.infiniteElements[0],this.infiniteElementHeight=this.infiniteMaster.offsetHeight,this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight,this.options.cacheSize=this.options.cacheSize||1e3,this.infiniteCacheBuffer=h.round(this.options.cacheSize/4),this.options.dataset.call(this,0,this.options.cacheSize),this.on("refresh",function(){var t=h.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=h.floor((this.infiniteLength-t)/2),this.reorderInfinite(!0)}),this.on("scroll",this.reorderInfinite),this.on("scrollEnd",function(){this.reorderInfinite(!0)})},reorderInfinite:function(t){this.y,this.wrapperHeight;for(var e=h.max(h.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,0),i=h.floor(e/this.infiniteLength),n=e-i*this.infiniteLength,r=0,o=0,a=[],s=h.floor(e/this.infiniteCacheBuffer);o<this.infiniteLength;)r=o*this.infiniteElementHeight+i*this.infiniteHeight,o<n&&(r+=this.infiniteElementHeight*this.infiniteLength),this.infiniteElements[o]._top===r&&!t||(this.infiniteElements[o]._phase=r/this.infiniteElementHeight,(this.infiniteElements[o]._phase<this.options.infiniteLimit||t)&&(this.infiniteElements[o]._top=r,this.options.infiniteUseTransform?this.infiniteElements[o].style[p.style.transform]="translate(0, "+r+"px)"+this.translateZ:this.infiniteElements[o].style.top=r+"px",a.push(this.infiniteElements[o]))),o++;this.cachePhase!=s&&(0===s||0<e-this.infiniteCacheBuffer)&&this.options.dataset.call(this,h.max(s*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize),this.cachePhase=s,this.updateContent(a,t)},updateContent:function(t,e){if(void 0!==this.infiniteCache)for(var i=0,n=t.length;i<n;i++)0<=t[i]._phase&&this.options.dataFiller.call(this,t[i],this.infiniteCache[t[i]._phase],t[i]._phase,e)},updateCache:function(t,e){var i=void 0===this.infiniteCache;this.infiniteCache={};for(var n=0,r=e.length;n<r;n++)this.infiniteCache[t++]=e[n];i&&this.updateContent(this.infiniteElements)},refreshInfinite:function(t){this.options.infiniteLimit=t-1,this.options.dataset.call(this,h.max(this.cachePhase*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize),this.refresh()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);var e=this.options.parentScroll;this.options.zoom&&t.touches&&1<t.touches.length?this._zoomStart(t):!this.options.zoom&&e&&e.zoom&&t.touches&&1<t.touches.length&&e._zoomStart(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&t.touches&&t.touches[1])return void this._zoom(t);this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":case"mouseleave":case"pointerleave":case"touchleave":if(this.scaled)return void this._zoomEnd(t);this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(t);this._wheel(t);break;case"keydown":this._keydown(t);break;case"keyup":this._keyup(t)}},setScrollTop:function(t){s=t},getScrollTop:function(){return s},getMaxScrollY:function(){return this.maxScrollY},isMoving:function(){return!(!this.directionX&&!this.directionY)}},d.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(p.removeEvent(this.indicator,"touchstart",this),p.removeEvent(this.indicator,p.prefixPointerEvent("pointerdown"),this),p.removeEvent(this.indicator,"mousedown",this),p.removeEvent(o,"touchmove",this),p.removeEvent(o,p.prefixPointerEvent("pointermove"),this),p.removeEvent(o,"mousemove",this),p.removeEvent(o,"touchend",this),p.removeEvent(o,p.prefixPointerEvent("pointerup"),this),p.removeEvent(o,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e;this.scroller.enabled&&(e=t.touches?t.touches[0]:t,t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=p.getTime(),this.options.disableTouch||p.addEvent(o,"touchmove",this),this.options.disablePointer||p.addEvent(o,p.prefixPointerEvent("pointermove"),this),this.options.disableMouse||p.addEvent(o,"mousemove",this),this.scroller._execEvent("beforeScrollStart"))},_move:function(t){var e,i,n=t.touches?t.touches[0]:t;p.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=n.pageX-this.lastPointX,this.lastPointX=n.pageX,i=n.pageY-this.lastPointY,this.lastPointY=n.pageY,e=this.x+e,i=this.y+i,this._pos(e,i),this.scroller._execEvent("scroll"),this.scroller._execEvent("scrollMove"),t.preventDefault(),t.stopPropagation()},_end:function(t){var e;this.initiated&&(this.initiated=!1,t.preventDefault(),t.stopPropagation(),p.removeEvent(o,"touchmove",this),p.removeEvent(o,p.prefixPointerEvent("pointermove"),this),p.removeEvent(o,"mousemove",this),this.scroller.options.snap&&(e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),t=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.scroller.x-e.x),1e3),h.min(h.abs(this.scroller.y-e.y),1e3)),300),this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,t,this.scroller.options.bounceEasing))),this.moved&&this.scroller._execEvent("scrollEnd"))},transitionTime:function(t){t=t||0,this.indicatorStyle[p.style.transitionDuration]=t+"ms",!t&&p.isBadAndroid&&(this.indicatorStyle[p.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[p.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(p.addClass(this.wrapper,"iScrollBothScrollbars"),p.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(p.removeClass(this.wrapper,"iScrollBothScrollbars"),p.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=h.max(h.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.scroller.options.infiniteLimit?this.indicatorHeight=h.max(this.wrapperHeight*this.wrapperHeight/(this.scroller.infiniteElementHeight*this.scroller.options.infiniteLimit+2),20):this.indicatorHeight=h.max(h.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&h.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&h.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=h.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?t="scale"==this.options.shrink?(this.width=h.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=h.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?e="scale"==this.options.shrink?(this.height=h.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[p.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?h.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?h.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){var i;e&&!this.visible||(clearTimeout(this.fadeTimeout),this.fadeTimeout=null,i=t?250:500,e=t?0:300,t=t?"1":"0",this.wrapperStyle[p.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),e))}},t.utils=p,"undefined"!=typeof module&&module.exports?module.exports=t:o.m2soft.IScroll=t}(window,document,Math),function(M){"use strict";if(M.zepto&&!M.fn.removeData)throw new ReferenceError("Zepto is loaded without the data module.");M.fn.crownixNoUiSlider=function(t,e){var n=M(document),r=M("body"),a=".nui",i=M.fn.val,l=["crownix-noUi-base","crownix-noUi-origin","crownix-noUi-handle","crownix-noUi-input","crownix-noUi-active","crownix-noUi-state-tap","crownix-noUi-target","-lower","-upper","crownix-noUi-connect","crownix-noUi-horizontal","crownix-noUi-vertical","crownix-noUi-background","crownix-noUi-stacking","crownix-noUi-block","crownix-noUi-state-blocked","crownix-noUi-ltr","crownix-noUi-rtl","crownix-noUi-dragable","crownix-noUi-extended","crownix-noUi-state-drag"],s=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};function d(t,e){return 100*e/(t[1]-t[0])}function c(t){return t instanceof M||M.zepto&&M.zepto.isZ(t)}function h(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t,e){M.isArray(t)||(t=[t]),M.each(t,function(){"function"==typeof this&&this.call(e)})}function p(t,e){return Math.round(t/e)*e}function f(t,e){return parseFloat(t.toFixed(e))}function g(t,e,i,n){var r=n.target;return t=t.replace(/\s/g,a+" ")+a,e.on(t,function(t){var e=!(null==(e=r.attr("disabled")));if(r.hasClass("crownix-noUi-state-tap")||e)return!1;i(function(t){t.preventDefault();var e,i,n=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(o=!0),t.originalEvent&&(t=t.originalEvent),n&&(e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),(r||o)&&(o||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),e=t.clientX+window.pageXOffset,i=t.clientY+window.pageYOffset),M.extend(a,{pointX:e,pointY:i,cursor:r})}(t),n,r.data("base").data("options"))})}function m(t){var e=this.target;if(void 0===t)return this.element.data("value");!0===t?t=this.element.data("value"):this.element.data("value",t),void 0!==t&&M.each(this.elements,function(){"function"==typeof this?this.call(e,t):this[0][this[1]](t)})}function w(t,e,n){if(c(e)){var r=[],o=t.data("target");return t.data("options").direction&&(n=n?0:1),e.each(function(){var e,i;M(this).on("change"+a,(e=o,i=n,function(){var t=[null,null];t[i]=M(this).val(),e.val(t,!0)})),r.push([M(this),"val"])}),r}return[e="string"==typeof e?[M('<input type="hidden" name="'+e+'">').appendTo(t).addClass(l[3]).change(function(t){t.stopPropagation()}),"val"]:e]}function x(t,e){var i=t.data("options");e=f(e,7),t.data("target").removeClass(l[14]),t.css(i.style,e+"%").data("pct",e),t.is(":first-child")&&t.toggleClass(l[13],50<e),i.direction&&(e=100-e),t.data("store").val((t=i.range,t=e*(t[1]-t[0])/100+t[0],i=i,t=t.toFixed(i.decimals),(t=0===parseFloat(t)?t.replace("-0","0"):t).replace(".",i.serialization.mark)))}function v(t,e){var i=t.data("base"),n=i.data("options"),r=i.data("handles"),o=0,i=100;return!!h(e)&&(n.step&&(e=p(e,n.step)),1<r.length&&(t[0]!==r[0][0]?o=f(r[0].data("pct")+n.margin,7):i=f(r[1].data("pct")-n.margin,7)),(e=Math.min(Math.max(e,o),i<0?100:i))===t.data("pct")?[o||!1,100!==i&&i]:(x(t,e),!0))}function b(t,e,i,n){t.addClass(l[5]),setTimeout(function(){t.removeClass(l[5])},300),v(e,i),u(n,t.data("target")),t.data("target").change()}function o(t,e,i){var n,r,o,a,s=e.handles,t=100*(t=t[e.point]-e.start[e.point])/e.size;if(1===s.length){if(!0!==(n=v(s[0],e.positions[0]+t)))return void(0<=M.inArray(s[0].data("pct"),n)&&(r=e.base,o=!i.margin,(a=r.data("target")).hasClass(l[14])||(o||(a.addClass(l[15]),setTimeout(function(){a.removeClass(l[15])},450)),a.addClass(l[14]),u(r.data("options").block,a))))}else{if(i.step&&(t=p(t,i.step)),o=n=e.positions[0]+t,t=r=e.positions[1]+t,o<0?(t+=-1*o,o=0):100<t&&(o-=t-100,t=100),n<0&&!o&&!s[0].data("pct"))return;if(100===t&&100<r&&100===s[1].data("pct"))return;x(s[0],o),x(s[1],t)}u(i.slide,e.target)}function y(t,e,i){1===e.handles.length&&e.handles[0].data("grab").removeClass(l[4]),t.cursor&&r.css("cursor","").off(a),n.off(a),e.target.removeClass(l[14]+" "+l[20]).change(),u(i.set,e.target)}function C(t,e,i){1===e.handles.length&&e.handles[0].data("grab").addClass(l[4]),t.stopPropagation(),g(s.move,n,o,{start:t,base:e.base,target:e.target,handles:e.handles,positions:[e.handles[0].data("pct"),e.handles[e.handles.length-1].data("pct")],point:i.orientation?"pointY":"pointX",size:i.orientation?e.base.height():e.base.width()}),g(s.end,n,y,{target:e.target,handles:e.handles}),t.cursor&&(r.css("cursor",M(t.target).css("cursor")),1<e.handles.length&&e.target.addClass(l[20]),r.on("selectstart"+a,function(){return!1}))}function k(t,e,i){var n,r,o,a=e.base;t.stopPropagation(),r=i.orientation?(n=t.pointY,a.height()):(n=t.pointX,a.width()),o=a.data("handles"),e=n,t=i.style,t=1===o.length?o[0]:(t=o[0].offset()[t]+o[1].offset()[t],o[e<t/2?0:1]),r=100*(n-a.offset()[i.style])/r,b(a,t,r,[i.slide,i.set])}function S(t,e,i){var n=e.base.data("handles"),r=i.orientation?t.pointY:t.pointX,t=(r=r<e.base.offset()[i.style])?0:100;r=r?0:n.length-1,b(e.base,n[r],t,[i.slide,i.set])}function T(r,o){function n(t){return 2===t.length&&(!(!h((t=[parseFloat(t[0]),parseFloat(t[1])])[0])||!h(t[1]))&&(!(t[1]<t[0])&&t))}var a=function(t,e){switch(t){case 1:case.1:case.01:case.001:case 1e-4:case 1e-5:t=t.toString().split("."),e.decimals="1"===t[0]?0:t[1].length;break;case void 0:e.decimals=2;break;default:return!1}return!0},s=function(t,e,i){if(!t)return e[i].mark=".",!0;switch(t){case".":case",":return!0;default:return!1}},l=function(t,e,i){function n(t){return c(t)||"string"==typeof t||"function"==typeof t||!1===t||c(t[0])&&"function"==typeof t[0][t[1]]}if(t){var r,o;for(s=[[],[]],n(a=t)?s[0].push(a):M.each(a,function(t,e){1<t||(n(e)?s[t].push(e):s[t]=s[t].concat(e))}),t=s,e.direction&&t[1].length&&t.reverse(),r=0;r<e.handles;r++)for(o=0;o<t[r].length;o++){if(!n(t[r][o]))return!1;t[r][o]||t[r].splice(o,1)}e[i].to=t}else e[i].to=[[],[]];var a,s;return!0},t={handles:{r:!0,t:function(t){return 1===(t=parseInt(t,10))||2===t}},range:{r:!0,t:function(t,e,i){return e[i]=n(t),e[i]&&e[i][0]!==e[i][1]}},start:{r:!0,t:function(t,e,i){return 1===e.handles?(M.isArray(t)&&(t=t[0]),t=parseFloat(t),e.start=[t],h(t)):(e[i]=n(t),!!e[i])}},connect:{r:!0,t:function(t,e,i){if("lower"===t)e[i]=1;else if("upper"===t)e[i]=2;else if(!0===t)e[i]=3;else{if(!1!==t)return!1;e[i]=0}return!0}},orientation:{t:function(t,e,i){switch(t){case"horizontal":e[i]=0;break;case"vertical":e[i]=1;break;default:return!1}return!0}},margin:{r:!0,t:function(t,e,i){return t=parseFloat(t),e[i]=d(e.range,t),h(t)}},direction:{r:!0,t:function(t,e,i){switch(t){case"ltr":e[i]=0;break;case"rtl":e[i]=1,e.connect=[0,2,1,3][e.connect];break;default:return!1}return!0}},behaviour:{r:!0,t:function(t,e,i){return e[i]={tap:t!==(t=t.replace("tap","")),extend:t!==(t=t.replace("extend","")),drag:t!==(t=t.replace("drag","")),fixed:t!==(t=t.replace("fixed",""))},!t.replace("none","").replace(/\-/g,"")}},serialization:{r:!0,t:function(t,e,i){return l(t.to,e,i)&&a(t.resolution,e)&&s(t.mark,e,i)}},slide:{t:function(t){return M.isFunction(t)}},set:{t:function(t){return M.isFunction(t)}},block:{t:function(t){return M.isFunction(t)}},step:{t:function(t,e,i){return t=parseFloat(t),e[i]=d(e.range,t),h(t)}}};M.each(t,function(t,e){var i=r[t],n=void 0!==i;if(e.r&&!n||n&&!e.t(i,r,t))throw console&&console.log&&console.group&&(console.group("Invalid noUiSlider initialisation:"),console.log("Option:\t",t),console.log("Value:\t",i),console.log("Slider(s):\t",o),console.groupEnd()),new RangeError("noUiSlider")})}function I(s,l){return M.isArray(s)||(s=[s]),this.each(function(){var t,e,i,n,r=M(this).data("base"),o=Array.prototype.slice.call(r.data("handles"),0),a=r.data("options");for(1<o.length&&(o[2]=o[0]),a.direction&&s.reverse(),e=0;e<o.length;e++)null!=(t=s[e%2])&&("string"===M.type(t)&&(t=t.replace(",",".")),i=a.range,n=parseFloat(t),t=d(i,i[0]<0?n+Math.abs(i[0]):n-i[0]),a.direction&&(t=100-t),!0!==v(o[e],t)&&o[e].data("store").val(!0),!0===l&&u(a.set,M(this)))})}return M.fn.val=function(){return this.hasClass(l[6])?arguments.length?I.apply(this,arguments):function(){var t=M(this).data("base"),e=[];return M.each(t.data("handles"),function(){e.push(M(this).data("store").val())}),1===e.length?e[0]:t.data("options").direction?e.reverse():e}.apply(this):i.apply(this,arguments)},(e?function(o){return this.each(function(){var t,e,i=M(this).val()||!1,n=M(this).data("options"),r=M.extend({},n,o);!1!==i&&(t=M(this),e=[[t,""]],M.each(t.data("base").data("handles"),function(){e=e.concat(M(this).data("store").elements)}),M.each(e,function(){1<this.length&&this[0].off(a)}),t.removeClass(l.join(" ")),t.empty().removeData("base options")),o&&(M(this).crownixNoUiSlider(r),!1!==i&&r.start===n.start&&M(this).val(i))})}:function(a){return this.data("options",M.extend(!0,{},a)),(a=M.extend({handles:2,margin:0,connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},a)).serialization=a.serialization||{},T(a,this),a.style=a.orientation?"top":"left",this.each(function(){var t,e,i,n=M(this),r=[],o=M("<div/>").appendTo(n);if(n.data("base"))throw new Error("Slider was already initialized.");for(n.data("base",o).addClass([l[6],l[16+a.direction],l[10+a.orientation]].join(" ")),t=0;t<a.handles;t++)(i=M("<div><div/></div>").appendTo(o)).addClass(l[1]),i.children().addClass([l[2],l[2]+l[7+a.direction+(a.direction?-1*t:t)]].join(" ")),i.data({base:o,target:n,options:a,grab:i.children(),pct:-1}).attr("data-style",a.style),i.data({store:function(e,i,n){var r=[];return M.each(n.to[i],function(t){r=r.concat(w(e,n.to[i][t],i))}),{element:e,elements:r,target:e.data("target"),val:m}}(i,t,a.serialization)}),r.push(i);switch(a.connect){case 1:n.addClass(l[9]),r[0].addClass(l[12]);break;case 3:r[1].addClass(l[12]);case 2:r[0].addClass(l[9]);case 0:n.addClass(l[12])}if(o.addClass(l[0]).data({target:n,options:a,handles:r}),n.val(a.start),!a.behaviour.fixed)for(t=0;t<r.length;t++)g(s.start,r[t].children(),C,{base:o,target:n,handles:[r[t]]});a.behaviour.tap&&g(s.start,o,k,{base:o,target:n}),a.behaviour.extend&&(n.addClass(l[19]),a.behaviour.tap&&g(s.start,n,S,{base:o,target:n})),a.behaviour.drag&&(e=o.find("."+l[9]).addClass(l[18]),a.behaviour.fixed&&(e=e.add(o.children().not(e).data("grab"))),g(s.start,e,C,{base:o,target:n,handles:r}))})}).call(this,t)}}(window.jQuery||window.Zepto),function(s){var t,e,i=0,n=/^ui-id-\d+$/;function r(t,e){var i,n,r=t.nodeName.toLowerCase();return"area"===r?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(n=s("img[usemap=#"+n+"]")[0])&&o(n))):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r&&t.href||e)&&o(t)}function o(t){return s.expr.filters.visible(t)&&!s(t).parents().addBack().filter(function(){return"hidden"===s.css(this,"visibility")}).length}s.ui=s.ui||{},s.extend(s.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({focus:(t=s.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){s(t).focus(),i&&i.call(t)},e)}):t.apply(this,arguments)}),scrollParent:function(){var t=(s.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(s.css(this,"position"))&&/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))}):this.parents().filter(function(){return/(auto|scroll)/.test(s.css(this,"overflow")+s.css(this,"overflow-y")+s.css(this,"overflow-x"))})).eq(0);return/fixed/.test(this.css("position"))||!t.length?s(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=s(this[0]);n.length&&n[0]!==document;){if(e=n.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(e){return function(t){return!!s.data(t,e)}}):function(t,e,i){return!!s.data(t,i[3])},focusable:function(t){return r(t,!isNaN(s.attr(t,"tabindex")))},tabbable:function(t){var e=s.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&r(t,!i)}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(t,i){var r="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),o={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};function a(t,e,i,n){return s.each(r,function(){e-=parseFloat(s.css(t,"padding"+this))||0,i&&(e-=parseFloat(s.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(s.css(t,"margin"+this))||0)}),e}s.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){s(this).css(n,a(this,t)+"px")})},s.fn["outer"+i]=function(t,e){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){s(this).css(n,a(this,t,!0,e)+"px")})}}),s.fn.addBack||(s.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=(e=s.fn.removeData,function(t){return arguments.length?e.call(this,s.camelCase(t)):e.call(this)})),s.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),s.support.selectstart="onselectstart"in document.createElement("div"),s.fn.extend({disableSelection:function(){return this.bind((s.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),s.extend(s.ui,{plugin:{add:function(t,e,i){var n,r=s.ui[t].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([e,i[n]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(t,e){if("hidden"===s(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;return 0<t[i]||(t[i]=1,e=0<t[i],t[i]=0,e)}})}(jQuery),function(d,l){d.extend(d.ui,{crownixdatepicker:{version:"1.10.4"}});var r,s="crownixdatepicker";function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="crownix-ui-datepicker-div",this._inlineClass="crownix-ui-datepicker-inline",this._appendClass="crownix-ui-datepicker-append",this._triggerClass="crownix-ui-datepicker-trigger",this._dialogClass="crownix-ui-datepicker-dialog",this._disableClass="crownix-ui-datepicker-disabled",this._unselectableClass="crownix-ui-datepicker-unselectable",this._currentClass="crownix-ui-datepicker-current-day",this._dayOverClass="crownix-ui-datepicker-days-cell-over",this.locale="ko",this.regional=[],this.regional.en={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"MM/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this.regional.ko={closeText:"닫기",prevText:"이전달",nextText:"다음달",currentText:"오늘",monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesShort:["일","월","화","수","목","금","토"],dayNamesMin:["일","월","화","수","목","금","토"],weekHeader:"Wk",dateFormat:"yy-MM-dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"년"},this.regional.ja={closeText:"閉じる",prevText:"&#x3C;前",nextText:"次&#x3E;",currentText:"今日",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],dayNamesMin:["日","月","火","水","木","金","土"],weekHeader:"週",dateFormat:"yy/MM/dd",firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},this.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-MM-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1,japanYear:null,checkZero:0,useMirroring:!1},d.extend(this._defaults,this.regional.en),this.dpDiv=i(d("<div id='"+this._mainDivId+"' class='crownix-ui-datepicker crownix-ui-widget crownix-ui-widget-content crownix-ui-helper-clearfix crownix-ui-corner-all'></div>"))}function i(t){var e="button, .crownix-ui-datepicker-prev, .crownix-ui-datepicker-next, .crownix-ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){d(this).removeClass("crownix-ui-state-hover"),-1!==this.className.indexOf("crownix-ui-datepicker-prev")&&d(this).removeClass("crownix-ui-datepicker-prev-hover"),-1!==this.className.indexOf("crownix-ui-datepicker-next")&&d(this).removeClass("crownix-ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){d.crownixdatepicker._isDisabledDatepicker((r.inline?t.parent():r.input)[0])||(d(this).parents(".crownix-ui-datepicker-calendar").find(r.settings.useMirroring?"button":"a").removeClass("crownix-ui-state-hover"),d(this).addClass("crownix-ui-state-hover"),-1!==this.className.indexOf("crownix-ui-datepicker-prev")&&d(this).addClass("crownix-ui-datepicker-prev-hover"),-1!==this.className.indexOf("crownix-ui-datepicker-next")&&d(this).addClass("crownix-ui-datepicker-next-hover"))})}function c(t,e){for(var i in d.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}d.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return c(this._defaults,t||{}),this},setLanguage:function(t){return this.setDefaults(this.regional[t]),this.locale=t,this},_attachDatepicker:function(t,e){var i,n=t.nodeName.toLowerCase(),r="div"===n||"span"===n;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(d(t),r)).settings=d.extend({},e||{}),"input"===n?this._connectDatepicker(t,i):r&&this._inlineDatepicker(t,i)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?i(d("<div class='"+this._inlineClass+" crownix-ui-datepicker crownix-ui-widget crownix-ui-widget-content crownix-ui-helper-clearfix crownix-ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=d(t);e.append=d([]),e.trigger=d([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),d.data(t,s,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,n,r=this._get(e,"appendText"),o=this._get(e,"isRTL");e.append&&e.append.remove(),r&&(e.append=d("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||(n=this,t.focus(function(t){this.readOnly||(m2soft.crownix.Util.browser.mobile&&d(this).blur(),"false"===d(this).attr("noDefaultAction")&&n._showDatepicker(t))}),t.on(m2soft.crownix.Util.ActionEvents.start+" touchstart",function(t){this.readOnly||"false"!==d(this).attr("noDefaultAction")||n._showDatepicker(t)})),"button"!==i&&"both"!==i||(r=this._get(e,"buttonText"),i=this._get(e,"buttonImage"),e.trigger=d(this._get(e,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:i,alt:r,title:r}):d("<button type='button'></button>").addClass(this._triggerClass).html(i?d("<img/>").attr({src:i,alt:r,title:r}):r)),t[o?"before":"after"](e.trigger),e.trigger.click(function(){return d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._lastInput===t[0]?d.crownixdatepicker._hideDatepicker():(d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._lastInput!==t[0]&&d.crownixdatepicker._hideDatepicker(),d.crownixdatepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,i,n,r,o,a;this._get(t,"autoSize")&&!t.inline&&(o=new Date(2009,11,20),(a=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(r=n=i=0;r<t.length;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length))},_inlineDatepicker:function(t,e){var i=d(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),d.data(t,s,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,r){var o,a=this._dialogInst;return a||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},d.data(this._dialogInput[0],s,a)),c(a.settings,n||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(o=document.documentElement.clientWidth,n=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,r=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+e,n/2-150+r]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],s,a),this},_destroyDatepicker:function(t){var e,i=d(t),n=d.data(t,s);i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),d.removeData(t,s),"input"===e?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var t,i=d(e),n=d.data(e,s);i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().removeClass("crownix-ui-state-disabled"),i.find("select.crownix-ui-datepicker-month, select.crownix-ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=d.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i=d(e),n=d.data(e,s);i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().addClass("crownix-ui-state-disabled"),i.find("select.crownix-ui-datepicker-month, select.crownix-ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=d.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return d.data(t,s)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n,r,o,a,s=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?d.extend({},d.crownixdatepicker._defaults):s?"all"===e?d.extend({},s.settings):this._get(s,e):null;n=e||{},"string"==typeof e&&((n={})[e]=i),s&&(this._curInst===s&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),c(s.settings,n),null!==o&&n.dateFormat!==l&&n.minDate===l&&(s.settings.minDate=this._formatDate(s,o)),null!==a&&n.dateFormat!==l&&n.maxDate===l&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(d(t),s),this._autoSize(s),this._setDate(s,r),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,i,n=d.crownixdatepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".crownix-ui-datepicker-rtl");if(n._keyEvent=!0,d.crownixdatepicker._datepickerShowing)switch(t.keyCode){case 9:d.crownixdatepicker._hideDatepicker(),r=!1;break;case 13:return(i=d("td."+d.crownixdatepicker._dayOverClass+":not(."+d.crownixdatepicker._currentClass+")",n.dpDiv))[0]&&d.crownixdatepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,i[0]),(e=d.crownixdatepicker._get(n,"onSelect"))?(i=d.crownixdatepicker._formatDate(n),e.apply(n.input?n.input[0]:null,[i,n])):d.crownixdatepicker._hideDatepicker(),!1;case 27:d.crownixdatepicker._hideDatepicker();break;case 33:d.crownixdatepicker._adjustDate(t.target,t.ctrlKey?-d.crownixdatepicker._get(n,"stepBigMonths"):-d.crownixdatepicker._get(n,"stepMonths"),"M");break;case 34:d.crownixdatepicker._adjustDate(t.target,t.ctrlKey?+d.crownixdatepicker._get(n,"stepBigMonths"):+d.crownixdatepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&d.crownixdatepicker._adjustDate(t.target,t.ctrlKey?-d.crownixdatepicker._get(n,"stepBigMonths"):-d.crownixdatepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&d.crownixdatepicker._adjustDate(t.target,t.ctrlKey?+d.crownixdatepicker._get(n,"stepBigMonths"):+d.crownixdatepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&d.crownixdatepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?d.crownixdatepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i=d.crownixdatepicker._getInst(t.target);if(d.crownixdatepicker._get(i,"constrainInput"))return e=d.crownixdatepicker._possibleChars(d.crownixdatepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){var e=d.crownixdatepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{d.crownixdatepicker.parseDate(d.crownixdatepicker._get(e,"dateFormat"),e.input?e.input.val():null,d.crownixdatepicker._getFormatConfig(e),d.crownixdatepicker._get(e,"japanYear"),d.crownixdatepicker._get(e,"checkZero"))&&(d.crownixdatepicker._setDateFromField(e),d.crownixdatepicker._updateAlternate(e),d.crownixdatepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,n,r;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=d("input",t.parentNode)[0]),d.crownixdatepicker._isDisabledDatepicker(t)||d.crownixdatepicker._lastInput===t||(r=d.crownixdatepicker._getInst(t),d.crownixdatepicker._curInst&&d.crownixdatepicker._curInst!==r&&(d.crownixdatepicker._curInst.dpDiv.stop(!0,!0),r&&d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._hideDatepicker(d.crownixdatepicker._curInst.input[0])),!1!==(i=(n=d.crownixdatepicker._get(r,"beforeShow"))?n.apply(t,[t,r]):{})&&(c(r.settings,i),r.lastVal=null,d.crownixdatepicker._lastInput=t,d.crownixdatepicker._setDateFromField(r),d.crownixdatepicker._inDialog&&(t.value=""),d.crownixdatepicker._pos||(d.crownixdatepicker._pos=d.crownixdatepicker._findPos(t),d.crownixdatepicker._pos[1]+=t.offsetHeight),e=!1,d(t).parents().each(function(){return!(e|="fixed"===d(this).css("position"))}),n={left:d.crownixdatepicker._pos[0],top:d.crownixdatepicker._pos[1]},d.crownixdatepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.crownixdatepicker._updateDatepicker(r),n=d.crownixdatepicker._checkOffset(r,n,e),r.dpDiv.css({position:d.crownixdatepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),r.inline||(i=d.crownixdatepicker._get(r,"showAnim"),n=d.crownixdatepicker._get(r,"duration"),d(t).zIndex()<d("#crownix-html5-viewer").zIndex()?r.dpDiv.zIndex(d("#crownix-html5-viewer").zIndex()+1):r.dpDiv.zIndex(d(t).zIndex()+1),d.crownixdatepicker._datepickerShowing=!0,d.effects&&d.effects.effect[i]?r.dpDiv.show(i,d.crownixdatepicker._get(r,"showOptions"),n):r.dpDiv[i||"show"](i?n:null),d.crownixdatepicker._shouldFocusInput(r)&&r.input.focus(),d.crownixdatepicker._curInst=r)))},_updateDatepicker:function(t){this.maxRows=4,(r=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e,i=this._getNumberOfMonths(t),n=i[1];t.dpDiv.removeClass("crownix-ui-datepicker-multi-2 crownix-ui-datepicker-multi-3 crownix-ui-datepicker-multi-4").width(""),1<n&&t.dpDiv.addClass("crownix-ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("crownix-ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("crownix-ui-datepicker-rtl"),t===d.crownixdatepicker._curInst&&d.crownixdatepicker._datepickerShowing&&d.crownixdatepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.crownix-ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,s=document.documentElement.clientWidth+(i?0:d(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:d(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-o:0,e.left-=i&&e.left===t.input.offset().left?d(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?d(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>s&&n<s?Math.abs(e.left+n-s):0),e.top-=Math.min(e.top,e.top+r>l&&r<l?Math.abs(r+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||d.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=d(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,n=this._curInst;!n||t&&n!==d.data(t,s)||this._datepickerShowing&&(e=this._get(n,"showAnim"),i=this._get(n,"duration"),t=function(){d.crownixdatepicker._tidyDialog(n)},d.effects&&(d.effects.effect[e]||d.effects[e])?n.dpDiv.hide(e,d.crownixdatepicker._get(n,"showOptions"),i,t):n.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,t),e||t(),this._datepickerShowing=!1,(t=this._get(n,"onClose"))&&t.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".crownix-ui-datepicker-calendar")},_checkExternalClick:function(t){var e;d.crownixdatepicker._curInst&&(e=d(t.target),t=d.crownixdatepicker._getInst(e[0]),(e[0].id===d.crownixdatepicker._mainDivId||0!==e.parents("#"+d.crownixdatepicker._mainDivId).length||e.hasClass(d.crownixdatepicker.markerClassName)||e.closest("."+d.crownixdatepicker._triggerClass).length||!d.crownixdatepicker._datepickerShowing||d.crownixdatepicker._inDialog&&d.blockUI)&&(!e.hasClass(d.crownixdatepicker.markerClassName)||d.crownixdatepicker._curInst===t)||d.crownixdatepicker._hideDatepicker())},_adjustDate:function(t,e,i){var n=d(t),t=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(t,e+("M"===i?this._get(t,"showCurrentAtPos"):0),i),this._updateDatepicker(t))},_gotoToday:function(t){var e=d(t),i=this._getInst(e[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=d(t),t=this._getInst(n[0]);t["selected"+("M"===i?"Month":"Year")]=t["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(n)},_selectDay:function(t,e,i,n){var r=d(t);d(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((r=this._getInst(r[0])).selectedDay=r.currentDay=d(r.settings.useMirroring?"button":"a",n).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){t=d(t);this._selectDate(t,"")},_selectDate:function(t,e){var i,n=d(t),t=this._getInst(n[0]);e=null!=e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(n=this._get(t,"onSelect"))?n.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._lastInput=t.input[0],"object"==typeof t.input[0]&&t.input.focus(),i=this,setTimeout(function(){i._hideDatepicker(),i._lastInput=null}))},_updateAlternate:function(t){var e,i,n,r=this._get(t,"altField");r&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),japanYear=this._get(t,"japanYear"),checkZero=this._get(t,"checkZero"),n=this.formatDate(e,i,this._getFormatConfig(t),japanYear,checkZero),d(r).each(function(){d(this).val(n)}))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(t,e,i,n,r){if(null==t||null==e)throw"Invalid arguments";return""===(e="object"==typeof e?e.toString():e+"")?null:new Date(m2soft.crownix.DateParser.getDateFromFormat(t,e,d.crownixdatepicker.locale,l,n,r))},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i,n,r){if(!e)return"";var o=new Date;return e.setHours(o.getHours()),e.setMinutes(o.getMinutes()),e.setSeconds(o.getSeconds()),m2soft.crownix.DateParser.formatDate(t,e,d.crownixdatepicker.locale,n,r)},_possibleChars:function(e){function t(t){return(t=r+1<e.length&&e.charAt(r+1)===t)&&r++,t}for(var i="",n=!1,r=0;r<e.length;r++)if(n)"'"!==e.charAt(r)||t("'")?i+=e.charAt(r):n=!1;else switch(e.charAt(r)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":t("'")?i+="'":n=!0;break;default:i+=e.charAt(r)}return i},_get:function(t,e){return(t.settings[e]!==l?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t),s=this._get(t,"japanYear"),l=this._get(t,"checkZero");try{o=this.parseDate(i,n,a,s,l)||r}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(s,t,e){var i,n,t=null==t||""===t?e:"string"==typeof t?function(t){try{return d.crownixdatepicker.parseDate(d.crownixdatepicker._get(s,"dateFormat"),t,d.crownixdatepicker._getFormatConfig(s),d.crownixdatepicker._get(s,"japanYear"),d.crownixdatepicker._get(s,"checkZero"))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?d.crownixdatepicker._getDate(s):null)||new Date,i=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":n+=parseInt(a[1],10),r=Math.min(r,d.crownixdatepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(a[1],10),r=Math.min(r,d.crownixdatepicker._getDaysInMonth(i,n))}a=o.exec(t)}return new Date(i,n,r)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(n=new Date).setDate(n.getDate()+i),n):new Date(t.getTime());return(t=t&&"Invalid Date"===t.toString()?e:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=e.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=e.getMonth(),t.drawYear=t.selectedYear=t.currentYear=e.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){d.crownixdatepicker._adjustDate(i,-e,"M")},next:function(){d.crownixdatepicker._adjustDate(i,+e,"M")},hide:function(){d.crownixdatepicker._hideDatepicker()},today:function(){d.crownixdatepicker._gotoToday(i)},selectDay:function(){return d.crownixdatepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return d.crownixdatepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return d.crownixdatepicker._selectMonthYear(i,this,"Y"),!1}};d(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C,k,S,T,I,M,A,F,E,P,D,O=new Date,_=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),N=this._get(t,"isRTL"),L=this._get(t,"showButtonPanel"),R=this._get(t,"hideIfNoPrevNext"),B=this._get(t,"navigationAsDateFormat"),j=this._getNumberOfMonths(t),H=this._get(t,"showCurrentAtPos"),z=this._get(t,"stepMonths"),q=1!==j[0]||1!==j[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),U=this._getMinMaxDate(t,"min"),W=this._getMinMaxDate(t,"max"),V=t.drawMonth-H,J=t.drawYear,Y=this._get(t,"japanYear"),O=this._get(t,"checkZero");if(V<0&&(V+=12,J--),W)for(e=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth()-j[0]*j[1]+1,W.getDate())),e=U&&e<U?U:e;this._daylightSavingAdjust(new Date(J,V,1))>e;)--V<0&&(V=11,J--);for(t.drawMonth=V,t.drawYear=J,H=this._get(t,"prevText"),B&&this.formatDate(H,this._daylightSavingAdjust(new Date(J,V-z,1)),this._getFormatConfig(t)),H=O,i=this._canAdjustMonth(t,-1,J,V)?"<a class='crownix-ui-datepicker-prev crownix-ui-corner-all' data-handler='prev' data-event='click' title='"+H+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(N?"e":"w")+"'>◀</span></a>":R?"":"<a class='crownix-ui-datepicker-prev crownix-ui-corner-all crownix-ui-state-disabled' title='"+H+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(N?"e":"w")+"'>◀</span></a>",H=this._get(t,"nextText"),B&&this.formatDate(H,this._daylightSavingAdjust(new Date(J,V+z,1)),this._getFormatConfig(t)),H=O,n=this._canAdjustMonth(t,1,J,V)?"<a class='crownix-ui-datepicker-next crownix-ui-corner-all' data-handler='next' data-event='click' title='"+H+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(N?"w":"e")+"'>▶</span></a>":R?"":"<a class='crownix-ui-datepicker-next crownix-ui-corner-all crownix-ui-state-disabled' title='"+H+"'><span class='crownix-ui-icon crownix-ui-icon-circle-triangle-"+(N?"w":"e")+"'>▶</span></a>",R=this._get(t,"currentText"),H=this._get(t,"gotoCurrent")&&t.currentDay?G:_,R=B?this.formatDate(R,H,this._getFormatConfig(t),Y,O):R,O=t.inline?"":"<button type='button' class='crownix-ui-datepicker-close crownix-ui-state-default crownix-ui-priority-primary crownix-ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",O=L?"<div class='crownix-ui-datepicker-buttonpane crownix-ui-widget-content'>"+(N?O:"")+(this._isInRange(t,H)?"<button type='button' class='crownix-ui-datepicker-current crownix-ui-state-default crownix-ui-priority-secondary crownix-ui-corner-all' data-handler='today' data-event='click'>"+R+"</button>":"")+(N?"":O)+"</div>":"",r=parseInt(this._get(t,"firstDay"),10),r=isNaN(r)?0:r,o=this._get(t,"showWeek"),a=this._get(t,"dayNames"),s=this._get(t,"dayNamesMin"),l=this._get(t,"monthNames"),d=this._get(t,"monthNamesShort"),c=this._get(t,"beforeShowDay"),h=this._get(t,"showOtherMonths"),u=this._get(t,"selectOtherMonths"),changeMonth=this._get(t,"changeMonth"),p=this._getDefaultDate(t),f="",m=0;m<j[0];m++){for(w="",this.maxRows=4,x=0;x<j[1];x++){if(v=this._daylightSavingAdjust(new Date(J,V,t.selectedDay)),b=" crownix-ui-corner-all",y="",q){if(y+="<div class='crownix-ui-datepicker-group",1<j[1])switch(x){case 0:y+=" crownix-ui-datepicker-group-first",b=" crownix-ui-corner-"+(N?"right":"left");break;case j[1]-1:y+=" crownix-ui-datepicker-group-last",b=" crownix-ui-corner-"+(N?"left":"right");break;default:y+=" crownix-ui-datepicker-group-middle",b=""}y+="'>"}for(y+="<div class='crownix-ui-datepicker-header crownix-ui-widget-header crownix-ui-helper-clearfix"+b+"'>"+(/all|left/.test(b)&&0===m&&!changeMonth?N?n:i:"")+(/all|right/.test(b)&&0===m&&!changeMonth?N?i:n:"")+this._generateMonthYearHeader(t,V,J,U,W,0<m||0<x,l,d)+"</div><table class='crownix-ui-datepicker-calendar'><thead><tr>",C=o?"<th class='crownix-ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",g=0;g<7;g++)C+="<th"+(5<=(g+r+6)%7?" class='crownix-ui-datepicker-week-end'":"")+"><span title='"+a[k=(g+r)%7]+"'>"+s[k]+"</span></th>";for(y+=C+"</tr></thead><tbody>",T=this._getDaysInMonth(J,V),J===t.selectedYear&&V===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,T)),S=(this._getFirstDayOfMonth(J,V)-r+7)%7,T=Math.ceil((S+T)/7),I=q&&this.maxRows>T?this.maxRows:T,this.maxRows=I,M=this._daylightSavingAdjust(new Date(J,V,1-S)),A=0;A<I;A++){for(y+="<tr>",F=o?"<td class='crownix-ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(M)+"</td>":"",g=0;g<7;g++)E=c?c.apply(t.input?t.input[0]:null,[M]):[!0,""],D=(P=M.getMonth()!==V)&&!u||!E[0]||U&&M<U||W&&W<M,F+="<td class='"+(5<=(g+r+6)%7?" crownix-ui-datepicker-week-end":"")+(P?" crownix-ui-datepicker-other-month":"")+(M.getTime()===v.getTime()&&V===t.selectedMonth&&t._keyEvent||p.getTime()===M.getTime()&&p.getTime()===v.getTime()?" "+this._dayOverClass:"")+(D?" "+this._unselectableClass+" crownix-ui-state-disabled":"")+(P&&!h?"":" "+E[1]+(M.getTime()===G.getTime()?" "+this._currentClass:"")+(M.getTime()===_.getTime()?" crownix-ui-datepicker-today":""))+"'"+(P&&!h||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(D?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(P&&!h?"&#xa0;":D?"<span class='crownix-ui-state-default'>"+M.getDate()+"</span>":(t.settings.useMirroring?"<button ":"<a ")+"class='crownix-ui-state-default"+(M.getTime()===_.getTime()?" crownix-ui-state-highlight":"")+(M.getTime()===G.getTime()?" crownix-ui-state-active":"")+(P?" crownix-ui-priority-secondary":"")+"' href='#'>"+M.getDate()+(t.settings.useMirroring?"</button>":"</a>"))+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);y+=F+"</tr>"}11<++V&&(V=0,J++),w+=y+="</tbody></table>"+(q?"</div>"+(0<j[0]&&x===j[1]-1?"<div class='crownix-ui-datepicker-row-break'></div>":""):"")}f+=w}return f+=O,t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,i,n,r,o,a,s){var l,d,c,h,u,p,f,g=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),w=this._get(t,"showMonthAfterYear"),x="<div class='crownix-ui-datepicker-title'>",v="";if(o||!g)v+="<span class='crownix-ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,d=r&&r.getFullYear()===i,v+="<select class='crownix-ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!d||c<=r.getMonth())&&(v+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");v+="</select>"}if(w||(x+=v+(!o&&g&&m?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!m)x+="<span class='crownix-ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=(a=function(t){t=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(t)?u:t})(h[0]),f=Math.max(p,a(h[1]||"")),p=n?Math.max(p,n.getFullYear()):p,f=r?Math.min(f,r.getFullYear()):f,t.yearshtml+="<select class='crownix-ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=f;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",x+=t.yearshtml,t.yearshtml=null}return x+=this._get(t,"yearSuffix"),w&&(x+=(!o&&g&&m?"":"&#xa0;")+v),x+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),e=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,e)));t.selectedDay=e.getDate(),t.drawMonth=t.selectedMonth=e.getMonth(),t.drawYear=t.selectedYear=e.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),e=i&&e<i?i:e;return t&&t<e?t:e},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=null,o=null,a=this._get(t,"yearRange");return a&&(t=a.split(":"),a=(new Date).getFullYear(),r=parseInt(t[0],10),o=parseInt(t[1],10),t[0].match(/[+\-].*/)&&(r+=a),t[1].match(/[+\-].*/)&&(o+=a)),(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())&&(!r||e.getFullYear()>=r)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);e=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),e,this._getFormatConfig(t),this._get(t,"japanYear"),this._get(t,"checkZero"))}}),d.fn.crownixdatepicker=function(t){if(!this.length)return this;d.crownixdatepicker.initialized||(d(document).bind(m2soft.crownix.Util.ActionEvents.start+" touchstart",d.crownixdatepicker._checkExternalClick),d.crownixdatepicker.initialized=!0),0===d("#"+d.crownixdatepicker._mainDivId).length&&d("body").append(d.crownixdatepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?d.crownixdatepicker["_"+t+"Datepicker"].apply(d.crownixdatepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?d.crownixdatepicker["_"+t+"Datepicker"].apply(d.crownixdatepicker,[this].concat(e)):d.crownixdatepicker._attachDatepicker(this,t)})},d.crownixdatepicker=new t,d.crownixdatepicker.initialized=!1,d.crownixdatepicker.uuid=(new Date).getTime(),d.crownixdatepicker.version="1.10.4"}(jQuery),m2soft.ns("m2soft.crownix.ImageLoader"),m2soft.crownix.ImageLoader.loadImage=function(n){"use strict";var v=function(t,i,e){var n,r,o=document.createElement("img");if(o.onerror=i,o.onload=function(){!r||e&&e.noRevoke||v.revokeObjectURL(r),i&&i(v.scale(o,e))},v.isInstanceOf("Blob",t)||v.isInstanceOf("File",t))n=r=v.createObjectURL(t),o._type=t.type;else{if("string"!=typeof t)return!1;n=t,e&&e.crossOrigin&&(o.crossOrigin=e.crossOrigin)}return n?(o.src=n,o):v.readFile(t,function(t){var e=t.target;e&&e.result?o.src=e.result:i&&i(t)})},e=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;if(v.createCanvas=function(t,e,i){if(i&&n.OffscreenCanvas)return new OffscreenCanvas(t,e);i=document.createElement("canvas");return i.width=t,i.height=e,i},n.document){var x,i=document.createElement("img");i.onload=function(){var t;v.orientation=2===i.width&&3===i.height,v.orientation&&((t=v.createCanvas(1,1,!0).getContext("2d")).drawImage(i,1,1,1,1,0,0,1,1),v.orientationCropBug="255,255,255,255"!==t.getImageData(0,0,1,1).data.toString())},i.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=",v.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},v.transformCoordinates=function(){},v.getTransformedOptions=function(t){return t},v.renderImageToCanvas=function(t,e,i,n,r,o,a,s,l,d){return t.getContext("2d").drawImage(e,i,n,r,o,a,s,l,d),t},v.hasCanvasOption=function(t){return t.canvas||t.crop},v.scale=function(t,e){e=e||{};m2soft.crownix.Util.browser.ios&&5e6<t.width*t.height&&(e.maxWidth=Math.floor(Math.sqrt(t.width/t.height*5e6)),e.maxHeight=Math.floor(Math.sqrt(t.height/t.width*5e6)));function i(){var t=Math.max((a||w)/w,(s||x)/x);1<t&&(w=Math.ceil(w*t),x=Math.ceil(x*t))}function n(){var t=Math.min((r||w)/w,(o||x)/x);t<1&&(w=Math.ceil(w*t),x=Math.ceil(x*t))}var r,o,a,s,l,d,c,h,u,p=document.createElement("canvas"),f=t.getContext||v.hasCanvasOption(e)&&p.getContext,g=t.naturalWidth||t.width,m=t.naturalHeight||t.height,w=g,x=m;return f&&(c=(e=v.getTransformedOptions(e)).left||0,h=e.top||0,e.sourceWidth?(l=e.sourceWidth,void 0!==e.right&&void 0===e.left&&(c=g-l-e.right)):l=g-c-(e.right||0),e.sourceHeight?(d=e.sourceHeight,void 0!==e.bottom&&void 0===e.top&&(h=m-d-e.bottom)):d=m-h-(e.bottom||0),w=l,x=d),r=e.maxWidth,o=e.maxHeight,a=e.minWidth,s=e.minHeight,f&&r&&o&&e.crop?(u=l/d-(w=r)/(x=o))<0?(d=o*l/r,void 0===e.top&&void 0===e.bottom&&(h=(m-d)/2)):0<u&&(l=r*d/o,void 0===e.left&&void 0===e.right&&(c=(g-l)/2)):((e.contain||e.cover)&&(a=r=r||a,s=o=o||s),e.cover?(n(),i()):(i(),n())),f?(p.width=w,p.height=x,v.transformCoordinates(p,e),v.renderImageToCanvas(p,t,c,h,l,d,0,0,w,x)):(t.width=w,t.height=x,t)},v.createObjectURL=function(t){return!!e&&e.createObjectURL(t)},v.revokeObjectURL=function(t){return!!e&&e.revokeObjectURL(t)},v.readFile=function(t,e,i){if(window.FileReader){var n=new FileReader;if(n.onload=n.onerror=e,n[i=i||"readAsDataURL"])return n[i](t),n}return!1},window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)&&(x=v.renderImageToCanvas,v.detectSubsampling=function(t){var e;return 1048576<t.width*t.height&&((e=document.createElement("canvas")).width=e.height=1,(e=e.getContext("2d")).drawImage(t,1-t.width,0),0===e.getImageData(0,0,1,1).data[3])},v.detectVerticalSquash=function(t,e){var i,n,r,o,a=t.naturalHeight||t.height,s=document.createElement("canvas"),l=s.getContext("2d");for(e&&(a/=2),s.width=1,s.height=a,l.drawImage(t,0,0),i=l.getImageData(0,0,1,a).data,n=0,o=r=a;n<o;)0===i[4*(o-1)+3]?r=o:n=o,o=r+n>>1;return o/a||1},v.renderImageToCanvas=function(t,e,i,n,r,o,a,s,l,d){if("image/jpeg"===e._type){var c,h,u,p,f=t.getContext("2d"),g=document.createElement("canvas"),m=1024,w=g.getContext("2d");if(g.width=m,g.height=m,f.save(),(c=v.detectSubsampling(e))&&(i/=2,n/=2,r/=2,o/=2),h=v.detectVerticalSquash(e,c),c||1!==h){for(n*=h,l=Math.ceil(m*l/r),d=Math.ceil(m*d/o/h),p=s=0;p<o;){for(u=a=0;u<r;)w.clearRect(0,0,m,m),w.drawImage(e,i,n,r,o,-u,-p,r,o),f.drawImage(g,0,0,m,m,a,s,l,d),u+=m,a+=l;p+=m,s+=d}return f.restore(),t}}return x(t,e,i,n,r,o,a,s,l,d)});var r=v.hasCanvasOption;v.hasCanvasOption=function(t){return r(t)||t.orientation},v.transformCoordinates=function(t,e){var i=t.getContext("2d"),n=t.width,r=t.height,e=e.orientation;if(e)switch(4<e&&(t.width=r,t.height=n),e){case 2:i.translate(n,0),i.scale(-1,1);break;case 3:i.translate(n,r),i.rotate(Math.PI);break;case 4:i.translate(0,r),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-r);break;case 7:i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-n,0)}},v.getTransformedOptions=function(t){if(!t.orientation||1===t.orientation)return t;var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);switch(t.orientation){case 2:i.left=t.right,i.right=t.left;break;case 3:i.left=t.right,i.top=t.bottom,i.right=t.left,i.bottom=t.top;break;case 4:i.top=t.bottom,i.bottom=t.top;break;case 5:i.left=t.top,i.top=t.left,i.right=t.bottom,i.bottom=t.right;break;case 6:i.left=t.top,i.top=t.right,i.right=t.bottom,i.bottom=t.left;break;case 7:i.left=t.bottom,i.top=t.right,i.right=t.top,i.bottom=t.left;break;case 8:i.left=t.bottom,i.top=t.left,i.right=t.top,i.bottom=t.right}return 4<t.orientation&&(i.maxWidth=t.maxHeight,i.maxHeight=t.maxWidth,i.minWidth=t.minHeight,i.minHeight=t.minWidth,i.sourceWidth=t.sourceHeight,i.sourceHeight=t.sourceWidth),i};var o,t,a,s=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);for(a in v.blobSlice=s&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},v.metaDataParsers={jpeg:{65505:[]}},v.parseMetaData=function(t,d,c){var h=this,e=(c=c||{}).maxMetaDataSize||262144,u={};!!(window.DataView&&t&&12<=t.size&&"image/jpeg"===t.type&&v.blobSlice)&&v.readFile(v.blobSlice.call(t,0,e),function(t){var e,i,n,r,t=t.target.result,o=new DataView(t),a=2,s=o.byteLength-4,l=a;if(65496===o.getUint16(0)){for(;a<s&&(65504<=(e=o.getUint16(a))&&e<=65519||65534===e);){if(a+(i=o.getUint16(a+2)+2)>o.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(n=v.metaDataParsers.jpeg[e])for(r=0;r<n.length;r+=1)n[r].call(h,o,a,i,u,c);l=a+=i}!c.disableImageHead&&6<l&&(t.slice?u.imageHead=t.slice(0,l):u.imageHead=new Uint8Array(t).subarray(0,l))}else console.log("Invalid JPEG file: Missing JPEG marker.");d(u)},"readAsArrayBuffer")||d(u)},v.ExifMap=function(){return this},v.ExifMap.prototype.map={Orientation:274},v.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},v.getExifThumbnail=function(t,e,i){var n,r,o;if(i&&!(e+i>t.byteLength)){for(n=[],r=0;r<i;r+=1)o=t.getUint8(e+r),n.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+n.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},v.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,i){return t.getUint16(e,i)},size:2},4:{getValue:function(t,e,i){return t.getUint32(e,i)},size:4},5:{getValue:function(t,e,i){return t.getUint32(e,i)/t.getUint32(e+4,i)},size:8},9:{getValue:function(t,e,i){return t.getInt32(e,i)},size:4},10:{getValue:function(t,e,i){return t.getInt32(e,i)/t.getInt32(e+4,i)},size:8}},v.exifTagTypes[7]=v.exifTagTypes[1],v.getExifValue=function(t,e,i,n,r,o){var a,s,l,d,c,h=v.exifTagTypes[n];if(h){if(!((a=4<(n=h.size*r)?e+t.getUint32(i+8,o):i+8)+n>t.byteLength)){if(1===r)return h.getValue(t,a,o);for(s=[],l=0;l<r;l+=1)s[l]=h.getValue(t,a+l*h.size,o);if(h.ascii){for(d="",l=0;l<s.length&&"\0"!==(c=s[l]);l+=1)d+=c;return d}return s}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},v.parseExifTag=function(t,e,i,n,r){var o=t.getUint16(i,n);r.exif[o]=v.getExifValue(t,e,i,t.getUint16(i+2,n),t.getUint32(i+4,n),n)},v.parseExifTags=function(t,e,i,n,r){var o,a,s;if(i+6>t.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=i+2+12*(o=t.getUint16(i,n)))+4>t.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(t,e,i+2+12*s,n,r);return t.getUint32(a,n)}console.log("Invalid Exif data: Invalid directory size.")}},v.parseExifData=function(t,e,i,n,r){if(!r.disableExif){var o,a,s=e+10;if(1165519206===t.getUint32(e+4))if(s+8>t.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(e+8)){switch(t.getUint16(s)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(s+2,o)?(a=t.getUint32(s+4,o),n.exif=new v.ExifMap,(a=v.parseExifTags(t,s,s+a,o,n))&&!r.disableExifThumbnail&&(e={exif:{}},v.parseExifTags(t,s,s+a,o,e),e.exif[513]&&(n.exif.Thumbnail=v.getExifThumbnail(t,s+e.exif[513],e.exif[514]))),n.exif[34665]&&!r.disableExifSub&&v.parseExifTags(t,s,s+n.exif[34665],o,n),n.exif[34853]&&!r.disableExifGps&&v.parseExifTags(t,s,s+n.exif[34853],o,n)):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},v.metaDataParsers.jpeg[65505].push(v.parseExifData),v.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},v.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},v.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},o=v.ExifMap.prototype.tags,t=v.ExifMap.prototype.map,o)o.hasOwnProperty(a)&&(t[o[a]]=a);return v.ExifMap.prototype.getAll=function(){var t,e,i={};for(t in this)this.hasOwnProperty(t)&&(e=o[t])&&(i[e]=this.getText(e));return i},v}}(this),m2soft.ns("m2soft.crownix.PageSwiper"),m2soft.crownix.PageSwiper=m2soft.crownix.util.SingleTone(function(i,n){var t=Math.min(i.width()/10,m2soft.crownix.util.Unit.inToPx(1)),r=1.6*t;transX=0;function o(t,e,i,n,r){t.css({transition:r?"all "+r+"ms ease-in":"none",transform:["translateX(",e,"px) translateY(",i,"px) scale(",n,")"].join("")})}function e(t){setTimeout(function(){n.viewer.movePage(n.isGroupReport?n.mrdGroupManager.getRelativePageNumber(t):t)},200)}var a=$(m2soft.crownix.resource.Icon.PREV_PAGE).attr("id","crownix-swipe-icon-prev").attr("class","crownix-swipe-icon").css({left:0,width:t+"px","margin-left":1.2*-t+"px"}).appendTo(i),s=$(m2soft.crownix.resource.Icon.NEXT_PAGE).attr("id","crownix-swipe-icon-next").attr("class","crownix-swipe-icon").css({right:0,width:t+"px","margin-right":1.2*-t+"px"}).appendTo(i);this.pullOut=function(t){var e;!n.options.swipe.useOnZoom&&n.scroll.hasHorizontalScroll||(e=2,1<=n.options.swipe.sensitivity&&n.options.swipe.sensitivity<=3&&(e=n.options.swipe.sensitivity),0==t.deltaX?transX=this.distX*e/3:t.newX<0?transX=-(i.width()-(this.scrollerWidth+t.newX))*e:0<t.newX&&(transX=t.newX*e),0<transX&&1==n.currentPage||transX<0&&n.currentPage==n.totalPage||(0<transX?(a.show(),s.hide()):(s.show(),a.hide()),o(0<transX?a:s,0<transX?Math.min(transX,r):Math.max(transX,-r),0,Math.abs(transX)>r?1.4:1,0)))},this.pullEnd=function(){transX>r&&1<n.currentPage?(o(a,1.6*r,0,3,200),a.fadeOut(200),e(n.currentPage-1)):transX<-r&&n.currentPage<n.totalPage?(o(s,1.6*-r,0,3,200),s.fadeOut(200),e(n.currentPage+1)):(o(a,0,0,1,200),o(s,0,0,1,200)),transX=0},this.cancel=function(){0<transX?a.fadeOut(200):transX<0&&s.fadeOut(200),transX=0}}),m2soft.ns("m2soft.crownix.Report"),m2soft.crownix.Report=function(t,e){function i(){this.title="",this.mrd="",this.mrdpath="",this.mrdparam="",this.dataServerURL="",this.fontList=new d,this.faceAttrList={},this.textAttrList={},this.lineAttrList={},this.boxAttrList={},this.firstPage=9007199254740992,this.lastPage=-1,this.page={},this.pageInfo={},this.formFieldMode=void 0,this.dataServerURL="",this.variableList={},this.inqueryAttrList={},this.indexedImageList={},this.pginit=!1,this.initNextPage=[],this.preventSave=!1,this.headXML="",this.appendMmlIndex=E,x.isGroupReport&&(this.mrdGroupId=x.mrdGroupManager.getCurrentMrdGroup().id)}var r,h,n,o,a=m2soft.crownix.Resource,s=m2soft.crownix.Util,l=m2soft.crownix.Message,d=m2soft.crownix.Map,c=m2soft.crownix.Painter,u=m2soft.crownix.Report,p=m2soft.crownix.WorkerUtil,f=m2soft.crownix.MMLTokenizer,g=m2soft.crownix.NoteManager,m=m2soft.crownix.ChannelManager,w=s.isSupportSVG(),x=t,v=e,b=0,y={},C=this,k=-1,S=1,T=0,I=!1,M="",A="",F=[],E=-1,P=[],D={},O={},_=0,N=!0,L=this;i.prototype.insertHead=function(t,e){x.stateLess?this.headXML=[t,e]:this.headXML=n.substring(t,e)},i.prototype.insertPage=function(t,e,i,n){t<this.firstPage&&(this.firstPage=t),t>this.lastPage&&(this.lastPage=t),x.stateLess?this.page[t]=[e,i]:this.page[t]=n};function R(t){var e=t.tagName;switch(t.state){case"open":D[e]&&D[e](t.xml);break;case"close":"page"===e?O[e]&&O[e](t.pageNum,t.pageOpenOffset,t.findOffset,t.xml):"head"===e?O[e]&&O[e](t.xml,t.headOpenOffset,t.findOffset):O[e]&&O[e](t.xml)}}function B(){var t=0;return x.editor&&(t+=x.editor.getAddedPages().length),x.scanPage&&(t+=x.scanPage.getAddedPages().length),t}function j(){p.isAvailable()?(r&&r.terminate&&r.terminate(),(r=p.makeLocalWorker(f)).addEventListener("message",function(t){var e=t.data.method;e&&"finalize"===e?(C.onLoad&&C.onLoad(t.data.isValid,E),r.terminate()):R(t.data)})):r=f.call({addEventListener:function(){},postMessage:R}),D.mml=function(t){u.debug&&l.log("[Tokenizer] mmlOpen : ",t);t=2.4<=(b=parseFloat(/<MML version="([^"]*)">/.exec(t)[1]))?"document":"head";O.license=function(t){x.license.init($(t).text()),!0===(x.license.isAllowedFeature("Note")&&x.options.enableNote)&&(w?x.noteManager=x.noteManager||new g(v,x):x.dialog.show(a.get("unsupported_note_error")))},D[t]=function(t){u.debug&&l.log("[Tokenizer] documentOpen : ",t);var e=/<DOCUMENT index="([^"]*)">/;t&&e.test(t)&&(_=parseInt(e.exec(t)[1]));var s=y[++_];O.head=function(t,e,i){u.debug&&l.log("[Tokenizer] headClose"),!s&&t&&((s=L.parseHead(t)).insertHead(e,i),y[_]=s),2.4<=b&&!x.isAppendReport&&""!=s.dataServerURL&&0<Object.keys(s.inqueryAttrList).length?(x.inquery.setData(x.options.inquiryURL||s.dataServerURL,s.variableList,s.inqueryAttrList,x.openFile,x.mrdPath,x.mrdParam,s.formFieldMode,x.options,x.license,x.encType),x.toolbar.isEnableItem("inquery")||x.toolbar.enableToolbarItem(["inquery"])):x.toolbar.isEnableItem("inquery")&&x.toolbar.disableToolbarItem(["inquery"])},O.page=function(t,e,i,n){if(u.debug&&l.log("[Tokenizer] pageClose"),x.stateLess){if(h=++x.totalPage+P.length,s.page[x.totalPage+P.length])return;t=x.totalPage+P.length-B(),s.insertPage(t,e,i)}else{if(!t||s.page[t])return;s.insertPage(t,e,i,n),0==x.totalPage&&(h=x.totalPage=1)}var r,o,a=L.getParsedPage(t-(x.options.scrollOptions.useInfiniteScroll?0:P.length));if(s.pageInfo[t]={width:a.attr("wd"),height:a.attr("ht")},"1"!==a.attr("pb")||x.isAppendReport||s.initNextPage.push(t),x.license.isAllowedFeature("FormField")&&s.formFieldMode)try{x.formManager.buildFormField(a,t,{allowDuplicate:x.options.formField.allowDuplicate,appendIndex:E,mrdGroupId:x.isGroupReport?x.mrdGroupManager.getCurrentMrdGroup().id:void 0})}catch(t){return l.log(t.stack),x.dialog.show(t.message),x.client&&x.client.abort(),x.toolbar.disableAllItems(),$("#m2soft-crownix-page").remove(),void(x.preventSubmit=!0)}x.layerManager.buildLayer(a,t),x.drilldownManager.buildDrilldown(t,a),x.options.scrollOptions.useInfiniteScroll?(n=s.pageInfo[t],1===t?(l.progress.hide(v),x.documentScroller.insertPageFrame(t,n.width/10.3,n.height/10.3),x.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","pageNumber","storage"])):x.stateLess&&x.documentScroller.insertPageFrame(t,n.width/10.3,n.height/10.3),x.useWebFont&&(r=x.fontLoader.getFontList(_).length,(o=x.fontLoader.isFinished(_,r))?x.fontLoader.hideMessage():(x.fontLoader.firstPageFontCount=r,x.fontLoader.onFirstPageDraw=x.documentScroller.drawVisiblePages.bind(null,!0))),x.dialog.pagenum(x.currentPage,x.totalPage,!0)):(0===x.currentPage&&(x.useWebFont?(r=x.fontLoader.getFontList(_).length,!0===(o=x.fontLoader.isFinished(_,r))&&x.fontLoader.hideMessage(),l.progress.hide(v),N&&x.movePage(1),x.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","pageNumber","storage"]),!1===o&&(x.fontLoader.firstPageFontCount=r,x.fontLoader.onFirstPageDraw=x.redrawPage)):(l.progress.hide(v),N&&x.movePage(1),x.toolbar.enableToolbarItem(["zoomin","zoomout","ratio","move","pageNumber","storage"]))),x.dialog.pagenum(x.currentPage,x.totalPage,!0),c.updatePageNum&&c.updatePageNum())},O.mmlfooter=function(t){u.debug&&l.log("[Tokenizer] mmlFooterClose : "+t),V(t)},O.err=function(t){J(t)},O.document=function(){s=null}},O.mml=function(){_=-1,m.getChannel("report:onCloseMml").publish(E)}}}j();function H(e){return P.forEach(function(t){t<=e&&e++}),e}function z(t){for(var e in t=x.options.scrollOptions.useInfiniteScroll?t:H(t),y)if(y[e].page[t])return y[e].page[t];return null}function q(t){if(x.isGroupReport)return x.mrdGroupManager.setPageToolbarItems(x.currentPage,x.toolbar);1==x.totalPage?x.toolbar.disableToolbarItem(["next","last","move"]):1==t?(x.toolbar.disableToolbarItem(["first","prev"]),x.toolbar.enableToolbarItem(["next","last"])):t==x.totalPage?(x.toolbar.disableToolbarItem(["next","last"]),x.toolbar.enableToolbarItem(["first","prev"])):x.toolbar.enableToolbarItem(["first","prev","next","last"])}function G(t,e){var i=[],n=Object.keys(e.page).map(Number).sort(function(t,e){return t-e});(e=e.initNextPage.map(Array.prototype.indexOf,n).reduce(function(t,e){return i.push(n.slice(t,e+1)),e+1},0))<=n.length-1&&i.push(n.slice(e,n.length));for(var r=0;r<i.length;r++){var o=i[r];if(-1<o.indexOf(t))return{currentPage:o.indexOf(t)+1,totalPage:o.length}}}function U(t,e,i){try{var n;void 0!==e&&j(),p.isAvailable()?r.postMessage({mml:t,pageNum:e,method:i}):(n=r.parse(t,e),C.onLoad&&C.onLoad(n,E))}catch(t){throw l.log(t.stack),new Error(a.get("parsing_error_mml"))}}function W(t){x.mrdGroupManager.getCurrentMrdGroup().setMML(t)}var V=function(t){t=$($.parseXML(t)).find("MMLFOOTER");$(t).each(function(){var t,e;"MMLFOOTER"===this.tagName&&((t=$(this)).children("REPORTINFO").each(function(){M=M?M+"@@"+t.attr("subreportname"):t.attr("subreportname")}),x.options.useTableOfContents&&(0===(e=t.children("TC")).length?x.dialog.show(a.get("no_table_of_contents")):(e=JSON.parse(e.text()),x.isGroupReport&&x.mrdGroupManager.getCurrentMrdGroup().setTree(e.tree),o?x.isGroupReport?x.tableOfContents.makeDom(e.tree,!0):x.tableOfContents.append(e.tree,E):(o=e,x.tableOfContents.makeDom(o.tree)))),x.dataManager.build(t.children("MDLIST")))})},J=function(t){t=$($.parseXML(t)).find("ERR");$(t).each(function(){"ERR"===this.tagName&&(A=$(this).attr("msg"))})};this.onLoad=null,this.parseHead=function(t){var o=new i,t="string"==typeof t?$($.parseXML(t)).find("HEAD").children():t;return $(t).each(function(){var t,e,i,n,r=this.tagName;"INFORMATION"===r?($(this).children("TITLE").each(function(){o.title=$(this).text()}),$(this).children("MRD").each(function(){o.mrd=$(this).text()}),$(this).children("MRDPATH").each(function(){o.mrdpath=$(this).text()}),$(this).children("MRDPARAM").each(function(){o.mrdparam=$(this).text()}),$(this).children("PGINFO").each(function(){-1==k&&(k=parseInt($(this).attr("cover"))),$(this).attr("startnum")&&(S=x.startPageNo=parseInt($(this).attr("startnum"))),"1"===$(this).attr("pginit")&&(I=!0,o.pginit=!0),T=parseInt($(this).attr("exceptpg"))||0}),2.9<=b&&(i=$(this).children("MRDINFO"),o.preventSave="1"===i.attr("rst"))):"TITLE"===r?o.title=$(this).text():"MRD"===r?o.mrd=$(this).text():"FONTLIST"===r?(x.useWebFont&&1===_&&x.fontLoader.showMessage(),$(this).children().each(function(){o.fontList.put($(this).attr("id"),$(this).attr("name")),x.useWebFont&&x.fontLoader.load(Number(_).toString(),$(this).attr("name"))})):"TALIST"===r?$(this).children().each(function(){o.textAttrList[$(this).attr("id")]={fi:$(this).attr("fi"),pt:$(this).attr("pt"),cl:$(this).attr("cl"),cb:$(this).attr("cb"),ci:$(this).attr("ci"),cu:$(this).attr("cu"),cs:$(this).attr("cs"),cr:$(this).attr("cr"),sc:$(this).attr("sc"),ls:$(this).attr("ls"),ss:$(this).attr("ss"),es:$(this).attr("es")}}):"FALIST"===r?$(this).children().each(function(){o.faceAttrList[$(this).attr("id")]={fc:$(this).attr("fc")||"#FFFFFF",al:$(this).attr("al")||1,pt:$(this).attr("pt")||0}}):"LALIST"===r?$(this).children().each(function(){o.lineAttrList[$(this).attr("id")]={st:$(this).attr("st")||0,wd:c.adjustWidth($(this).attr("wd")),lc:$(this).attr("lc")||"#000000",al:$(this).attr("al")||1,ap:$(this).attr("ap")||0,at:$(this).attr("at")||0,as:$(this).attr("as")||1,db:$(this).attr("db")||0}}):"DSURL"===r?o.dataServerURL=$(this).text():"VALIST"===r?$(this).children().each(function(){o.variableList[$(this).attr("key")]=$(this).text()}):"IQLIST"===r?(t=$(this).attr("an"),$(this).children().each(function(){var e=$(this).attr("va");o.inqueryAttrList[e]={id:$(this).attr("va"),va:$(this).attr("va"),ty:$(this).attr("ty")||"co",ca:$(this).attr("ca")||"",rq:$(this).attr("rq")||0,il:$(this).attr("il")||0,db:$(this).attr("db")||0,ds:$(this).attr("ds"),qr:$(this).attr("qr"),sp:$(this).attr("sp"),pv:$(this).attr("pv"),sd:$(this).attr("sd"),ad:$(this).attr("ad"),se:$(this).attr("se")||"@",sc:$(this).attr("sc"),ac:$(this).attr("ac"),cl:$(this).attr("cl")||a.language||"korean",mu:$(this).attr("mu"),pa:new Array,an:t},$(this).children("IQSP_PALIST").each(function(){var t=0;$(this).children().each(function(){o.inqueryAttrList[e].pa[t]=$(this).attr("va"),t++})})})):"IMLIST"===r?$(this).children().each(function(){var t=$(this),e=o.indexedImageList[t.attr("id")]=new Image;e.onload=e.onerror=e.onabort=function(){this.finished=!0},e.src=t.attr("va"),u.debug&&l.log("[indexed image] "+t.attr("id")+" : "+t.attr("va"))}):"FLLIST"===r?$(this).children().each(function(){x.layerManager.createLayer($(this))}):"HLCOLOR"===r&&(e=['<style class="crownix-hyperlink-style" type="text/css">'],i="1"===(n=$(this).attr("hu"))||"2"===n?"text-decoration: none;":"",n="2"===n?"text-decoration: underline;":"",e.push("#m2soft-crownix-text a:link { color:"+$(this).attr("lc")+"; "+i+"}"),e.push("#m2soft-crownix-text a:visited { color:"+$(this).attr("vc")+";}"),e.push("#m2soft-crownix-text a:hover { color:"+$(this).attr("hc")+"; "+n+"}"),e.push("</style>"),$(e.join("\n")).appendTo("head"),x.linkManager.setHyperlinkColor({visited:$(this).attr("vc")||"#551A8B",unvisited:$(this).attr("lc")||"#0000EE",hover:$(this).attr("hc")})),b<=2.1?"FORMMODE"===r&&(x.isFormEditMode=!0,o.formFieldMode="1"===$(this).text(),x.license.isAllowedFeature("Note")&&x.options.enableNote&&w&&x.license.isAllowedFeature("FormField")&&o.formFieldMode&&x.noteManager.setFormFieldMode(!0)):2.4<=b&&("FF_ALIST"===r||"FF_A"===r?("FF_ALIST"===r?$(this).children("FF_A"):$(this)).each(function(){var t=$(this),e={id:t.attr("id"),commonFieldHintingType:t.attr("sh"),commonFieldHintingColor:t.attr("hc"),commonFieldHintingDisplayType:t.attr("hct"),requiredFieldHintingColor:t.attr("rhc"),formLoadComplete:t.attr("elc")},i=t.find("SQ");if(0<i.length&&(e.sqList=[],i.each(function(){var t=$(this).text();e.sqList.push(t)})),void 0===o.formFieldMode&&(o.formFieldMode=x.isFormEditMode||"1"===t.attr("fm")),void 0===x.isFormEditMode&&(x.isFormEditMode=o.formFieldMode),x.isFormExportMode="1"===t.attr("fe"),x.license.isAllowedFeature("FormField")&&o.formFieldMode)try{x.formManager.addFormAttr(e)}catch(t){return l.log(t.stack),x.dialog.show(t.message),x.client&&x.client.abort(),void initialize()}!0===(x.license.isAllowedFeature("Note")&&x.options.enableNote)&&w&&x.license.isAllowedFeature("FormField")&&o.formFieldMode&&x.noteManager.setFormFieldMode(!0)}):"TTS"===r&&(x.ttsManager||(x.ttsManager=new m2soft.crownix.TTSManager(x,$(this).attr("md"))))),2.7<=b&&"BALIST"===r&&$(this).children().each(function(){var t=$(this);o.boxAttrList[t.attr("id")]={td:t.attr("td")||"0",va:t.attr("va")||"0",ha:t.attr("ha")||"0",ml:parseInt(t.attr("ml")||"0"),mt:parseInt(t.attr("mt")||"0"),mr:parseInt(t.attr("mr")||"0"),mb:parseInt(t.attr("mb")||"0"),ls:parseInt(t.attr("ls")||"0"),it:parseInt(t.attr("it")||"0"),ln:parseInt(t.attr("ln")||"4"),ep:t.attr("ep")||"0"}})}),u.debug&&(l.log("[HEAD TITLE]"+o.title),l.log("[HEAD MRD]"+o.mrd),l.log("[HEAD DATASERVERURL]"+o.dataServerURL),l.log("[HEAD FONTLIST]\n"+o.fontList.toString()),l.log("[HEAD VALIST]\n"+JSON.stringify(o.variableList)),l.log("[HEAD IQLIST]\n"+decodeURIComponent($.param(o.inqueryAttrList)))),o},this.toData=function(){return{id:this.id,value:this.value,type:this.type}},this.getMmlVersion=function(){return b},this.getDocumentList=function(){return y},this.getPage=function(t){var e=z(t);if(null==e)return null;t=function(t){for(var e in t=x.options.scrollOptions.useInfiniteScroll?t:H(t),y)if(y[e].page[t])return y[e].appendMmlIndex}(t),t=-1<t?F[t]:n;return x.stateLess?t.slice(e[0],e[1]):e},this.getParsedPage=function(t){t=this.getPage(t);return null==t?null:2<=s.jquery.major&&2<=s.jquery.minor?$($.parseXML(t)).find("PG"):$(t)},this.getHeadForPage=function(t){for(var e in t=x.options.scrollOptions.useInfiniteScroll?t:H(t),y)if(y[e].page[t])return y[e];return null},this.hasPage=function(t){return null!=z(t)},this.getCoverPage=function(){return k},this.getDocumentIndex=function(e){for(var t in y){var i=y[t];if(Object.keys(i.page).some(function(t){return t==e}))return t}},this.getPageInfo=function(t,e){var i={};if(x.stateLess&&I&&"1"===e){var n=0,r=0,o=!1,a=!1,s=null;for(c in y){var l,d=y[c];if(o&&d.pginit)break;for(l in d.pginit&&(n=d.firstPage-1,r=0),d.page)r++,t==l&&(o=!0,s=d,0==c&&(a=!0))}i=a?s&&0<s.initNextPage.length?{currentPage:(i=G(t,s)).currentPage-k+(S-1),totalPage:i.totalPage-k+(S-1)}:{currentPage:t-k+(S-1),totalPage:r-k+(S-1)}:s&&0<s.initNextPage.length?G(t,s):{currentPage:t-n,totalPage:r}}else var c=this.getDocumentIndex(t),s=y[c],i=x.stateLess&&"1"==e&&s&&0<s.initNextPage.length?0==c?{currentPage:(i=G(t,s)).currentPage-k+(S-1),totalPage:i.totalPage-k+(S-1)}:G(t,s):{currentPage:t-k+(S-1),totalPage:h-k-T+(S-1)};return i},this.getSubReportName=function(){return M},this.getDocErrMsg=function(){return A},this.parseMML=function(t,e,i){n=t,e=H(e),U(t,e,i),x.isGroupReport&&W(t)},this.appendMML=function(t,e,i){_=Object.keys(y).length,F[++E]=t,e=H(e),U(t,e,i),x.isGroupReport&&W(t)},this.removeAppendedMML=function(t){F.splice(t,1),E=F.length-1},this.getAppendedMML=function(){return F},this.removeLatestReport=function(){return{documentList:function(){if(!(E<0)){var t,e,i,n,r=x.totalPage-B(),o=x.totalPage-B(),a=[];for(t in y)y[t].appendMmlIndex===E&&(i=(e=y[t]).firstPage,n=e.lastPage,r=Math.min(r,i),o=Math.max(o,n),a.push(e),delete y[t]);return x.totalPage=r+B()-1,x.options.scrollOptions.useInfiniteScroll&&x.documentScroller.removeReport(r,o),a}}(),mml:function(){if(!(E<0))return F.splice(E--,1)}()}},this.getTotalPage=function(){return h},this.setTotalPage=function(t){h=x.totalPage=t},this.findPage=H,this.removePage=function(t){if(t){for(var e,i,n=!1,r=0,o=t.length;r<o;r++)i=t[r],x.isGroupReport&&(i=(e=x.mrdGroupManager.getCurrentMrdGroup()).startPage-e.pageShifts+i-1,t[r]=i),-1==P.indexOf(i)&&0<i&&i<=h&&(P.push(i),x.noteManager&&x.noteManager.removeNote(i),x.formManager&&x.formManager.ignoreField(i,!0),x.dataManager&&x.dataManager.ignoreData(i,!0),x.totalPage--,n=!0);n&&(x.isGroupReport&&x.mrdGroupManager.onPageHide(t),P.sort(s.ASCENDING_COMPARATOR),x.options.scrollOptions.useInfiniteScroll?x.documentScroller.removePage(Array.prototype.slice.call(t)):(x.currentPage>x.totalPage?x.viewer.moveLastPage():x.isGroupReport?x.currentPage>=e.startPage+e.totalPage?x.viewer.moveLastPage():(x.currentPage=x.mrdGroupManager.getCurrentMrdGroup().currentPage,x.dialog.pagenum(x.currentPage,x.totalPage),x.redrawPage()):(x.currentPage=this.getDestPageNum(x.currentPage),x.dialog.pagenum(x.currentPage,x.totalPage),x.redrawPage()),q(x.currentPage)),x.options.showThumbnail&&x.stateLess&&x.thumbnail.create(),x.tableOfContents&&x.stateLess&&x.tableOfContents.onRemovePage(P))}},this.restorePage=function(t){for(var e,i,n=0,r=t.length;n<r;n++)i=t[n],x.isGroupReport&&(currentMrdGroup=x.mrdGroupManager.getCurrentMrdGroup(),i=currentMrdGroup.startPage-currentMrdGroup.pageShifts+i-1,t[n]=i),-1!=(e=P.indexOf(i))&&(H(x.currentPage)>i&&x.currentPage++,P.splice(e,1),x.noteManager&&x.noteManager.restoreNote(i),x.formManager&&x.formManager.ignoreField(i,!1),x.dataManager&&x.dataManager.ignoreData(i,!1),x.totalPage++);x.isGroupReport&&x.mrdGroupManager.onPageShow(t),x.options.showThumbnail&&x.stateLess&&x.thumbnail.create(),x.options.scrollOptions.useInfiniteScroll?x.documentScroller.restorePage(Array.prototype.slice.call(t)):(x.dialog.pagenum(x.currentPage,x.totalPage),q(x.currentPage)),x.tableOfContents&&x.stateLess&&x.tableOfContents.onRestorePage(t),x.redrawPage()},this.getRemovedPage=function(){return P},this.isRemovedPage=function(t){return-1!=P.indexOf(t)},this.getMaxRatioPage=function(){var t,e,i=0;for(e in y){var n,r=y[e].pageInfo;for(n in r){var o=r[n],a=o.width/o.height;i<a&&(i=a,t=o)}}return t},this.getDestPageNum=function(e){var t=P.filter(function(t){return t<e});return e-t.length},this.getPaintCount=function(t){var n=1;return $(this.getPage(t)).children().each(function(t,e){var i=e.tagName.toLowerCase();"cl"!==i&&"ly"!==i||(e=$(e).attr("id"),x.layerManager.getLayer(e).visible&&n++)}),x.drilldownManager&&(n+=x.drilldownManager.getOpenedDrilldownCount(t)),n},this.isLoadTotalPage=function(){for(var t=1;t<=x.totalPage;t++)if(null==z(t))return!1;return!0},this.setIsDrawFirstPage=function(t){N=t},this.isPreventSave=function(){return y[1].preventSave},this.releaseWorker=function(){r&&r.terminate&&r.terminate()}},m2soft.ns("m2soft.crownix.DrilldownManager"),m2soft.crownix.DrilldownManager=function(t,e,d){var a,i,w=m2soft.crownix.Painter,c=m2soft.crownix.Resource,x=m2soft.crownix.Util,l=m2soft.crownix.Util.Promise.DeferChain,n=m2soft.crownix.ChannelManager,r=m2soft.crownix.GuideManager,o=m2soft.crownix.Constant,y=t,v=(y.openFile,y.viewer.movePage),b=e,C={},g=null,k=null,S=null,m=null,T=null,I=0,s=0,p=0,h=0,u=!1,f=!1,M=!1;this.toggle=function(t){if(!u){var e=J.getDrillObject(t);if(!e)return $.Deferred().reject();function i(){return l.push(H)}function n(){return $.Deferred().reject()}return y.shareManager&&y.shareManager.isConnected()&&y.shareManager.startSync(),y.canvasManager.restore(),(e.isOpend?z:E)(t).done(i).fail(n),$.Deferred().resolve()}y.dialog.show(c.get("image_export_disabled_before_done"))},this.open=function(t,e){if(!u)return this.isOpened(t)?(new $.Deferred).resolve():(y.shareManager&&y.shareManager.isConnected()&&y.shareManager.startSync(),y.canvasManager.restore(),E(t,e),l.push(H));y.dialog.show(c.get("image_export_disabled_before_done"))},this.close=function(t){if(!u)return this.isOpened(t)?(y.shareManager&&y.shareManager.isConnected()&&y.shareManager.startSync(),z(t),l.push(H)):(new $.Deferred).resolve();y.dialog.show(c.get("image_export_disabled_before_done"))},this.reload=function(t){if(u)y.dialog.show(c.get("image_export_disabled_before_done"));else{if(W(t)){for(var e in void 0===a&&y.options.showDrilldownMsg&&(a=y.dialog.message(c.get("image_export_disabled_before_done"))),C){e=C[e];e.pagenum==t&&(e.position.offsetX=0,e.position.offsetY=0)}var i=J.getOpenedObjectID(t),i=$.map(C,function(t,e){if(I==t.pagenum&&t.isOpend&&1==t.depth)return e}).sort(function(t,e){return C[t].direction===C[e].direction?J.comparePosition(C[t],C[e])?-1:1:0}).reverse();return y.shareManager&&y.shareManager.isConnected()&&y.shareManager.startSync(),setTimeout(function(){E(i,void 0,!0),l.push(H)},0),l.timingDefer}l.push(H)}},this.getDrilldownInfo=function(t){t=J.getDrillObject(t);return{mrdPath:t.mrdPath,mrdParam:t.mrdParam,isOpened:t.isOpend,isLoaded:t.isLoaded}},this.updateInfo=function(t,e,i,n,r,o){t&&(I=t),g=i,k=n,S=o,m=r,T=e,J.updateDrilldownList(t,T)},this.buildDrilldown=function(t,e){J.updateDrilldownList(t,e)},this.export=function(){var t,e={};for(t in C){var i=C[t];e[t]=U.serialize(i)}return e},this.import=function(i,t){if(i){var e,n={},r=[];for(o in i)r.push(o);for(e in r=r.sort(function(t,e){t=JSON.parse(i[t]),e=JSON.parse(i[e]);return t.depth-e.depth})){var o=r[e],a=i[o],a=n[o]=U.deserialize(a,n);a.isLoaded&&(y.isFormEditMode&&(y.report.parseHead(a.$headMML.children()),y.formManager.buildFormField(a.$pageMML,a.pagenum,{allowDuplicate:!0,drilldownId:a.id})),a.$footerMML&&y.dataManager.build(a.$footerMML.children("MDLIST"),o))}C=n;var s=this;t||setTimeout(function(){s.reload(y.currentPage)},0)}},this.toXML=function(){var t,e=[];for(t in C)e.push(t);for(var e=e.sort(function(t,e){return C[t].depth-C[e].depth}),i="<drilldown>",n=0;n<e.length;n++){var r=C[e[n]];r.isOpend&&(i+=U.toXML(r))}return i+="</drilldown>"},this.isOpened=function(t){t=J.getDrillObject(t);return t&&t.isOpend},this.getDrilldownLength=function(){var t,e=0;for(t in C)e++;return e},this.expand=function(i){var t;u?y.dialog.show(c.get("image_export_disabled_before_done")):(0<(t=$.map(C,function(t,e){if(I==t.pagenum&&t.depth>i&&t.isOpend)return e}).sort(function(t,e){return C[t].direction===C[e].direction?J.comparePosition(C[t],C[e])?-1:1:0})).length&&z(t),0<i&&0<(t=$.map(C,function(t,e){if(I==t.pagenum&&(1==t.depth&&!t.isOpend||1!=t.depth&&t.depth<=i&&!t.isOpend&&t.parent.isOpend))return e}).sort(function(t,e){return C[t].direction===C[e].direction?J.comparePosition(C[t],C[e])?-1:1:0}).reverse()).length?E(t,{depth:i}):A())},this.drilldownNext=function(){h<p&&h++,this.expand(h)},this.drilldownPrev=function(){0<h&&h--,this.expand(h)},this.drilldownFinished=function(){A()},this.isOpening=function(){return u},this.stopDrilldown=function(){f=!0},this.isFinished=function(){return M},this.disableForgery=function(){B()},this.rebuildDrilldown=function(t,e){for(var i in C)C[i].pagenum==t&&C[i].$pageMML&&y.formManager.buildFormField(C[i].$pageMML,e.length?t:void 0,{isInitForm:!0,allowFormId:e.length?e:void 0})},this.hasOpenedDrilldown=function(t){return W(t)},this.getOpenedDrilldownCount=function(t){return V(t)},this.addOpenCallback=function(t){i=t};var A=function(){F(),y.toolbar.disableToolbarItem(["cancel"]),u=!1,a&&(a.remove(),a=void 0),f=!1,n.getChannel("viewer:onDrawPage").publish()},F=function(){for(id in h=0,C){var t=C[id];t.isOpend&&t.depth>h&&(h=t.depth)}},E=function(t,i){var n=[];"[object Array]"===Object.prototype.toString.call(t)&&(t=(n=t).pop()),y.toolbar.enableToolbarItem(["cancel"]),M=!(u=!0),void 0===a&&y.options.showDrilldownMsg&&(a=y.dialog.message(c.get("image_export_disabled_before_done")));var r=J.getDrillObject(t);if(!r)return A(),$.Deferred().resolve();if(y.options.scrollOptions.useInfiniteScroll&&((t=r.pagenum)&&(I=t),g=$(y.documentScroller.getPageFrame(t)),k=pageDom_.children("#"+o.TEXT_ID),S=pageDom_.children("#"+o.NOTE_ID),m=pageDom_.children("#"+o.CANVAS_ID),T=$(y.report.getPage(t)),J.updateDrilldownList(t,T)),i=i||{},J.isInTheCurrentPage(r)||"done"==$('.m2soft-crownix-page-frame[no="'+r.pagenum+'"]').attr("loading-state")){if(J.isOverlapped(r))return A(),$.Deferred().reject(c.get("drilldown_not_allowed"));O(r);var e=l.push(function(){return r.isOpend=!0,P(r,i).pipe(function(){B();function t(){r.children.sort(function(t,e){return t.position.originalBottom<e.position.originalBottom?-1:1}).reverse().forEach(function(t){(i.depth&&r.depth<i.depth||t.isOpend)&&n.push(t.id)}),f&&(n=[]),A(),0<n.length&&E(n,i)}var e=D(r,function(t,e,i,n,r,o){N(t,e,i,n,r,o)});return r.isDrillOver?_(r,e.textDom,i.callback,function(){t()}):L(e.pageDom,e.canvasDom,e.textDom,e.documentSize,r,e.withoutClear,i.callback,function(){t()})}).fail(function(t){r.isOpend=!1,y.dialog.show(t),A()})})}else{O(r);e=l.push(function(){return r.isOpend=!0,P(r,i).pipe(function(){if(!r.isLoaded){if(y.isFormEditMode)try{y.report.parseHead(r.$headMML.children()),y.formManager.buildFormField(r.$pageMML,r.pagenum,{allowDuplicate:y.options.formField.allowDuplicate,drilldownId:r.id})}catch(t){return defer.reject(t)}r.isLoaded=!0,A()}}).fail(function(t){r.isOpend=!1,y.dialog.show(t)})})}return l.push(j),y.search.isCreate()&&y.search.refreshMark(),e},P=function(i,t){var n=new $.Deferred;if(i.$pageMML&&!t.mrdPath&&!t.mrdParam)return n.resolve(i),n;var e=t.mrdPath||i.mrdPath,r="",o="";if(/^(?:\/|[a-z]+:\/\/)/.test(e))r=o=e;else{var a=Math.max(y.mrdPath.lastIndexOf("\\"),y.mrdPath.lastIndexOf("/")),a=0<=a?y.mrdPath.substring(0,a+1):"";if(i.parent)for(var s=i.parent;s;)var l=Math.max(s.mrdPath.lastIndexOf("\\"),s.mrdPath.lastIndexOf("/")),o=(0<=l?s.mrdPath.substring(0,l+1):"")+o,s=s.parent;r=a+(o+=e)}e=[t.mrdParam||i.mrdParam," /rhyperlinkkey [",i.id,"]"," /ronepgrpt"];i.isLoaded=!1,t.formRefresh&&y.formManager.removeDrilldownField(i.id),y.isFormEditMode||e.push(" /rformmode [0]"),y.isPdfClientExport&&e.push(" /rpdfclientexport");return i.currentMrdPath=o,i.currentMrdParam=e.join(""),3<i.encType&&(y.options.hyperlinkEnc=i.encType),d(r,i.currentMrdParam,"","",function(){},function(t){if(t&&t.indexOf("</MML>")<0&&t.indexOf("</DOCUMENT>")<0){var e=t.indexOf("[ERS-");return e=0<=e?t.substr(e):c.get("execute_error"),void n.reject(e)}if(t&&0<=t.indexOf("<ERR")&&0<(e=report.getDocErrMsg()).length)return void n.reject(e);t=$($.parseXML(t));i.$pageMML=t.find("PG"),i.$headMML=t.find("HEAD"),i.$footerMML=t.find("MMLFOOTER"),i.boundary=J.getObjectBoundary(i.$pageMML),J.updateDrilldownList(i.pagenum,i.$pageMML,i),n.resolve(i)},700,!0),n},D=function(t,e){for(var i=g,n=m[0],r=k,o=T,a=I,s=o,l=!1,d=t,c=[t];d;){var h=d.getDrillOverAncestor();c.push(h),d=h}for(c.pop();0<c.length;){var u,p,f=c.pop();p=(h=f.getDrillOverAncestor())?(r=(i=$("."+R(h).split(" ")[0],g).first()).find(".crownix-text:first"),n=i.find(".crownix-canvas:first")[0],l=!0,{width:(u=h.getBoundaryWithChildren()).right-u.left+1,height:u.bottom-u.top+1}):(i=g,r=k,n=m[0],l=!1,J.getAdjustPageSize(s,a,h)),e(i,n,r,p,f,l)}return{pageDom:i,canvasDom:n,textDom:r,documentSize:p,withoutClear:l}},O=function(t){if(!t||t.isDrillOver)return $.Deferred().resolve();var e,i,n,r,o=t.divideOffset.isHorizontally,a=[];for(e in C){var s=C[e];s.pagenum==t.pagenum&&s!=t&&!s.isDrillOver&&t.isSiblingOf(s)&&((n=s)&&o!=n.divideOffset.isHorizontally||o==(i=s).divideOffset.isHorizontally&&i.divideOffset.offset()==t.divideOffset.offset())&&a.push(s.id)}for(r in a)z(a[r],!0);return l.timingDefer},_=function(t,e,i,n){var r=t.boundary,o=(r.top,{width:r.right-r.left+1,height:r.bottom-r.top+1}),a=t.$pageMML,s=y.report.parseHead(t.$headMML.children()),l=$.Deferred(),d=$("<div>").addClass("crownix-text").addClass("crownix-text-index").css({height:o.height,width:o.width,position:"absolute"}),c=$("<canvas>").addClass("crownix-canvas").addClass("crownix-canvas-index").attr("height",o.height).attr("width",o.width).css({position:"absolute"}),h=$("<div>").append(c,d).addClass("crownix-drilldown-page").css({top:"-9999999",left:"-9999999",height:o.height,width:o.width,position:"absolute"});if(!t.isLoaded){if(y.isFormEditMode)try{y.formManager.buildFormField(t.$pageMML,t.pagenum,{allowDuplicate:y.options.formField.allowDuplicate,drilldownId:t.id})}catch(t){return l.reject(t)}t.isLoaded=!0}h.appendTo(e);c=new m2soft.crownix.Painter(y,c[0],d,v,b),d={x:-r.left,y:-r.top};return c.setFormFieldMode(s.formFieldMode),c.drawPage(a,s,function(){y.isFormEditMode&&(y.formManager.bindEvent(),y.shareManager&&y.shareManager.isConnected()&&y.shareManager.initFields()),h.addClass(R(t)).css({top:t.position.bottom()+1,left:t.getDrillOverAncestor()?0:r.left}),y.formManager.removePreventEvent(),l.resolve(),i&&i(),n&&n()},"d",d,null,!0),l},N=function(t,e,i,n,r,o){var a=e.getContext("2d"),s=a.getImageData(0,0,e.width,e.height),l=y.scroll.scale*window.devicePixelRatio||1;l>y.options.maxScaleRatio&&(l=y.options.maxScaleRatio),t.height(n.height),t.width(n.width),i&&(i.height(n.height),i.width(n.width)),S&&(S.height(n.height),S.width(n.width),S.find("svg").attr({height:n.height,width:n.width}),S.find("canvas").attr({height:n.height,width:n.width}),y.shapeEditor.applySketchAttribute()),e.style.width=n.width+"px",e.style.height=n.height+"px",y.textOnCanvas&&!y.canvasManager.isFixedFrame()?(e.width=n.width*l,e.height=n.height*l):(e.height=n.height,e.width=n.width),o||(a.save(),a.fillStyle="#FFFFFF",a.fillRect(0,0,e.width,e.height),a.restore());var d,c,h,u,p,f,o=J.getLineAdjustWidth(r,r.$containedTo),g=r.divideOffset.isHorizontally,m=r.divideOffset.offset(),e=r.boundary,w=0;l=r.isDrillOver?(a.putImageData(s,0,0,0,0,s.width,s.height),f=0):g?(d=y.textOnCanvas&&!y.canvasManager.isFixedFrame()?Math.ceil(m*l):m,a.putImageData(s,0,0,0,0,s.width,d),c=0,h=w=e.bottom-e.top+1+o,u=0,p=d-o,y.textOnCanvas&&!y.canvasManager.isFixedFrame()&&(h=Math.ceil(w*l)),f=s.width,s.height-p):(d=y.textOnCanvas&&!y.canvasManager.isFixedFrame()?Math.ceil(m*l):m,a.putImageData(s,0,0,0,0,d,s.height),c=w=e.right-e.left+1+o,u=d-o,p=h=0,y.textOnCanvas&&!y.canvasManager.isFixedFrame()&&(c=Math.ceil(w*l)),f=s.width-u,s.height),0<f&&0<l&&a.putImageData(s,c,h,u,p,f,l),r.isDrillOver||i.children().each(function(){var t=$(this),e=parseInt(t.css("top")),i=parseInt(t.css("left"));if(t.hasClass("crownix-background-object"))return!0;g&&m<=e&&t.css({top:parseInt(t.css("top"))+w}),!g&&m<=i&&t.css({left:parseInt(t.css("left"))+w})}),J.updateDrilldownPosition(C,r,w),y.options.scrollOptions.useInfiniteScroll&&(r=parseFloat(y.documentScroller.scroller.style.height),y.documentScroller.scroller.style.height=r+(e.bottom-e.top)+"px"),y.scroll.refresh()},L=function(t,n,r,e,o,i,a,s){var l=o.divideOffset.offset()+1,d=o.divideOffset.isHorizontally,c=o.boundary,h=d?e.width:c.right-c.left+1,u=d?c.bottom-c.top+1:e.height,p=y.scroll.scale*window.devicePixelRatio||1;p>y.options.maxScaleRatio&&(p=y.options.maxScaleRatio);var l=y.canvasManager.isFixedFrame()?Math.ceil(+l/p):l,f=$("<div>").css({top:d?l:0,left:d?0:l,height:u,width:h,position:"absolute"}),g=$("<canvas>").attr({width:y.textOnCanvas&&!y.canvasManager.isFixedFrame()?h*p:h,height:y.textOnCanvas&&!y.canvasManager.isFixedFrame()?u*p:u}).css({top:d?l:0,left:d?0:l,width:h,height:u,position:"absolute"})[0],e=g.getContext("2d");e.save(),e.fillStyle="#FFFFFF",e.fillRect(0,0,g.width,g.height),e.restore(),!y.textOnCanvas||y.drilldownManager.getDrilldownLength()&&y.canvasManager.isFixedFrame()||e.scale(p,p);var m=$.Deferred(),h=new w(y,g,f,v,b),u=o.$pageMML,e=y.report.parseHead(o.$headMML.children());if(!o.isLoaded){if(y.isFormEditMode)try{y.formManager.buildFormField(o.$pageMML,o.pagenum,{allowDuplicate:y.options.formField.allowDuplicate,drilldownId:o.id})}catch(t){return m.reject(t)}y.dataManager.build(o.$footerMML.children("MDLIST"),o.id),o.isLoaded=!0}f.appendTo(r);c={x:!d&&-c.left,y:d&&-c.top};return h.setFormFieldMode(e.formFieldMode),h.drawPage(u,e,function(){f.children().each(function(){var t=$(this);d?t.css({top:parseInt(t.css("top"))+(y.canvasManager.isFixedFrame()?Math.ceil(l*p):l)}):t.css({left:parseInt(t.css("left"))+(y.canvasManager.isFixedFrame()?Math.ceil(l*p):l)})}),f.children().each(function(){var t=x.browser.msie&&"svg"==this.tagName?$(this).clone():$(this);t.attr("class",(t.attr("class")||"")+" "+R(o)).appendTo(r)}),f.remove();var t=n.getContext("2d"),e=g.getContext("2d").getImageData(0,0,g.width,g.height),i=y.textOnCanvas?Math.ceil((l-1)*p):l-1;d?t.putImageData(e,0,i,0,0,e.width,e.height):t.putImageData(e,i,0,0,0,e.width,e.height),y.isFormEditMode&&(y.formManager.bindEvent(),y.shareManager&&y.shareManager.isConnected()&&y.shareManager.initFields()),y.formManager.removePreventEvent(),m.resolve(),a&&a(),s&&s()},"d",c,null,i),m},R=function(t){for(var e=J.convertIDtoClassName(t),i=t.parent;i;)e+=" "+J.convertIDtoClassName(i),i=i.parent;return e},B=function(){clearTimeout(s),k.off("DOMSubtreeModified")},j=function(){y.textOnCanvas||(s=m2soft.crownix.Forgery.detect(k,m[0],y.isFormEditMode))},H=function(){setTimeout(function(){y.canvasManager.saveParts(),y.canvasManager.moveParts(),!y.scroll||y.noteManager&&y.noteManager.isFocusInTextBox()||r.getInstance(y).isEnabled||y.scroll.enable(),i&&"function"==typeof i&&(i(),i=null),y.shareManager&&y.shareManager.isConnected()&&y.shareManager.endSync(),M=!0},0)},z=function(n){var o=[];"[object Array]"===Object.prototype.toString.call(n)&&(n=(o=n).pop()),y.toolbar.enableToolbarItem(["cancel"]),M=!(u=!0),void 0===a&&y.options.showDrilldownMsg&&(a=y.dialog.message(c.get("image_export_disabled_before_done")));var t=l.push(function(){var r=function(t,e){var i,n=e||[];for(i in t)0<t[i].children.length&&r(t[i].children,n),t[i].isOpend&&n.indexOf(t[i])<0&&n.push(t[i]);return n};if(t=J.getDrillObject(n)){var t,e=r([t]);if(0!=e.length)if(J.isInTheCurrentPage(t))for(var i in B(),e)(t=e[i]).isOpend=!1,q(t),t.$footerMML&&y.dataManager.removeData(t.id),D(t,function(t,e,i,n,r){G(t,e,i.children(),n,r),0<(o=f?[]:o).length?setTimeout(function(){z(o)},0):A()});else for(var i in e)(t=e[i]).isOpend=!1}else A()});return l.push(j),t},q=function(t){$("."+J.convertIDtoClassName(t),g).remove()},G=function(t,e,i,n,r){var o=e.getContext("2d"),a=o.getImageData(0,0,e.width,e.height),s=y.scroll.scale*window.devicePixelRatio||1;s>y.options.maxScaleRatio&&(s=y.options.maxScaleRatio),e.style.width=n.width+"px",e.style.height=n.height+"px",y.textOnCanvas&&!y.canvasManager.isFixedFrame()?(e.width=n.width*s,e.height=n.height*s):(e.height=n.height,e.width=n.width),t.height(n.height),t.width(n.width),k&&(k.height(n.height),k.width(n.width)),o.save(),o.fillStyle="#FFFFFF",o.fillRect(0,0,e.width,e.height),o.restore();var l,d,c,h,u,p,f,g,m,w,t=J.getLineAdjustWidth(r,r.$containedTo),x=r.divideOffset.isHorizontally,v=r.divideOffset.offset(),n=r.boundary,b=0;r.isDrillOver?(o.putImageData(a,0,0,0,0,a.width,a.height),p=u=0):w=x?(m=y.textOnCanvas&&!y.canvasManager.isFixedFrame()?Math.ceil(v*s):v,o.putImageData(a,0,0,0,0,a.width,m),l=0,d=-(b=n.bottom-n.top+1+t),c=0,h=m+b+1,y.textOnCanvas&&!y.canvasManager.isFixedFrame()&&(h=m+Math.ceil(b*s),d=-Math.ceil(b*s)),u=a.width,p=a.height-h,f=0,g=a.height-b,m=e.width,e.height-g):(w=y.textOnCanvas&&!y.canvasManager.isFixedFrame()?Math.ceil(v*s):v,o.putImageData(a,0,0,0,0,w,a.height),l=-(b=n.right-n.left+1+t),c=w+b,h=d=0,y.textOnCanvas&&!y.canvasManager.isFixedFrame()&&(c=w+Math.ceil(b*s),l=-Math.ceil(b*s)),u=a.width-c,p=a.height,f=a.width-b,g=0,y.textOnCanvas&&!y.canvasManager.isFixedFrame()&&(f=w+Math.ceil(b*s)),m=e.width-f,e.height),0<u&&0<p&&o.putImageData(a,l,d,c,h,u,p),o.save(),o.fillStyle="#FFFFFF",o.fillRect(f,g,m,w),o.restore(),r.isDrillOver||i.each(function(){var t=$(this),e=t.hasClass("crownix-drilldown-page"),i=parseInt(t.css("top"))+(e?0:t.height()),e=parseInt(t.css("left"))+(e?0:t.width());if(t.hasClass("crownix-background-object"))return!0;x&&v<i?t.css({top:parseInt(t.css("top"))-b}):!x&&v<e&&t.css({left:parseInt(t.css("left"))-b})}),J.updateDrilldownPosition(C,r,-b),y.scroll.refresh()},U=function(t,e,i,n){var r=$(n),o=r.attr("hi"),a=J.adjustCoord(parseInt(r.attr("sy"))),s=J.adjustCoord(parseInt(r.attr("sx"))),l=J.adjustCoord(parseInt(r.attr("ey"))),n=J.adjustCoord(parseInt(r.attr("ex")));this.id=o,this.$pageMML=null,this.$headMML=null,this.boundary=null,this.pagenum=t,this.mrdPath=r.attr("hdm"),this.mrdParam=r.attr("hdp"),this.encType=r.attr("en"),this.currentMrdPath=this.mrdPath,this.currentMrdParam=this.mrdParam,this.$containedTo=e,this.isOpend=!1,this.isLoaded=!1,this.parent=i,this.children=[],i&&i.children.push(this),i&&i.isDrillOver?(a-=i.boundary.top,l-=i.boundary.top):i&&i.divideOffset.isHorizontally?(a=a-i.boundary.top+i.position.originalBottom+1,l=l-i.boundary.top+i.position.originalBottom+1):i&&!i.divideOffset.isHorizontally&&(s=s-i.boundary.left+i.position.originalRight+1,n=n-i.boundary.left+i.position.originalRight+1),this.position={top:function(){return this.originalTop+this.offsetY},left:function(){return this.originalLeft+this.offsetX},right:function(){return this.originalRight+this.offsetX},bottom:function(){return this.originalBottom+this.offsetY},originalTop:a,originalLeft:s,originalRight:n,originalBottom:l,offsetX:i?i.position.offsetX:0,offsetY:i?i.position.offsetY:0};var d=this.position,l={0:"bottom",1:"right",2:"over"};this.direction=l[r.attr("hdt")]||"bottom";var c=this.direction,h="bottom"===c;this.isDrillOver="over"==c,this.isDrillOver&&(c=l[0]);var u=this;this.drillOverAncestor=void 0,this.divideOffset={offset:function(){var t=u.getDrillOverAncestor();return t&&!h?d[c]()-t.boundary.left+1:d[c]()+1},isHorizontally:h},this.elementTag=J.getOuterHTML(r),this.depth=i?i.depth+1:1,this.depth>p&&(p=this.depth),this.isDescendant=function(e){if(0==this.children.length)return!1;if(0<=this.children.indexOf(e))return!0;var i=!1;return this.children.forEach(function(t){if(i=t.isDescendant(e))return!0}),i},this.isAncestor=function(t){return!!this.parent&&(this.parent==t||this.parent.isAncestor(t))}},W=function(t){return 0<V(t)},V=function(t){var e,i=0;for(e in C){var n=C[e];n.pagenum==t&&n.isOpend&&i++}return i};U.prototype.isSiblingOf=function(t){return this.getDrillOverAncestor()==t.getDrillOverAncestor()},U.prototype.getScreenBoundary=function(){var t=$.extend({},this.boundary);this.isDrillOver||this.divideOffset.isHorizontally?(t.bottom=t.bottom-t.top+this.position.bottom(),t.top=t.top-t.top+this.position.bottom()):(t.right=t.right-t.left+this.position.right(),t.left=t.left-t.left+this.position.right());var e=this.getDrillOverAncestor();return!this.isDrillOver&&e&&(e=e.getScreenBoundary(),t.left+=e.left+1,t.right+=e.left+1,t.top+=e.top+1,t.bottom+=e.top+1),t},U.prototype.getBoundaryWithChildren=function(){var t,e=this.getScreenBoundary(),i={right:0,bottom:0};for(t in this.children){var n,r,o,a=this.children[t];a.isOpend&&(n=a.getBoundaryWithChildren(),r=J.getLineAdjustWidth(a,a.$containedTo),a.isDrillOver?(o=n.bottom-n.top+1+a.position.originalBottom,i.bottom=Math.max(i.bottom,o),i.right=Math.max(i.right,n.right)):a.divideOffset.isHorizontally?(e.bottom+=n.bottom-n.top+1+r,e.right=Math.max(e.right,n.right)):(e.bottom=Math.max(e.bottom,n.bottom),e.right+=n.right-n.left+1+r))}return e.bottom=Math.max(e.bottom,i.bottom),e.right=Math.max(e.right,i.right),e},U.prototype.getDrillOverAncestor=function(t){if(null!=this.drillOverAncestor)return this.drillOverAncestor;for(var e=this;e;){if(e.parent&&e.parent.isDrillOver)return e.parent;e=e.parent}return null},U.serialize=function(t){t={pagenum:t.pagenum,containedTo:J.getOuterHTML(t.$containedTo),parentID:t.parent&&t.parent.id,element:t.elementTag,isOpend:t.isOpend,isLoaded:t.isLoaded,pageMML:J.getOuterHTML(t.$pageMML),headMML:J.getOuterHTML(t.$headMML),footerMML:J.getOuterHTML(t.$footerMML),boundary:t.boundary&&JSON.stringify(t.boundary),mrdPath:t.currentMrdPath,mrdParam:t.currentMrdParam,depth:t.depth};return JSON.stringify(t)},U.deserialize=function(t,e){t=JSON.parse(t),e=e[t.parentID],e=new U(t.pagenum,$(t.containedTo),e,t.element);return e.isOpend=t.isOpend,e.$pageMML=t.pageMML&&$(t.pageMML),e.$headMML=t.headMML&&$($.parseXML(t.headMML)).find("HEAD"),e.$footerMML=t.footerMML&&$($.parseXML(t.footerMML)).find("MMLFOOTER"),e.boundary=JSON.parse(t.boundary),e.isLoaded=t.isLoaded,e.currentMrdPath=t.mrdPath,e.currentMrdParam=t.mrdParam,e.depth=t.depth,e},U.toXML=function(t){return['<obj pg="',t.pagenum,'" did="',t.id,'" path="',x.escapeXmlEntities(t.currentMrdPath),'" param="',x.escapeXmlEntities(t.currentMrdParam),'" />'].join("")};var J={getDrillObject:function(t){return C[t]},getDrillObjectList:function(t){return $.map(t,function(t){return C[t]})},getOpenedObjectID:function(n){return $.map(C,function(t,e){var i="."+J.convertIDtoClassName(t),i=$(i,g).length;if(t.isOpend&&n==t.pagenum&&0==i)return e}).sort(function(t,e){return 0==t.indexOf(e)})},adjustCoord:function(t){return m2soft.crownix.Painter.adjustCoord(t)},getLineAdjustWidth:function(i,t){var n=!1;return t.find("LN[rhi][ll]").each(function(t,e){return!(n=0<=$(e).attr("rhi").split(",").indexOf(i.id)?!0:n)}),n?0:1},updateDrilldownList:function(t,e,i){C=$.extend(J.getAllDrillObject(t,e,i),C)},isOverlapped:function(t){if(t.isDrillOver)return!1;var a=!1,s=t.divideOffset.isHorizontally,e=t.$containedTo,i=t.parent;if(i&&!i.isDrillOver&&i.divideOffset.isHorizontally!=t.divideOffset.isHorizontally)return!0;var t=$(t.elementTag),l=0,l=s?parseInt(t.attr("ey")):parseInt(t.attr("ex"));return e.find("*").each(function(){var t=$(this);if(t.attr("dr"))return!0;if(("RA"==t.get(0).tagName||"TL"==t.get(0).tagName)&&"1"===t.attr("ba"))return!0;var e,i=parseInt(t.attr("sy")),n=parseInt(t.attr("sx")),r=parseInt(t.attr("ey")),o=parseInt(t.attr("ex"));return e=l,t=n,n=i,i=o,o=r,!(a=!(r=s)&&t<e&&e<i||r&&n<e&&e<o?!0:a)}),a},getAdjustPageSize:function(t,e,i){var n,r=$(t),o=J.getObjectBoundary(r),a=r.attr("wd")/10.3,t=r.attr("ht")/10.3,s={right:0,bottom:0};for(n in C){var l,d,c,h=C[n];h&&h.pagenum==e&&h.isOpend&&!h.parent&&(l=h.getBoundaryWithChildren(),d=J.getLineAdjustWidth(h,h.$containedTo),h.isDrillOver?(c=l.bottom-l.top+1+h.position.originalBottom,s.bottom=Math.max(s.bottom,c),s.right=Math.max(s.right,l.right)):h.divideOffset.isHorizontally?(o.bottom+=l.bottom-l.top+1+d,o.right=Math.max(o.right,l.right)):(o.bottom=Math.max(o.bottom,l.bottom),o.right+=l.right-l.left+1+d))}o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right);r=a;return t!=(t=Math.max(t,o.bottom))&&t++,r!=(a=Math.max(a,o.right))&&a++,{height:t,width:a}},updateDrilldownPosition:function(t,i,e){function n(t){return t.isDrillOver?o?t.position.bottom()>a:t.position.right()>a:(e=t,i.divideOffset.isHorizontally==e.divideOffset.isHorizontally&&J.comparePosition(i,t));var e}var r,o=i.divideOffset.isHorizontally,a=i.divideOffset.offset();for(r in t){var s=t[r];s.divideOffset.isHorizontally,s.isDrillOver;i.isDescendant(s)||i.isAncestor(s)||i.pagenum!=s.pagenum||!i.isSiblingOf(s)||(o&&n(s)?s.position.offsetY+=e:o||!n(s)||s.isDrillOver||(s.position.offsetX+=e))}},comparePosition:function(t,e){for(var i=[t],n=[e];i[i.length-1].parent;)i.push(i[i.length-1].parent);for(;n[n.length-1].parent;)n.push(n[n.length-1].parent);for(;0<i.length&&0<n.length;){var r=i.pop(),o=n.pop();if(r.id!==o.id)return"bottom"===t.direction?o.position.originalBottom>r.position.originalBottom:o.position.originalRight>r.position.originalRight}},getAllDrillObject:function(e,i,n){var r={};return i.find("[hl=7]").each(function(){var t=new U(e,i,n,this);r[t.id]=t}),r},getObjectBoundary:function(t){var e,i={top:0,left:0,bottom:0,right:0};for(e in t.find("*").each(function(t){var e=$(this);e.attr("sx")&&(e={top:parseInt(e.attr("sy")),left:parseInt(e.attr("sx")),bottom:parseInt(e.attr("ey")),right:parseInt(e.attr("ex"))},0!=t?(e.left<i.left&&(i.left=e.left),e.top<i.top&&(i.top=e.top),e.right>i.right&&(i.right=e.right),e.bottom>i.bottom&&(i.bottom=e.bottom)):i=e)}),i)i[e]=J.adjustCoord(i[e]);return i},isInTheCurrentPage:function(t){return t.pagenum==I},convertIDtoClassName:function(t){return"drilldown-"+t.id.split(".").join("-")},findContainedDom:function(t){for(;t;){var e=$("."+J.convertIDtoClassName(t),g),i=e.find(".crownix-text:first"),n=e.find(".crownix-canvas:first");if(0<i.length&&0<n.length)return{$pageDom:e,$textDom:i,$canvasDom:n};t=t.parent}return{$pageDom:g,$textDom:k,$canvasDom:m}},getOuterHTML:function(t){if(t)return x.browser.msie?(new XMLSerializer).serializeToString(t[0]):t.prop("outerHTML")}}},m2soft.ns("m2soft.crownix.TreeGrid"),m2soft.crownix.TreeGrid=function(){function l(t,o){var a=-1;!function t(e,i){o(e,++a,i);var n=e.children;if(e.open&&n&&n instanceof Array)for(var i=0,r=n.length;i<r;i++)t(e.children[i],i);a--}(t)}function e(i){var n=0;l(B,function(t,e){e<i?t.open=!0:e==i&&(t.open=!1),n++}),y&&console.log("노드 뎁스 설정: ",i,"전체 열린 개수:",n),j.refreshInfinite(n)}function s(t){return{background:t.background||"#FFFFFF","text-align":t.align,"vertical-align":t.verticalAlign,color:t.font.color,"font-family":t.font.family,"font-size":t.font.size/10+"pt","font-weight":t.font.weight,"text-decoration":t.font.decoration,"font-style":t.font.style,"border-left":t.borderLeft,"border-right":t.borderRight,"border-top":t.borderTop,"border-bottom":t.borderBottom}}function r(t){var e,i,n=$("<tr>"),r=t.columns;n.css({height:t.height/10.3+"px",width:"100%"});for(var o=0,a=r.length;o<a;o++)i=r[o],e=$("<td>").attr("col-id",i.groupId).css({position:"absolute",left:i.x/10.3+"px",top:i.y/10.3+"px",width:i.width/10.3+"px",height:i.height/10.3+"px","box-sizing":"border-box",overflow:"hidden","z-index":r.length-o}).css(s(i)).appendTo(n),e=$("<div>").css({display:"table",width:"100%",height:"100%"}).appendTo(e),$("<pre>").css({display:"table-cell","vertical-align":i.verticalAlign,"white-space":"pre-wrap","word-break":"break-all",padding:"0px 1px"}).text(i.text).appendTo(e);return n}function o(t,e){var i,r,o,a,s;this.updateCache(t,(i=B,o=(r=t)+e,a=0,s=[],y&&console.time("fetch data from tree"),l(i,function(t,e,i){var n;t&&t.row&&t.visible&&r<++a&&a<=o&&((n=t.row).index=h?a:i,n.depth=e,n.pIndex=t.parentRowIdx,n.open=t.open,n.visible=t.visible,s.push(n))}),p=a,y&&console.timeEnd("fetch data from tree"),y&&console.log("전체 열린 개수:",p,"패치된 개수:",s.length,"시작:",r,"끝:",o),s))}function a(t,r){t=$(t),null!=r?(t.show(),t.attr("record-id",r.index),t.children("td").each(function(t){var e=$(this),i=f-(f-r.depth)-1;0<f-r.depth?e.css(w[i][t]):null!=r.pIndex?e.css(w[r.pIndex][t]):e.css(m[t]);var n=e.find("pre").text(r[t]);h&&0==t&&(e.css({"padding-left":20*i+10+"pt","text-align":"left"}),h&&r.depth<f?(e.attr("record-id",r.index).addClass(x),r.open?(n.addClass(v),n.removeClass(b)):(n.addClass(b),n.removeClass(v))):(e.removeAttr("record-id"),n.removeClass(x).removeClass(v).removeClass(b)))}),u&&d&&d.refreshSelector(t,r.index,this)):t.hide()}function i(t){L=$("<table>").css({width:"100%",height:"100%","border-spacing":0,"border-collapse":"separate"}).attr("id","crownix-grid");for(var e=R.height()/(t.template.row.height/10.3)+10,i=1;i<=e;i++){var n=r(t.template.row);n.css("position","absolute").addClass("record"),h&&n.children().first().on("click",function(t){var e,i;null!=(e=$(this).attr("record-id"))&&(i=0,l(B,function(t){t&&t.row&&e==i&&(t.open=!t.open),i++}),y&&console.log("토클 노드:",e,"전체 열린 개수:",i),j.refreshInfinite(i))}),n.find("td").each(function(){$(this)}),n.appendTo(L)}L.appendTo(R),j=new m2soft.IScroll("#"+c,{scrollY:!0,scrollbars:!0,freeScroll:!0,interactiveScrollbars:!0,mouseWheel:!0,parentScroll:t.parentScroll,infiniteElements:"#"+c+" .record",infiniteLimit:p-1,dataset:o,dataFiller:a,cacheSize:500,doubleTap:!1,shrinkScrollbars:"clip",useTransition:!1,bounce:!1,click:!!H.browser.mobile,HWCompositing:t.enableTranslateZ}),_.on("DOMSubtreeModified",function(t){t.stopPropagation()})}function n(s){function a(){x=[],w=[],_.find(".crownix-grid-selection").removeClass("crownix-grid-selection")}function n(){var t=v.slice();if(x.forEach(function(t){-1==v.indexOf(t)&&v.push(t)}),v.length>=Object.keys(T).length)return new m2soft.crownix.FormDialog("#"+q.CONTAINER_ID).show(z.get("donot_hide_all_column")),a(),v=t,0;v.sort(H.ASCENDING_COMPARATOR),M.forEach(function(t,e){-1!=v.indexOf(e+1)?t.show():t.hide()});var e,i=0;for(e in T){var n=T[e],r=parseInt(e),o=_.find('[col-id="'+e+'"]');-1!=v.indexOf(r)?(o.hide(),i+=(n.right-n.left)/10.3):(o.show(),o.each(function(){$(this).css({transform:"translateX("+-i+"px)"})}))}_.width(I-i-1),console.log("changeColumns",v),a()}function r(){for(var t,e=0,i=0,n=b.length;i<n;i++)t=b[i],-1!=w.indexOf(i)&&(t.visible=!1),t.visible&&e++;j.refreshInfinite(e+1),console.log("선택된 행:",w,"전체 보이는 행:",e),w=[]}function o(){for(var t=b.length-1;0<=t;t--)if(b[t].visible)return t}function e(){"column"==S?_.find(".crownix-grid-selector-column").each(function(){var t=$(this).attr("col-id"),e=_.find('[col-id="'+t+'"]');t>=Math.min(u,p)&&t<=Math.max(u,p)?!k||-1==x.indexOf(parseInt(t))?e.addClass("crownix-grid-selection"):e.removeClass("crownix-grid-selection"):-1!=x.indexOf(parseInt(t))?e.addClass("crownix-grid-selection"):e.removeClass("crownix-grid-selection")}):"row"==S&&L.find(".crownix-grid-selector-row").each(function(){var t=$(this),e=t.parent().attr("record-id"),i=L.find('[record-id="'+e+'"]');e>=Math.min(u,p)&&e<=Math.max(u,p)?!k||-1==w.indexOf(parseInt(e))?(i.addClass("crownix-grid-selection"),t.addClass("crownix-grid-selection")):(i.removeClass("crownix-grid-selection"),t.removeClass("crownix-grid-selection")):-1!=w.indexOf(parseInt(e))?(i.addClass("crownix-grid-selection"),t.addClass("crownix-grid-selection")):(i.removeClass("crownix-grid-selection"),t.removeClass("crownix-grid-selection"))})}function l(t){if(A||1==t.which){k=t.ctrlKey,i=t.shiftKey,k||a();t=$(t.target);if(t.hasClass("crownix-grid-selector-column"))S="column",p=t.attr("col-id");else{if(!t.hasClass("crownix-grid-selector-row"))return;S="row",p=t.parent().attr("record-id")}i||(u=p),e(),$("body").on(F.move,E),$("body").on(F.end,P)}}function d(t){t.stopPropagation();for(var e=parseInt($(this).attr("g-id"));;){var i=v.indexOf(++e);if(-1==i)break;v.splice(i,1)}n()}function c(t){t.stopPropagation();var t=(e=$(this)).attr("type"),e=e.parent().attr("record-id"),i=0,n="first"==t?0:"last"==t?o()+1:parseInt(e)+1;for(max=b.length;n<max&&!b[n].visible;n++)b[n].visible=!0;for(n=0,max=b.length;n<max;n++)b[n].visible&&i++;j.refreshInfinite(i+1)}function h(t){C||j.moved||(_.css("z-index","1"),L.css("padding-left","50px"),R.css({left:"-50px","padding-right":"50px"}),_.find(".crownix-grid-selector").css("visibility","visible"),_.find(".crownix-grid-showtip").css("visibility","visible"),$("#"+q.CONTAINER_ID).parent().on(F.start,O),C=!0)}function t(){var n=$('<div class="crownix-grid-showtip"><div>+</div></div>');(o=$("<div>").addClass("crownix-grid-selector").addClass("crownix-grid-selector-all").css({top:"-20px",height:N.height()+20+"px","line-height":N.height()+20+"px","vertical-align":"middle","text-align":"center",color:"#47a3da"}).text("+").on(A?F.start:"click contextmenu",D)).appendTo(N.find("tr"));var t,e=$("<tr>").css("display","block"),i=n.clone(!0).attr("g-id",0).addClass("crownix-grid-showtip-bottom").on(A?F.start:"click",d).prependTo(o);for(t in(M=[]).push(i),T){var r=T[t],o=$("<div>").attr("col-id",t).css({left:r.left/10.3,width:(r.right-r.left)/10.3,"box-sizing":"border-box"}).addClass("crownix-grid-selector").addClass("crownix-grid-selector-column").on(F.start,l).on("contextmenu",D).appendTo(e),i=n.clone(!0).attr("g-id",t).addClass("crownix-grid-showtip-bottom").on(A?F.start:"click",d).prependTo(o);M.push(i)}e.prependTo(N),g=n.clone(!0).addClass("crownix-grid-showtip-right").attr("type","first").css("top",N.height()-11).on(A?F.start:"click",c).prependTo(_),m=n.clone(!0).addClass("crownix-grid-showtip-right").attr("type","last").on(A?F.start:"click",c).appendTo(_),L.find(".record").each(function(t){var e=$(this),i=e.height();$("<div>").attr("uid",t+"").addClass("crownix-grid-selector").addClass("crownix-grid-selector-row").css({height:i+"px"}).on(F.start,l).on("contextmenu",D).prependTo(e);n.clone(!0).addClass("crownix-grid-showtip-right").on(A?F.start:"click",c).prependTo(e)}),n.remove(),C=!1,_.on("click",h)}var u,p,i,f,g,m,w=[],x=[],v=[],b=B.children,y=b.length,C=!1,k=!1,S="",T={},I=_.width(),M=[],A="ontouchstart"in window,F={start:A?"touchstart":H.browser.msie?"mousedown":G.start,move:A?"touchmove":H.browser.msie?"mousemove":G.move,end:A?"touchend":H.browser.msie?"mouseup":G.end},E=function(t){t.stopPropagation();t=A?$(document.elementFromPoint(t.originalEvent.changedTouches[0].clientX,t.originalEvent.changedTouches[0].clientY)):$(t.target);"row"==S&&t.hasClass("crownix-grid-selector-row")?p=t.parent().attr("record-id"):"column"==S&&t.hasClass("crownix-grid-selector-column")&&(p=t.attr("col-id")),e()},P=function(t){$("body").off(F.move,E),$("body").off(F.end,P),function(){var t;"row"==S?t=w:"column"==S&&(t=x);for(var e=Math.min(u,p);e<=Math.max(u,p);e++){var i=t.indexOf(e);-1==i?t.push(e):k&&t.splice(i,1)}t.sort(H.ASCENDING_COMPARATOR),console.log("선택된",S,t)}(),A&&D(t)},D=function(t){t.preventDefault(),t.stopPropagation(),f&&f.remove();var e,i=$(this).hasClass("crownix-grid-selector-all");0==w.length&&0==x.length&&!i||(i?e=z.get("show_all"):"row"==S?e=z.get("hide_rows"):"column"==S&&(e=z.get("hide_columns")),f=$('<div class="crownix-tooltip-button crownix-appear"><div class="crownix-tooltip-button-item">'+e+"</div></div>").css({left:A?t.originalEvent.changedTouches[0].clientX:t.pageX,top:A?t.originalEvent.changedTouches[0].clientY:t.pageY}).on("click",function(){f.remove(),i?function(){v=[],a();for(var t=0,e=b.length;t<e;t++)b[t].visible=!0;j.refreshInfinite(b.length+1),n()}():"row"==S?r():"column"==S&&n()}).appendTo("body"))},O=function(t){f&&f.remove(),0==$(t.target).parents(".crownix-grid-"+s.gridId).length&&(_.css("z-index","0"),L.css("padding-left","0px"),R.css({left:"0px","padding-right":"0px"}),_.find(".crownix-grid-selector").css("visibility","hidden"),_.find(".crownix-grid-showtip").css("visibility","hidden"),a(),C=!1,$("#"+q.CONTAINER_ID).parent().off(F.start,O))};!function(){for(var t,e,i,n,r=s.template.header.columns,o=0,a=r.length;o<a;o++)t=(n=r[o]).groupId,e=n.x,i=n.x+n.width,(n=T[t])?(e<n.left&&(n.left=e),i>n.right&&(n.right=i)):T[t]={id:t,left:e,right:i}}(),t(),this.refreshSelector=function(t,e,i){-1!=w.indexOf(e)?(t.addClass("crownix-grid-selection"),t.children(".crownix-grid-selector").addClass("crownix-grid-selection")):(t.removeClass("crownix-grid-selection"),t.children(".crownix-grid-selector").removeClass("crownix-grid-selection")),e<y-1&&(b[e+1].visible?t.children(".crownix-grid-showtip").hide():t.children(".crownix-grid-showtip").show()),0==i.y?b[0].visible?g.hide():g.show():i.y==i.maxScrollY?(b[y-1].visible||m.show(),e==o()&&t.children(".crownix-grid-showtip").hide()):(g.hide(),m.hide())},this.getHideRowsInfo=function(){for(var t=[],e=0,i=b.length;e<i;e++)t.push(b[e].visible?1:0);return t},this.getHideColsInfo=function(){return v},this.refresh=function(){t(),r(),n()}}var _,N,L,R,B,j,d,c,H=m2soft.crownix.Util,z=m2soft.crownix.Resource,q=m2soft.crownix.Constant,G=m2soft.crownix.Util.ActionEvents,h=!1,u=!1,p=0,f=0,g=0,m=[],w=[],x="crownix-tree-node",v="crownix-tree-open-node",b="crownix-tree-close-node",y=m2soft.crownix.TreeGrid.debug;this.build=function(t,a){h=(B=a).template.tree,u=a.template.dynamic||3==a.template.type,y&&console.time("init data"),l(B,function(t,e){f=Math.max(e,f),t.children&&0<t.children.length&&(t.open=!0),t.visible=!0,p++}),y&&console.timeEnd("init data"),g=f,function(){for(var t=a.template.row.columns,e=a.template.parentRow,i=0,n=t.length;i<n;i++)m.push(s(t[i]));for(i=0;i<e.length;i++){var r=e[i].columns;w.push([]);for(var o=0;o<r.length;o++)w[i].push(s(r[o]))}}(),this.draw(t),u&&!h&&(d=new n(a))},this.draw=function(t){var e;j&&(j.destroy(),j=null),_=$("string"==typeof t?document.getElementById(t):t),t=r((e=B).template.header),N=$("<table>").css({position:"absolute","border-spacing":0,"border-collapse":"separate"}).append(t).appendTo(_),c="crownix-grid-scroller-"+e.gridId,R=$("<div>").attr({id:c}).css({position:"absolute",top:N.height()+"px",bottom:"0px",width:"100%",overflow:"hidden"}).appendTo(_),i(B),u&&d&&d.refresh()},this.expandDepth=function(t){return t<1||f<t||t==g?g:(e(t),g=t)},this.nextDepth=function(){return f<=g||e(++g),g},this.prevDepth=function(){return g<=1||e(--g),g},this.exportTreeStructure=function(){var t={},a=-1;return function t(e,i){var n=e.children;if(a++,i.o=e.open?1:0,a<f-1&&n&&n instanceof Array){0<n.length&&(i.c=[]);for(var r=0,o=n.length;r<o;r++)i.c[r]={},t(e.children[r],i.c[r])}a--}(B,t),t},this.exportDynamicStructure=function(){return{colGroup:d.getHideColsInfo(),row:d.getHideRowsInfo()}},this.isTree=function(){return h},this.isDynamic=function(){return u}},m2soft.ns("m2soft.crownix.GridManager"),m2soft.crownix.GridManager=function(){var r,o={};this.build=function(t,e,i,n){null==o[t]?(i.parentScroll=n.scroll,i.enableTranslateZ=n.options.enableTranslateZ,i.gridId=t,o[t]=new m2soft.crownix.TreeGrid,o[t].build(e,i)):o[t].draw(e),r=o[t]},this.exportGridParameter=function(){var t=[" /rtreegridinfo "];for(e in o)(i=o[e]).isTree()&&(t.push(e),t.push("["),t.push(JSON.stringify(i.exportTreeStructure())),t.push("]"),t.push(" "));var e,i,n,r=[];for(e in o)(i=o[e]).isDynamic()&&((n=i.exportDynamicStructure()).id=e,r.push(n));return 0<r.length&&(t.push("/rdatagridshowinfo "),t.push("["),t.push(JSON.stringify(r)),t.push("] ")),t.join("")},this.expandDepth=function(t){return r.expandDepth(t)},this.nextDepth=function(){return r.nextDepth()},this.prevDepth=function(){return r.prevDepth()}},m2soft.ns("m2soft.crownix.CxGridResource"),m2soft.crownix.CxGridResource.r={insert_1_above:{ko:"위에 1행 삽입",ja:"1行上に挿入",en:"Insert 1 row above"},insert_1_below:{ko:"아래 1행 삽입",ja:"1行下に挿入",en:"Insert 1 row below"},add_row:{ko:"행 추가",ja:"行追加",en:"Add Row"},delete_row:{ko:"행 삭제",ja:"行削除",en:"Delete Row"},cannot_delete_keep_row:{ko:"데이터 행 유지 옵션이 설정되어 기존 행은 삭제할 수 없습니다.",ja:"データ行がロック状態ですので削除することができません。",en:"Existing rows cannot be deleted because the option to keep data rows is set."},cannot_delete_summary_row:{ko:"요약부 행은 삭제할 수 없습니다.",ja:"要約部行は削除できません。",en:"Summary row cannot be deleted."},cannot_delete_all_row:{ko:"전체 행을 삭제할 수 없습니다. 적어도 데이터 행은 하나 이상 존재해야 합니다.",ja:"すべての行は削除できません。少なくも１行以上のデータ行が必要となります。",en:"All rows cannot be deleted. At least one data line is required."}},m2soft.crownix.CxGridResource.language="en",m2soft.crownix.CxGridResource.setLanguage=function(t){if("string"==typeof t)return 0===t.indexOf("ko")?this.language="ko":0===t.indexOf("ja")?this.language="ja":this.language="en",this.language},m2soft.crownix.CxGridResource.setSystemLanguage=function(){this.setLanguage(navigator.language)||this.setLanguage(navigator.browserLanguage)||this.setLanguage(navigator.systemLanguage)||this.setLanguage(navigator.userLanguage)||this.setLanguage("en")},m2soft.crownix.CxGridResource.setSystemLanguage(),m2soft.crownix.CxGridResource.get=function(e){try{return this.r[e][this.language]}catch(t){return window.console&&"function"==typeof window.console.log&&console.log("[Crownix HTML5 Viewer] resource not found: "+e),"RESOURCE_NOT_FOUND"}},m2soft.ns("m2soft.crownix.CxGridUtil"),m2soft.crownix.CxGridUtil.toggleClass=function(t,e){0<=t.className.indexOf(e)?this.removeClass(t,e):this.addClass(t,e)},m2soft.crownix.CxGridUtil.addClass=function(t,e){t.className.indexOf(e)<0&&(t.className+=" "+e)},m2soft.crownix.CxGridUtil.removeClass=function(t,e){0<=t.className.indexOf(e)&&(t.className=t.className.replace(" "+e,""))},m2soft.crownix.CxGridUtil.containsClass=function(t,e){return 0<=t.className.indexOf(e)},m2soft.crownix.CxGridUtil.transform=function(t,e){if(null==e)return t.style.transform;t.style.transform=e,t.style["-webkit-transform"]=e,t.style["-ms-transform"]=e,t.style["-moz-transform"]=e,t.style["-o-transform"]=e},m2soft.crownix.CxGridUtil.eventPath=function(t){var e=t.composedPath&&t.composedPath()||t.path,t=t.target;return null!=e?e=e.indexOf(window)<0?e.concat([window]):e:t===window?[window]:[t].concat(function t(e,i){i=i||[];e=e.parentNode;return e?t(e,i.concat([e])):i}(t)).concat([window])},m2soft.ns("m2soft.crownix.CxGridWrapper"),m2soft.crownix.CxGridWrapper=function(t){this.addRow=function(){t.isEditable()&&t.addRow()},this.removeRow=function(){t.isEditable()&&t.removeRow()}},m2soft.ns("m2soft.crownix.CxGridAside"),m2soft.crownix.CxGridAside=function(t,e,a){function s(r){function e(t,e){t.stopPropagation(),t.preventDefault();var i,n=("which"in(i=(i=t)||window.event)?n=3==i.which:"button"in i&&(n=2==i.button),n);e&&(!e||n)||c.toggleClass(r,"crownix-cxgrid-selection"),u.click&&u.click({event:t,selectedIndex:h.indexOf(r),isSelected:c.containsClass(r,"crownix-cxgrid-selection"),isMouseEvent:e,isRightClick:n})}r.addEventListener("mousedown",function(t){e(t,!0)}),r.addEventListener("touchstart",function(t){e(t,!1)}),r.addEventListener("contextmenu",function(t){t.stopPropagation(),t.preventDefault()})}function r(t,e,i,n){var r,o,i=(r=t,o=e,e=i,(i=document.createElement("span")).setAttribute("id","crownix-cxgrid-aside-span"),i.setAttribute("style","top: "+o+"px; width: 20px; height: "+(e-1)+"px; line-height: "+(e-1)+"px"),i.innerText=r+1,i);n&&s(i),h.splice(t,0,i),d.appendChild(i),d.style.height=a.offsetHeight+"px"}function i(){l=document.createElement("div"),t.appendChild(l),n=document.createElement("div"),t.appendChild(n),d=document.createElement("div"),n.appendChild(d),l.setAttribute("id","crownix-cxgrid-aside-top"),l.setAttribute("style","left: -21px; height: "+(t.offsetHeight-e.offsetHeight-2)+"px; float:left; width: 19px;"),n.setAttribute("id","crownix-cxgrid-aside-container-vertical"),n.setAttribute("style","top: "+(t.offsetHeight-e.offsetHeight)+"px; left: -21px; float:left; width: 20px; height: "+e.offsetHeight+"px;"),d.setAttribute("id","crownix-cxgrid-aside-vertical"),d.setAttribute("style","width: 20px; height: "+a.offsetHeight+"px;"),n.addEventListener("mouseenter",function(){u.mouseenter&&u.mouseenter()}),n.addEventListener("mouseleave",function(){u.mouseleave&&u.mouseleave()})}function o(t){for(var e=t;e<h.length;e++)h[e].style.top=0==e?"0px":Number(h[e-1].style.top.split("px")[0])+Number(h[e-1].style.height.split("px")[0])+1+"px",h[e].innerText=e+1}var n,l,d,c=m2soft.crownix.CxGridUtil,h=[],u={};this.paint=function(){i()},this.insertRow=function(t,e,i,n){r(t,e,i,n),o(t)},this.deleteRows=function(t){for(var e,i=0;i<t.length;i++)e=t[i],d.contains(h[e])&&d.removeChild(h[e]),h.splice(e,1);o(t[t.length-1])},this.addRow=function(t,e,i){r(h.length,t,e,i)},this.getVerticalBody=function(){return d},this.show=function(){d.style.display="inline",l.style.display="inline"},this.hide=function(){d.style.display="none",l.style.display="none"},this.bind=function(t,e){u[t]=e},this.cancelAllSelction=function(){!function(){for(var t=0;t<h.length;t++){var e=h[t];c.containsClass(e,"crownix-cxgrid-selection")&&c.removeClass(e,"crownix-cxgrid-selection")}}()}},m2soft.ns("m2soft.crownix.CxGridMenu"),m2soft.crownix.CxGridMenu=function(t,e,i){function r(t,e){var i,n;(i=t).addEventListener("mouseenter",function(){d.addClass(i,"crownix-cxgrid-menu-item-enter")}),i.addEventListener("mouseleave",function(){d.removeClass(i,"crownix-cxgrid-menu-item-enter")}),n=e,(t=t).addEventListener("mousedown",n),t.addEventListener("touchstart",function(t){t.stopPropagation(),t.preventDefault(),n(t)})}function n(t){var e,i,n=document.createElement("div");return d.addClass(n,"crownix-cxgrid-menu-item"),n.appendChild((e=t.label,i=document.createElement("span"),d.addClass(i,"crownix-cxgrid-menu-item-label"),i.innerText=e,i)),r(n,t.handler),n}function o(){(s=document.createElement("div")).setAttribute("id","crownix-cxgrid-menu"),t.appendChild(s),l=document.createElement("div"),d.addClass(l,"crownix-cxgrid-triangle"),s.appendChild(l),function(){for(var t=0;t<e.length;t++)s.appendChild(n(e[t]))}()}function a(t,e){s||o(),s.style.left=t+8+"px",s.style.top=e-12+"px",s.style.display="inline",e=e,0<i.isInScrollArea(e,e+s.offsetHeight)?(e=s.offsetHeight-24,d.transform(s,"translateY(-"+e+"px)"),d.transform(l,"translateY("+e+"px)")):(d.transform(s,""),d.transform(l,""))}var s,l,d=m2soft.crownix.CxGridUtil;this.show=function(t,e){a(t,e)},this.hide=function(){s&&(s.style.display="none")}},m2soft.ns("m2soft.crownix.CxGridScroller"),m2soft.crownix.CxGridScroller=function(e,i){function n(){return v*(v/x)}function r(){h=l.offsetHeight-c,g=(x-v)/h,h<=0&&(g=h=0)}function t(){l=document.createElement("div"),e.insertBefore(l,e.firstChild),l.setAttribute("id","crownix-cxgrid-scroller-container"),l.style.height=v+"px",d=document.createElement("span"),l.appendChild(d),d.setAttribute("id","crownix-cxgrid-scroller-vertical-bar"),d.style.height=n()+"px",c=d.offsetHeight,r()}function o(t){return b(m+t)}function a(){function t(){f=!1}d.addEventListener("mousedown",function(t){f=!0,u=t.pageY}),d.addEventListener("mouseover",function(){d.style["background-color"]="rgba(112, 112, 112, 0.9)"}),d.addEventListener("mouseleave",function(){d.style["background-color"]="rgba(112, 112, 112, 0.5)"}),e.addEventListener("mousemove",function(t){t.stopPropagation(),t.preventDefault(),f&&(o(t.pageY-u),u=t.pageY)}),e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",t),e.addEventListener("mouseup",t),i.addEventListener("wheel",function(t){o(h/(x/v)*(t.deltaY<0?-1:1))&&(t.stopPropagation(),t.preventDefault())}),i.addEventListener("touchstart",function(t){t.stopPropagation(),1==t.touches.length&&(u=t.touches[0].pageY)}),i.addEventListener("touchmove",function(t){2<Math.abs(u-t.touches[0].pageY)&&t.stopPropagation(),o((u-t.touches[0].pageY)/g),u=t.touches[0].pageY}),e.addEventListener("touchstart",function(t){t.preventDefault(),1==t.touches.length&&(u=t.touches[0].pageY)}),e.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation(),1==t.touches.length&&(o(t.touches[0].pageY-u),u=t.touches[0].pageY,d.style["background-color"]="rgba(112, 112, 112, 0.9)")}),e.addEventListener("touchend",function(t){d.style["background-color"]="rgba(112, 112, 112, 0.5)"})}function s(){x=i.offsetHeight,v=e.offsetHeight,l.style.display=0<=v-x?"none":"inline";var t=m==h;l.style.height=e.offHeight+"px",d.style.height=n()+"px",c=d.offsetHeight,r(),t&&b(h)}var l,d,c,h,u,p=m2soft.crownix.CxGridUtil,f=!1,g=0,m=0,w={},x=i.offsetHeight,v=e.offsetHeight,b=function(t){return!(isNaN(t)||0==m&&t<0||m==h&&h<t)&&(m=t=h<(t=t<0?0:t)?h:t,p.transform(d,"translateY("+t+"px)"),p.transform(i,"translateY("+t*g*-1+"px)"),w.scroll&&w.scroll({scrollY:t}),!0)};this.paint=function(){t(),a(),0<=v-x&&(l.style.display="none")},this.bind=function(t,e){w[t]=e},this.getMax=function(){return h},this.getCurrentRect=function(){return{top:m*g,bottom:m*g+v}},this.update=function(){s()},this.scrollUsingByTopPosition=function(t){b(t/g)},this.scrollUsingByBottomPosition=function(t){b((t-v)/g)},this.isInScrollArea=function(t,e){var i=this.getCurrentRect();return i.top>t?-1:i.bottom<e?1:0}},m2soft.ns("m2soft.crownix.CxGridCell"),m2soft.crownix.CxGridCell=function(n,r,o){function a(){return $("<td>").attr("id","crownix-cxgrid-td").attr("col-id",n.groupId).css({position:"absolute",left:n.x/10.3+"px",top:n.y/10.3+"px",width:n.width/10.3+"px",height:n.height/10.3+"px","box-sizing":"border-box",background:n.background||"#FFFFFF"}).css({"border-left":n.borderLeft,"border-right":n.borderRight,"border-top":n.borderTop,"border-bottom":n.borderBottom})}function s(t){t.css({"text-align":n.align,"vertical-align":n.verticalAlign,color:n.font.color,"font-family":n.font.family,"font-size":n.font.size/10+"pt","font-weight":n.font.weight,"text-decoration":n.font.decoration,"font-style":n.font.style}),t=$("<div>").attr("id","crownix-cxgrid-text-wrapper").appendTo(t),$("<pre>").css({display:"table-cell","vertical-align":n.verticalAlign,"white-space":"pre-wrap","word-break":"break-all",padding:"0px 1px"}).text(r).appendTo(t)}function i(t,e){var i=a();t.appendChild(i[0]),n.ffMml&&""!=n.ffMml?(e&&o.put(n.ffMml,l,c,r),e=i,(d=o.paint(e,n.ffMml,l,c,r))&&d.determineEffect()):s(i)}var l,d,c=!1;this.paint=function(t,e){i(t,e)},this.isFormField=function(){return void 0!==d},this.setFieldIndex=function(t){var e;void 0!==l&&(e=t,d&&o.changeRepeatedIndex(d,e)),l=t},this.getFieldIndex=function(){return l},this.remove=function(){d&&o.remove(d)},this.setIsKeepDataCell=function(t){c=t}},m2soft.ns("m2soft.crownix.CxGridBody"),m2soft.crownix.CxGridBody=function(c){function i(){var t=x.getAllData();if(w.subTemplates){for(var e in t)0==e?t[e]["data-position-top"]=0:null!=t[e-1]["sub-template-idx"]?t[e]["data-position-top"]=t[e-1]["data-position-top"]+w.subTemplates[t[e-1]["sub-template-idx"]].height:t[e]["data-position-top"]=t[e-1]["data-position-top"]+w.height;return t[t.length-1]["data-position-top"]+(null!=t[t.length-1]["sub-template-idx"]?w.subTemplates[t[t.length-1]["sub-template-idx"]]:w).height}return w.height*t.length}function n(t){if(0<t.length)for(var e in t)for(var i=t[e][0];i<=t[e][1];i++)S.appendChild(L[i].dom)}function r(){for(var t=x.getData(w.height,A,3,w.subTemplates),e=0;e<L.length;e++)t.start<=e&&e<=t.end?S.contains(L[e].dom)||S.appendChild(L[e].dom):S.contains(L[e].dom)&&S.removeChild(L[e].dom);F=t}function o(t){if(t.hasChildNodes())for(var e=t.childNodes,i=0;i<e.length;i++)_.containsClass(e[i],"crownix-cxgrid-selection")&&t.removeChild(e[i])}function t(){T.bind("click",function(t){var e,i,n;j(L[t.selectedIndex].dom),t.isSelected?t.isMouseEvent&&t.isRightClick?I.show(0,L[t.selectedIndex].dom.offsetTop+L[t.selectedIndex].dom.offsetHeight/2):((n=document.createElement("div")).style.position="absolute",n.style["z-index"]=12,_.addClass(n,"crownix-cxgrid-selection"),i=n,e=L[t.selectedIndex].dom,R.push(t.selectedIndex),n=e,(i=i).style.width=n.style.width,i.style.height=n.style.height,n.appendChild(i),!t.isMouseEvent||t.isMouseEvent&&t.isRightClick?I.show(0,e.offsetTop+e.offsetHeight/2):I.hide()):(o(L[t.selectedIndex].dom),function(t){for(var e=0;e<R.length;e++)if(R[e]==t)return R.splice(e,1)}(t.selectedIndex),0<R.length?(e=R[R.length-1],e=L[e].dom,t.isMouseEvent?I.hide():I.show(0,parseInt(e.style.top)+parseInt(e.style.height)/2)):I.hide())})}function e(){return 0<R.length}function a(){R=[]}function s(){return[{label:N.get("insert_1_above"),handler:function(){var t;e()&&(t=Math.min.apply(null,R),U(),H(t,t),I.hide())}},{label:N.get("insert_1_below"),handler:function(){var t;e()&&(t=Math.max.apply(null,R),U(),H(t,t+1),I.hide())}},{label:N.get("delete_row"),handler:function(){e()&&(z(R),a(),I.hide())}}]}function l(){var t=i(),e=function(){for(var t=0;t<b.children.length;t++)if("crownix-cxgrid-header-container"==b.children[t].id)return b.children[t];return null}();y=document.createElement("div"),b.appendChild(y),y.setAttribute("id","crownix-cxgrid-body-container"),y.style.width=v.offsetWidth+"px",y.style.height=v.offsetHeight-e.offsetHeight+"px",C=document.createElement("div"),y.appendChild(C),C.setAttribute("id","crownix-cxgrid-body-body"),C.style["min-height"]=y.style.height,C.style.height=t+"px",k=document.createElement("table"),C.appendChild(k),k.setAttribute("id","crownix-cxgrid-body-table"),k.style.height=t+"px",S=document.createElement("tbody"),k.appendChild(S)}function h(t){return null==t["sub-template-idx"]?w:w.subTemplates[t["sub-template-idx"]]}function u(t,e){for(var i,n,r=(s=h(i=t),n=document.createElement("tr"),S.appendChild(n),n.setAttribute("id","crownix-cxgrid-body-table-row"),n.style.top=(null!=i["data-position-top"]?i["data-position-top"]:w.height*(S.children.length-1))+"px",n.style.width=s.width+"px",n.style.height=s.height+"px",n.addEventListener("click",function(){j(n)}),n),o=[],a=h(t).columns,s=void 0!==t["sub-template-idx"],l=0;l<a.length;l++){var d=a[l],d=new E(d,t[d.id],M.fieldController);d.setFieldIndex(B),d.setIsKeepDataCell(t["keep-data-row"]),d.paint(r,!c.isRepaint()),o.push(d)}s||B++,void 0===e&&(e=L.length),L.splice(e,0,{cellArray:o,dom:r})}function d(){for(var t in(F=x.getData(w.height,A,3,w.subTemplates)).data)u(F.data[t]),e=t,t=void 0,t=!x.isSubTemplateData(e)&&!x.isKeepDataRow(e),T.addRow(Number(L[e].dom.style.top.split("px")[0]),Number(L[e].dom.style.height.split("px")[0]),t);var e}function p(){w=c.getOptions().body,x=c.getData(),v=c.getParent(),b=c.getContent(),M=c.getOptions(),parentScroller=M.parentScroll,c.addEventHandler("onActive",q),c.addEventHandler("onInactive",G),l(),(A=new P(y,C)).paint(),A.bind("scroll",function(){r(),_.transform(T.getVerticalBody(),_.transform(C)),I.hide()}),I=new O(C,s(),A),(T=new D(b,y,C)).paint(),t(),T.hide(),d(),r()}function f(){var t=i();C.style.height=t+"px",k.style.height=t+"px"}function g(t){for(var e=x.getAllData(),i=t;i<L.length;i++)L[i].dom.style.top=(null!=e[i]["data-position-top"]?e[i]["data-position-top"]:w.height*i)+"px"}function m(t){for(var e=[],i=x.getAllData(),n=t;n<x.getAllData().length;n++)void 0===i[n]["sub-template-idx"]&&e.push(L[n]);return e}var w,x,v,b,y,C,k,S,T,I,M,A,F,E=m2soft.crownix.CxGridCell,P=m2soft.crownix.CxGridScroller,D=m2soft.crownix.CxGridAside,O=m2soft.crownix.CxGridMenu,_=m2soft.crownix.CxGridUtil,N=m2soft.crownix.CxGridResource,L=[],R=[],B=1,j=function(t){var e=parseInt(t.style.top),i=parseInt(t.style.height),t=A.isInScrollArea(e,e+i);t<0?A.scrollUsingByTopPosition(e):0<t&&A.scrollUsingByBottomPosition(e+i)},H=function(t,d){x.insert(t,d),f(),A.update();t=x.getAllData()[d];u(t,d),g(d),T.insertRow(d,Number(L[d].dom.style.top.split("px")[0]),Number(L[d].dom.style.height.split("px")[0]),!x.isSubTemplateData(d)),n([[0,L.length-1]]),function(){for(var t,e,i=m(d),n=0;n<i.length-1;n++)for(var r=i[n].cellArray,o=i[n+1].cellArray,a=0;a<r.length;a++){var s=r[a],l=o[a];s.isFormField()&&(t=l,l=e=void 0,e=(s=s).getFieldIndex(),l=t.getFieldIndex(),s.setFieldIndex("t"),t.setFieldIndex(e),s.setFieldIndex(l))}}(),r()},z=function(t){if(x.isKeepDataRow(t))console.log(N.get("cannot_delete_keep_row"));else if(x.isSubTemplateData(t))console.log(N.get("cannot_delete_summary_row"));else{if(t.sort(function(t,e){return e-t}),!x.getFilteringDataCnt(t))return U(),void console.log(N.get("cannot_delete_all_row"));x.deleteData(t),f(),A.update();var e=function(t){for(var e=[],i=0;i<t.length;i++){for(var n=L[t[i]],r=n.cellArray,o=0;o<r.length;o++){var a=r[o];a.isFormField()&&e.indexOf(a.getFieldIndex())<0&&(e.push(a.getFieldIndex()),B--),a.remove()}S.contains(n.dom)&&S.removeChild(n.dom),L.splice(t[i],1)}return e}(t);g(t[t.length-1]),T.deleteRows(t),n([[0,L.length-1]]),function(t){t.sort(function(t,e){return t-e});for(var e=m(t[0]-1),i=0;i<e.length;i++)for(var n=e[i].cellArray,r=0;r<n.length;r++){var o,a=n[r];!a.isFormField()||0<(o=function(t,e){for(var i=0;i<e.length;i++)if(t<e[i])return i;return e.length}(a.getFieldIndex(),t))&&a.setFieldIndex(a.getFieldIndex()-o)}}(e),r()}},q=function(){T&&T.show()},G=function(){U(),T&&T.hide(),I.hide()},U=function(){!function(){for(var t=0;t<R.length;t++)o(L[R[t]].dom)}(),T.cancelAllSelction(),a()};this.paint=function(){p()},this.getContainer=function(){return y},this.getBody=function(){return C},this.addRow=function(){U(),H(L.length-1,L.length)},this.removeRow=function(){U(),z([L.length-1])}},m2soft.ns("m2soft.crownix.CxGridHeader"),m2soft.crownix.CxGridHeader=function(e){function t(){o=e.getOptions().header,e.getParent(),a=e.getContent(),i=document.createElement("div"),a.appendChild(i),n=document.createElement("div"),i.appendChild(n),r=document.createElement("table"),n.appendChild(r),a=document.createElement("colgroup"),r.appendChild(a),a=document.createElement("tbody"),r.appendChild(a);var t=document.createElement("tr");a.appendChild(t),l.push(function(t){var e=o.columns;t.setAttribute("style","height: "+o.height+"px; width: 100%");for(var i=0,n=e.length;i<n;i++){var r=e[i],r=new s(r,r.text);r.paint(t),l.push(r)}return{array:[],dom:t}}(t)),i.setAttribute("id","crownix-cxgrid-header-container"),i.setAttribute("style","overflow: auto; width:"+o.width+"px; height: "+o.height+"px"),n.setAttribute("id","crownix-cxgrid-header-body"),r.setAttribute("id","crownix-cxgrid-header-table"),r.setAttribute("style","position: absolute; border-spacing: 0px; border-collapse: separate;")}var o,i,n,r,a,s=m2soft.crownix.CxGridCell,l=[];this.paint=function(){t()},this.getTable=function(){return r}},m2soft.ns("m2soft.crownix.CxGridData"),m2soft.crownix.CxGridData=function(t){function o(t){return null==t["sub-template-idx"]?e:e.subTemplates[t["sub-template-idx"]]}function a(t,e,i){for(var n=0,r=s.length-1;n<=r;){var o=Math.floor((r+n)/2);if(o==s.length-1)return o;if(s[o]["data-position-top"]<=i&&s[o+1]["data-position-top"]>i)return o;s[o]["data-position-top"]>i?r=o-1:n=o+1}}function i(t,e){t=t,function(t,e){for(var i in e.columns)t["column"+i]&&null!=e.columns[i].ffMml&&(t["column"+i]="")}(t=JSON.parse(JSON.stringify(s[t])),o(t)),t["keep-data-row"]=!1,s.splice(e,0,t)}var n=t.header.columns,s=t.data,e=t.body,r=function(t){if(!Array.isArray(t))return null!=s[t]["sub-template-idx"];for(var e=t,i=0;i<e.length;i++)if(null!=s[e[i]]["sub-template-idx"])return!0;return!1};this.setData=function(t){for(var e in s=[],t)s.push(function(t){var e,i=[];for(e in n)t[n[e].id]?i.push(t[n[e].id]):i.push("");return i}(t[e]))},this.getAllData=function(){return s},this.getData=function(t,e,i,n){var r={},r=n?function(t){t=t.getCurrentRect();return{start:a(0,0,t.top),end:a(0,0,t.bottom)}}(e):(n=t,t=((e=(t=e).getCurrentRect()).bottom-e.top)/n,n=Math.floor(e.top/n),t=Math.ceil(n+t),{start:n,end:t=t==s.length?s.length:t});return null!=i&&(r.start-=i,r.end+=i,r.start<0&&(r.start=0),r.end>=s.length&&(r.end=s.length-1)),{start:r.start,end:r.end,data:s}},this.getHeaderData=function(){return n},this.exportJsonForRD=function(){var t,e=[];for(t in s){var i,n={r:[]},r=o(s[t]);for(i in s[t])"keep-data-row"!==i&&"sub-template-idx"!==i&&"data-position-top"!==i&&(null!=r.columns[i.replace("column","")].ffMml?n.r.push(""):n.r.push(s[t][i]));null!=s[t]["sub-template-idx"]&&(n.sIdx=s[t]["sub-template-idx"]),e.push(n)}return e},this.insert=function(t,e){t=function(t){for(;r(t)&&0<=t;)t--;return t}(t);0<=t&&i(t,e)},this.deleteData=function(t){!function(t){for(var e=0;e<t.length;e++)s.splice(t[e],1)}(t)},this.isSubTemplateData=function(t){return r(t)},this.isKeepDataRow=function(t){if(!Array.isArray(t))return s[t]["keep-data-row"];for(var e=t,i=0;i<e.length;i++)if(s[e[i]]["keep-data-row"])return!0},this.getFilteringDataCnt=function(i){return s.filter(function(t,e){return-1==i.indexOf(e)&&null==t["sub-template-idx"]}).length}},m2soft.ns("m2soft.crownix.CxGrid"),m2soft.crownix.CxGrid=function(){function t(t){if(0<b[t].length)for(var e=0;e<b[t].length;e++)b[t][e]instanceof Function&&b[t][e](s)}function n(){t("onActive"),h.style.display="none",S(),a.parentScroll.disable&&a.parentScroll.disable(),y=!0}function e(){a.parentScroll&&(a.parentScroll.enable&&a.parentScroll.enable(),h.style.display="inline",t("onInactive"),document.body.removeEventListener("click",k,!0),document.body.removeEventListener("touchstart",k,!0),document.body.removeEventListener("wheel",k,!0)),y=!1}function i(){function t(e){if(e.stopPropagation(),y||n(),"wheel"==e.type)try{p.getBody().dispatchEvent(new WheelEvent("wheel",e))}catch(t){var i=document.createEvent("WheelEvent");i.initWheelEvent("wheel",!0,!0,e.view,e.detail,e.screenXArg,e.screenYArg,e.clientXArg,e.clientYArg,e.buttonArg,e.relatedTargetArg,e.modifiersListArg,e.deltaX,e.deltaY,e.deltaZ,e.deltaMode),p.getBody().dispatchEvent(i)}}h.addEventListener("mousedown",t),h.addEventListener("touchstart",t),h.addEventListener("wheel",t),h.addEventListener("mouseenter",function(t){t.stopPropagation(),a.parentScroll.disable&&a.parentScroll.disable()}),h.addEventListener("mouseleave",function(t){y||(t.stopPropagation(),a.parentScroll.enable&&a.parentScroll.enable())})}function r(){l=l||new f(a),u=new g(this),p=new m(this),footer=new w(this)}function o(){y=!1,h=document.createElement("div"),d.appendChild(h),h.setAttribute("id","crownix-cxgrid-active"),i(),c=document.createElement("div"),d.appendChild(c),c.setAttribute("id","crownix-cxgrid-content"),u.paint(),p.paint(),a.editable&&(footer.paint(),footer.addButtons([{label:v.get("add_row"),handler:function(){p.addRow()}},{label:v.get("delete_row"),handler:function(){p.removeRow()}}]),footer.hide())}var a,s,l,d,c,h,u,p,f=m2soft.crownix.CxGridData,g=m2soft.crownix.CxGridHeader,m=m2soft.crownix.CxGridBody,w=m2soft.crownix.CxGridFooter,x=m2soft.crownix.CxGridUtil,v=m2soft.crownix.CxGridResource,b={onActive:[],onInactive:[]},y=!1,C=!1,k=function(t){t=t,0<=x.eventPath(t).indexOf(d)||e()},S=function(){document.body.addEventListener("click",k,!0),document.body.addEventListener("touchstart",k,!0),document.body.addEventListener("wheel",k,!0)};this.build=function(t){s=(a=t).gridId,r.call(this)},this.paint=function(t,e){C=!0,function(t){if(!(d="string"==typeof t?document.getElementById(t):t))throw Error("[ERROR] cannot found element: "+d)}(t),a.fieldController=e.fieldController,a.parentScroll=e.parentScroll,r.call(this),o(),C=!1},this.getParent=function(){return d},this.getContent=function(){return c},this.getData=function(){return l},this.getHeader=function(){return u},this.getBody=function(){return p},this.getOptions=function(){return a},this.exportJsonForRD=function(){return{id:a.gridId,rows:l.exportJsonForRD()}},this.addEventHandler=function(t,e){"onActive"!==t&&"onInactive"!==t||b[t].push(e)},this.isRepaint=function(){return C},this.addRow=function(){p.getBody()&&p.addRow()},this.removeRow=function(){p.getBody()&&p.removeRow()},this.isEditable=function(){return a.editable},this.active=function(){n()},this.inactive=function(){e()}},m2soft.ns("m2soft.crownix.CxGridManager"),m2soft.crownix.CxGridManager=function(){function l(t,e,i,n){return(t=$(t)).attr("id",t.attr("id")+"-"+e),t.attr("idx",e),"rb"==t.attr("ty")&&t.attr("gi",t.attr("gi")+"-"+e),"sg"==t.attr("ty")||"pn"==t.attr("ty")||"im"==t.attr("ty")?t.attr("dt",n):"fl"==t.attr("ty")||"rec"==t.attr("ty")?t.attr("vl",n):"rb"==t.attr("ty")||"cb"==t.attr("ty")?t.attr("se",n):"co"==t.attr("ty")?t.attr("sv",n):t.text(n),i?t.attr("ed",0):t.attr("ed",1),t}var e=m2soft.crownix.CxGridWrapper,d={},c=function(t){for(var e in d)e!=t&&d[e].inactive()};this.paint=function(t,e,i){void 0!==d[t]&&d[t].paint(e,i)},this.exportGridParameter=function(){var t,e=[" /rdynamicgriddata "],i=[];for(t in e.push("["),d){var n=d[t];i.push(n.exportJsonForRD())}return e.push(JSON.stringify(i)),e.push("]"),e.push(" "),e.join("")},this.get=function(t){return new e(d[t])},this.inactive=function(){!function(){for(var t in d)d[t].inactive()}()},this.makeMmlElement=l,this.build=function(t,e,i){if(void 0===d[t]){e=(new m2soft.crownix.CxGridConverter).convert(e);e.gridId=t;var n=e.body.columns,r=e.data;d[t]=new m2soft.crownix.CxGrid,d[t].build(e);for(var o=0;o<r.length;o++)for(var a,s=0;s<n.length;s++)-1==Object.keys(r[o]).indexOf("sub-template-idx")&&n[s].ffMml&&(a=l(n[s].ffMml,o+1,r[o]["keep-data-row"],r[o]["column"+s]),i.call(a));d[t].addEventHandler("onActive",function(t){c(t)})}}},m2soft.ns("m2soft.crownix.CxGridConverter"),m2soft.crownix.CxGridConverter=function(){function r(t){var e,i={width:t.width/10.3,height:t.height/10.3,columns:[]};for(e in t.columns){var n=t.columns[e];n.id="column"+e,n.label=n.text,n.ffMml&&(n.ffMml=o.base64.utf8Decode(n.ffMml)),i.columns.push(n)}return i}var o=m2soft.crownix.Util;this.convert=function(t){var e={data:[]};e.header=r(t.template.header),e.body=r(t.template.row);var i,n=[];for(i in t.template.parentRow)n.push(r(t.template.parentRow[i]));return 0<n.length&&(e.body.subTemplates=n),e.data=function(t){var e,i=[],n=t.children,r=5==t.template.type||!t.isFormEditMode;for(e in n){var o,a={"keep-data-row":r},s=n[e].row;for(o in s)a["column"+o]=s[o];null!=n[e].parentRowIdx&&(a["sub-template-idx"]=n[e].parentRowIdx),i.push(a)}return i}(t),e.fieldController=t.fieldController,e.parentScroll=t.parentScroll,e.editable=t.isFormEditMode,e}},m2soft.ns("m2soft.crownix.CxGridFooter"),m2soft.crownix.CxGridFooter=function(t){function e(){r&&(r.style.display="table")}function i(){r&&(r.style.display="none")}function n(t){t=function(t){var e=document.createElement("div");e.setAttribute("id","crownix-cxgrid-footer-button-wrapper");var i=document.createElement("button");return i.innerText=t.label,i.setAttribute("id","crownix-cxgrid-footer-button"),i.addEventListener("click",function(){t.handler()}),e.appendChild(i),e}(t),r.appendChild(t)}var r,o=t.getParent(),a=function(){e()},s=function(){i()};this.paint=function(){r=document.createElement("div"),o.appendChild(r),r.setAttribute("id","crownix-cxgrid-footer"),r.style.top=o.offsetHeight-1+"px",r.style.left="-21px",r.style.width=o.offsetWidth+20-2+"px",r.style.height="40px",t.addEventHandler("onActive",a),t.addEventHandler("onInactive",s)},this.show=function(){e()},this.hide=function(){i()},this.addButtons=function(t){!function(t){for(var e=0;e<t.length;e++)n(t[e])}(t)}},m2soft.ns("m2soft.crownix.Thumbnail"),m2soft.crownix.Thumbnail=function(g){function m(t){$(this).on(x.browser.mobile?" touchend":w.end,{pageNumber:t.data.pageNumber},y)}function n(e){var t=g.thumbnail.getThumbnail();t.parents(".crownix-open").length&&t.each(function(){var t;"visible"==$(this).parent().css("visibility")&&(38==(t=e.keyCode||e.which)&&1!=g.currentPage&&g.viewer.movePage(g.isGroupReport?g.mrdGroupManager.getRelativePageNumber(g.currentPage-1):g.currentPage-1),40==t&&g.currentPage!=C()&&g.viewer.movePage(g.isGroupReport?g.mrdGroupManager.getRelativePageNumber(g.currentPage+1):g.currentPage+1))})}function r(){g.thumbnail.create()}var o,a,s,w=m2soft.crownix.Util.ActionEvents,x=m2soft.crownix.Util,v=[],t=$("<div>").css({position:"absolute",width:"100%",height:"100%"}).attr("id","crownix-thumbnail-wrapper"),b=$("<div>").css({position:"absolute",width:"100%","text-align":"center",margin:"auto"}).attr("id","crownix-thumbnail-scroller").appendTo(t),y=function(t){var e=t.data.pageNumber;10<Math.abs(o.distY)||g.currentPage==t.data.pageNumber||(o.enabled=!1,$(".crownix-thumbnail-canvas").removeClass("crownix-thumbnail-selected"),$(t.currentTarget).addClass("crownix-thumbnail-selected"),g.isGroupReport&&(g.options.scrollOptions.useInfiniteScroll&&(e=g.report.getDestPageNum(e)),e=g.mrdGroupManager.getRelativePageNumber(e)),g.viewer.movePage(e),$(this).off(x.browser.mobile?" touchend":w.end,y),g.options.slide.closeOnSelect&&g.slide.closeSlide())},C=function(){return(g.isGroupReport?g.mrdGroupManager.getCurrentMrdGroup():g).totalPage};this.getThumbnail=function(){return t},this.create=function(t){e=t,o&&o.destroy(),e||(v=[]),b.children().remove(),$(document).off("keydown",n),$(window).off("orientationchange",r);var e=g.report.getMaxRatioPage(),e=Math.floor(e.width/10.3)/Math.floor(e.height/10.3),u=.8*b.width(),p=.8*b.width()/e;t||(v=new Array(C())),s=$(window).height()/p*2;for(var i=0;i<s;i++)a=$("<div>").css({position:"absolute",width:"100%",margin:"auto"}).addClass("crownix-thumbnail-page"),$("<canvas>").addClass("crownix-thumbnail-canvas").attr({width:u,height:p}).appendTo(a),$("<div>").css({"margin-bottom":"10px",height:"20px"}).addClass("crownix-thumbnail-pageNo").appendTo(a),a.appendTo(b);var f=0;o=new m2soft.IScroll("#crownix-thumbnail-wrapper",{zoom:!1,scrollX:!1,scrollY:!0,scrollbars:"custom",interactiveScrollbars:!0,freeScroll:!0,keepCenter:!0,mouseWheel:!0,click:!0,infiniteElements:"#crownix-thumbnail-scroller .crownix-thumbnail-page",infiniteLimit:C(),dataset:function(t,e){e=v.slice(t,t+e);this.updateCache(t,e)},dataFiller:function(t,e,i,n){var r=parseInt(i)+1;if(C()<r)$(t).css("display","none");else{$(t).css("display","block");var o,a,s=$(t).find("canvas")[0],l=s.getContext("2d");if(l.canvas.width=l.canvas.width,l.clearRect(0,0,s.width,s.height),$(s).off(x.browser.mobile?" touchstart":w.start,m),$(s).off(x.browser.mobile?" touchend":w.end,y),$(t).find("div").text(r),g.isGroupReport&&(r=g.mrdGroupManager.getCurrentMrdGroup().getAbsolutePageNumber(r),g.options.scrollOptions.useInfiniteScroll&&(r=g.report.findPage(r)),i=r-1),v[i]){var d=v[i];x.base64.isImage(d)?((c=new Image).src=d,c.onload=(o=c,a=i,function(){l.drawImage(o,0,0,s.width,s.height),v[a]=l.getImageData(0,0,s.width,s.height)})):(s.width=d.width,s.height=d.height,l.putImageData(d,0,0))}else if(g.editor&&g.editor.isAddedPage(r)||g.scanPage&&g.scanPage.isAddedPage(r)){var c=g.scanPage&&g.scanPage.isAddedPage(r)?g.scanPage:g.editor,d=r-(C()-c.getAddedPages().length)-1;c==g.scanPage?(f++,c.drawPage(d,function(t){s.width=u<p?Math.min(b.width()*t.width/t.height,u):Math.min(p*t.width/t.height,u),s.height=s.width*t.height/t.width,l.drawImage(t,0,0,s.width,s.height),v[i]=l.getImageData(0,0,s.width,s.height),--f,v.length==g.totalPage&&0==f&&m2soft.crownix.ChannelManager.getChannel("scanAttach:lastPage").publish()})):v[i]=c.getAddedPages()[d].page}else if(n)$(s).width()&&(new m2soft.crownix.ImageConverter).convertPage(g.report,r,s,function(t,e){v[t-1]=e,setTimeout(l.resotore,0)},C());else{l.save(),l.fillStyle="#FFFFFF",l.fillRect(0,0,s.width,s.height),l.fillStyle="#424949",l.font='Italic 15px "Arial"',l.textAlign="center",l.textBaseline="middle",l.fillText("Loading",s.width/2,s.height/2+20),l.fillStyle="#A6ACAF";for(var h=0;h<360;h+=40)l.beginPath(),l.arc(s.width/2+10*Math.cos(Math.PI/180*h),s.height/2+10*Math.sin(Math.PI/180*h),1+h/40*.2,0,2*Math.PI,!0),l.fill(),l.closePath();l.restore()}$(s).on(x.browser.mobile?" touchstart":w.start,{pageNumber:r},m),g.currentPage==i+1?$(s).addClass("crownix-thumbnail-selected"):$(s).removeClass("crownix-thumbnail-selected"),$(s).height()!=Math.floor(p)?$(t).css("top",(p-s.height)/2):$(t).css("top","none")}},cacheSize:20,bounce:!1}),$(document).on("keydown",n),$(window).on("orientationchange",r)},this.scrollPage=function(t){var e,i;o&&(i=t*o.infiniteElementHeight,e=-(t-1)*o.infiniteElementHeight,t=Math.floor(o.wrapperHeight/o.infiniteElementHeight),t=Math.max(o.infiniteElementHeight*t-i,o.maxScrollY),i=Math.abs(o.y-e)>o.infiniteElementHeight,t<o.y?o.scrollTo(0,Math.max(e,t),i?10:500):e>o.y?o.scrollTo(0,e,i?10:500):o.enabled&&(o.isAnimating?o.scrollTo(0,e,i?10:500):o.refresh()),o.enabled=!0)},this.getImagesLength=function(){return v.length}},m2soft.ns("m2soft.crownix.Slide"),m2soft.crownix.Slide=function(){function r(){d&&d.css("top",l.height()/2-d.height()/2)}function o(t){var e;C||(e=$(t.target),l.hasClass("crownix-open")?(l.removeClass("crownix-open"),e.addClass("crownix-right-arrow"),e.removeClass("crownix-left-arrow"),l.css("left",b-l.width()+200),u.hasClass("web-accessibility")&&(e.attr("aria-label",m.get("slide")+" "+m.get("open")),$("#table-of-contents .tree-item, #table-of-contents .expanded").attr("tabindex","-1"))):(l.addClass("crownix-open"),e.removeClass("crownix-right-arrow"),e.addClass("crownix-left-arrow"),l.css("left",b),u.hasClass("web-accessibility")&&(e.attr("aria-label",m.get("slide")+" "+m.get("close_overlay")),$("#table-of-contents .tree-item, #table-of-contents .expanded").attr("tabindex","0"))),t.isTrigger||s.search.destroy()&&I())}function n(){l.hasClass("crownix-open")?u.attr("style","top: "+y+"px;left:"+(l.width()+b)+"px !important;width: "+(u.parent().width()-l.width())+"px;"):u.attr("style","top: "+y+"px;left:"+b+"px !important;width: 100%;")}function a(){l.css({top:y,height:u.height(),"z-index":u.hasClass("web-accessibility")?1:0})}function t(t,e){u=$("#"+w.CONTAINER_ID),s=e,function(t){s.options.slide.fixedLayout&&!f.browser.mobile&&(p=new P),v=0;var e=F(s.options.slide.initSizeMenu);l=$("<div>").addClass("crownix-slide").attr("style","left:"+(200-e)+"px !important").width(e),p?u.hasClass("web-accessibility")?l.insertBefore("#"+t):l.insertAfter("#"+t):l.appendTo("#"+t),t=$("<div>").addClass("crownix-tab-menu").appendTo(l),c=$("<div>").addClass("crownix-tab-content").appendTo(l),h=$("<ul>").addClass("crownix-tab-button-group").appendTo(t),i.getChannel("toolbar:changeToolbarState").subscribe(k),p&&(i.getChannel("toolbar:changeToolbarState").subscribe(p.updateToolbarStateInFixedLayout),i.getChannel("theme:changeTheme").subscribe(E)),window.addEventListener("orientationchange",M,!1)}(t),g=m2soft.crownix.Util.ActionEvents,this.closeSlide=function(){l.is(".crownix-open")&&d.trigger(f.browser.mobile?"touchend":g.end)},this.openSlide=function(t){t&&$("#"+t).trigger(f.browser.mobile?"touchend":g.end),l.is(".crownix-open")||d.trigger(f.browser.mobile?"touchend":g.end)}}var s,l,d,c,h,e,u,p,f=m2soft.crownix.Util,g=m2soft.crownix.Util.ActionEvents,i=m2soft.crownix.ChannelManager,m=m2soft.crownix.Resource,w=m2soft.crownix.Constant,x=m2soft.crownix.AccessibilityHelper,v=0,b=-1,y=0,C=!1,k=function(t){var e=t.isHide?0:parseFloat(t.theme.toolbarWidth)*t.scale,i=t.direction;t.isFloating&&("top"==i?(l.css("top",e),l.height(l.height-e)):"left"==i?b=t.isHide?e:20+e:"bottom"==i&&l.height(l.height-e)),"left"==i&&(l.hasClass("crownix-open")?l.css("left",b):l.css("left",b-l.width()+200))},S=function(t){h.children().each(function(){$(this).attr("id")==$(t.currentTarget).attr("id")?$(this).addClass("crownix-tab-background"):$(this).removeClass("crownix-tab-background")}),c.children().each(function(){$(this).attr("id")==$(t.currentTarget).attr("id")?($(this).css("visibility","visible"),e=$(this)):$(this).css("visibility","hidden")})},T=function(){h.children().sort(function(t,e){t=$(t).data("priority"),e=$(e).data("priority");return void 0===t&&void 0===e?0:void 0===t||void 0!==e&&e<t?1:-1}).appendTo(h),I()},I=function(){0<h.children().length&&h.children().eq(0).trigger(f.browser.mobile?"touchstart":g.start)},M=function(){window.addEventListener("resize",A,!1)},A=function(){F(l.width())},F=function(t){return isNaN(t)&&-1!=t.indexOf("%")&&(t=u.parent().width()*parseInt(t)/100),200<u.parent().width()/2?Math.max(200,Math.min(t,u.parent().width()/2)):(Math.max(u.parent().width()/2),Math.min(t,200))},E=function(){s.toolbar.isHideToolbar()||"top"!=s.toolbar.getDirection()||(y=s.toolbar.getHeight(),n(),a())},P=function(){function t(t){C||(n(),l.hasClass("crownix-open")?e.on():e.off(),s.scroll&&s.scroll.refresh())}var e=new function(){function t(t){t.preventDefault(),t.stopPropagation(),C=!1,$(window).on(g.move,e),$(window).on(g.end,i)}var e=function(t){t.preventDefault(),t.stopPropagation(),5<Math.abs(t.originalEvent.offsetX)&&(C=!0,p.offToggleSlide(),l.addClass("crownix-slide-drag"));t=F(t.originalEvent.x-b-u.parent().position().left);l.css({width:t}),d.css({left:t}),u.attr("style","top: "+y+"px;left:"+(t+b)+"px !important;width: "+(u.parent().width()-t-b)+"px;")},i=function(t){t.preventDefault(),t.stopPropagation(),s.scroll.refresh(),s.tableOfContents&&s.tableOfContents.refreshScroll(),s.formManager.validator&&s.formManager.validator.updateScroll(),$(window).off(g.move,e),$(window).off(g.end,i),C&&(p.onToggleSlide(),l.removeClass("crownix-slide-drag"))};this.on=function(){d.on(g.start,t)},this.off=function(){d.off(g.start,t),$(window).off(g.move,e),$(window).off(g.end,i)}};this.updateToolbarStateInFixedLayout=function(t){var e=t.isHide?0:parseFloat(t.theme.toolbarWidth)*t.scale,i=t.direction;"top"==i&&(y=e),t.isFloating?("left"==i&&(l.hasClass("crownix-open")||u.attr("style","left: 0px !important")),n(),a()):("left"==i&&(b=20+e),t.isHide||(n(),a()))},this.onToggleSlide=function(){d.on(f.browser.mobile?"touchend":g.end,o),d.on(g.end,t)},this.offToggleSlide=function(){d.off(f.browser.mobile?"touchend":g.end,o),d.off(g.end,t)}};return t.prototype={moveSlideToggleBtn:function(){r()},addSlideTab:function(t,e,i){$(".crownix-slide").css("display","block");var n="crownix-tab"+v++,t=$('<li tabindex="0">').addClass("crownix-tab").html("<h4>"+t+"</h4>").attr("id",n).data("priority",i).on(f.browser.mobile?"touchstart":g.start,S),i=$("<div>").attr("id",n).data("priority",i).appendTo(c);return h.children().length||((d=u.hasClass("web-accessibility")?$("<button>"):$("<div>")).addClass("crownix-slide-toggle").addClass("crownix-right-arrow").css("left",l.width()).attr("aria-label",m.get("slide")+" "+m.get("open")).appendTo(l),r(),p?p.onToggleSlide():d.on(f.browser.mobile?"touchend":g.end,o),u.hasClass("web-accessibility")&&x.delegate(d,g.end),s.options.slide.keepSpread&&d.trigger(f.browser.mobile?"touchend":g.end)),u.hasClass("web-accessibility")&&x.delegate(t,g.start),$(".crownix-tab").width(100/(h.children().length+1)+"%"),t.appendTo(h),$(e).appendTo(i),T(),n},destroySlide:function(){$(".crownix-slide").remove(),window.removeEventListener("orientationchange",M,!1),window.removeEventListener("resize",A,!1)},removeTab:function(t){t=t,$(".crownix-slide .crownix-tab-menu .crownix-tab-button-group #"+t).remove(),$(".crownix-slide .crownix-tab-content #"+t).remove(),0===h.children().length?(l.hasClass("crownix-open")&&d.trigger(f.browser.mobile?"touchend":g.end),l.css("display","none"),d&&d.remove()):I()},redraw:function(t,e){t=t,e=e,(t=$(".crownix-slide .crownix-tab-content #"+t)).empty(),e.appendTo(t)},getSlide:function(){return l},getSelectedTab:function(){return e},isSelectedTab:function(t){return e&&e[0].id==t},isOpen:function(){return l.hasClass("crownix-open")}},$(window).resize(function(){p&&(F(l.width()),n(),a()),m2soft.crownix.Slide.prototype.moveSlideToggleBtn()}),t}(),m2soft.ns("m2soft.crownix.TableOfContents"),m2soft.crownix.TableOfContents=function(t){function e(){l&&l.refresh()}function n(t){var e,n=function(t){for(var e,i=0;i<t.length;i++)e=t[i],e.pg+=r,e.cdr&&n(e.cdr)},r=(e=0,b.editor&&(e+=b.editor.getAddedPages().length),b.scanPage&&(e+=b.scanPage.getAddedPages().length),d-e);n(t.cdr)}function r(){for(var t,e=[],i=0;i<I.length;i++)e.push(I[i]);for(t in f)for(var n=f[t],i=0;i<n.length;i++)e.push(n[i]);return e}var i,o,a,s,l,d,x=m2soft.crownix.Resource,v=m2soft.crownix.Util,c=m2soft.crownix.ChannelManager,h=m2soft.crownix.AccessibilityHelper,b=t,y=b.options,C="table-of-contents-container",u="table-of-contents",k=$('<div id="'+C+'">'),S=$('<div id="'+u+'">'),T=$('<div id="table-of-contents-focus" tabindex="-1" class="crownix-virtual-cursor">'),p=!1,I=void 0,f=[],M=function(){var t;"boolean"==typeof y.useTableOfContents&&!0===y.useTableOfContents?(i="#00D8FF",o="#AFE1FF"):"object"==typeof y.useTableOfContents&&(t=y.useTableOfContents.highlight,i=t&&t.field||"#00D8FF",o=t&&t.tree||"#AFE1FF"),a={"-webkit-box-shadow":"0px 0px 3px 3px "+i,"-moz-box-shadow":"0px 0px 3px 3px "+i,"box-shadow":"0px 0px 3px 3px "+i},s={"background-color":o}},A=function(){for(var t=v.browser.mobile,e=t?"touchstart":"click",i=document.querySelectorAll("#"+u+" .expanded"),n=document.querySelectorAll("#"+u+" .tree-item"),r=0,o=i.length;r<o;r++)i[r].addEventListener(e,m),b.containerDom.hasClass("web-accessibility")&&h.delegate(i[r],e);for(r=0,o=n.length;r<o;r++)n[r].addEventListener(e,g),t||n[r].addEventListener("dblclick",m),b.containerDom.hasClass("web-accessibility")&&h.delegate(n[r],e)},g=function(t){var e,i;t.preventDefault(),t.stopPropagation(),$(this).hasClass("label")||(0<(e=b.isGroupReport?parseInt($(this).attr("pg")):b.report.getDestPageNum($(this).attr("pg")))?b.containerDom.hasClass("web-accessibility")||E($(this)):($("#"+u+" .selected").removeClass("selected").css("background-color","transparent"),T.css({display:"none"})),b.containerDom.hasClass("web-accessibility")&&$(t.target).focus(),b.options.scrollOptions.useInfiniteScroll?(t=b.documentScroller.getCurrentPageNumber(),(t=b.isGroupReport?b.mrdGroupManager.getRelativePageNumber(b.report.getDestPageNum(t)):t)!==e&&b.viewer.movePage(e)):b.currentPage!==e?(p=!0,b.containerDom.hasClass("web-accessibility")&&(i=document.activeElement,c.getChannel("viewer:onDrawPage").subscribe(function(){null!==i&&i.focus()})),b.viewer.movePage(e)):w(T),b.options.slide.closeOnSelect&&b.slide.closeSlide())},m=function(t){t.preventDefault(),t.stopPropagation();var e=$(this),t=e.siblings("ul");(e.hasClass("opened")?P:D)(t),e.toggleClass("opened"),("SPAN"===e[0].tagName?e.prev():e.next()).toggleClass("opened"),b.containerDom.hasClass("web-accessibility")&&(e.focus(),e.attr("aria-label",e.hasClass("opened")?x.get("fold"):x.get("view_more")))},F=function(t){if($("#"+u+" .selected").removeClass("selected").css("background-color","transparent"),T.hide(),y.useTableOfContents&&y.useTableOfContents.highlight&&!0===y.useTableOfContents.highlight.pageSync)for(var e,i=$("#"+u),n=t;0<n;n--)if((e=i.find('span.tree-item.field[pg="'+n+'"]'))&&0<e.length){$(e[e.length-1]).addClass("selected").css(s);break}},w=function(t){var e=b.containerDom,i=b.scroll,n=t.position(),r=t.offset(),t=e.offset();(v.browser.mobile||t.left>r.left||t.top>r.top||t.left+e.outerWidth()<r.left||t.top+e.outerHeight()<r.top)&&setTimeout(function(){var t=-n.left,e=45-n.top+$(document).scrollTop();0<t?t=0:t<i.maxScrollX&&(t=i.maxScrollX),0<e?e=0:e<i.maxScrollY&&(e=i.maxScrollY),i.scrollToKeepCenter(t,e,0)},v.browser.mobile?500:0)},E=function(t,e){var i=m2soft.crownix.Painter.adjustCoord,n=i(t.attr("le")),r=i(t.attr("to")),o=i(t.attr("ri"))-n,i=i(t.attr("bo"))-r;T.css({left:n,top:r,width:o,height:i,display:"block"}).focus(),$("#"+u+" .selected").removeClass("selected").css("background-color","transparent"),t.addClass("selected").css(s)},P=function(t){t.css({display:"none"}),e()},D=function(t){t.css({display:"block"}),e()};this.onDrawPage=function(t,e){t=t,e=e,T.prependTo(t),p?(p=!p,w(T)):F(e)},this.onRemovePage=function(t){var e;e=t,$("#"+u+" ul > span").filter(function(){var t=Number($(this).attr("pg"));return-1!=e.indexOf(t)}).parent().css("display","none")},this.onRestorePage=function(t){var e;e=t,e=[].slice.call(e),$("#"+u+" ul > span").filter(function(){var t=Number($(this).attr("pg"));return-1!=e.indexOf(t)}).parent().css("display","block")},this.makeDom=function(t,e){var t=t,u=[],p="",f=y.useTableOfContents&&y.useTableOfContents.format,g=f&&f.level;void 0===I&&(I=t,d=b.totalPage);function m(){p+="</ul>"}for(var w=function(t,e){for(var i,n,r,o,a,s,l,d,c=0,h=t.length;c<h;c++)i=t[c],n=t[c+1],o=!1,(r=i.tl)&&u[e]!==r&&(u[e]=r,d=i,p+=0<e?'<ul style="display:none;">':"<ul>",p+='<label class="expanded"></label>',p+='<span class="tree-item label">',p+=v.escapeXmlEntities(d.tl),p+="</span>",o=!0),a=e,l=s=void 0,s=(d=i).rt,l=d.dt,f&&"string"==typeof f.text&&(!g||0===g.length||v.isArray(g)&&-1<g.indexOf(a+1))&&(l=f.text.replace(/{text}/gi,l).replace(/{page}/gi,d.pg)),p+=0<a||d.tl?'<ul style="display:none;">':"<ul>",d.cdr?p+='<label tabindex="-1" role="button" aria-label="'+x.get("view_more")+'" class="expanded"></label>':p+='<label tabindex="-1" class="expanded" style="visibility: hidden;"></label>',p+='<span tabindex="-1" class="tree-item field"',p+=' pg="'+d.pg+'"',p+=' le="'+s.le+'"',p+=' to="'+s.to+'"',p+=' ri="'+s.ri+'"',p+=' bo="'+s.bo+'"',p+=">",p+=v.escapeXmlEntities(l),p+="</span>",i.cdr&&w(i.cdr,e+1),o?void 0!==n&&n.tl&&n.tl===u[e]||m():r&&void 0===n&&m(),m(),c===h-1&&(u[e]=null)},i=0,n=t.length;i<n;i++)w(t[i].cdr,0);S[0].innerHTML=p,k[0].appendChild(S[0]),e||b.slide.addSlideTab(x.get("table_of_contents"),k,0),l=l||new m2soft.IScroll("#"+C,{scrollY:!0,scrollX:!0,scrollbars:!0,freeScroll:!0,interactiveScrollbars:!0,mouseWheel:!0,doubleTap:!1}),A(),M(),T.css(a),F(1)},this.append=function(t,e){f[e]=t;for(var i=0;i<t.length;i++)n(t[i]);d=b.totalPage,this.makeDom(r(),!0)},this.remove=function(t){delete f[t],d=b.totalPage,this.makeDom(r(),!0)},this.refreshScroll=function(){e()}},m2soft.ns("m2soft.crownix.Search"),m2soft.crownix.Search=function(){var u,e,i,n,r,o,a,s,c,l,d,h,p,f,g,m,w=m2soft.crownix.Resource,t=m2soft.crownix.resource.Icon,x=m2soft.crownix.Util,v=m2soft.crownix.Ajax,b=m2soft.crownix.Map,y=m2soft.crownix.ChannelManager,C=[],k=[],S=!1,T=void 0,I=!1,M=$(t.SEARCH_ICON).css({width:23,height:23}),A=$(t.SEARCH_CANCEL).css({width:23,height:23}),F=function(t){D(),x.browser.mobile&&o.blur(),$(this).hasClass("crownix-search-icon")?E()&&($(this).removeClass("crownix-search-icon"),$(this).empty(),A.appendTo($(this)),g="",O().fail(function(t){u.dialog.show(t.message)})):($(this).addClass("crownix-search-icon"),$(this).empty(),M.appendTo($(this)),o.val(""),p="",U())},E=function(){if(!p)return!1;try{f=T?new RegExp(p,"gi"):new RegExp(p.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi")}catch(t){return u.dialog.show(w.get("search_reg_error")),!1}return!0},P=function(t){t=window.event?t.which:t.keyCode;(!(p=$(this).val())&&!a.hasClass("crownix-search-icon")||p&&13==t&&a.hasClass("crownix-search-icon"))&&a.trigger("click"),13!=t&&(a.addClass("crownix-search-icon"),a.empty(),M.appendTo(a))},D=function(){C=[],n.empty(),r.empty(),o.focus()},O=function(){var i=$.Deferred();if(!p)return i;if(u.stateLess||u.report.isLoadTotalPage()){I=!0;for(var t,e=1;e<=u.totalPage;e++)u.report.hasPage(e)&&(t=$(u.report.getPage(e)),N(t,e)),e==u.totalPage&&(L(),B())}else{I=!1;var n=new v;n.setConnectTimeout(u.options.timeout),n.setHandler({done:function(t){void 0===t.responseText||0<=t.responseText.indexOf("[ERS-")?i.reject({status:!1,code:"error",message:w.get("search_server_error")}):(_(t.responseText,u.options.searchOption),i.resolve())},error:function(t,e){i.reject({status:!1,code:"error",message:w.get("search_server_error")})},abort:function(){i.reject({status:!1,code:"error",message:w.get("search_server_error")})},timeout:function(){i.reject({status:!1,code:"error",message:w.get("search_server_error")})}});var r={opcode:711,rdid:u.rdid,option:"all"==u.options.searchOption?u.options.searchOption:"page",reg:T||"",text:T?f.toString().slice(f.toString().indexOf("/")+1,f.toString().lastIndexOf("/")):p,protocol:"sync"};u.options.enableSecure&&(n.setRequestHeader("crownix-rdid",u.rdid),n.setRequestHeader("crownix-encrypt-type","parameter")),n.invoke(m+(u.rdid?"?rdid="+u.rdid:""),r)}return i},_=function(t,e){D(),"all"==e?(C=JSON.parse(t),L()):(k=t.split(","),t&&R()),B()},N=function(t,o,e,i){var a=e,s=i;!t.children().length&&e&&(e=u.layerManager.getLayer(e),t=0<(e=i?$(e.group[i].mml):$(e.mml)).find("PG").length?e.find("PG"):e.children()),t&&t.children().each(function(){var t,e=$(this),i=this.tagName.toUpperCase();if("TL"===i)t="1"===e.attr("ft")||"2"===e.attr("ft")?x.formatPageNumber(e.text(),u.report.getPageInfo(o,e.attr("ft"))):e.text();else if("FF"===i){var n=e.attr("ty"),r=u.formManager.getField(e.attr("fi"),e.attr("id"));if(r&&"1"===r.commonHidden)return;u.isFormEditMode&&r?"cb"===n||"rb"===n?t=r.getLabel():"fl"===n?t=r.getValue():"co"===n?t=r.getDisplayValue():"tf"===n||"ta"===n?"1"!=e.attr("pw")&&"1"!=e.attr("hd")&&(t=r.getValue()):"pn"===n?t=r.getBackgroundText():"sm"===n&&(t=e.text()):"sm"===n?t=e.text():"fl"===n?t=e.attr("vl")&&e.attr("vl").substring(e.attr("vl").lastIndexOf("/")+1):"cb"===n||"rb"===n?t=e.attr("lb"):"co"===n?t=e.attr("sv"):"pn"===n?t=e.attr("bt"):"tf"!==n&&"ta"!==n||"1"!=e.attr("pw")&&"1"!=e.attr("hd")&&(t=e.text())}else"PR"===i||"TB"===i||"TE"===i||"FC"===i||"SO"===i||"SG"===i||"LY"===i||"CL"===i?N(e,o,e.attr("id")):"LE"===i&&N(e,o,a,e.attr("id"));t&&null!==t.match(f)&&0<t.length&&C.push({page:o,text:t,element:e[0],layer:a,cardLayer:s})})},L=function(){$("<div>").css({float:"left","word-wrap":"break-word"}).text(w.get("validate_invalid_count").replace("%d",C.length).replace(/[(|)]/g,"")).appendTo(n),C.length&&R()},R=function(){l=$("<div>").css({float:"left","margin-top":x.browser.mobile||x.browser.firefox?"":x.browser.msie||x.browser.edge?"2px":"3px","word-wrap":"break-word"}).appendTo(n);var t=$("<div>").css({float:"right","margin-right":"10px"}).appendTo(n);$("<button>",{type:"button"}).on("click",function(){S=!1,G("minus")}).addClass("crownix-search-order-button").text("<").appendTo(t),$("<button>",{type:"button"}).on("click",function(){S=!1,G("plus")}).addClass("crownix-search-order-button").text(">").appendTo(t)},B=function(){s=$("<div>").css({position:"absolute",top:n.outerHeight()+69,width:"100%",height:e.height()-e.offset().top,overflow:"hidden"}).addClass("crownix-search-wrapper"),d=$("<div>").appendTo(s),(u.stateLess||"all"==u.options.searchOption||u.report.isLoadTotalPage()?j:H)(),s.appendTo(r),c=new m2soft.IScroll(".crownix-search-wrapper",{scrollY:!0,scrollX:!0,scrollbars:!0,freeScroll:!0,interactiveScrollbars:!0,mouseWheel:!0,doubleTap:!1}),window.addEventListener("resize",z)},j=function(){for(var t,e=[],i=0,n=0;n<C.length;n++){var r=C[n].page;e.length&&-1!=e.indexOf(r)||(i=0,e.push(r),pageCount=$("<div>").addClass("crownix-search-pagecount").appendTo(d),t=$("<ul>").addClass("crownix-search-page").data("page",r).appendTo(d)),pageCount.text(w.get("page_no").replace("%d",r)+w.get("validate_invalid_count").replace("%d",++i)),q(C[n]).appendTo(t)}W()},H=function(){for(var t=u.options.scrollOptions.useInfiniteScroll?u.documentScroller.getCurrentPageNumber():u.currentPage,e=0;e<k.length;e++){var i=parseInt(k[e]),n=$("<div>").addClass("crownix-search-pagecount").text(isNaN(i)?w.get("search_not_page"):w.get("page_no").replace("%d",i)).css("cursor","pointer").data("page",i).on("click touchend",function(){isNaN(i)||t==$(this).data("page")||u.viewer.movePage(u.isGroupReport?u.mrdGroupManager.getRelativePageNumber($(this).data("page")):$(this).data("page"))}).appendTo(d),r=$("<ul>").addClass("crownix-search-page").data("page",i).appendTo(d);t==i&&function(t){var e=$(u.report.getPage(t));N(e,t),n.text(w.get("page_no").replace("%d",t)+w.get("validate_invalid_count").replace("%d",C.length));for(var i=0;i<C.length;i++)q(C[i]).appendTo(r);W()}(i),e==k.length-1&&c&&c.refresh()}},z=function(){s.css("height",e.height()-e.offset().top),c.refresh()},q=function(e){for(var t=e.text,i=new b,n="",r=0;r<t.length;r++){var o=f.exec(t);null!=o&&i.put(o.index,o[0])}var a,s=0,l=i.toObject();for(a in l){var d=l[a].length;n+=t.substring(s,a),n+=t.substr(a,d).bold(),s=parseInt(a)+d}return s!=t.length&&(n+=t.substr(s,t.length)),$('<li><div style = "display: inline;">'+n+"</div></li>").css("background",J(e)?"gray":"none").hover(function(){$(this).css("background","lightgrey")},function(){$(this).css("background",J(e)?"gray":"none")}).data("moveTarget",e).on("click touchend",function(t){10<Math.abs(c.distY)||(S=!1,g=J($(t.currentTarget).data("moveTarget"))?"":$(t.currentTarget).data("moveTarget"),t=u.options.scrollOptions.useInfiniteScroll?u.documentScroller.getCurrentPageNumber():u.currentPage,u.options.scrollOptions.useInfiniteScroll?t!=e.page?(y.getChannel("viewer:onDrawPage").subscribe(G),u.documentScroller.scrollToPage(e.page,u.documentScroller.drawVisiblePages.bind(null,!0))):G():(t!=e.page&&u.viewer.movePage(u.isGroupReport?u.mrdGroupManager.getRelativePageNumber(e.page):e.page),G()))})},G=function(t){var e=$.map(C,function(t,e){if(J(t))return e+1})[0];if("plus"==t){if(e==C.length)return;g||(e=0),g=C[++e-1]}else if("minus"==t){if(1==e)return;g=C[--e-1]}l&&l.text(e?"("+e+")":""),s.find("li").each(function(t){J(C[t])?(c.scrollToElement(this,500),$(this).css("background","gray")):$(this).css("background","none")}),u.options.scrollOptions.useInfiniteScroll?t&&g&&u.documentScroller.getCurrentPageNumber()!=g.page?(y.getChannel("viewer:onDrawPage").subscribe(W),u.documentScroller.scrollToPage(g.page,u.documentScroller.drawVisiblePages.bind(null,!0))):W():(t&&g&&u.currentPage!=g.page&&u.viewer.movePage(u.isGroupReport?u.mrdGroupManager.getRelativePageNumber(g.page):g.page),W())},U=function(){$(".crownix-search-mark").empty(),$(".crownix-search-mark-layer").empty()},W=function(){U();for(var t=u.options.scrollOptions.useInfiniteScroll?u.documentScroller.getCurrentPageNumber():u.currentPage,e=0;e<C.length;e++)if(C[e].page==t){if(u.drilldownManager.hasOpenedDrilldown(C[e].page))return;var i,n,r,o=C[e].element,a=C[e].layer,s=C[e].cardLayer;a&&(r=u.layerManager.getLayer(s?C[e].cardLayer:C[e].layer),g&&J(C[e])&&!S&&(S=!0,u.layerManager.getLayer(C[e].layer).show(C[e].cardLayer)),i=r.mrdPath,n=r.boundary);var l=V($(o).attr("le"),a)-(i?V(n.left,a):0),d=V($(o).attr("to"),a)-(i?V(n.top,a):0),c=V($(o).attr("ri"),a)-l-(i?V(n.left,a):0),o=V($(o).attr("bo"),a)-d-(i?V(n.top,a):0);h=s?$(".crownix-search-mark-"+C[e].cardLayer):a?$(".crownix-search-mark-"+C[e].layer):u.options.scrollOptions.useInfiniteScroll?(h=u.documentScroller.getPageFrame(t),$(h.querySelector(".crownix-search-mark"))):$(".crownix-search-mark");var h=$("<div>").css({position:"absolute",left:l,top:d,width:c,height:o,background:J(C[e])?"rgba(255, 141, 0, 0.37)":"rgba(255, 255, 0, 0.28)"}).appendTo(h);h[0]&&J(C[e])&&(u.scroll.scrollToElement(h[0],500),r&&r.scroll.scrollToElement(h[0],500))}},V=function(t,e){return m2soft.crownix.Painter.adjustCoord(t,0,e?0:void 0)},J=function(t){return t&&g&&JSON.stringify(t)==JSON.stringify(g)&&t.element.outerHTML==g.element.outerHTML},t=function(t,e){u=t,m=e};return t.prototype={open:function(){e||(e=$("<div>").addClass("crownix-search-slide"),h=u.slide.addSlideTab(w.get("search"),e),function(){i=$("<div>").css("display","list-item").addClass("crownix-search-top").appendTo(e),o=$("<input>").css({position:"absolute",width:i.width()-7,height:"20px",border:"1px solid #737373c2",margin:"2px",padding:"1px 0px"}).attr("placeholder",w.get("search")).appendTo(i).on("keyup",P).focus(),a=$("<button>").css({position:"absolute",height:o.innerHeight(),padding:0,right:0,border:"none",background:"transparent",cursor:"pointer",margin:"3px"}).on("click touchstart",F).hover(function(){$(this).css("background","lightgrey")},function(){$(this).css("background","white")}).addClass("crownix-search-toggle crownix-search-icon").appendTo(i),M.appendTo(a);var t=$("<div>").css({position:"absolute",top:23}).on("click touchend",function(){T=$(this).find("input").is(":checked")?"1":""}).appendTo(i);$("<input>").attr({type:"checkbox",id:"crownix-search-regCheck"}).css("margin","10px").appendTo(t),$("<label>").css("font-size","10pt").attr("for","crownix-search-regCheck").text(w.get("search_reg")).appendTo(t),n=$("<div>").css({position:"absolute",top:69,width:"100%",padding:"5px"}).addClass("crownix-search-middle").appendTo(e),r=$("<div>").addClass("crownix-search-bottom").appendTo(e)}()),u.slide.openSlide(h)},destroy:function(t){return t&&u.toolbar.disableToolbarItem(["search"]),!!e&&(a.hasClass("crownix-search-icon")&&!r.children().length||t?(a=e=void 0,u.slide.removeTab(h),window.removeEventListener("resize",z),!0):void 0)},refresh:function(){var t=c&&c.y;D(),O(),G(),W(),c&&c.scrollTo(0,t)},refreshMark:function(){u.stateLess||"all"==u.options.searchOption||I?W():(C=[],d.empty(),H(),G())},isCreate:function(){return!(!e||!s)}},t}(),m2soft.ns("m2soft.crownix.storage.ExternalStorage"),m2soft.crownix.storage.ExternalStorage=function(){function t(t){this.url=t.infotalkUrl+"/storage",this.key=t.key,this.timeout=t.timeout||30,this.emit=t.emit,this.secure=!1,this.dataVerification=!1,this.compressRequest=!1,this.lastModified=""}function u(t,e,i,n,r){var o=new m2soft.crownix.Ajax,a=$.Deferred();return o.setConnectTimeout(i),o.setHandler({done:function(t){a.resolve(t.responseText)},error:function(t,e){e?a.reject({status:!1,code:"error",message:e}):0==t.status?a.reject({status:!1,code:"error",message:g.get("server_connect_error")}):a.reject({status:!1,code:"error",message:g.get("request_server_error")})},abort:function(){a.reject({status:!1,code:"abort",message:g.get("request_abort_error")})},timeout:function(){a.reject({status:!1,code:"timeout",message:g.get("request_timeout_error")})}}),this.secure&&(o.setRequestHeader("crownix-encrypt-type","content"),o.setRequestHeader("crownix-rdid",n)),r&&o.setRequestHeader("crownix-data-hash",r),x&&("string"==typeof e?o.setRequestHeader("crownix-formdata-encoding","gzip; charset=UTF-8"):o.setRequestHeader("crownix-formdata-encoding","gzip")),o.invoke(t,e),a}function p(e,t){var i;try{i=window.pako.gzip(e,t),t&&"string"===t.to&&(i=String.fromCharCode.apply(null,i)),x=!0}catch(t){t&&console.log(t.message),x=!1,i=e}return i}function f(t,e,i){return(e=JSON.parse(e)).mml=t,i&&(e.options=i),e}var g=m2soft.crownix.Resource,m=m2soft.crownix.security.IKE,w=m2soft.crownix.Util,x=!1;return t.prototype={exec:function(n,t,e,r,o,a,s,l){var i,d=this,c=n.method.trim().toUpperCase(),h={parameters:{key:n.key||this.key,method:c,mml:!0,formData:!0,info:!0}};n=$.extend({},{mml:!0,formData:!0,info:!0,includeNote:!1,timeout:this.timeout,compressRequest:!1},n),x=!1,n.mml||n.formData||n.info?(this.compressRequest=n.compressRequest,"PUT"===c?(this.isFormEditMode||(n.formData=!1),i=t({includeFormData:n.formData,includeExtra:!0,includeNote:n.includeNote,lastFocus:n.lastFocus,storage:!0}),t=n.formData?i.mmlData:i,i=n.formData?i.formData:null,n.mml?(h.parameters.mml=t.mml,n.info=!0):h.parameters.mml="",delete t.mml,n.info?h.parameters.info=JSON.stringify(t):h.parameters.info="",n.formData?h.parameters.formData=i:h.parameters.formData="",this.lastModified&&(h.lastModified=this.lastModified)):(n.mml||(h.parameters.mml=!1),n.formData||(h.parameters.formData=!1)),"GET"===c&&a.show(),this.emit("before-storage",{method:c}),function(e,i,n,r){var o,a,s,l,d=this;this.secure?m.request({serverUrl:url}).pipe(function(t){return o=m.getAlgorithm(t),a=t,s=m.getKey(t),e.rdid=t,e=JSON.stringify(e).split("\\u0004").join(""),d.dataVerification&&(l=w.sha256(e)),d.compressRequest&&(e=p(e,{to:"string"})),crypt("encrypt",e,o,s)},function(t){return $.Deferred().reject({status:!1,code:"security error",message:t})}).pipe(function(t){return u.call(d,d.url,t,i,a,l)},function(t){r(t)}).pipe(function(t){return crypt("decrypt",t,o,s)}).pipe(function(t){n(t)}):(e=JSON.stringify(e).split("\\u0004").join(""),this.dataVerification&&(l=w.sha256(e)),this.compressRequest&&(e=p(e)),u.call(this,this.url,e,i,null,l).pipe(function(t){n(t)},function(t){r({status:!1,message:t.message})}))}.call(this,h,n.timeout,function(t){if((t=JSON.parse(t)).status){var e,i={status:!0};if("GET"===c){if(""===(e=JSON.parse(t.message)).mmlData&&""===e.formData)return s&&s({status:!1,message:g.get("file_not_found")}),void a.hide();""===e.formData&&(e.formData=void 0),""===e.mmlData&&(e.mmlData=void 0),e.mmlData?e.formData?(e.mmlData=f(e.mmlData,e.mmlInfo,l),r(e)):(e.mmlData=f(e.mmlData,e.mmlInfo,l),r(e.mmlData)):o(e.formData),e.mmlData&&e.formData&&n.lastFocus&&m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(function(){m2soft.crownix.FieldOrder.getInstance().moveNextRequiredField(e.mmlData.focusField)}),d.lastModified=t.lastModified}else"EXIST"===c&&(e=JSON.parse(t.message),i.isExist={mml:"true"===e.mmlData,formData:"true"===e.formData});s&&s(i)}else s&&s({status:!1,message:t.message});"GET"===c&&a.hide()},function(t){s&&s(t),"GET"===c&&a.hide()})):s&&s({status:!1,message:g.get("request_abort_error")})},setIsFormEditMode:function(t){this.isFormEditMode=t}},t}(),m2soft.ns("m2soft.crownix.WacomSignWindow"),m2soft.crownix.WacomSignWindow=function(){var c,h,u,p,f,g,e,m=m2soft.crownix.Constant,w=(m2soft.crownix.Util,m2soft.crownix.Message),x=!1,v=null,b=null,y=null,C=null,d="",k=function(n){C=y=b=v=null;var t=function(){v.running&&(y=new v.SigCtl(e))},e=function(t,e){v.ResponseStatus.OK==e?(C=new v.DynamicCapture(r),y.PutLicence(d,i)):(c.show("SigCtl constructor error: "+e),T.debug&&w.log("SigCtl constructor error: "+e))},i=function(t,e){v.ResponseStatus.OK==e?C=new v.DynamicCapture(r):(c.show("SigCtl constructor error: "+e),T.debug&&w.log("SigCtl constructor error: "+e))},r=function(t,e){v.ResponseStatus.OK==e?y.GetSignature(o):(c.show("DynCapt constructor error: "+e),T.debug&&w.log("DynCapt constructor error: "+e))},o=function(t,e,i){v.ResponseStatus.OK==i?(b=e,y.GetProperty("Component_FileVersion",a)):(c.show("SigCapt GetSignature error: "+i),T.debug&&w.log("SigCapt GetSignature error: "+i))},a=function(t,e,i){v.ResponseStatus.OK==i?(T.debug&&w.log("DLL: flSigCOM.dll  v"+e.text),C.GetProperty("Component_FileVersion",s)):(c.show("SigCtl GetProperty error: "+i),T.debug&&w.log("SigCtl GetProperty error: "+i))},s=function(t,e,i){v.ResponseStatus.OK==i?(T.debug&&w.log("DLL: flSigCapt.dll v"+e.text),T.debug&&w.log("Test application ready."),T.debug&&w.log("Press 'Start' to capture a signature."),"function"==typeof n&&n()):(c.show("DynCapt GetProperty error: "+i),T.debug&&w.log("DynCapt GetProperty error: "+i))},l=setTimeout(function(){v.running?(T.debug&&w.log("Signature SDK Service detected."),t()):(c.show("WACOM Signature SDK Service not detected."),S())},1500);v=new WacomGSS_SignatureSDK(function(){v.running?(T.debug&&w.log("Signature SDK Service detected."),clearTimeout(l),t()):(c.show("WACOM Signature SDK Service not detected."),S())},8e3)},S=function(){overlay.remove(),f.removeClass("crownix-formfield-blink"),e.focusHiddenTab()},T=function(t){d=t,e=m2soft.crownix.FieldOrder.getInstance(),T.debug&&w.log("Wacom Sign Window")};return T.prototype={constructor:m2soft.crownix.WacomSignWindow,show:function(t,e,i,n,r,o,a,s,l,d){f=t,p=n,h=e,u=i,x=o,c=l,g=d,d=$("#m2soft-crownix-container"),overlay=$("<div>").addClass("crownix-overlay").css({display:"none","z-index":m.WINDOW_OVERLAY_Z_INDEX}).prependTo(d),overlay[0].addEventListener("touchstart",function(t){t.preventDefault()}),x&&overlay.fadeIn(100),a=a||" ",s=s||" ",d=setTimeout(function(){!function(o,t,e){var a=function(t,i,e){v.ResponseStatus.OK==e?(T.debug&&w.log("base64_image:>"+i+"<"),img=new Image,img.onload=function(){var t=f[0],e=t.getContext("2d");e.clearRect(0,0,t.clientWidth,t.clientHeight),e.drawImage(img,0,0,t.clientWidth,t.clientHeight);e=p.getFieldWrapper(h,u),t="data:image/png;base64,"+i;e.setValue(t),p.trigger("change",h,u),g&&(g.sendFormField({formId:h,fieldId:u,value:t}),g.sendEvent({formId:h,fieldId:u,type:"change"}))},img.src="data:image/png;base64,"+i):T.debug&&w.log("Signature Render Bitmap error: "+e)};if(!v.running||null==C)return T.debug&&w.log("Session error. Restarting the session."),k(window.Capture);C.Capture(y,e,t,null,null,function(t,e,i){if(v.ResponseStatus.INVALID_SESSION==i)T.debug&&w.log("Error: invalid session. Restarting the session."),k(window.Capture);else switch(v.DynamicCaptureResult.DynCaptOK!=i&&T.debug&&w.log("Capture returned: "+i),i){case v.DynamicCaptureResult.DynCaptOK:b=e,T.debug&&w.log("Signature captured successfully");var n=v.RBFlags.RenderOutputBase64|v.RBFlags.RenderColor32BPP|v.RBFlags.RenderBackgroundTransparent,r=f[0];o&&o.hide(),b.RenderBitmap("png",r.clientWidth,r.clientHeight,.7,0,16777215,n,0,0,a);break;case v.DynamicCaptureResult.DynCaptCancel:T.debug&&w.log("Signature capture cancelled");break;case v.DynamicCaptureResult.DynCaptPadError:c.show("No capture service available"),T.debug&&w.log("No capture service available");break;case v.DynamicCaptureResult.DynCaptError:c.show("Tablet Error"),T.debug&&w.log("Tablet Error");break;case v.DynamicCaptureResult.DynCaptIntegrityKeyInvalid:c.show("The integrity key parameter is invalid (obsolete)"),T.debug&&w.log("The integrity key parameter is invalid (obsolete)");break;case v.DynamicCaptureResult.DynCaptNotLicensed:c.show("No valid Signature Capture licence found"),T.debug&&w.log("No valid Signature Capture licence found");break;case v.DynamicCaptureResult.DynCaptAbort:c.show("Error - unable to parse document contents"),T.debug&&w.log("Error - unable to parse document contents");break;default:c.show("Capture Error "+i),T.debug&&w.log("Capture Error "+i)}S()})}(r,a,s)},1500),T.debug&&w.log("CLEAR"),k(d)}},T}(),m2soft.ns("m2soft.crownix.NativeInterface"),m2soft.crownix.NativeInterface=function(){var Util=m2soft.crownix.Util,R=m2soft.crownix.Resource,Dialog=m2soft.crownix.FormDialog,Constant=m2soft.crownix.Constant;window.m2softFormFieldBridge||(window.m2softFormFieldBridge={});var bridge=window.m2softFormFieldBridge,nativeInterface,dialog=new Dialog("#"+Constant.CONTAINER_ID);return void 0===nativeInterface&&(nativeInterface={}),nativeInterface.isInWebView=function(){return!!(0<Object.keys(bridge).length||Util.browser.uiwebview&&!Util.browser.chrome&&!Util.browser.firefox)},bridge.init&&bridge.init(m2soft.crownix.Resource.language),nativeInterface.setLocale=function(t){bridge.setLocale?bridge.setLocale(t):nativeInterface.isInWebView()&&(window.webkit&&window.webkit.messageHandlers.setLocale?window.webkit.messageHandlers.setLocale.postMessage(t):document.location="crownixWebView://setLocale?locale="+t)},nativeInterface.scanBarcodes=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length&&"function"==typeof e[0])bridge.onBarcodeScan=e[0];else{if(2!==e.length)return;var i=this;bridge.onBarcodeScan=function(t){i.getForm(e[0]).get(e[1]).setValue(t)}}bridge.toBarcodeScan?bridge.toBarcodeScan():Util.browser.uiwebview&&(window.webkit&&window.webkit.messageHandlers.scanBarcodes?window.webkit.messageHandlers.scanBarcodes.postMessage(""):document.location="crownixWebView://showScanBarcodes")},nativeInterface.readNfcTag=function(){var shareManager=this.shareManager,viewer=this.viewer,args=Array.prototype.slice.call(arguments),returnType;if(1===args.length&&"function"==typeof args[0])returnType="array",bridge.onNFCRead=function(str){args[0](eval(str))};else{if(2!==args.length)return;returnType="string",bridge.onNFCRead=function(t){viewer.getForm(args[0]).get(args[1]).setValue(t),shareManager&&shareManager.isConnected()&&(shareManager.sendFormField({formId:args[0],fieldId:args[1],value:t}),shareManager.sendEvent({formId:args[0],fieldId:args[1],type:"change"}))}}bridge.toNFCRead&&bridge.toNFCRead(returnType)},nativeInterface.recordStart=function(e,i){var n=e.id+".m4a";bridge.onAudioRecord=function(t){""!==t?(e.file=Util.base64.toBlob(t,"audio/mp4"),e.value=n):(e.file=null,e.value=""),i&&"function"==typeof i&&i()},bridge.toAudioRecord?bridge.toAudioRecord(e.bitRate,e.sampleRate,e.recordTime):Util.browser.uiwebview?window.webkit&&window.webkit.messageHandlers.showRecorder?window.webkit.messageHandlers.showRecorder.postMessage({bitRate:e.bitRate,sampleRate:e.sampleRate,recordTime:e.recordTime}):document.location="crownixWebView://showRecorder?bitRate="+e.bitRate+"&sampleRate="+e.sampleRate+"&recordTime="+e.recordTime:(dialog.show(R.get("record_no_mobile")),delete bridge.onAudioRecord)},nativeInterface.textToSpeech=function(t){bridge.textToSpeech?bridge.textToSpeech(t):nativeInterface.isInWebView()&&(window.webkit&&window.webkit.messageHandlers.textToSpeech?window.webkit.messageHandlers.textToSpeech.postMessage(t):document.location="crownixWebView://textToSpeech?text="+t)},nativeInterface.stopToSpeech=function(){bridge.stopToSpeech?bridge.stopToSpeech():nativeInterface.isInWebView()&&(window.webkit&&window.webkit.messageHandlers.stopToSpeech?window.webkit.messageHandlers.stopToSpeech.postMessage(""):document.location="crownixWebView://stopToSpeech")},nativeInterface}(),m2soft.ns("m2soft.crownix.MirroringManager"),m2soft.crownix.MirroringManager=function(){var R=m2soft.crownix.Resource,go,sameNotePage=!1,curNoteStatus=void 0,isScrollSaved=!1,msgOverlay=void 0,savedScroll={x:0,y:0,scale:1},scrollTo=function(t,e,i){go.movePage(i),isScrollSaved||(isScrollSaved=!0,savedScroll.x=go.scroll.x,savedScroll.y=go.scroll.y,savedScroll.scale=go.scroll.scale),go.scroll.zoom(2.5);t=-(t*go.scroll.scale)+window.innerWidth/2,e=-(e*go.scroll.scale)+window.innerHeight/2;0<t?t=0:t<go.scroll.maxScrollX&&(t=go.scroll.maxScrollX),0<e?e=0:e<go.scroll.maxScrollY&&(e=go.scroll.maxScrollY),go.scroll.scrollTo(t,e,1e3)},Constructor=function(t){t&&(go=t)};return Constructor.prototype={lockField:function(t,e){var i;go.options.mirroring.enable&&(this.unlockField(),"file"==t||"sg"==t||"pn"==t?(i=$("#"+e+"-canvas").length?$("#"+e+"-canvas"):$("#"+e)).length&&i.is("[auth=All]")&&i.attr("disabled","disabled"):(i="rb"==t||"cb"==t?$("label[for="+e+'][class*="crownix-radio-boundary"],label[for='+e+'][class*="crownix-checkbox-boundary"]'):$("#"+e)).length&&i.is("[auth=All]")&&i.attr("readonly","readonly"),i.length&&i.addClass("crownix-field-lock").addClass("crownix-formfield-blink-lock"),!0===(go.license.isAllowedFeature("Note")&&go.options.enableNote)&&Util.isSupportSVG()&&"rb"!==t&&"cb"!==t&&go.options.mirroring.scrollToNote&&!go.mirroringManager.externalEvent.isSubProcess()&&go.noteManager.hideNote())},unlockField:function(){go.options.mirroring.enable&&($('[id^="crownix_form_field"],label[for^="crownix_form_field"]').each(function(t,e){var i;$(e).hasClass("crownix-field-lock")&&((i=$(e)).removeClass("crownix-field-lock").removeClass("crownix-formfield-blink-lock"),$(e).is("[auth=All]")&&(i.is("canvas")?i.attr("disabled",!1):i.attr("readonly",!1)),i.removeClass("crownix-field-lock").removeClass("crownix-formfield-blink-lock").removeClass("crownix-formfield-blink"))}),!0===(go.license.isAllowedFeature("Note")&&go.options.enableNote)&&Util.isSupportSVG()&&go.options.mirroring.scrollToNote&&!go.mirroringManager.externalEvent.isSubProcess()&&go.noteManager.showNote())},setFileName:function(t,e,i){go.options.mirroring.enable&&go.formManager.getField(t,e).setFileName(i,"sharing")},drawNote:function(t){go.options.mirroring.enable&&("scribble"==t.type?go.noteManager.addElement(t.xml,t.pageNo,t.pageNo==go.currentPage):"erase"==t.type?go.noteManager.removeElement(t.xml,t.pageNo,t.pageNo==go.currentPage):"clearElement"==t.type?(t.pageNo==go.currentPage&&go.noteManager.clear(t.rebuild),go.noteManager.removeAllElement(t.pageNo,t.rebuild)):"text"==t.type?(go.noteManager.addElement(t.xml,t.pageNo,t.pageNo==go.currentPage,t.oldXml),t.pageNo==go.currentPage&&go.noteManager.redrawTextBox(),curNoteStatus&&(go.noteManager.setShapeAttribute(curNoteStatus.attr),go.noteManager.setTool(curNoteStatus.tool),go.noteManager.setMode(curNoteStatus.mode),curNoteStatus=void 0),sameNotePage=!1,go.noteManager.enableNote()):"start"==t.type?t.pageNo==go.currentPage&&(sameNotePage=!0,curNoteStatus=curNoteStatus||{attr:$.extend(!0,{},go.noteManager.getShapeAttribute()),tool:go.noteManager.getToolName(),mode:go.noteManager.getMode()},go.noteManager.setTool(t.tool),go.noteManager.setShapeAttribute(t.attribute),"text"==t.tool?go.noteManager.disableNote():go.noteManager.draw(t)):"clear"==t.type?t.pageNo==go.currentPage?go.noteManager.draw(t):go.noteManager.removeAllElement(t.pageNo):(sameNotePage&&(go.noteManager.draw(t),"end"==t.type&&(curNoteStatus&&(go.noteManager.setShapeAttribute(curNoteStatus.attr),go.noteManager.setTool(curNoteStatus.tool),go.noteManager.setMode(curNoteStatus.mode),curNoteStatus=void 0),sameNotePage=!1)),!t.type&&go.options.mirroring.scrollToNote&&this.externalEvent.isSubProcess()&&scrollTo(t.x,t.y,t.pageNo)))},sendEvent:function(t,e,i){go.options.mirroring.enable&&(i&&t&&e?(go.formManager.lock(),go.formManager.trigger(i,t,e),go.formManager.unlock()):"layer-close"===i?go.layerManager&&go.layerManager.getActiveFloatingLayer().win.close():"layer-onOk"===i?go.layerManager&&go.layerManager.getActiveFloatingLayer().onOk():"layer-onCancel"===i?go.layerManager&&go.layerManager.getActiveFloatingLayer().onCancel():"HideWindow"===i?window.external.HideWindow():"ShowTypingWindow"===i?window.external.ShowWindow("text"):"ShowSigningWindow"===i?window.external.ShowWindow("sign"):"ShowOverlay"===i&&this.showOverlay())},showOverlay:function(){$(".crownix-overlay.crownix-input-overlay").length<1&&$("<div>").addClass("crownix-overlay").addClass("crownix-input-overlay").appendTo("body")},submitFinished:function(t,e){t&&(viewer.importFormData(e),go.formManager.isAllFormSubmitted()&&(go.report.isPreventSave()?go.toolbar.enableToolbarItem(["print","print_pdf","cloud_print"]):go.toolbar.enableToolbarItem(["save","print","print_pdf","cloud_print"]),go.viewer.setPreventPrintExport(!1)),go.formManager.saved()),msgOverlay.remove()},initFields:function(t){go.formManager.initFields(t)},movePage:function(t){go.movePage(t)},restoreScroll:function(){isScrollSaved=!1,go.scroll.zoom(savedScroll.scale)},updateScanData:function(t){go.scanPage.updateScanData(t)},setScanImage:function(t,e){go.scanPage.setScanImage(t,e)},magnifier:{setSubRatio:function(t,e,i){go.magnifier.setSubRatio(t,e,i)},zoomAndScroll:function(t,e,i,n){isScrollSaved||(isScrollSaved=!0,savedScroll.x=go.scroll.x,savedScroll.y=go.scroll.y,savedScroll.scale=go.scroll.scale),go.magnifier.zoomAndScroll(t,e,i,n)}},clearScanNote:function(){go.scanPage&&go.scanPage.clearScanNote()},clearViewer:function(){go.scanPage&&go.scanPage.clearViewer()},getAttachedFileNameList:function(reg){var result=[],filenameList=window.external.GetAttachedFileNameList();if("string"==typeof filenameList&&(filenameList=eval(filenameList)),filenameList.length)for(var idx=0;idx<filenameList.length;idx++){var filename=filenameList[idx];Util.wildcardRegExp(reg||"*").test(filename)&&result.push(filename)}return result},showMessageOverlay:function(t){msgOverlay=new m2soft.crownix.FormDialog(go.parentId).message(t,null,!0)},externalEvent:{sendEvent:function(t,e,i){window.external.SendEvent({formId:t,fieldId:e,eventType:i})},initFormField:function(t){window.external.InitFormField({formData:JSON.stringify(t)})},focusOut:function(){window.external.FocusOut({})},setValue:function(t,e,i){window.external.SetValue({formId:t,fieldId:e,value:i})},sendDraw:function(t){window.external.SendDraw({noteData:JSON.stringify(t)})},setSelected:function(t,e,i){window.external.SetSelected({formId:t,fieldId:e,isChecked:i})},selectedField:function(t){window.external.SelectedField(t)},setFocus:function(t){window.external.SetFocus({id:t})},setFileName:function(t){window.external.SetFileName({fullName:t})},isSubProcess:function(){return window.external.IsSubProcess},submitFinished:function(t,e){window.external.SubmitFinished({status:e,submitFormList:JSON.stringify(t)})},showCombobox:function(t,e){window.external.ShowCombobox({display:t.toString(),actual:e.toString()})},movePage:function(t){window.external.MovePage({pageNumber:t})},returnProtocol:function(t){window.external.ReturnProtocol({data:t})},closeMirroring:function(){window.external.CloseMirroring({})},returnReportFinished:function(t){this.isSubProcess()||(t=t.isError||void 0===t.isError?void 0===t.isError?"0"+t.message:"0"+t.lastErrorMsg:"1",this.returnProtocol(t))},onChangeSignValue:function(t){this.isSubProcess()&&window.external.OnChangeSignValue({value:t})},validate:function(t){window.external.Validate({formIdList:JSON.stringify(t)})},hideWindow:function(){this.isSubProcess()&&window.external.HideWindow({})},getFormDataValue:function(t,e){var i=t&&t.split(""),t=e&&e.split("");data=e?go.formManager.getDataValue(i,t,""):go.formManager.getFormDataValue(i,""),go.options.mirroring.enable&&this.returnProtocol(data?"1"+data:"0"+R.get("data_load_error"))},setFormDataValue:function(t,e,i){var n=t&&t.split(""),r=e&&e.split(""),o=i&&i.split(""),i=go.formManager.setFormDataValue(n,r,o);if(go.options.mirroring.enable){if(!i)for(var a=0;a<n.length;a++)this.setValue(n[a],r[a],o[a]);this.returnProtocol(i?"0"+i:"1")}},reportFinished:function(){window.external.ReportFinished({})},sendMmlFormData:function(t){window.external.SendMmlFormData({data:JSON.stringify(t)})},lockField:function(t,e){try{window.external.LockField({type:t,elementId:e})}catch(t){console.log("LockField() function undefined")}},restoreScroll:function(){go.mirroringManager.externalEvent.movePage(go.currentPage),go.mirroringManager.externalEvent.isSubProcess()?this.restoreScroll():window.external.RestoreScroll({})},returnSubmitFinished:function(t){this.isSubProcess()||(t=t.status?"1"+(t.data?""+JSON.stringify(t.data):""):"0"+t.message,this.returnProtocol(t))},openScanWindow:function(t,e,i){window.external.OpenScanWindow({url:t,width:e||800,height:i||800})},setSignValue:function(t){window.external.SetSignValue(t)},getSubRatio:function(){window.external.GetSubRatio()},setSubRatio:function(){window.external.SetSubRatio({scale:go.options.scrollOptions.zoomMax,width:go.scroll.wrapperWidth,height:go.scroll.wrapperHeight})},zoomAndScroll:function(t){window.external.ZoomAndScroll(t)},getScanImage:function(t){window.external.GetScanImage({pageIdx:t})},showMessageOverlay:function(t){window.external.ShowMessageOverlay&&window.external.ShowMessageOverlay({msg:t})}}},Constructor}(),m2soft.ns("m2soft.crownix.Editor"),m2soft.crownix.Editor=function(t){function r(t){var e;"popup-opended"===t.originalEvent.data.message&&(e=JSON.parse(JSON.stringify(cxEditor)),s.postMessage(e,"*")),"addOverlay"===t.originalEvent.data.message&&a.appendTo("body"),"complete"===t.originalEvent.data.message&&cxEditor.complete(t.originalEvent.data.result.data,t.originalEvent.data.result.paperType),"setLocalStorage"===t.originalEvent.data.message&&cxEditor.setLocalStorage(t.originalEvent.data.data),"removeOverlay"===t.originalEvent.data.message&&cxEditor.removeOverlay()}function o(t){l=t}var a,s,l,d=t,c={a4:794,a3:1123,b4:944},h=[];this.init=function(t){d=t,h=[],l=""},this.addEditorPage=function(t,e){var n,i;d.options&&(d.options.scrollOptions.useInfiniteScroll||d.options.mirroring.enable)||(i=t,n=e,window.cxEditor={paperType:i.paperType,language:m2soft.crownix.Resource.language,storageEditorData:l,setLocalStorage:o,removeOverlay:function(){a.remove()},complete:function(t,e){a.remove(),n&&"function"==typeof n.init&&n.init(),d.totalPage-=h.length,h=[];for(var i=0;i<t.length;i++)h[i]={page:t[i],paperType:e,layout:0};d.totalPage+=t.length,d.currentPage=Math.min(d.totalPage,d.currentPage),h.length&&d.currentPage!=d.totalPage&&d.toolbar.enableToolbarItem(["next","last","move"]),d.totalPage==d.currentPage&&d.toolbar.disableToolbarItem(["next","last","move"]),1==d.totalPage&&d.toolbar.disableToolbarItem(["first","prev","next","last","move"]),n&&"function"==typeof n.complete&&n.complete()}},$(window).off("message.popupEditor").on("message.popupEditor",r),i=["scrollbars=yes","resizable=yes","menubar=no","toolbar=no","width="+(c[t.paperType]+25),"height=1000"].join(", "),s=window.open(t.url,"crownix-editor-popup",i),a=$("<div>").css("z-index",10001).addClass("crownix-overlay").appendTo("body"))},this.isAddedPage=function(t){return d.totalPage-h.length-d.scanPage.getAddedPages().length<t&&t<=d.totalPage-d.scanPage.getAddedPages().length},this.toAddPageParameter=function(){for(var t=[],e=0;e<h.length;e++)t.push("["),t.push("t=add-page"),t.push("&"),t.push("s="+h[e].paperType),t.push("&"),t.push("l="+h[e].layout),t.push("@"),t.push(h[e].page),t.push("] ");return t.join("")},this.setStorageEditorData=function(t){o(t)},this.getStorageEditorData=function(t){return l},this.setAddedPages=function(t){h=t},this.getAddedPages=function(){return h}},m2soft.ns("m2soft.crownix.ScanPage"),m2soft.crownix.ScanPage=function(t){var o,d=m2soft.crownix.Resource,c=[],h=t,u=0,l=document.createElement("canvas");l.width=8270/10.3,l.height=11690/10.3;function a(t,e){var i,n,r=new Image;r.onload=(i=r,n=t,function(){p.clearRect(0,0,l.width,l.height);var t=c[n].dpi/96;l.width=(c[n].width||i.width)/t,l.height=(c[n].height||i.height)/t,p.drawImage(i,0,0,c[n].width/t,c[n].height/t),"function"==typeof e&&(e(l),o=null)}),null!=c[t].page?r.src=c[t].page:(o=e,h.mirroringManager.externalEvent.getScanImage(t))}var p=l.getContext("2d"),f=document.createElement("canvas"),g=f.getContext("2d"),m=function(t){h.totalPage+=t,h.currentPage=Math.min(h.totalPage,h.currentPage),c.length&&h.currentPage!=h.totalPage&&h.toolbar.enableToolbarItem(["next","last","move"]),h.totalPage==h.currentPage&&h.toolbar.disableToolbarItem(["next","last","move"]),1==h.totalPage&&h.toolbar.disableToolbarItem(["first","prev","next","last","move"]),h.dialog.pagenum(h.currentPage,h.totalPage),h.options.showThumbnail&&h.thumbnail.create(t?h.totalPage-c.length:0),h.options.mirroring.scan.moveLastPage&&(t?h.movePage(h.totalPage):h.redrawPage())},w=function(t,e){var i,n,r,o,a,s;p.clearRect(0,0,l.width,l.height),"idCard"==c[t].scanType||c[t].metadata?(i=c[t].dpi/96,f.width=8270/10.3*i,f.height=11690/10.3*i,n=function(t){var e=new Map;if(t)for(var i=t.split("&"),n=0;n<i.length;n++){var r=i[n].split("=");e.set(r[0],r[1])}return e}(c[t].metadata),s=e.width,r=e.height,o=(n.get("pagePadding")?n.get("pagePadding"):50)*i,a=(n.get("pagePadding")?n.get("pagePadding"):50)*i,p.fillStyle="no-repeat",e.width>f.width-2*o&&(a=o*(r=(s=f.width-2*o)*e.height/e.width)/s),r>f.height-2*a&&(o=a*(s=(r=f.height-2*a)*e.width/e.height)/r),g.drawImage(e,o,a,s,r),n.get("text")&&(g.font=n.get("font")?n.get("font"):"20px sans-serif",a=g.font.split(" ")[0],s=g.font.split(" ")[1],g.textBaseline="top",g.font=parseInt(a)*i+"px "+s,g.fillStyle=n.get("fillStyle")?n.get("fillStyle"):"red",g.fillText(n.get("text"),n.get("textX")?n.get("textX"):0,n.get("textY")?n.get("textY"):r+50+parseInt(p.font))),c[t].page=f.toDataURL(),c[t].width=f.width,c[t].height=f.height):(c[t].width=e.width,c[t].height=e.height),x()},x=function(){var t;u==c.length&&(h.mirroringManager&&!h.mirroringManager.externalEvent.isSubProcess()&&(t=function(){h.mirroringManager.externalEvent.returnProtocol("1"),h.emit("scan-finished",{status:!0,scanType:c[c.length-1].scanType})},c.length&&h.options.mirroring.scan.moveLastPage?m2soft.crownix.ChannelManager.getChannel("viewer:onDrawPage").subscribeOnce(function(){h.options.showThumbnail&&h.thumbnail.getImagesLength()!=h.totalPage?m2soft.crownix.ChannelManager.getChannel("scanAttach:lastPage").subscribeOnce(function(){t()}):t()}):t()),m(u))},v=function(){h.options.enableNote&&h.noteManager.removeScanNote(h.totalPage-c.length+1)};this.updateScanData=function(t){!function(t){function e(){c.length&&(h.totalPage-=c.length,c=[])}if(t&&t.length)if(e(),"object"==typeof t[0])for(var i=0;i<t.length;i++){var n={paperType:"a4",layout:0,isApi:t[i].isApi,dpi:t[i].dpi||96,metadata:t[i].metadata,scanType:t[i].scanType},r=t[i].page,o=t[i].editedPage;if(r)for(var a=0;a<r.length;a++)c.push({paperType:"a4",layout:0,isApi:t[i].isApi,dpi:t[i].dpi||96,metadata:t[i].metadata,scanType:t[i].scanType,page:r[a],editedPage:o[a].data});else c.push(n)}else c=t;else v(),e(),m(0);for(var s=u=0;s<c.length;s++){if(!c[s].page){m(c.length);break}var l=new Image;c[s].editedPage&&(c[s].page=c[s].editedPage),l.src=c[s].page,l.onload=function(t,e){return function(){u++,w(e,t)}}(l,s),l.onerror=function(t){return function(){c=c.slice(0,t),m(c.length),h.mirroringManager&&!h.mirroringManager.externalEvent.isSubProcess()&&(h.mirroringManager.externalEvent.returnProtocol("0"+d.get("page_not_create")+t),h.emit("scan-finished",{status:!1,message:d.get("page_not_create")+t}))}}(s)}}(t)},this.isAddedPage=function(t){if(c.length)return h.totalPage-c.length<t},this.getAddedPages=function(){return c},this.getScanPageInfo=function(){var i=h.totalPage-c.length,n=[],r=[];return c.some(function(t,e){(t.isApi?n:r).push(i+e+1)}),{api:n,scanWindow:r}},this.toAddPageParameter=function(){for(var t=[],e=0;e<c.length;e++)t.push("["),t.push("t=add-page"),t.push("&"),t.push("s="+c[e].paperType),t.push("&"),t.push("l="+(c[e].width>c[e].height?"1":c[e].layout)),t.push("&"),t.push("d="+c[e].dpi),t.push("&"),t.push("w="+c[e].width),t.push("&"),t.push("h="+c[e].height),t.push("@"),t.push(c[e].page),t.push("] ");return t.join("")},this.clearScanNote=function(){v()},this.clearViewer=function(){h.options.showThumbnail&&h.thumbnail.create()},this.drawPage=function(t,e){a(t,e)},this.setScanImage=function(t,e){var i,n,r=new Image;c[t].page=e,r.src=e,r.onload=(i=r,n=t,function(){w(n,i),a(n,o)})}},m2soft.ns("m2soft.crownix.Magnifier"),m2soft.crownix.Magnifier=function(){function e(){function e(t,e){return{x:Math.round((t-c.offset().left)/d.scroll.scale)-u/h/2,y:Math.round((e-c.offset().top)/d.scroll.scale)-p/h/2}}function i(t){var e=t.x,t=t.y,e=Math.max(e,0),t=Math.max(t,0);e=Math.min(e,c.width()-a.width()),t=Math.min(t,c.height()-a.height()),a.css({position:"absolute",width:u/h,height:p/h,left:e,top:t,display:"block"})}function t(t){t.preventDefault(),t.stopPropagation(),o=!0,t=e(t.originalEvent.pageX,t.originalEvent.pageY),i(t),$(document).on(r.end,l)}function n(t){t.preventDefault(),t.stopPropagation(),t=e(t.originalEvent.pageX,t.originalEvent.pageY),s.css({position:"absolute",left:t.x+u/h/2,top:t.y+p/h/2}),o&&i(t)}var r=m2soft.crownix.Util.ActionEvents,o=!1,a=$("<div>").attr("id",m2soft.crownix.Constant.MAGNIFIER_ID+"-rectagle"),s=$("<img>").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVJJREFUOE+V079LV2EUx/GXlCYRtNQi4iJIS0tBbmH/QAqlkxA5BSmVDoFBkCBapAhO0iL4aykoQTebmtoMhIaI0AhxExJFK+Xo+crXiwk+cLj3ued5f86P59wKB+sMbqIT11GF75jEOLby3JFHRYKP0IbX+IhNXEUPzqID60WBgG9hAHfxExfTllGJEWzgKXbLBQJ+hxm8TUcLmnE/9zV4jztYKcI/cA1/M4sbaMQovuIbpjGGhSL8C/W4jBeoS/uED5jFBKYwX4TjUDc+/yftC5hDF74U4QeZbjt2cCUt6oye3EMrbmdph3w4qzOlVfRjDf9wPpsUtb/Jbv8pRo59XM8zNCEaGBnU4jcW8RCDOQfh218Rufw9gAacyztfyjOP0YtXGMZ2ET5uAkvfYlhiCkPgZQrslEc+CQ5fSSDKi4kcOg1cLvAcfaeFS3/gE1zaAxT3RQ+6fx18AAAAAElFTkSuQmCC"),l=function(){$(document).off(r.end,l),o=!1,d.mirroringManager.externalEvent.zoomAndScroll({x:a.position().left/d.scroll.scale,y:a.position().top/d.scroll.scale,width:a.width(),height:a.height()})};this.on=function(){$(document).on(r.start,t),$(document).on(r.move,n),c.find(a).length||a.appendTo(c),c.find(s).length||s.appendTo(c),d.mirroringManager.externalEvent.getSubRatio()},this.off=function(){c&&(a.css("display","none"),d.mirroringManager.externalEvent.restoreScroll()),$(document).off(r.start,t),$(document).off(r.move,n),$(document).off(r.end,l)}}function t(t){d=t,i=new e}var d,i,c,h,u,p;return t.prototype={on:function(t){(c=t).css({display:"block",cursor:"none"}),i.on()},off:function(){c&&c.css({display:"none",cursor:""}),i.off()},setSubRatio:function(t,e,i){h=t,u=e,p=i},zoomAndScroll:function(t,e,i,n){var r=parseInt($(d.scroll.scroller).css("padding-left"));isNaN(r)&&(r=0),d.scroll.zoomAndScrollTo(d.scroll.wrapperWidth/i,t+r+i/2,e+r+n/2)}},t}(),m2soft.ns("m2soft.crownix.Viewer"),m2soft.crownix.Viewer=function(){function a(t,e,i){var n=ie.currentPage;if(void 0!==O&&void 0===e&&O.setScrollTop(!0),!1!==si(t)&&(!ie.isGroupReport||!he||A.validatePageNumber(t))&&(t!=ie.currentPage||i))if(L&&L.isOpening())ie.dialog.show(gt.get("image_export_disabled_before_done"));else{if(0!==ie.currentPage&&!Zt.scrollOptions.useInfiniteScroll)if(!1===oi("before-page-move",{currentPage:ie.currentPage,targetPage:t}))return;ie.keepWindow||$("#"+bt.WINDOW_CLOSE_ID).click(),i||(ie.isGroupReport?A.setPageToolbarItems(t,E):1==t?(E.disableToolbarItem(["first","prev"]),he&&t===ie.totalPage||E.enableToolbarItem(["next","last"])):t==ie.totalPage?(he&&E.disableToolbarItem(["next","last"]),E.enableToolbarItem(["first","prev"])):E.enableToolbarItem(["first","prev","next","last"])),ue&&E.disableToolbarItem(["save","print","print_pdf"]),q&&i&&q.reDrawPage(),ie.formManager.validator.inactiveTitle(),(we?Zt.scrollOptions.useInfiniteScroll?Fe:Ee:We)(t),ie.options.showThumbnail&&we&&et.scrollPage(t),(he||Zt.firstPageMovedEvent)&&oi("page-moved",{currentPage:ie.currentPage,prevPage:n,formFieldModified:re.isModified(),documentTitle:li(ie.currentPage)}),he&&(ie.search.isCreate()&&we&&ie.search.refreshMark(),("page"==ie.options.validateCheck||"object"==typeof ie.options.validateCheck&&"page"==ie.options.validateCheck.type)&&ie.formManager.validator.toggleSlide(n)),ie.isGroupReport&&(A.getCurrentMrdGroup().currentPage=t)}}function n(){var t,e,i;0!=ie.currentPage&&O&&(t=O.x,e=O.y,i=O.scale,a(ie.currentPage,!1,!0),O.zoom(i,t,e,0),O.scrollTo(t,e,0))}function g(t){he&&t==ie.totalPage&&oi("lastpage",{currentPage:t})}function o(n,t){t=ie.totalPage-t.length,t=n-t,ie.currentPage=parseInt(n),ie.scanPage.drawPage(t-1,function(t){$("#"+bt.PAGE_ID).remove(),$("#"+bt.PAGE_LOADING_ID).remove();var e=t.width,i=t.height;_e(e,i),V[0].getContext("2d").drawImage(t,0,0,e,i),Oe(),Pe(n),m2soft.crownix.Forgery.detect(J,document.getElementById(bt.CANVAS_ID),ie.isFormEditMode),$("#"+bt.PAGE_ID).css("visibility","visible"),P.pagenum(ie.currentPage,ie.totalPage,!1),Ot.getChannel("viewer:onDrawPage").publish()})}function w(t){if("error"===t.getResponseHeader("crownix-status")){ut.progress.hide(y);var e=0<=(e=t.responseText.indexOf("[ERS-"))?("16002"!=t.responseText.substr(e+5,5)&&(clearInterval(ye),E.disableToolbarItem(["cancel"])),t.responseText.substr(e)):(clearInterval(ye),E.disableToolbarItem(["cancel"]),gt.get("request_server_error"));return Zt.noMessageOfReportFinished||P.show(e),ze(e),Be(!1),1}}function d(t){var e=0<=(e=t.indexOf("[ERS-"))?t.substr(e):gt.get("execute_error");Zt.noMessageOfReportFinished||P.show(e),ut.progress.hide(y),ze(e),Be(!1)}function e(t,e){I.push({handler:t,arg:e})}function c(t,e,i,n,r,o,a,s){var l=new st;l.setConnectTimeout(Zt.timeout);var d=qe("decrypt");d.addEventListener("message",function(t){var e=t.data.text,i=t.data.method,t=t.data.rdid;"process"===i?r(e,t,i):"finalize"===i&&(o(e,t,i),d.terminate())}),l.setHandler({load:function(t){w(t)||d.postMessage({method:"process",rdid:t.getResponseHeader("crownix-rdid"),text:t.responseText})},done:function(t){var e;w(t)||(Zt.viewCache&&!s&&(e=t.getResponseHeader("crownix-cache-key"),ie.cacheKey=e,Zt.exportCache&&(ie.submitParameters.cache_key=e)),d.postMessage({method:"finalize",rdid:t.getResponseHeader("crownix-rdid"),text:t.responseText}))},error:function(t,e){ut.progress.hide(y),d.terminate();e&&!Zt.noMessageOfReportFinished?P.show(e):0==t.status?(e=gt.get("server_connect_error"),P.show(gt.get("server_connect_error"))):(e=gt.get("request_server_error")+"("+t.status+")",P.show(gt.get("request_server_error")+"("+t.status+")")),ze(e),Be(!1)},abort:function(){ut.progress.hide(y),d.terminate(),P.show(gt.get("request_abort_error")),ze(gt.get("request_abort_error")),Be(!1)},timeout:function(){ut.progress.hide(y),d.terminate(),P.show(gt.get("request_timeout_error")),ze(gt.get("request_timeout_error")),Be(!1)}});var c="",h="",u="",p="";yt.isArray(t)?(c=JSON.stringify(t),h=JSON.stringify(e),yt.isArray(i)&&0<i.length&&(u=JSON.stringify(i)),yt.isArray(n)&&0<n.length&&(p=JSON.stringify(n))):(c=t,h=e,"string"==typeof i&&""!=i&&(u=i),"string"==typeof n&&""!=n&&(p=n)),ie.uuid=yt.uuid();var f,g={opcode:a,mrd_path:c,mrd_param:h,mrd_plain_param:u,mrd_data:p,runtime_param:Ce.toJson(),mmlVersion:M.getMmlVersion(),protocol:"sync",use_cache:Zt.viewCache,html5_uuid:ie.uuid};for(f in Ie.isEmpty()||(g.ext_param=JSON.stringify(Ie.toObject())),3<H&&Te.isEmptyPrevDocStack()&&0==ie.drilldownManager.getDrilldownLength()&&(g.enc_type=H),3<Zt.hyperlinkEnc&&(g.enc_type=Zt.hyperlinkEnc,Zt.hyperlinkEnc=void 0),ne&&(g.rdid=ne),!s&&Zt.externalStorage&&(g.es_key=Zt.externalStorage.key,g.es_info=JSON.stringify(Je({}))),Ae)g[f]||(g[f]=Ae[f]);var m=qe("encrypt");return m.addEventListener("message",function(t){var e=t.data.obj;"object"===t.data.method&&(Zt.enableSecure&&(l.setRequestHeader("crownix-rdid",ne),l.setRequestHeader("crownix-encrypt-type","parameter")),l.invoke(b,e),m.terminate())}),m.postMessage({method:"object",obj:g}),l}function i(i,n){var r,o=new Mt(ie,P,E,Zt);function a(t){var e=ai(!1,t);t&&null!=t.downloadFileName&&o.setDownloadFileName(t.downloadFileName),yt.isCloudServer()?(o.downloadFileDirectUseBlob(b,i,e,z,Te,Ie),ue=!1):!1===ie.options.downloadProtocolFile?o.downloadFile(b,i,e,z,n,Te,Ie).always(function(){ue=!1}):(o.downloadFileDirect(b,i,e,z,Te,Ie),ue=!1)}if(ue=!0,"save"==(i="doc"===i&&Zt.download.docExtension?Zt.download.docExtension:i)&&1==Zt.saveDialog){if(Zt.clientSidePdf.downloadFile)throw gt.get("unsupported_feature_localStorage");new Wt(y,ie).show({saveHandler:function(t){i=t.type,a(t)},cancelHandler:function(){ue=!1}})}else"xls"==i&&1==Zt.showXlsKeepFormDialog?(r=di(),P.show("",{type:"confirm",body:function(t){r.wrapper.appendTo(t)},okHandler:function(){var t,e=r.layout.is(":checked")?65537:65538;r.ratio.is(":checked")&&(t=r.ratioInput.val(),isNaN(t)||(t=Math.min(Math.max(t,10),400))),a({xlsKeepFormNum:e,xlsPageZoom:t})},cancelHandler:function(){ue=!1}})):"xls_data"===i?(i="xls",a({xlsopt:2})):a()}function r(){var t=!yt.browser.android,e=!yt.browser.ios,i=!!yt.browser.ios&&!yt.browser.chrome&&!yt.browser.firefox,h=!(!yt.browser.ios||!yt.browser.chrome),u=t&&e||i;e&&ut.progress.hide(y),(e=document.getElementById("crownix-print-frame"))&&e.remove(),ie.isPrinting=!0;var p,r,f=$('<div id="crownix-print-frame">').css({position:"absolute",top:$("#"+bt.CONTAINER_ID).offset().top,width:$("#m2soft-crownix-page").width()||$("#m2soft-document-scroller").width(),height:"100%"}).prependTo("body");function n(t,e){for(var i=t;i<=e;i++){var n=i,a=M.getHeadForPage(n),r=M.getParsedPage(n),o=Math.floor(r.attr("wd")/10.3),s=Math.floor(r.attr("ht")/10.3),l="l"===r.attr("or")?"margin: 0; size: landscape;":"size: portrait;",d=$("<div>").attr("id",bt.PAGE_ID).addClass(bt.PAGE_ID).css({width:o,height:s,position:"relative",visibility:"visible"});n<ie.totalPage&&d.css({"page-break-after":"always"}),yt.browser.firefox&&n<=ie.totalPage&&d.css({"page-break-inside":"avoid"}),u&&i===t&&(c=p.contents()[0].getElementsByTagName("head")[0],$("<style>").attr("type","text/css").attr("media","print").append("body {margin: 0;padding: 0;}@page {"+l+"}").appendTo(c));var l=$("<canvas>").attr("id",bt.CANVAS_ID).attr("width",o).attr("height",s).addClass(bt.CANVAS_ID).css({"z-index":1}).appendTo(d),c=$("<div>").attr("id",bt.TEXT_ID).addClass(bt.TEXT_ID).css({width:o,height:s,"z-index":2,"-webkit-print-color-adjust":"exact",margin:"1px"}).appendTo(d),s=$("<div>").attr("id",bt.NOTE_ID).addClass(bt.NOTE_ID).css({width:o,height:s,"z-index":3,overflow:"hidden"}).appendTo(d);yt.browser.safari||h?d.css({zoom:.83}):yt.browser.ios&&d.css({zoom:.95}),l.css("position","absolute"),c.css("position","absolute"),s.css("position","absolute"),u?d.appendTo(p.contents().find("body")):d.appendTo(f),function(t,e,i,n,r){var o;o=n[0],De(o,i,t,a,function(){ie.drilldownManager.updateInfo(r,t,e,i,n),ie.drilldownManager.reload(r)},"p")}(r,d,c,l,n),$e("includeNoteInPrint")&&ie.noteManager.drawNote(s,n,"print")}}if(u&&((p=$('<iframe id="crownix-print-viewer">').css({width:"100%",height:"100%"})).prependTo(f),(e=p.contents()[0]).open(),e.write('<!DOCTYPE html><head></head><body id="'+bt.CONTAINER_ID+'" style="width: '+$("#crownix-print-viewer").width()+'px; margin: 0;"></body></html>'),e.close(),p.contents().find("head").append($("link").clone())),A)for(var o,a,s=A.getMrdGroupInfo(),l=0;l<s.mrdGroupList.length;l++)n(a=(o=A.getMrdGroup(s.mrdGroupOrder[l])).startPage,a+o.totalPage-1);else n(1,ie.totalPage);var d=window;if(u)r=document.getElementById("crownix-print-viewer");else{for(var c=d.parent;d!=c;)c=(d=d.parent).parent;f.css({position:"absolute",top:"0px",left:"0px"})}setTimeout(function(){var e,i,n;ut.progress.hide(y),yt.browser.msie||yt.browser.edge?r.contentWindow?r.contentWindow.document.execCommand("print",!1,null):r.contentDocument&&r.contentDocument.execCommand("print",!1,null):u?((t=r.contentWindow||r.contentDocument).focus(),t.print()):(window.onbeforeprint=function(t){e=$(d.document).find("body"),i=e.contents(),n=e.css("display"),e.css("display","inline"),i.each(function(){$(this).get(0).tagName&&(this.prevDisp=$(this).css("display"),$(this).hide())}),f.removeAttr("style").appendTo($(d.document).find("body"))},window.onafterprint=function(t){i.each(function(){$(this).get(0).tagName&&($(this).css("display",this.prevDisp),delete this.prevDisp)}),e.css("display",n),f.remove()},print()),yt.browser.opera?t.onfocus=function(){f.remove()}:yt.browser.ios?ut.progress.hide(y):u&&f.remove(),ie.isPrinting=!1;var t=M.getParsedPage(ie.currentPage);ie.drilldownManager.updateInfo(ie.currentPage,t,W,J,V),ie.layerManager.refreshLayer(ie.currentPage)},1e3)}function s(){if(!(q&&q.isConnected()||m2soft.crownix.storage&&m2soft.crownix.storage.Window))throw P.show(gt.get("unsupported_feature_localStorage")),gt.get("unsupported_feature_localStorage")}function l(t,e,i){var n=t.mmlData||t;C=n.mrd_path||"",k=n.mrd_param||"",T=n.mrd_data||"",S=Array.isArray(C)?new Array(C.length):"",Zt=$.extend({},te),"object"==typeof e?$.extend(!0,Zt,e):"object"==typeof n.options&&$.extend(!0,Zt,n.options),ee=n.preventPrintExport,ge=n.useAdjustLetterSpace,me=n.useAdjustCharacterScale,fe=n.useWebFont,ie.isAppendReport=n.isAppendReport,n.mrdGroupList?(ie.isGroupReport=!0,(n=n.mrdGroupList)&&0<n.length&&(A=new Xt(ie)).importMrdGroup(n)):ie.isGroupReport=ie.mrdGroupManager=A=!1,Qe(t,i),Zt.showPageNum?P.keepPageNum(Zt.showPageNum):$(".crownix-dialog-message-pagenum").remove(),(Zt.showThumbnail&&we||Zt&&Zt.showThumbnail&&we&&et.getThumbnail())&&tt.addSlideTab(gt.get("thumbnail"),et.getThumbnail())}function h(t){if(!he)throw Error(gt.get("image_export_disabled_before_done"));if(!ie.isFormEditMode)throw Error(gt.get("unsupported_feature_without_formedit_mode"));if("object"==typeof(t="string"==typeof t&&0==t.indexOf("{")?JSON.parse(t):t))t.drilldownInfo&&ie.drilldownManager.import(t.drilldownInfo,!0),t.removedPage&&M.removePage(t.removedPage),t.formData&&re.import(t.formData),!t.currentPage||ie.shareManager&&ie.shareManager.isConnected()||a(t.currentPage),t.noteData&&ie.noteManager&&(ie.noteManager.clear(!0),ie.noteManager.import(t.noteData));else if("string"==typeof t){if(null===(t=kt.xml2json(t,{arrayAccessFormPaths:["formdata.form","formdata.form.fields.field","formdata.formLayerList.layer","formdata.formLayerList.layer.formList",/formdata\.formLayerList\.layer\.formList\..*\.fields\.field/]})))throw Error(gt.get("parsing_error_mml"));re.import(t)}setTimeout(function(){a(0<ie.currentPage?ie.currentPage:1)},0),re&&re.removePreventEvent(),ie.formManager.validator.createInvalidList(),ie.isFormEditMode&&wt.getInstance(ie).redefineSkipTabOrder(),oi("formfield-finished")}function u(t,e){re.isAllFormSubmitted()&&(M.isPreventSave()?E.enableToolbarItem(["print","print_pdf","cloud_print"]):E.enableToolbarItem(["save","print","print_pdf","cloud_print"]),ee=!1),q&&q.isConnected()&&(t.status?q.submitFinished(t,e):q.submitFailed()),ie.options.mirroring.enable&&ie.mirroringManager.externalEvent.submitFinished(Xe(),t.status),oi("submit-finished",t),re.saved()}function p(t,e){var i,n=null,r=null,o=null,a=null;if(yt.isArray(t)){ie.isAppendReport=!0;for(var n=[],r=[],o=[],a=[],s=0;s<t.length;s++)"object"==typeof j?(n.push(j.unprocess(t[s].mrdPath,H)),r.push(j.unprocess(t[s].mrdParam,H)),"string"==typeof t[s].rdata&&a.push(j.unprocess(t[s].rdata,H))):(n.push(t[s].mrdPath),r.push(t[s].mrdParam),"string"==typeof t[s].rdata&&a.push(t[s].rdata)),D.getMrdPlainParam()?o.push(D.getMrdPlainParam()):o.push("");i=e}else if("object"==typeof t){if(!we)throw gt.get("set_statelessmode").replace(/%s/g,"mrdGroupMode");ie.isAppendReport=ie.isGroupReport=!0,(A=A||new Xt(ie)).setMrdGroup(t),ie.dialog.setMrdGroupManager(A);var l=A.getCurrentMrdGroup(),d=l.mrdPath.slice(0),c=l.mrdParam.slice(0),l=l.rdata.slice(0);"object"==typeof j?(n=j.unprocess(d,H),r=j.unprocess(c,H),"string"==typeof l&&(a=j.unprocess(l,H))):(n=d,r=c,a=l),i=e}else ie.isAppendReport=!1,"object"==typeof j?(n=j.unprocess(t,H),r=j.unprocess(e,H),"string"==typeof T&&(a=j.unprocess(T,H))):(n=t,r=e,"string"==typeof T&&(a=T)),o=D.getMrdPlainParam();return{mrdPathLocal:n,mrdParamLocal:r,mrdPlainParamLocal:o,mrdDataLocal:a,options:i}}function f(){if(!we)throw Error(gt.get("set_statelessmode").replace(/%s/g,"appendFile()"));if(!Zt||!he)throw Error(gt.get("image_export_disabled_before_done"));if((!q||!q.isConnected()||q.isHost())&&!(ie.options.mirroring.enable&&ie.mirroringManager.externalEvent.isSubProcess()||ie.preventSubmit)){if(ie.isGroupReport)throw Error(gt.get("cannot_use_in_mrdgroup_mode"));return 1}}function m(t){var e;P.pagenum(ie.currentPage,ie.totalPage,!1),!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&ie.noteManager.rearrangeScanNote(t),(ie.scanPage&&ie.scanPage.getAddedPages().length||ie.editor&&ie.editor.getAddedPages().length)&&n(),ie.isGroupReport?(e=t,t=ie.totalPage-e+1,(i=A.getCurrentMrdGroup()).currentPage=t,i.startPage=t,i.totalPage=e,i.isLoaded=!0,ie.preventSubmit||(Zt.scrollOptions.useInfiniteScroll||a(i.startPage),0<Gt.getInstance(ie).getGuideOrder().length&&Gt.getInstance(ie).show())):ie.currentPage===ie.totalPage?E.disableToolbarItem(["next","last"]):ie.currentPage<ie.totalPage&&E.enableToolbarItem(["next","last"]),ie.options.showThumbnail&&ie.stateLess&&setTimeout(function(){ie.thumbnail.create()},100),ie.formManager.validator.createInvalidList();var i=Gt.getInstance(ie);ie.isGroupReport||i.close(),i.length()?E.showToolbarItem(["guide"]):E.hideToolbarItem(["guide"]),i.hasNext()&&E.enableToolbarItem(["guide"]),q&&q.isConnected()&&q.reportFinished(),ie.options.mirroring.enable&&(i=ie.isFormEditMode?{mmlData:Ye(),formData:Xe({includeExtra:!0,includeNote:!0})}:Ye(),ie.mirroringManager.externalEvent.sendMmlFormData(i))}function x(t,e,i){if(we){if(!he)throw Error(gt.get("image_export_disabled_before_done"));var n;if("png"===t||"jpeg"===t)n=new m2soft.crownix.ImageConverter;else{if("pdf"!==t&&"cpdf"!==t)throw Error(gt.get("unsupported_format")+": "+t);n=new m2soft.crownix.PdfConverter}ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode&&(re.disableEdit(),n.setFormManager(re),n.setMrdGroupManager(A),n.setMirroringManager(ie.mirroringManager),re.saved(),ie.options.mirroring.enable&&ie.mirroringManager.externalEvent.submitFinished(Xe())),ie.license.isAllowedFeature("Note")&&$e("includeNoteInExport")&&n.setNoteManager(ie.noteManager),"cpdf"===t&&(n.setServerUrl(b),n.setLayerManager(ie.layerManager),n.setDrilldownManager(ie.drilldownManager),n.setUseAdjustLetterSpace(ge),n.setPageInfo({coverPage:ie.report.getCoverPage(),startPageNo:ie.startPageNo,totalPage:ie.totalPage,currentPage:ie.currentPage}),n.setExportFileName(ie.options.downloadFileName),n.setUseEmbeddedFont(ie.options.clientSidePdf.embeddedFont),n.setFontInfo(ie.fontInfo),n.setDisableDownloadFile(!0===yt.browser.msie&&9===yt.browser.version||i&&i.disableDownloadFile),n.setDialog(ie.dialog),n.setLocale(ie.options.clientSidePdf.locale||gt.language),n.setCompress(ie.options.clientSidePdf.compress)),n.setUseAdjustLetterSpace(ge),n.setAlterFontMap(ie.alterFontMap),n.convert(M,t,e,i)}else P.show(gt.get("save_stateful_error"))}function v(){var e=$.Deferred(),t=Zt.clientSidePdf.print;return(!t||Zt.printDialog.clientSidePdf&&Zt.clientSidePdf.vector)&&(t||Zt.printDialog.serverSidePdf)?(t=t?{page:!0,copy:!0}:{layout:!0,duplex:!0},(new Ut).show({printOptions:Zt.printDialog,pageInfo:{totalPage:ie.totalPage},dialogOptions:t}).done(function(t){e.resolve(t)}).fail(function(){e.reject()}),e.promise()):e.resolve()}var b,y,C,k,S,T,I,M,A,F,E,t,P,D,O,_,N,L,R,B,j,H,z,q,G,U,W,V,J,Y,X,Q,K,Z,tt,et,it,nt,rt,ot,at,st=m2soft.crownix.Ajax,lt=m2soft.crownix.Toolbar,dt=m2soft.crownix.CustomToolbar,ct=m2soft.crownix.Report,ht=m2soft.crownix.Painter,ut=m2soft.crownix.Message,pt=m2soft.crownix.FormDialog,ft=m2soft.crownix.Map,gt=m2soft.crownix.Resource,mt=m2soft.crownix.FormManager,wt=m2soft.crownix.FieldOrder,xt=m2soft.crownix.DrilldownManager,vt=m2soft.crownix.Inquery,bt=m2soft.crownix.Constant,yt=m2soft.crownix.Util,Ct=m2soft.crownix.License,kt=m2soft.crownix.util.Converter,St=m2soft.crownix.Runtime,Tt=m2soft.crownix.security.IKE,It=m2soft.crownix.WorkerUtil,Mt=m2soft.crownix.ExportAgent,At=m2soft.crownix.ParameterBuilder,Ft=m2soft.crownix.LinkManager,Et=m2soft.crownix.PageSwiper,Pt=m2soft.crownix.resource.Icon,Dt=m2soft.crownix.ShareManager,Ot=m2soft.crownix.ChannelManager,_t=m2soft.crownix.LayerManager,Nt=m2soft.crownix.FormLayerManager,Lt=m2soft.crownix.Slide,Rt=m2soft.crownix.Thumbnail,Bt=m2soft.crownix.TableOfContents,jt=m2soft.crownix.storage.ExternalStorage,Ht=m2soft.crownix.Search,zt=m2soft.crownix.NativeInterface,qt=m2soft.crownix.NoteManager,Gt=m2soft.crownix.GuideManager,Ut=m2soft.crownix.PrintDialog,Wt=m2soft.crownix.SaveDialog,Vt=m2soft.crownix.Magnifier,Jt=m2soft.crownix.AccessibilityHelper,Yt=m2soft.crownix.DataManager,Xt=m2soft.crownix.MrdGroupManager,Qt=m2soft.crownix.Constant.RUNTIME_APPEND_POSTFIX,$t={},Kt={viewerWidth:.9,viewerHeight:.9,enableCloseButton:!0,toolbarScale:1,enableToolbarNavigator:!1,editor:{url:"",paperType:"a4"},accessibilityMode:!1},Zt={},te={enableNote:!1,enableSecure:!1,includeNoteInPrint:void 0,includeNoteInExport:void 0,excludeNoteTypeInPrint:[],excludeNoteTypeInExport:[],scrollbarOnNote:{width:"18px",color:"rgba(0, 0, 0, 0.498039)"},scrollbarOnViewer:{width:"7px",color:"rgba(0, 0, 0, 0.5)"},isHyperlink:!1,isInquery:!1,inquiryURL:"",defaultZoom:void 0,defaultZoomCentre:"center",noDataDialog:{show:!0},showSubmitConfirm:{show:!1},submitPreview:!1,pdfPrintPreview:!1,imageDrawOption:{useCanvas:!0},useScrollTransition:!0,swipe:{useOnZoom:!0,sensitivity:2,useOnDesktop:!1},exportMethod:"get",timeout:30,submitMsgPosition:void 0,showDrilldownMsg:!0,keepZoomRatio:!1,downloadProtocolFile:!1,showPageNum:!1,pdfReaderNotFoundMessage:void 0,downloadFileName:void 0,download:{partsave:void 0,deleteOnServer:!0,printFileDelete:!0,printFileName:void 0,docExtension:void 0},infotalk:{timeout:30,dataVerification:!1,contentType:null,protocol:null,compressRequest:!1},saveMmlToPdf:!1,saveMmlToExport:!1,showXlsKeepFormDialog:!1,pdfPrintSpoolName:void 0,textOnCanvas:!1,maxScaleRatio:2.5,useFixedFrame:!1,disableToolbarItemsOnError:void 0,cloudPrintSpoolName:void 0,scrollMovePage:!0,scrollOptions:{disableTouch:!1,disablePointer:!1,disableMouse:!1,zoomMin:.25,zoomMax:2.5,pageMargin:12,useInfiniteScroll:!1,pageAlign:"center"},enableTranslateZ:!0,formField:{signatureMethod:"bottom",guideOnSignWindow:!0,guideKeepSignWindow:!1,guideAlignSignature:!1,selectEntireText:!1,allowDuplicate:!1,useReportStyleOnSign:!1,fontWeightOnTextSign:void 0,skipValidation:!1,showValidationAlert:!0,penDpi:96,fixedPenHeight:0,fixedSignHeight:0,fixedSignPressure:!1,penButtonPosition:"center",penLineCountPerText:-1,guideAlignPen:!1,checkPenGuideString:!1,excludeOnFormData:!1,confirmOnPageOut:!0,keepTabButton:!1,tabCurrentMode:!0,tabShowSignWindow:!0,reuseSignature:!1,confirmOnReuseSignature:!0,penEventSkipTime:0,keyboardPen:{enable:!1,guideUnderline:!0,guideFontSize:"12pt",inputFontSize:"10pt",autoComplete:0},scrollPen:{enable:!1,autoScroll:800,windowHeight:70,windowPosition:"bottom",scrollbarSize:30},effect:{blinkSpeed:0,requiredOnly:!1,fixed:!0,type:null,fieldColor:"#FF0000",fieldType:[],invalidColor:null},skipTabOrder:!1,signatureGuideMode:1,signatureGuideColor:!1,moveWithSignFocus:!1,textAttr:!1,textEscape:"",editAfterSubmit:!1,image:{capture:""},onInitialize:!1,modifiedDataStorage:!1},clientSidePdf:{downloadFile:!1,print:!1,export:!1,vector:!0,embeddedFont:!1,compress:!0},showInvalid:!1,layer:{preload:!1},useNativeSign:!1,useWacomSign:!1,wacomSignLicense:"",searchOption:"page",useIdCardCapture:!1,useNumberKeyPad:!1,viewCache:!1,exportCache:!1,noMessageOfSubmitSuccess:!1,noMessageOfSubmitFail:!1,noMessageOfReportFinished:!1,showTabButton:!0,dialog:{inputType:"number",autoFocus:!0},mirroring:{enable:!1,syncPage:!1,syncInvalid:!0,excludeNoteType:[],scrollToNote:!1,scan:{moveLastPage:!0}},useCalendarComboBox:!1,calendarComboStartYear:void 0,calendarComboEndYear:void 0,guideWindow:{width:250,height:200,headerColor:"#353535",bodyColor:"#4e4e4e",buttonColor:"#4598ff",submitColor:"#ff8145"},formGuide:!0,withSign:!0,showPageLoadingOverlay:!1,validateCheck:!1,firstPageMovedEvent:!1,slide:{closeOnSelect:!1,fixedLayout:!1,initSizeMenu:yt.browser.mobile&&$(window).width()<699?"50%":200,keepSpread:!1},printDialog:{clientSidePdf:!1,serverSidePdf:!1,useSubPageOption:!1,clientSideImage:!1,maxCopy:void 0},textToSpeech:{enable:!1,focusColor:"#ff0000",stopOnInput:!0},toolbar:{pageMove:{wait:200,lastMove:!0}},saveDialog:!1,hyperlink:{refreshData:!1}},ee=!1,ie={},ne="",re=null,oe=null,ae={},se=!1,le=1,de=1,ce=!1,he=!1,ue=!1,pe=!1,fe=!1,ge=!0,me=!1,we=!0,xe=!0,ve=!1,be="",ye=null,Ce=new St,ke=yt.isSupportSVG(),Se=!yt.browser.mobile&&(yt.browser.chrome||yt.browser.opera),Te=new Ft(ie),Ie=new ft,Me=-1,Ae={},Fe=function(t){var e,i,n=$(ie.documentScroller.getPageFrame(t)),r=parseInt(n[0].style.width),o=parseInt(n[0].style.height),a=M.getParsedPage(t),s=(M.getHeadForPage(t),a.attr("wd")/10.3),l=a.attr("ht")/10.3,d=a.attr("nd"),c=n.children("#"+bt.TEXT_ID),h=n.children("#"+bt.CANVAS_ID),u=n.children("#"+bt.NOTE_ID),p=c.children(".crownix-search-mark");"1"===d&&Zt.noDataDialog.show&&P.show(Zt.noDataDialog.message||gt.get("no_data_message"),{title:Zt.noDataDialog.title,input:!1}),parseInt(s)==r&&parseInt(l)==o||(parseInt(s)!=r&&(r<s&&(e=ie.documentScroller.scroller,parseFloat(e.style.width),e.style.width=s+"px"),n.width(s)),parseInt(l)!=o&&(o<parseInt(l)?(e=ie.documentScroller.scroller,i=parseFloat(e.style.height),e.style.height=i+Math.abs(n.height()-l)+"px"):(e=ie.documentScroller.scroller,i=parseFloat(e.style.height),e.style.height=i-Math.abs(n.height()-l)+"px"),n.height(l)),ie.scroll&&ie.scroll.refresh()),ie.currentPage=parseInt(t),K.setPage(t,M,c,h,O,a);l=parseInt(Zt.scrollbarOnViewer.width);yt.changeScrollbar(l,l,Zt.scrollbarOnViewer.color,"",""),ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode&&(f=yt.browser.edge?"click touchstart":"mousedown pointerdown touchstart",n.on(f,function(t){var e=t.target.nodeName,i=$(t.target).attr("id"),n=$(t.target).attr("class"),r=$(t.target).attr("for"),t=$(t.target).attr("disabled");(i&&-1!=i.indexOf("crownix_form_field")||"OPTION"==e)&&wt.getInstance().blur(!0),se=!(!(i&&-1!=i.indexOf("crownix_form_field")||r&&-1!=r.indexOf("crownix_form_field_")||"crownix_form_field_label"===n||"crownix_hyperlink"===n)||"disabled"===t)})),xe&&((a=Zt.defaultZoom)&&(l=Zt.defaultZoomCentre.toUpperCase(),isNaN(a)?"WIDTH"==a.toUpperCase()?le=ie.documentScroller.getWidthFitRatio():"HEIGHT"==a.toUpperCase()&&(le=ie.documentScroller.getHeightFitRatio()):le=Number(a),O.zoom(le),"CENTER"==l?O.scrollTo(-(n.width()*le-U.width())/2,-(n.height()*le-U.height())/2,0):"LEFTTOP"==l&&O.scrollTo(0,0,0),isNaN(a)?"WIDTH"==a.toUpperCase()?$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Pt.FIT_WIDTH)):"HEIGHT"==a.toUpperCase()&&$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Pt.FIT_HEIGHT)):E.setRatioText(Math.round(100*O.scale)+"%")),xe=!1),K.redraw(t,M,n,c,h,u,O,De,p),!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&(ie.noteManager.prepare(u,t),ie.noteManager.setRatio(le)),g(t),q&&q.isConnected()&&q.initFields();var f=yt.browser.edge?"click touchstart":"mousedown pointerdown touchstart";$(tt.getSlide()).on(f,function(t){se=!0})},Ee=function(e){var i,t,n,r;ot&&ot.isAddedPage(e)?o(e,ot.getAddedPages()):at&&at.isAddedPage(e)?o(e,at.getAddedPages()):(i=M.getParsedPage(e),t=M.getHeadForPage(e),n=i.attr("wd")/10.3,r=i.attr("ht")/10.3,"1"===i.attr("nd")&&Zt.noDataDialog.show&&P.show(Zt.noDataDialog.message||gt.get("no_data_message"),{title:Zt.noDataDialog.title}),ie.currentPage=parseInt(e),ie.textOnCanvas=Zt.textOnCanvas||Zt.useFixedFrame&&0<i.find("FL").length||"1"==i.attr("toc"),$("#"+bt.PAGE_ID).remove(),$("#"+bt.PAGE_LOADING_ID).remove(),_e(n,r),hi(),ie.drilldownManager.updateInfo(e,i,W,J,V,Y),Oe(),ie.textOnCanvas?K.setPage(ie.currentPage,M,J,V,O):(oe&&oe.clearAutoReload(),De(document.getElementById(bt.CANVAS_ID),J,i,t,function(){var t;ie.options.useTableOfContents&&ie.tableOfContents&&ie.tableOfContents.onDrawPage(J,e),ie.ttsManager&&ie.ttsManager.makeParagraphs(i),m2soft.crownix.Forgery.detect(J,document.getElementById(bt.CANVAS_ID),ie.isFormEditMode),$("#"+bt.PAGE_ID).css("visibility","visible"),ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode&&(wt.getInstance().bind(J,O,e),t=yt.browser.edge?"click touchstart":"mousedown pointerdown touchstart",$("#"+bt.CONTAINER_ID).on(t,function(t){var e=t.target.nodeName,i=$(t.target).attr("id"),n=$(t.target).attr("class"),r=$(t.target).attr("for"),t=$(t.target).attr("disabled");(i&&-1!=i.indexOf("crownix_form_field")||"OPTION"==e)&&wt.getInstance().blur(!0),se=!(!(i&&-1!=i.indexOf("crownix_form_field")||r&&-1!=r.indexOf("crownix_form_field_")||"crownix_form_field_label"===n||"crownix_hyperlink"===n)||"disabled"===t)})),ie.ttsManager&&ie.ttsManager.setFocus(),q&&q.isConnected()&&q.initFields(),ie.finishDrawPage=!0,Ot.getChannel("viewer:onDrawPage").publish(),Ot.getChannel("tabOrder:movePage").publish(),Ot.getChannel("viewer:onReportFinished").publish(),Ot.getChannel("viewer:onMoveFormField").publish(),$("#"+bt.PAGE_LOADING_ID).remove()}),ie.drilldownManager.reload(e)),Pe(e))},Pe=function(t){var e=parseInt(Zt.scrollbarOnViewer.width);yt.changeScrollbar(e,e,Zt.scrollbarOnViewer.color,"","");e=function(t){var e=Zt.defaultZoomCentre.toUpperCase();isNaN(t)?"WIDTH"==t.toUpperCase()?le=Ne():"HEIGHT"==t.toUpperCase()&&(le=Le()):le=Number(t),O.zoom(le),"CENTER"==e?O.scrollTo(-(W.width()*le-U.width())/2,-(W.height()*le-U.height())/2,0):"LEFTTOP"==e&&O.scrollTo(0,0,0),isNaN(Zt.defaultZoom)?"WIDTH"==t.toUpperCase()?$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Pt.FIT_WIDTH)):"HEIGHT"==t.toUpperCase()&&$("#crownix-toolbar #crownix-toolbar-ratio div button").html($(Pt.FIT_HEIGHT)):E.setRatioText(Math.round(100*O.scale)+"%"),xe=!1,O.resetPosition()};Zt.defaultZoom&&!Zt.keepZoomRatio||xe&&Zt.defaultZoom&&Zt.keepZoomRatio?e(Zt.defaultZoom):(Gt.getInstance(ie).isEnabled?!1!==ce&&O.zoom(le,U.width()/2,U.height()/2,0):Re(),xe=!1),ot&&ot.isAddedPage(t)||(!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&(ie.noteManager.drawPage(Y,t),ie.noteManager.setRatio(le)),ie.textOnCanvas&&!1===ce&&K.redraw(ie.currentPage,M,W,J,V,Y,O,De,X)),g(t);t=yt.browser.edge?"click touchstart":"mousedown pointerdown touchstart";$(tt.getSlide()).on(t,function(t){se=!0})},De=function(t,e,i,n,r,o){e=new ht(ie,t,e,a,b);e.useAdjustLetterSpace(ge),e.useAdjustCharacterScale(me),e.setFormFieldMode(ie.license.isAllowedFeature("FormField")&&n.formFieldMode),e.drawPage(i,n,r,o)},Oe=function(){O&&O.destroy();var t=Zt.scrollOptions.zoomMin<.1?.1:Zt.scrollOptions.zoomMin,e=10<Zt.scrollOptions.zoomMax?10:Zt.scrollOptions.zoomMax,t={zoom:!0,zoomMin:t=10<t?10:t,zoomMax:t<e?e:t,useTransition:Zt.useScrollTransition,scrollX:!0,scrollY:!0,scrollbars:"custom",interactiveScrollbars:!0,freeScroll:!0,zoomStart:Math.min(1,Zt.scrollOptions.useInfiniteScroll?ie.documentScroller.getWidthFitRatio():Ne()),keepCenter:!0,pageAlign:Zt.scrollOptions.pageAlign&&Zt.scrollOptions.pageAlign.toLowerCase(),tap:yt.hasTouch(),doubleTap:null!=Zt.scrollOptions.doubleTap?Zt.scrollOptions.doubleTap:yt.hasTouch(),mouseWheel:!0,click:!1,keyBindings:{pageUp:33,pageDown:34,end:-1,home:-1,left:-1,up:-1,right:-1,down:-1},HWCompositing:Zt.enableTranslateZ,pageTurnMethod:Zt.scrollOptions.useInfiniteScroll?"scroll":"swipe"};(yt.browser.android||yt.browser.ios)&&(t.disablePointer=!0,t.disableTouch=!1),Zt.scrollOptions.disableTouch&&(t.disableTouch=!0),Zt.scrollOptions.disablePointer&&(t.disablePointer=!0),Zt.scrollOptions.disableMouse&&(t.disableMouse=!0),$t.accessibilityMode&&(t.scroller="object"==typeof W?W[0]:null),ie.scroll=O=new m2soft.IScroll("#"+bt.CONTAINER_ID,t),O.on("zoomEnd",function(){le=this.scale,ce=!0,E.setRatioText(Math.round(100*this.scale)+"%"),ot&&ot.isAddedPage(ie.currentPage)||(!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&ie.noteManager.setRatio(this.scale),K.needRedraw&&(Zt.scrollOptions.useInfiniteScroll?(ie.documentScroller.clearLoadedPages(!0),ie.documentScroller.drawVisiblePages()):ie.textOnCanvas&&!$(".crownix-pen-overflow").length&&K.redraw(ie.currentPage,M,W,J,V,Y,O,De,X)))}),O.on("scrollMove",function(){ie.textOnCanvas&&(ie.drilldownManager.isFinished()?K.moveParts():O.scrollTo(O.absStartX,O.absStartY)),ie.options.scrollOptions.useInfiniteScroll&&(ie.documentScroller.updateScrollDirect(O.deltaY||O.wheelDeltaY),ie.dialog.pagenum(ie.documentScroller.getDisplayPageNumber(),ie.totalPage,!1),ie.pageRenderer.pause())}),O.on("scrollEnd",function(){var t;(this.indicators&&Se&&!ie.mirroringManager||ie.mirroringManager&&0!==O.maxScrollX&&0!==O.maxScrollY)&&((t=document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)),ie.options.useFixedFrame&&K.moveHyperlinks(),ie.options.scrollOptions.useInfiniteScroll&&(ie.documentScroller.updateScrollDirect(O.deltaY||O.wheelDeltaY),ie.documentScroller.drawVisiblePages(),ie.dialog.pagenum(ie.documentScroller.getDisplayPageNumber(),ie.totalPage,!1),ie.noteManager&&ie.noteManager.isFocusInTextBox()||Gt.getInstance().isEnabled||ie.documentScroller.resetToolbarItems(),ie.isGroupReport&&(A.getCurrentMrdGroup().currentPage=ie.documentScroller.getDisplayPageNumber()))}),O.on("beforeScrollStart",function(t){ie.options.scrollOptions.useInfiniteScroll?(ie.pageRenderer.pause(),ie.dialog.pagenum(ie.documentScroller.getDisplayPageNumber(),ie.totalPage,!1)):P.pagenum(ie.currentPage,ie.totalPage)}),O.on("toolbarToggle",function(t){se?se=!1:E.toggle()}),O.on("zoomStart",function(t){ce=!1,Zt.scrollOptions.useInfiniteScroll||P.pagenum(ie.currentPage,ie.totalPage)}),O.on("resize",function(){yt.browser.mobile&&this.scale==de&&Re({keepScrollY:!0}),this.zoom(this.scale,U.width()/2,U.width()/2),this.resetPosition()}),O.on("prevPage",function(){Zt.scrollOptions.useInfiniteScroll||(Zt.scrollMovePage?L&&L.isOpening()||Gt.getInstance().isEnabled||ie.isGroupReport&&A.getCurrentMrdGroup().isFirstPage()||(1!==ie.currentPage?ie.viewer.movePage(ie.isGroupReport?A.getRelativePageNumber(ie.currentPage-1):ie.currentPage-1,!1):1==ie.currentPage&&O.setScrollTop(!0)):O.setScrollTop(!0))}),O.on("nextPage",function(){Zt.scrollOptions.useInfiniteScroll||(Zt.scrollMovePage?L&&L.isOpening()||Gt.getInstance().isEnabled||ie.isGroupReport&&A.getCurrentMrdGroup().isLastPage()||(ie.currentPage<Number(ie.totalPage)?ie.viewer.movePage(ie.isGroupReport?A.getRelativePageNumber(ie.currentPage+1):ie.currentPage+1,!1):ie.currentPage==ie.totalPage&&O.setScrollTop(!1)):O.setScrollTop(!1))}),ie.options.scrollOptions.useInfiniteScroll||!(yt.browser.mobile||Zt.swipe.useOnDesktop||0<navigator.maxTouchPoints)||ie.options.mirroring.enable||(O.on("pullOut",Et.getInstance(U,ie).pullOut),O.on("pullEnd",Et.getInstance(U,ie).pullEnd),O.on("zoomStart",Et.getInstance(U,ie).cancel)),$(O.scroller).bind("doubleTap",function(t){Ne()==O.scale||1==O.scale?O.zoom(2*O.scale,t.pageX,t.pageY):Re()||O.zoom(1,t.pageX,t.pageY)}),!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&$(O.scroller).on("mousedown touchstart",function(t){Y&&Y.find(":focus").blur()}),Ot.getChannel("toolbar:changeContainer").subscribe(function(){O.refresh()}),Ot.getChannel("toolbar:changeToolbarState").subscribe(function(){O.refresh()})},_e=function(n,r){W=$("<div>").attr("id",bt.PAGE_ID).css({width:n,height:r,padding:Zt.scrollOptions.pageMargin}),$t.accessibilityMode&&0<$(".crownix-slide").length&&!1===ie.options.slide.fixedLayout?W.insertAfter(".crownix-slide"):W.prependTo("#"+bt.CONTAINER_ID),V=$("<canvas>").attr({id:bt.CANVAS_ID,width:n,height:r}).css({position:"absolute","z-index":1,width:Math.floor(n),height:Math.floor(r)}),J=$("<div>").attr("id",bt.TEXT_ID).addClass("crownix-text").css({position:"absolute",width:n,height:r,"z-index":2,margin:"1px"}),X=$("<div>").addClass("crownix-search-mark").css({position:"absolute",top:0,left:0,width:n,height:r,"pointer-events":"none"}).appendTo(J),V.addClass("crownix-page"),!0===Zt.showPageLoadingOverlay&&$("<div>").attr("id",bt.PAGE_LOADING_ID).appendTo(U),V.appendTo("#"+bt.PAGE_ID),J.appendTo("#"+bt.PAGE_ID),Ot.getChannel("toolbar:changeToolbarState").subscribe(function(t){var t=t.theme,e=parseFloat(t.pageBorderWidth),i=t.pageBorderWidth.substr(e.toString().length);1<e&&setTimeout(function(){W.css({width:n+2*e+i,height:r+2*e+i}),O.refresh()},0)}),Ot.getChannel("viewer:createPageDom").publish(),!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke&&(Y=$("<div>").attr("id",bt.NOTE_ID).css({position:"absolute",display:"block",width:n,height:r,"z-index":3}).appendTo("#"+bt.PAGE_ID)),Zt.formField.readonly&&$("<div>").attr("id",bt.PREVENTER_ID).css({position:"absolute",width:n,height:r,"z-index":4,"background-color":"rgba(0,0,0,0);"}).appendTo("#"+bt.PAGE_ID),ie.options.mirroring.enable&&!ie.mirroringManager.externalEvent.isSubProcess()&&(Q=$("<div>").attr("id",bt.MAGNIFIER_ID).css({position:"absolute",display:"none",width:n,height:r,"z-index":4}).appendTo("#"+bt.PAGE_ID))},Ne=function(){if(Zt.scrollOptions.useInfiniteScroll)return ie.documentScroller.getWidthFitRatio();if(!V)return 1;var t=U.innerWidth()-2,e=V.innerWidth();return(t-24*t/e)/e},Le=function(){if(Zt.scrollOptions.useInfiniteScroll)return ie.documentScroller.getHeightFitRatio();var t=U.innerHeight()-2,e=V.innerHeight();return(t-24*t/e)/e},Re=function(t){if(0!=$("#"+bt.PAGE_ID).length){function e(){O.zoom(le,U.width()/2,U.height()/2,0),t&&t.keepScrollY?O.scrollTo(U.width()/2,O.y):!1===O.getScrollTop()?O.scrollTo(U.width()/2,O.getMaxScrollY()):O.scrollTo(U.width()/2,0),le=O.scale,E.setRatioText(Math.round(100*O.scale)+"%"),O.resetPosition()}return(de=Ne())<1?(Zt.keepZoomRatio&&!xe||(le=de),e(),!0):(Zt.keepZoomRatio||(le=O.scale),e(),P.pagenum(ie.currentPage,ie.totalPage),!1)}},Be=function(t,e){if(E.disableToolbarItem(["cancel"]),z=z||Ce,Ce=new St,t){e&&0<=e.indexOf("<ERR")&&(0<(r=M.getDocErrMsg()).length&&!Zt.noMessageOfReportFinished&&P.show(r),ze(r));var i,n=Zt.scrollOptions.useInfiniteScroll?ie.documentScroller.getDisplayPageNumber():ie.currentPage;for(i in P.pagenum(n,ie.totalPage,!1),1===parseInt(ie.totalPage)&&E.disableToolbarItem(["next","last","move"]),M.getDocumentList())ee=ee||ie.license.isAllowedFeature("FormField")&&M.getDocumentList()[i].formFieldMode&&!ie.isFormExportMode;ee||(M.isPreventSave()?E.enableToolbarItem(["print","print_pdf","cloud_print"]):E.enableToolbarItem(["save","print","print_pdf","cloud_print"])),ie.isFormEditMode?E.showToolbarItem(["storage-formdata"]):E.hideToolbarItem(["storage-formdata"]);var r=[];Te.isEmptyPrevDocStack()||r.push("prevDoc"),Te.isEmptyNextDocStack()||r.push("nextDoc"),0<r.length?(E.showToolbarItem(["prevDoc","nextDoc"]),E.disableToolbarItem(["prevDoc","nextDoc"]),E.enableToolbarItem(r)):E.hideToolbarItem(["prevDoc","nextDoc"]),ie.isFormEditMode&&(re.fireLoadCompleteEvent(),re.bindEvent()),ie.license.isAllowedFeature("ShareServer")||(E.hideToolbarItem(["share"]),q&&q.unableLicense()),ve&&Zt.disableToolbarItemsOnError&&E.disableToolbarItem(Zt.disableToolbarItemsOnError),re.removePreventEvent(),e&&(R=e),nt&&nt.setIsFormEditMode(ie.isFormEditMode),A&&((e=A.getCurrentMrdGroup()).isLoaded=!0,e.totalPage=ie.totalPage,e.startPage=1,A.setPageToolbarItems(1,E),ie.dialog.pagenum(ie.currentPage,ie.totalPage)),setTimeout(function(){he||(ie.reportFinished=he=!0,He(),ie.textOnCanvas&&ie.redrawOnFinished&&(Zt.scrollOptions.useInfiniteScroll?ie.documentScroller.drawVisiblePages(!0):K.redraw(ie.currentPage,M,W,J,V,Y,O,De,X)),setTimeout(function(){ie.options.showThumbnail&&(we?et.create():window.console.log(gt.get("set_statelessmode").replace(/%s/g,gt.get("thumbnail"))))},0),ie.isFormEditMode&&!we||Zt.useFixedFrame||ie.toolbar.enableToolbarItem(["search"]),ie.isFormEditMode&&wt.getInstance(ie).redefineSkipTabOrder(),oi("report-finished",je()),g(1),ie.options.mirroring.enable&&(ie.mirroringManager.externalEvent.isSubProcess()?ie.finishDrawPage?ie.mirroringManager.externalEvent.reportFinished():Ot.getChannel("viewer:onReportFinished").subscribe(function(){ie.mirroringManager.externalEvent.reportFinished(),Ot.removeChannel("viewer:onReportFinished")}):(t=ie.isFormEditMode?{mmlData:Ye(),formData:Xe({includeExtra:!0,includeNote:!0})}:Ye(),ie.mirroringManager.externalEvent.sendMmlFormData(t)))),q&&q.isConnected()&&q.reportFinished(),ie.isFormEditMode&&we&&ie.formManager.makeEnableSubmit();function e(){if(q&&q.isConnected()&&!q.isHost()&&M.getAppendedMML().length)return Gt.getInstance(ie).close(),Gt.getInstance(ie).length()&&ie.toolbar.enableToolbarItem(["guide"]),0;Gt.getInstance(ie).length()&&(ie.toolbar.showToolbarItem(["guide"]),ie.options.formGuide&&Gt.getInstance(ie).show())}var t;ie.options.scrollOptions.useInfiniteScroll||(ie.finishDrawPage?e():Ot.getChannel("viewer:onDrawPage").subscribeOnce(function(t){P.pagenum(ie.currentPage,ie.totalPage,!1),e()})),ie.formManager.validator.createInvalidList(),ie.dataManager.isError()&&(t=ie.dataManager.getErrorMessage(),ut.log(t),ie.dialog.show(t),ie.toolbar.disableAllItems(),ie.scroll.destroy(),$("#m2soft-document-scroller").remove(),$("#m2soft-crownix-page").remove())},0)}else{n=Zt.scrollOptions.useInfiniteScroll?ie.documentScroller.getDisplayPageNumber():ie.currentPage;P.pagenum(n,ie.totalPage,!1),ye&&E.enableToolbarItem(["cancel"]),setTimeout(function(){ie.reportFinished=he=!0,oi("report-finished",{isError:ve,lastErrorMsg:be}),ie.options.mirroring.enable&&ie.mirroringManager.externalEvent.reportFinished()},0)}},je=function(){var t=[],e=M.getDocumentList();if(yt.isArray(C)&&e)for(var i in e)t.push(e[i].mrd);else e.hasOwnProperty()&&(t=e[1].mrd);return{reportname:t,reportlongname:C,reportparams:k,subreportname:M.getSubReportName()?M.getSubReportName().split("@@"):"",totalPage:ie.totalPage,isError:ve,lastErrorMsg:be}},He=function(){for(var t=0;t<I.length;t++)I[t].handler.apply(this,I[t].arg);I=[]},ze=function(t){ve=!0,be=t},qe=function(t){if(Zt.enableSecure){var e=Tt.getAlgorithm(ne),i=Tt.getKey(ne);return It.getCryptoWorker(t,e,i)}return It.getIdentifyWorker()},Ge=function(){var i=new st;i.setConnectTimeout(Zt.timeout);var n=Ue();i.setHandler({load:function(t){},done:function(t){var e;w(t)?n.terminate():(e=t.getResponseHeader("crownix-status"),n.postMessage({method:"finalize",text:t.responseText,status:e}))},error:function(t){var e;n.terminate(),clearInterval(ye),0==t.status?(e=gt.get("server_connect_error"),P.show(gt.get("server_connect_error"))):(e=gt.get("request_server_error")+"("+t.status+")",P.show(gt.get("request_server_error")+"("+t.status+")")),ze(e),Be(!1)},abort:function(){n.terminate(),P.show(gt.get("request_abort_error")),clearInterval(ye),ze(gt.get("request_abort_error")),Be(!1)},timeout:function(){n.terminate(),P.show(gt.get("request_timeout_error")),clearInterval(ye),ze(gt.get("request_timeout_error")),Be(!1)}});var t={opcode:702,rdid:ne};ie.rdid=ne;var r=qe("encrypt");r.addEventListener("message",function(t){var e=t.data.obj;"object"===t.data.method&&(Zt.enableSecure&&(i.setRequestHeader("crownix-rdid",ne),i.setRequestHeader("crownix-encrypt-type","parameter")),i.invoke(b+(ne?"?rdid="+ne:""),e),r.terminate())}),r.postMessage({method:"object",obj:t})},Ue=function(){var n=qe("decrypt");return n.addEventListener("message",function(t){var e=parseInt(t.data.text),i=t.data.method,t=t.data.status;null===ye||ie.reportFinished?n.terminate():"finalize"===i&&ht.updatePageNum&&(M.setTotalPage(e),P.pagenum(ie.currentPage,ie.totalPage,!0),ht.updatePageNum(),"done"===t&&(clearInterval(ye),Be(!(ye=null)),he&&g(ie.currentPage),ie.options.hyperlink.refreshData&&ie.linkManager.onReportFinished()),n.terminate())}),n},We=function(t){var i,e,n;Me!=t&&(Me=t,ot&&ot.isAddedPage(t)?o(t):M.hasPage(t)?(Ee(t),ie.search.isCreate()&&ie.search.refreshMark()):((i=new st).setConnectTimeout(Zt.timeout),e=Ve(t),t=M.findPage(t),i.setHandler({load:function(t){},done:function(t){w(t)?clearInterval(ye):e.postMessage({method:"finalize",text:t.responseText})},error:function(t){clearInterval(ye),e.terminate(),t=0==t.status?gt.get("server_connect_error"):gt.get("request_server_error")+"("+t.status+")",P.show(t),ze(t),Be(!1)},abort:function(){P.show(gt.get("request_abort_error")),e.terminate(),clearInterval(ye),ze(gt.get("request_abort_error")),Be(!1)},timeout:function(){P.show(gt.get("request_timeout_error")),e.terminate(),clearInterval(ye),ze(gt.get("request_timeout_error")),Be(!1)}}),t={opcode:703,page:t,withHead:null==M.getHeadForPage(t),mmlVersion:M.getMmlVersion(),rdid:ne},Zt.enableSecure&&(i.setRequestHeader("crownix-rdid",ne),i.setRequestHeader("crownix-encrypt-type","parameter")),(n=qe("encrypt")).addEventListener("message",function(t){var e=t.data.obj;"object"===t.data.method&&(i.invoke(b+(ne?"?rdid="+ne:""),e),n.terminate())}),n.postMessage({method:"object",obj:t})))},Ve=function(i){return rt&&rt.terminate(),(rt=qe("decrypt")).addEventListener("message",function(t){var e=t.data.text,t=t.data.method;"finalize"===t&&("0"!==e[0]?(M.onLoad=function(t){he&&(t?Be(!0):d(e)),(ie.options.scrollOptions.useInfiniteScroll?Fe:Ee)(i)},M.parseMML(e,i,t)):d(e),ie.search.isCreate()&&ie.search.refreshMark(),rt.terminate())}),rt},Je=function(t){return{mrd_path:C,mrd_param:k,mrd_data:T,drilldownInfo:ie.drilldownManager.export(),layerInfo:t.includeImage?ie.layerManager.export():ie.layerManager.export().replace(/<IM[^>]+>/g,"").replace(/<im(.*?)<(\/?)im>/g,""),options:Zt,preventPrintExport:ee,useAdjustLetterSpace:ge,useAdjustCharacterScale:me,useWebFont:fe,isAppendReport:ie.isAppendReport,removedPage:M.getRemovedPage(),version:"1.0",noteData:!0===t.includeNote&&ie.noteManager?ie.noteManager.export(ie.totalPage):void 0,focusField:t.lastFocus?wt.getInstance().getCurr():void 0}},Ye=function(t){if(!he)throw Error(gt.get("image_export_disabled_before_done"));if(L&&L.isOpening())throw Error(gt.get("image_export_disabled_before_done"));if(ie.dataManager.isError())throw Error(gt.get("image_export_disabled_before_done"));void 0===(t=$.extend({},t)).includeImage&&(t.includeImage=!0);var e=Je(t);e.mml=t.includeImage?R:R.replace(/<IM[^>]+>/g,"");var i=M.getAppendedMML();if(!ie.isGroupReport&&0<i.length){for(var n=[],r=0;r<i.length;r++)n.push(t.includeImage?i[r]:i[r].replace(/<IM[^>]+>/g,""));e.appendedMml=n}if(ie.isGroupReport){for(var o=[],a=A.getMrdGroupInfo(),r=0;r<a.mrdGroupList.length;r++){var s=a.mrdGroupList[r],l=re.export({mrdGroupId:s.id});o.push({id:s.id,mml:s.getMML(),formData:kt.json2xml(l),mrdPath:s.mrdPath,mrdParam:s.mrdParam,rdata:s.rdata})}e.mrdGroupList=o}return e},Xe=function(t){if(!he)throw Error(gt.get("image_export_disabled_before_done"));if(!ie.isFormEditMode)throw Error(gt.get("unsupported_feature_without_formedit_mode"));if(L&&L.isOpening())throw Error(gt.get("image_export_disabled_before_done"));if(ie.dataManager.isError())throw Error(gt.get("image_export_disabled_before_done"));t=$.extend({},t);var e={},i=re.export(t);return re&&re.saved(),!0===t.includeExtra?(e.formData=i,e.removedPage=M.getRemovedPage(),e.drilldownInfo=ie.drilldownManager.export(),e.currentPage=ie.currentPage,!0===t.includeNote&&ie.noteManager&&(e.noteData=ie.noteManager.export(ie.totalPage))):!0===t.includeNote?(e.formData=i,ie.noteManager&&(e.noteData=ie.noteManager.export(ie.totalPage))):e=kt.json2xml(i),e},Qe=function(e,i){var n=e.mmlData||e;Ke(),e.isHyperlink&&e.stateful&&(ie.totalPage=e.totalPageNum,ie.rdid=e.rdid,ie.report=e.report,ie.license=e.license,!0===(ie.license.isAllowedFeature("Note")&&ie.options.enableNote)&&yt.isSupportSVG()&&(ie.noteManager=new qt(ie.parentId,ie)),M.releaseWorker(),M=ie.report,ne=ie.rdid),ie.isAppendReport=!1,n.layerInfo&&oe.import(n.layerInfo),e.formData&&M.setIsDrawFirstPage(!1);var r=n.appendedMml;r&&0<r.length&&Ot.getChannel("report:onCloseMml").subscribe(function(t){t+=1;t===r.length-1&&Ot.removeChannel("report:onCloseMml"),M.appendMML(r[t],ie.totalPage+1,"finalize")}),ii(n.mrd_param);var t,o=n.mml;M.onLoad=function(t){B=ie.parameterBuilder=new At(ie,$e),t?Be(!0,o):d(o),ie.drilldownManager.import(n.drilldownInfo),M.removePage(n.removedPage),n.noteData&&ie.noteManager&&ie.noteManager.import(n.noteData),e.formData&&setTimeout(function(){h(e.formData)},0),i&&i()},e.isHyperlink&&e.stateful?(t=M.getDocumentIndex(e.curPageNum),t=M.getDocumentList()[t],M.parseHead(t.headXML),M.onLoad(!0)):M.parseMML(o,void 0,"finalize")},$e=function(t){return!(!0!==(ie.license.isAllowedFeature("Note")&&Zt.enableNote)||!ke)&&(void 0===Zt[t]?"editable"===ie.noteManager.getMode()||"disable"===ie.noteManager.getMode():!0===Zt[t])},Ke=function(){be=ne="",xe=!(ee=ve=he=!(le=1)),z=void 0,Me=-1,F=0,(Zt.saveMmlToPdf||Zt.saveMmlToExport)&&(we=!1),ie.toolbar=E,ie.inquery=D,ie.scroll=O,ie.client=_,ie.rdid=ne,ie.mmlString=R,ie.eventHandler=ae,ie.parameterBuilder=B,ie.options=Zt,ie.stateLess=we,ie.useWebFont=fe,ie.isFormEditMode=void 0,ie.rformmode=void 0,ie.isFormExportMode=!1,ie.currentPage=0,ie.totalPage=0,ie.containerDom=U,ie.mrdPath=C,ie.mrdParam=k,ie.mrdPlainParam=S,ie.encType=H,ie.mrdData=T,ie.startPageNo=0,ie.openFile=ei,ie.appendFile=ri,ie.appendMML=ni,ie.exportMML=Ye,ie.exportFormData=Xe,ie.importMML=l,ie.importFormData=h,ie.emit=oi,ie.options.download.deleteOnServer=!!Zt.download.deleteOnServer,ie.options.download.printFileDelete=!!Zt.download.printFileDelete,ie.textOnCanvas=Zt.textOnCanvas;var t=new Ct;L=new xt(ie,b,c),oe&&oe.clearAutoReload(),oe=new _t(c,ie),re=new mt(u,Ze,ie),N=new Nt(re),(G=m2soft.crownix.FieldEffector.getInstance(ie)).constructor(ie),ie.fieldEffector=G,ie.canvasManager=K=new m2soft.crownix.CanvasManager(ie),M=new ct(ie,y),ie.slide&&ie.slide.destroySlide(),tt=new Lt(bt.CONTAINER_ID,ie),et=new Rt(ie),it=new Bt(ie),ie.noteManager&&(ie.noteManager.destroyNoteToolbar(),ie.noteManager=null),ye&&clearInterval(ye),ye=null,ie.license=t,ie.report=M,ie.drilldownManager=L,ie.layerManager=oe,ie.formManager=re,ie.formLayerManager=N,ie.slide=tt,ie.thumbnail=et,ie.tableOfContents=it,ie.reportFinished=!1,ie.redrawOnFinished=!1,ie.preventSubmit=!1,ie.fontInfo=[],ie.search=new Ht(ie,b),ie.search.destroy(!0),ie.dataManager=new Yt,ie.redrawPage=n,ie.isPrinting=!1,wt.dispose(),wt.getInstance(ie).clear(),Gt.getInstance(ie).clear(),ie.movePage=a,ie.alterFontMap=void 0,ie.submitParameters={},ie.nativeInterface=zt,ie.reportingServerURL=b,ie.isOpenWindow=!1,ie.finishDrawPage=!1,ie.cxGridManager=null,ie.linkManager=Te,ie.mrdGroupManager=A,ie.options.mirroring.enable&&(ie.magnifier=new Vt(ie)),ot&&(ie.editor=ot).init(ie),at&&(ie.totalPage+=at.getAddedPages().length),Zt.mirroring.enable&&(ie.mirroringManager=new m2soft.crownix.MirroringManager(ie)),ie.useWebFont&&(ie.fontLoader=new m2soft.crownix.FontLoader(ie)),(ie.shareManager||Zt.mirroring.enable)&&(Zt.scrollOptions.useInfiniteScroll=!1),ie.isGroupReport&&(Zt.submitPreview=!1),we||!0!==Zt.scrollOptions.useInfiniteScroll||(P.show(gt.get("set_statelessmode").replace(/%s/g,gt.get("infinite_scroll"))),Zt.scrollOptions.useInfiniteScroll=!1),Zt.scrollOptions.useInfiniteScroll?(ie.textOnCanvas=ie.options.textOnCanvas=!0,ie.documentScroller=new m2soft.crownix.DocumentScroller(ie,Fe,We),ie.documentScroller.prepare(),Oe(),ie.pageRenderer=new m2soft.crownix.PageRenderer(ie)):$("#"+bt.PAGE_ID).remove(),Zt.formField.keyboardPen.enable&&(Zt.formField.scrollPen.enable=!1),Zt.scrollOptions.disablePointer&&Zt.scrollOptions.disableMouse&&Zt.scrollOptions.disableTouch?$(ie.parentId).removeClass("crownix-prevent-user-select"):$(ie.parentId).addClass("crownix-prevent-user-select"),G.start(),ie.linkManager.initHyperlinkColor(),nt&&(nt.lastModified=""),$(".crownix-dialog-overlay").remove(),$(".crownix-dialog-outer").remove()},Ze=function(){return B},ti=function(){ie.reportFinished||($.ajax({type:"GET",async:!1,url:b+"?opcode=709&rdid="+ne+"&html5_uuid="+ie.uuid}),_&&_.abort())},ei=function(t,e,i){if("function"==typeof document.createElement("canvas").getContext||(P.show(gt.get("unsupported_canvas_error")),0))if(q&&q.isConnected()&&!q.isHost())P.show(gt.get("unsupported_feature_localStorage"));else{if(i&&!0===i.isHyperlink){if(i.isHyperlink=!1,0<=t.indexOf("http://")||0<=t.indexOf("https://")||(t=C.substring(0,C.lastIndexOf("/")+1)+t),!Te.saveState("new"))return void P.show(gt.get("hyperlink_full_stack_warning"));if(Te.deleteNextDocStack(),Te.isExistData(t+"_"+e))return void Te.restoreState(t+"_"+e)}else i&&!0===i.isInquery?i.isInquery=!1:i&&i.keepLinkManager?i.keepLinkManager=!1:Te=new Ft(ie);$(window).on("beforeunload",ti);var e=p(t,e),r=e.mrdPathLocal,o=e.mrdParamLocal,a=e.mrdPlainParamLocal,s=e.mrdDataLocal;e.options&&(i=e.options),C=r,k=o,T=s,S=a,Zt=$.extend({},te),"object"==typeof i&&$.extend(!0,Zt,i),Ke(),3<H?a=At.prototype.addParamByOptions(ie,a):o=At.prototype.addParamByOptions(ie,o),ii(3<H?a:o),M.setIsDrawFirstPage(!0);function n(){var t,e,i,n;_=we?(t=r,e=o,i=s,n=a,ut.progress.show(y),E.enableToolbarItem(["cancel"]),c(t,e,n,i,function(t,e,i){ne=e,M.parseMML(t,void 0,i)},function(e,t,i){ne=t,"0"===e[0]?(B=ie.parameterBuilder=new At(ie,$e),d(e)):(M.onLoad=function(t){B=ie.parameterBuilder=new At(ie,$e),t?Be(!0,e):d(e),ie.options.hyperlink.refreshData&&ie.linkManager.onReportFinished()},M.parseMML(e,void 0,i))},700)):(t=r,e=o,n=s,i=a,ut.progress.show(y),E.enableToolbarItem(["cancel"]),c(t,e,i,n,function(t,e){ne=e,Ge()},function(t,e,i){ne=e,t&&t.length!=t.indexOf("</MML>")+6?d(t):(R=t,M.parseMML(t,1,i),B=ie.parameterBuilder=new At(ie,$e),ye=ye||setInterval(function(){Ge()},500))},701))}Zt.showPageNum?P.keepPageNum(Zt.showPageNum):$(".crownix-dialog-message-pagenum").remove(),ie.options.showThumbnail&&we&&tt.addSlideTab(gt.get("thumbnail"),et.getThumbnail()),Zt.enableSecure?(Tt.setMethod("object"==typeof Zt.enableSecure?Zt.enableSecure.methodType:"OPTIONS"),ne&&Tt.removeSession(ne),Tt.request({serverUrl:b}).done(function(t){ne=t,n()}).fail(function(t){ut.log(t.stack),P.show("Key exchange error("+t+")")})):n(),"object"==typeof j&&(j=void 0,m2soft.crownix.EncEval=void 0,m2soft.crownix.Enc=void 0,delete m2soft.crownix.EncEval,delete m2soft.crownix.Enc)}},ii=function(t){t&&(t=(yt.isArray(t)?t[0]:t).match(/\/rformmode\s*\[\d\]/g),ie.rformmode=t&&0<t.length?t[0]:"/rformmode [0]")},ni=function(t,i){var n=ie.totalPage;M.onLoad=function(t,e){m(ie.totalPage-n),"function"==typeof i&&i(t,e)},M.appendMML(t,ie.totalPage+1,"finalize")},ri=function(n,r){if(Zt){ut.progress.show(y);var t=p(n,r),o=t.mrdPathLocal,a=t.mrdParamLocal,e=t.mrdPlainParamLocal,t=t.mrdDataLocal;ie.isAppendReport=!0,he=!1,C=ie.mrdPath=yt.isArray(C)?C:[C],k=ie.mrdParam=yt.isArray(k)?k:[k],o=yt.isArray(o)?o:[o],a=yt.isArray(a)?a:a?[a]:[""],3<H?e=At.prototype.addParamByOptions(ie,e):a=At.prototype.addParamByOptions(ie,a);for(var i,s=0;s<o.length;s++)i=o[s],-1<C.indexOf(i)&&(a[s]+=" /rformpostfix ["+Qt+ ++F+"]");var l=ie.totalPage;c(o,a,t,e,function(t,e,i){},function(i,t,e){M.onLoad=function(t,e){he=!0,ut.progress.hide(y),t?(oi("append-finished",{mrdPath:n,mrdParam:r,appendIndex:e,totalPage:ie.totalPage}),ie.isFormEditMode&&(re.fireLoadCompleteEvent(),re.bindEvent()),re.removePreventEvent(),ie.isFormEditMode?E.showToolbarItem(["storage-formdata"]):E.hideToolbarItem(["storage-formdata"]),nt&&nt.setIsFormEditMode(ie.isFormEditMode),m(ie.totalPage-l),function(t,e){for(var i,n=0;n<t.length;n++)C.push(t[n]),k.push(e[n]);ie.isGroupReport&&(i=A.getSortedMrdInfo(),C=i.mrdPath,k=i.mrdParam,T=i.mrdData)}(o,a),ie.dataManager.isError()&&(t=ie.dataManager.getErrorMessage(),ut.log(t),ie.dialog.show(t),ie.toolbar.disableAllItems(),ie.scroll.destroy(),$("#m2soft-document-scroller").remove(),$("#m2soft-crownix-page").remove())):(M.removeAppendedMML(e),d(i),oi("append-finished",{isError:!0,lastErrorMsg:be}))},ie.isFormEditMode&&(re.isLoadComplete=!1),M.appendMML(i,ie.totalPage+1,e)},700)}},oi=function(t){if("function"==typeof ae[t]){var e=[];return Array.prototype.push.apply(e,arguments),e.shift(),ae[t].apply(null,e)}ci.debug&&ut.log("[event emitted] "+t+" is not registerd")},ai=function(t,e){var i,n;return{mrdPath:i=C?B.concatMrdPath(C):i,mrdParam:3<H?(ie.mrdPlainParam=B.concatMrdParam(re.getFormList(),S,{isPrintPdf:t,isPrint:!0,option:e}),B.concatMrdPath(k)):B.concatMrdParam(re.getFormList(),k,{isPrintPdf:t,isPrint:!0,option:e}),mrdData:n=null!=T?B.concatMrdPath(T):n}},si=function(t){if("string"!=typeof t||t.match(/^[1-9][0-9]*$/)){if(t>ie.totalPage)return P.show(gt.get(he?"page_not_exist":"page_not_create")),!1;if(t<1)return P.show(gt.get("page_not_exist")),!1;if(ie.isGroupReport){t=A.validatePageNumber(t);return t||P.show(gt.get(he?"page_not_exist":"page_not_create")),t}return!0}return P.show(gt.get("wrong_page_number")),!1},li=function(t){for(var e in t=t||ie.report.findPage(ie.currentPage),ie.report.getDocumentList()){e=ie.report.getDocumentList()[e];if(t>=e.firstPage&&t<=e.lastPage)return e.title}},di=function(){function t(t,e){var i=$("<input>").attr({type:e.type}).appendTo(t);return"checkbox"==e.type&&i.attr("checked",e.checked),$("<label>").text(e.labelText).click(function(){i.click()}).appendTo(t),i}function e(t,e,i){var n=e.val(),e=$("#crownix-dialog-button-ok");if(!t)return e.attr("disabled",!1),i.hide(),0;isNaN(n)||n<10||400<n?(e.attr("disabled",!0),i.show()):(e.attr("disabled",!1),i.hide())}var i=$("<div>").attr("class","crownix-xlsdialog-wrapper"),n=$("<div>").attr("class","crownix-xlsdialog-sub"),r=$("<div>").attr("class","crownix-xlsdialog-sub"),o=$("<div>").css("display","inline");validatoWrapper=$("<div>").attr("class","crownix-xlsdialog-validator").text(gt.get("exceed_ratio_range"));var a=t(n,{type:"checkbox",checked:!0,labelText:gt.get("keep_report_layout")}),s=t(r,{type:"checkbox",labelText:gt.get("print_page_ratio")});o.appendTo(r);var l=t(o,{type:"number",labelText:"%"});return l.attr({min:10,max:400,value:100,disabled:!0}).css({width:"15%","margin-left":"20px","margin-right":"5px"}).on("input",function(){e(s.is(":checked"),$(this),validatoWrapper)}),s.click(function(){$(this).is(":checked")?l.attr("disabled",!1):l.attr("disabled",!0),e($(this).is(":checked"),l,validatoWrapper)}),n.appendTo(i),r.appendTo(i),validatoWrapper.appendTo(i),{wrapper:i,layout:a,ratio:s,ratioInput:l}},ci=function(t,e,i){var n,r,o,a;b=t,"string"!=typeof e?(pe=!0,$t=$.extend({},Kt),"object"==typeof e&&$.extend(!0,$t,e)):(ie.parentId=y="#"+e,$t=$.extend({},Kt),$.extend(!0,$t,i)),I=[],Ot.clear(),m2soft.crownix.Layout.initialize(),$(y+" > *").remove(),pe&&(ie.parentId=y="#crownix-html5-viewer",(n=$("<div>").addClass("crownix-overlay").css("z-index",bt.VIEWER_OVERLAY_Z_INDEX).prependTo("body").fadeIn(500))[0].addEventListener("DOMMouseScroll",function(t){t.ctrlKey&&t.preventDefault()}),n[0].addEventListener("mousewheel",function(t){t.ctrlKey&&t.preventDefault()}),("number"!=typeof $t.viewerWidth||$t.viewerWidth<0||1<$t.viewerWidth)&&($t.viewerWidth=.9),("number"!=typeof $t.viewerHeight||$t.viewerHeight<0||1<$t.viewerHeight)&&($t.viewerHeight=.9),r=$('<div id="crownix-html5-viewer">').css({display:"none",position:"absolute",width:100*$t.viewerWidth+"%",height:100*$t.viewerHeight+"%",left:(100-100*$t.viewerWidth)/2+"%",top:(100-100*$t.viewerHeight)/2+"%","margin-left":window.pageXOffset,"margin-top":window.pageYOffset,border:"1px solid #666","z-index":bt.VIEWER_Z_INDEX}).prependTo("body"),o=$("body").css("overflow-x"),a=$("body").css("overflow-y"),1==$t.viewerWidth&&$("body").css("overflow-x","hidden"),1==$t.viewerWidth&&1==$t.viewerHeight&&$("body").css("overflow-y","hidden"),$('<span class="crownix-close-button">X</span>').bind("click",function(){ti(),r.remove(),n.remove(),$("body").css("overflow-x",o),$("body").css("overflow-y",a),wt.dispose(),Et.dispose(),re&&re.saved(),oi("overlay-closed")}).css({display:$t.enableCloseButton?"block":"none"}).appendTo(r),r.fadeIn(500)),document.querySelector(y).addEventListener("DOMMouseScroll",function(t){t.ctrlKey&&t.preventDefault()}),document.querySelector(y).addEventListener("mousewheel",function(t){t.ctrlKey&&t.preventDefault()}),U=$("<div>").attr("id",bt.CONTAINER_ID).addClass("crownix-container").addClass("crownix-container-gradient").addClass("notranslate").appendTo(y),$t.accessibilityMode&&U.addClass("web-accessibility"),$('<div><iframe id="crownix-download-iframe" name="crownix-download-iframe" style="display: none"></iframe><form id="crownix-download-form" target="crownix-download-iframe" method="post" style="display:none" accept-charset="utf-8"><input type="hidden" name="filename"/><input type="hidden" name="delete" value="true"/></form></div>').appendTo(y),yt.getMathLibsInfo().support&&$("<div>").attr("id","crownix-hidden-dom").css({display:"none",width:"100%",height:"100%"}).appendTo(y),E=new lt(y,this,{getHeightFitRatio:Le,getWidthFitRatio:Ne,scale:$t.toolbarScale,share:$t.share,enableToolbarNavigator:$t.enableToolbarNavigator},ie),P=new pt("#"+bt.CONTAINER_ID),D=new vt,E.disableAllItems(),pe&&E.enableToolbarItem(["close"]),ie.viewer=this,ie.dialog=P,(ie.config=$t).share&&(q=new Dt($t.share,ie,e),ie.shareManager=q,E.enableToolbarItem(["share"])),Se&&document.addEventListener("visibilitychange",function(){var t,e,i=document.getElementById("m2soft-crownix-canvas");i&&(e=(t=i.getContext("2d")).getImageData(0,0,i.width,i.height),i.width++,i.width--,t.putImageData(e,0,0))}),$t.downloadUrl&&(ie.downloadUrl=$t.downloadUrl),$.crownixdatepicker.setLanguage(gt.language),$(ie.parentId).addClass("crownix-prevent-user-select"),at=ie.scanPage=new m2soft.crownix.ScanPage(ie),$t.editor.url&&(ot=new m2soft.crownix.Editor(ie),E.showToolbarItem(["editor"])),$t.accessibilityMode&&Jt.addAccessibilityCSS(),ut.log("[Crownix Viewer] "+gt.get("developer_console_warning"))},hi=function(){ie.mirroringManager&&!ie.mirroringManager.externalEvent.isSubProcess()&&(ie.magnifier.enable?ie.magnifier.on(Q):ie.magnifier.off())};return ci.prototype={constructor:m2soft.crownix.Viewer,openFile:function(t,e,i){oi("before-openfile"),ei(t,e,i)},appendFile:function(t,e){f()&&ri(t,e)},showMrdGroup:function(t){!function(){if(!we)throw Error(gt.get("set_statelessmode").replace(/%s/g,"appendFile()"));if(!ie.isGroupReport||!A||q||ie.options.mirroring.enable)throw Error(gt.get("cannot_use_in_mrdgroup_mode"));if(!Zt||!he)throw Error(gt.get("image_export_disabled_before_done"));return!ie.preventSubmit}()||A.showMrdGroup(t)},getMrdGroupInfo:function(){if(ie.isGroupReport){for(var t=A.getMrdGroupInfo(),e=[],i={currentMrdGroupId:t.currentMrdGroupId,mrdGroupOrder:t.mrdGroupOrder,isLoadCompleted:t.isLoadCompleted},n=0;n<t.mrdGroupList.length;n++){var r=t.mrdGroupList[n];e.push({id:r.id,isLoaded:r.isLoaded,totalPage:r.totalPage,currentPage:r.getRelativePageNumber(r.currentPage)})}return i.mrdGroupList=e,i}},validateMrdGroup:function(t){return!!ie.isGroupReport&&A.validateMrdGroup(t)},removeLatestReport:function(){f()&&function(){var t=M.getAppendedMML(),e=t.length-1,i=ie.totalPage;if(0!==t.length){re&&re.removeAppendedFormList(e);var n=M.removeLatestReport().documentList.length;for(o=0;o<n;o++)ie.mrdPath.pop(),ie.mrdParam.pop();if(ie.options.useTableOfContents&&it.remove(e),!0===(ie.license.isAllowedFeature("Note")&&Zt.enableNote)&&ke){e=0;at&&(e+=at.getAddedPages().length),ot&&(e+=at.getAddedPages().length);for(var r=i-e,o=ie.totalPage-e+1;o<=r;o++)ie.noteManager.removeAllElement(o)}ie.currentPage>ie.totalPage&&ie.viewer.movePage(ie.isGroupReport?A.getRelativePageNumber(ie.totalPage):ie.totalPage),m(ie.totalPage-i)}}()},hideToolbar:function(){Ot.getChannel("toolbar:changeToolbarState").subscribeOnce(function(t){t.isHide&&(U.css("top",0),U.css(t.direction,0))}),E.hideToolbar(),ie.openFile&&(Oe(),O.zoom(le,U.width()/2,U.height()/2))},showToolbar:function(){Ot.getChannel("toolbar:changeToolbarState").subscribeOnce(function(t){t.isHide||U.css(t.direction,"none")}),E.showToolbar(),ie.openFile&&(Oe(),O.zoom(le,U.width()/2,U.height()/2))},hideToolbarItem:function(){E.hideToolbarItem.apply(this,arguments)},showToolbarItem:function(){var t;we||-1!=(t=arguments[0].indexOf("print"))&&arguments[0].splice(t,1),0<arguments[0].length&&E.showToolbarItem.apply(this,arguments)},hideNoteItem:function(){he?Zt.enableNote&&ie.noteManager.hideNoteItem.apply(this,arguments):e(this.hideNoteItem,arguments)},showNoteItem:function(){he?Zt.enableNote&&ie.noteManager.showNoteItem.apply(this,arguments):e(this.showNoteItem,arguments)},addToolbarItem:function(t){E.addToolbarItem(t)},nextPage:function(){if(!ie.isGroupReport||!A.getCurrentMrdGroup().isLastPage())if(ie.options.scrollOptions.useInfiniteScroll)(t=ie.report.findPage(ie.documentScroller.getDisplayPageNumber()+1))<=ie.documentScroller.getTotalPage()&&ie.documentScroller.scrollToPage(t);else if(ie.currentPage<ie.totalPage){var t=ie.currentPage+1;if(Zt.mirroring.enable&&Zt.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock"))return void P.show(gt.get("lock_mirroring"));ie.mirroringManager.externalEvent.movePage(t)}a(t),q&&q.movePage(t)}},prevPage:function(){if(!ie.isGroupReport||!A.getCurrentMrdGroup().isFirstPage())if(ie.options.scrollOptions.useInfiniteScroll)0<(t=ie.report.findPage(ie.documentScroller.getDisplayPageNumber()-1))&&ie.documentScroller.scrollToPage(t);else if(1<ie.currentPage){var t=ie.currentPage-1;if(Zt.mirroring.enable&&Zt.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock"))return void P.show(gt.get("lock_mirroring"));ie.mirroringManager.externalEvent.movePage(t)}a(t),q&&q.movePage(t)}},moveFirstPage:function(){var t;if(t=ie.isGroupReport?A.getCurrentMrdGroup().startPage:1,ie.options.scrollOptions.useInfiniteScroll)ie.documentScroller.scrollToPage(t);else{if(Zt.mirroring.enable&&Zt.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock"))return void P.show(gt.get("lock_mirroring"));ie.mirroringManager.externalEvent.movePage(t)}a(t),q&&q.movePage(t)}},moveLastPage:function(){var t;if(t=ie.isGroupReport?(t=A.getCurrentMrdGroup()).startPage+t.totalPage-1:ie.totalPage,ie.options.scrollOptions.useInfiniteScroll)ie.documentScroller.scrollToPage(ie.isGroupReport?t:ie.documentScroller.getTotalPage());else{if(Zt.mirroring.enable&&Zt.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock"))return void P.show(gt.get("lock_mirroring"));ie.mirroringManager.externalEvent.movePage(t)}a(t),q&&q.movePage(t)}},movePage:function(t){if(ie.isGroupReport&&(t=A.getCurrentMrdGroup().getAbsolutePageNumber(t)),!1!==si(t))if(ie.options.scrollOptions.useInfiniteScroll)ie.documentScroller.scrollToPage(ie.report.findPage(t));else{if(Zt.mirroring.enable&&Zt.mirroring.syncPage){if($('[id^="crownix_form_field_"]').hasClass("crownix-formfield-blink-lock"))return void P.show(gt.get("lock_mirroring"));ie.mirroringManager.externalEvent.movePage(t)}a(t),q&&q.movePage(t)}},moveFormField:function(t){function i(){var t="crownix_form_field_"+n+"_"+r,e=document.getElementById(t);null!==e&&(wt.getInstance().blink(t,e.tagName),ie.scroll.scrollToElement(e),Ot.getChannel("viewer:onMoveFormField").unsubscribe(i))}var e,n,r;t=(e=t).split("."),n=t[0],r=t[1],e=re.getField(n,r),t=ie.report.getDestPageNum(e.page),e.id?ie.options.scrollOptions.useInfiniteScroll?ie.documentScroller.isLoaded(t)?ie.documentScroller.scrollToPage(t,i):(Ot.getChannel("viewer:onMoveFormField").subscribe(i),ie.viewer.movePage(ie.isGroupReport?A.getRelativePageNumber(t):t)):ie.currentPage===t?i():(Ot.getChannel("viewer:onMoveFormField").subscribe(i),ie.viewer.movePage(ie.isGroupReport?A.getRelativePageNumber(t):t)):P.show(gt.get("formfield_not_exist"))},prevDoc:function(){ie.reportFinished&&Te.prevDoc()},nextDoc:function(){ie.reportFinished&&Te.nextDoc()},zoomIn:function(){return O.zoom(le+.2,U.width()/2,U.height()/2),le=O.scale},zoomOut:function(){return O.zoom(le-.2,U.width()/2,U.height()/2),le=O.scale},zoom:function(t){var e=O.scale;return"string"==typeof t?"width"===t?e=Ne():"height"===t&&(e=Le()):"number"==typeof t&&(e=t),O.zoom(e,U.width()/2,U.height()/2),O.scale},pack:function(){Re()},showMovePageDialog:function(){var e=this;P.show(gt.get("insert_page_number"),{type:"confirm",input:ie.options.dialog.inputType,autoFocus:ie.options.dialog.autoFocus,inputHandler:function(t){!1!==t&&e.movePage(t)}})},setDownloadFileName:function(t){ie.options.downloadFileName=t},downloadFile:function(t,e){if(M.isPreventSave())throw new Error(gt.get("prevent_save_file"));if(ue||!he)throw new Error(gt.get("download_duplicate_error"));if(ee)throw new Error(gt.get("form_not_submit_save_error"));if(L&&L.isOpening())throw new Error(gt.get("image_export_disabled_before_done"));if(yt.isCloudServer()&&(!window.Blob||!window.URL))throw new Error(gt.get("unsupported_download_error"));if(ie.isGroupReport&&!A.getMrdGroupInfo().isLoadCompleted)return ie.dialog.show(gt.get("export_before_mrdgroup_done"));void 0===e&&"function"==typeof ae["download-file"]&&(e=ae["download-file"]),"pdf"!==t||!Zt.clientSidePdf.downloadFile||yt.browser.msie&&9==yt.browser.version?i(t,e):x(Zt.clientSidePdf.vector?"cpdf":"pdf",e,{save:!0})},print:function(){if(ee)throw new Error(gt.get("form_not_submit_print_error"));if(L&&L.isOpening())throw new Error(gt.get("image_export_disabled_before_done"));if(ie.isGroupReport&&!A.getMrdGroupInfo().isLoadCompleted)return ie.dialog.show(gt.get("export_before_mrdgroup_done"));var t=$.extend(!0,{},arguments[0]);he?!0===t.isServerSide&&Zt.clientSidePdf.print&&("number"!=typeof t.limitedPage||t.limitedPage>=ie.totalPage)&&!yt.browser.msie?v().done(function(t){x(Zt.clientSidePdf.vector?"cpdf":"pdf",function(t){var e;e=t,t=window.URL.createObjectURL(e),$("#crownix-pdf-viewer").remove(),e=$('<iframe id="crownix-pdf-viewer" name="crownix-pdf-viewer"></iframe>'),yt.browser.msie||yt.browser.edge?P.show(gt.get("unsupported_download_error")):yt.browser.mobile||(yt.os.macos&&yt.browser.safari?(e.css({width:"100%",height:"100%"}),new Window(gt.get("print_pdfviewer_title"),e,{isOverlay:!0,buttonType:["close"]}).show()):yt.browser.firefox?e.appendTo($("#m2soft-crownix-container")).css({display:"inline",position:"absolute",top:1,left:1,width:1,height:1,opacity:0,"z-index":-1}):e.appendTo("body").css("display","none"),(e=e[0].contentDocument).location.href=t)},{print:!0,printInfo:t})}):"object"==typeof t&&!0===t.isServerSide&&("number"!=typeof t.limitedPage||t.limitedPage>=ie.totalPage)?Zt.pdfReaderNotFoundMessage&&(yt.browser.msie||yt.browser.safari&&!yt.os.macos)&&!yt.getAcrobatInfo().isInstalled?P.show(Zt.pdfReaderNotFoundMessage):yt.browser.android&&!zt.isInWebView()||v().done(function(t){!function(t){var e=new Mt(ie,P,E,Zt);if(ue=!0,yt.isCloudServer()){if(yt.browser.msie||yt.browser.edge)return P.show(gt.get("unsupported_download_error")),ue=!1,0;e.showPdfWindowDirectUseBlob(b,ai(!0,t),z,Te,Ie),ue=!1}else!1===ie.options.downloadProtocolFile?e.showPdfWindow(b,ai(!0,t),z,Te,Ie).always(function(){ue=!1}):(e.showPdfWindowDirect(b,ai(!0,t),z,Te,Ie),ue=!1)}(t)}):we?ut.progress.show(y,gt.get("print_progress"),function(){r()}):P.show(gt.get("print_stateful_error")):e(this.print,arguments)},setStateLessMode:function(t){(we=t)||E.hideToolbarItem(["print"])},useWebFont:function(t,e,i){fe=t,"object"==typeof e&&(ie.webFontMap=e),"object"==typeof i&&(ie.webFontOption=i)},useAdjustLetterSpace:function(t){ge=t},useAdjustCharacterScale:function(t){me=t},bind:function(t,e){ae[t]=e},cancel:function(){L&&L.isOpening()?L.stopDrilldown():(function(){function e(){clearInterval(ye),E.disableToolbarItem(["cancel"]),P.pagenum(ie.currentPage,ie.totalPage,!1)}var i=new st;i.setHandler({load:function(t){},done:function(t){e()},error:function(t){e(),0==t.status?P.show(gt.get("server_connect_error")):P.show(gt.get("request_server_error")+"("+t.status+")")},abort:function(){e()},timeout:function(){P.show(gt.get("request_timeout_error")),e()}});var t={opcode:709,rdid:ne,html5_uuid:ie.uuid},n=qe("encrypt");n.addEventListener("message",function(t){"object"===t.data.method&&(t=t.data.obj,Zt.enableSecure&&(i.setRequestHeader("crownix-rdid",ne),i.setRequestHeader("crownix-encrypt-type","parameter")),i.invoke(b+(ne?"?rdid="+ne:""),t),n.terminate())}),n.postMessage({method:"object",obj:t})}(),_&&_.abort(),P.pagenum(ie.currentPage,ie.totalPage,!1))},export:function(t,e,i){"pdf"===t&&1==ie.options.clientSidePdf.export&&(t="cpdf"),x(t,e,i)},showMMLStorageDialog:function(){var e,i;e=this,m2soft.crownix.storage&&m2soft.crownix.storage.Window?((i=new m2soft.crownix.storage.Window("mml",P)).setDataGetter(function(t){return e.exportMML(t)}),i.setDataLoader(function(t){i.close(),e.importMML(t)}),i.show({parent:y})):P.show(gt.get("unsupported_feature_localStorage"))},showFormDataStorageDialog:function(){var i,n;i=this,m2soft.crownix.storage&&m2soft.crownix.storage.Window&&ie.isFormEditMode?((n=new m2soft.crownix.storage.Window("formdata",P)).setDataGetter(function(t){return i.exportFormData(t)}),n.setDataLoader(function(t){function e(){n.close(),i.importFormData(t),re.saved()}re.isModified()?P.show(gt.get("storage_formfield_import"),{type:"confirm",inputHandler:function(t){t&&e()}}):e()}),n.show({parent:y,closeOnError:!0})):P.show(gt.get("unsupported_feature_localStorage"))},exportMML:function(t){if(s(),!he)throw Error(gt.get("image_export_disabled_before_done"));if(L&&L.isOpening())throw Error(gt.get("image_export_disabled_before_done"));return(t=t||{}).includeFormData?{mmlData:Ye(e=t),formData:e.storage?Xe({storage:e.storage}):Xe(),version:"1.0"}:Ye(t);var e},exportFormData:function(t){return s(),Xe(t=t||{})},importMML:function(t,e){var i;try{i="string"==typeof t?JSON.parse(t):"object"==typeof t?t:{}}catch(t){ut.log(t),i={}}l(i,e)},importFormData:function(t){h(t)},showInqueryDialog:function(){q&&q.isConnected()&&!q.isHost()?P.show(gt.get("unsupported_feature_localStorage")):D.show()},addColumn:function(t,e,i){return Ce.addColumn(t,e,i)},setRData:function(t){T=t},setParameterEncrypt:function(t){-1<(H=t)&&t<12?H=t:ut.log("setParameterEncrypt value is only 0~11."),t<4&&(m2soft.crownix.EncEval.eval(),j=new m2soft.crownix.Enc)},getMrdPath:function(){return C},getMrdParam:function(){return k},setMrdPath:function(t){C=t},setMrdParam:function(t){k=t},submit:function(t,e,i,n,r){re.submitForMethod(t,e,i,n,r)},getForm:function(t){return re.getFormWrapper(t)},getFormList:function(){return re.getFormWrapperList()},showShareDialog:function(){q&&q.showDialog()},shareConnect:function(t){q&&q.connect(t)},shareDisconnect:function(t){t=t||{},q&&q.disconnect(t)},shareSendMessage:function(t){q&&q.isConnected()&&q.sendMessage(t)},createReport:function(t,e,i){q&&("object"==typeof e&&(i=e,e=""),q.createReport(t,e,i))},joinReport:function(t,e){q&&q.joinReport(t,e)},initViewer:function(){ie.isFormEditMode&&(wt.getInstance().blur(),wt.dispose());var t=ie.options&&ie.options.mirroring.enable;ie.isFormEditMode&&t&&ie.formManager.saved(),ie={},ci.call(this,b,y.substring(1,y.length),$t)},setPreventPrintExport:function(t){ee=t},floatToolbar:function(){E.floatToolbar()},stickToolbar:function(){E.stickToolbar(),this.showToolbar()},dockToolbar:function(t){E.dockToolbar(t)},getCustomToolbar:function(){return t=t||new dt(ie.toolbar)},cloudPrint:function(){if(ee)throw new Error(gt.get("form_not_submit_print_error"));if(L&&L.isOpening())throw new Error(gt.get("image_export_disabled_before_done"));var t,i;he?(t=new Mt(ie,P,E,Zt),ue=!0,i=arguments[0],t.base64URI(b,ai(),Ce,Te).done(function(t){var e;ue&&((e=void 0===i?Z=Z||new cloudprint.Gadget:i.gadget).openPrintDialog(),e.setPrintDocument("dataUrl",ie.options.cloudPrintSpoolName,"data:application/pdf;base64,"+t))}).always(function(){ue=!1})):e(this.cloudPrint)},initFormData:function(t){if(!he)throw Error(gt.get("image_export_disabled_before_done"));ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode?re.initFormData(t):P.show(gt.get("unsupported_feature_without_formedit_mode"))},initExtParam:function(){Ie=new ft},addExtParameter:function(t,e){Ie.put(t,e)},getExtParameter:function(){if(!Ie.isEmpty())return Ie.toObject()},getMrdInfo:function(){var t,e=M.getDocumentList(),i=[],n=[];for(t in e)i.push(e[t].mrdpath),n.push(e[t].mrdparam);return{mrdpath:i,mrdparam:n}},showGroupSign:function(t,e){if(!he)throw Error(gt.get("image_export_disabled_before_done"));ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode?m2soft.crownix.BatchSignWindow.getInstance(ie).show(t,e):P.show(gt.get("unsupported_feature_without_formedit_mode"))},showScrollPen:function(t,e,i){if(!he)throw Error(gt.get("image_export_disabled_before_done"));ie.license.isAllowedFeature("FormField")&&ie.isFormEditMode?m2soft.crownix.ScrollPenWindow.getInstance(ie).show(t,e,i):P.show(gt.get("unsupported_feature_without_formedit_mode"))},setPenFieldMode:function(t){switch(t){case"default":ie.options.formField.scrollPen.enable=!1,ie.options.formField.keyboardPen.enable=!1;break;case"scroll":ie.options.formField.scrollPen.enable=!0,ie.options.formField.keyboardPen.enable=!1;break;case"keyboard":ie.options.formField.scrollPen.enable=!1,ie.options.formField.keyboardPen.enable=!0}},validate:function(t,e){return!ie.formManager.validator.validate(t,e||{}).isInvalid},validatePage:function(t){return!ie.formManager.validator.validate(void 0,{page:t}).isInvalid},externalStorage:function(t,e,i){var n;!nt&&$t.infotalkUrl&&(nt=new jt({infotalkUrl:$t.infotalkUrl,key:(Zt.externalStorage||t).key,timeout:(Zt.externalStorage||t).timeout,emit:oi}),ie.isFormEditMode&&nt.setIsFormEditMode(ie.isFormEditMode)),nt&&(n=this,!he&&"PUT"===t.method.trim().toUpperCase()||nt.exec(t,function(t){return n.exportMML(t)},function(t){return n.exportFormData(t)},function(t){n.importMML(t)},function(t){n.importFormData(t)},{show:function(){ut.progress.show(y)},hide:function(){ut.progress.hide(y)}},e,i))},getTotalPage:function(){return ie.totalPage},setGroupSignInWindow:function(t){m2soft.crownix.BatchSignWindow.getInstance(ie).setValue(t)},setAlterFontMap:function(t){"object"==typeof t&&(ie.alterFontMap=t)},addSubmitParameters:function(t){"object"==typeof t&&(ie.submitParameters=$.extend(!0,ie.submitParameters,t))},movePrevTabOrder:function(){var t=wt.getInstance();t&&t.movePrev()},moveNextTabOrder:function(){var t=wt.getInstance();t&&t.moveNext()},scanBarcodes:function(){zt&&zt.scanBarcodes.apply(ie.viewer,arguments)},note:function(t){ie.license.isAllowedFeature("Note")&&ke&&!t.mode||(Zt.enableNote||(Zt.enableNote=!0,ie.noteManager=new qt(y,ie),n()),ie.noteManager.note(t))},readNfcTag:function(){zt&&zt.readNfcTag.apply(ie,arguments)},getMirroringObject:function(){if(ie.options.mirroring.enable)return ie.mirroringManager},getFormDataValue:function(t,e){var i=t&&t.split(""),t=e&&e.split("");return data=e?re.getDataValue(i,t,""):re.getFormDataValue(i,""),data},closeMirroring:function(){ie.options.mirroring.enable&&ie.mirroringManager.externalEvent.closeMirroring()},getGrid:function(t){return ie.cxGridManager?ie.cxGridManager.get(t):null},getDocumentTitle:li,setReportingParam:function(t){Ae="object"==typeof t?t:{}},addEditorPage:function(){ot.addEditorPage($t.editor,{complete:function(){ie.currentPage?ot.isAddedPage(ie.currentPage)&&Ee(ie.currentPage):(Be(!0),Ee(1))},init:function(){ie.currentPage||(Zt=$.extend({},te),Ke(),B=ie.parameterBuilder=new At(ie))}})},textToSpeech:function(t){ie.options.textToSpeech.enable&&zt&&zt.textToSpeech(t)},stopToSpeech:function(){ie.options.textToSpeech.enable&&zt&&zt.stopToSpeech()},authKeycloak:function(t){var e,i,n;e=t,t=b.replace("/service",""),i=document.createElement("iframe"),n=document.body,i.style.display="none",i.onload=function(){n.removeChild(i),e()},i.setAttribute("src",t),i.setAttribute("id","crownix-keycloak-iframe"),n.appendChild(i)},openScanWindow:function(t,e,i){ie.mirroringManager.externalEvent.openScanWindow(t,e,i)},getScanPageInfo:function(){return ie.scanPage.getScanPageInfo()},showSaveDialog:function(){this.downloadFile("save")},setMagnifierMode:function(t){ie.options.mirroring.enable&&(ie.magnifier.enable=t,hi())},getAttachedFileNameList:function(t){if(ie.options.mirroring.enable)return ie.mirroringManager.getAttachedFileNameList(t)},setFieldColor:function(t,e,i){e=ie.formManager.getField(t,e);m2soft.crownix.FieldEffector.getInstance().setColor(e,i)}},ci}();var jsPDF=function(St){"use strict";var Tt="1.3",It={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};function Mt(o){var a={};this.subscribe=function(t,e,i){if("function"!=typeof e)return!1;a.hasOwnProperty(t)||(a[t]={});var n=Math.random().toString(35);return a[t][n]=[e,!!i],n},this.unsubscribe=function(t){for(var e in a)if(a[e][t])return delete a[e][t],!0;return!1},this.publish=function(t){if(a.hasOwnProperty(t)){var e,i=Array.prototype.slice.call(arguments,1),n=[];for(e in a[t]){var r=a[t][e];try{r[0].apply(o,i)}catch(t){St.console&&console.error("jsPDF PubSub Error",t.message,t)}r[1]&&n.push(e)}n.length&&n.forEach(this.unsubscribe)}}}function At(t,e,i,n){var y={};"object"==typeof t&&(t=(y=t).orientation,e=y.unit||e,i=y.format||i,n=y.compress||y.compressPdf||n),e=e||"mm",i=i||"a4",t=(""+(t||"P")).toLowerCase();(""+i).toLowerCase();function C(t){return t.toFixed(2)}function w(t){return t.toFixed(3)}function o(t){return("0"+parseInt(t)).slice(-2)}function k(t){U?$[v].push(t):(rt+=t.length+1,tt.push(t))}function p(){return W[++G]=rt,k(G+" 0 obj"),G}function d(t){k("stream"),k(t),k("endstream")}function r(){for(var t in k("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),k("/Font <<"),V)V.hasOwnProperty(t)&&k("/"+t+" "+V[t].objectNumber+" 0 R");k(">>"),k("/XObject <<"),st.publish("putXobjectDict"),k(">>")}function h(t,e,i){J.hasOwnProperty(e)||(J[e]={}),J[e][i]=t}function S(t,e){var i,n,r,o,a,s,l,d;if(e=e||{},r=e.sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&V[I].metadata&&V[I].metadata[r]&&V[I].metadata[r].encoding&&(r=V[I].metadata[r].encoding,o="string"==typeof(o=!(o=!o&&V[I].encoding?V[I].encoding:o)&&r.codePages?r.codePages[0]:o)?r[o]:o)){for(s=!1,a=[],i=0,n=t.length;i<n;i++)(l=o[t.charCodeAt(i)])?a.push(String.fromCharCode(l)):a.push(t[i]),a[i].charCodeAt(0)>>8&&(s=!0);t=a.join("")}for(i=t.length;void 0===s&&0!==i;)t.charCodeAt(i-1)>>8&&(s=!0),i--;if(!s&&m&&0!==m.indexOf("Uni"))return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)");function c(t){switch(t){case 8:a.push(92),a.push(98);break;case 9:a.push(92),a.push(116);break;case 10:a.push(92),a.push(110);break;case 12:a.push(92),a.push(102);break;case 13:a.push(92),a.push(114);break;case 40:a.push(92),a.push(40);break;case 41:a.push(92),a.push(41);break;case 92:a.push(92),a.push(92);break;default:a.push(t)}}for(s&&m&&0!==m.indexOf("Uni")&&at.setFont("m2soft-default-1","normal"),a=e.noBOM?[]:[254,255],i=0,n=t.length;i<n;i++){if((d=(l=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");m&&0===m.indexOf("Uni")?0!=d?(c(d),c(l%256)):(c(d),c(l-(d<<8))):0!=d?(a.push(d),a.push(0)):(a.push(d),a.push(l-(d<<8)))}return m&&0===m.indexOf("Uni")?String.fromCharCode.apply(void 0,a):String.fromCharCode.apply(void 0,a).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")}function a(){!function(t,e){var i,n="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(i=t.toLowerCase(),It.hasOwnProperty(i)&&(t=It[i][0]/A,e=It[i][1]/A)),Array.isArray(t)&&(e=t[1],t=t[0]),n){switch(n.substr(0,1)){case"l":t<e&&(n="s");break;case"p":e<t&&(n="s")}"s"===n&&(F=t,t=e,e=F)}U=!0,$[++Q]=[],Z[Q]={width:Number(t)||b,height:Number(e)||E},K[Q]={},pt(Q)}.apply(this,arguments),k(C(q*A)+" w"),k(B),0!==it&&k(it+" J"),0!==nt&&k(nt+" j"),st.publish("addPage",{pageNumber:Q})}function s(){U=!1,G=2,rt=0,tt=[],W=[],et=[],st.publish("buildDocument"),k("%PDF-"+Tt),function(){var t,e,i,n,r,o=[],a=St.adler32cs||At.adler32cs;for(N&&void 0===a&&(N=!1),t=1;t<=Q;t++){if(o.push(p()),n=(b=Z[t].width)*A,r=(E=Z[t].height)*A,k("<</Type /Page"),k("/Parent 1 0 R"),k("/Resources 2 0 R"),k("/MediaBox [0 0 "+C(n)+" "+C(r)+"]"),st.publish("putPage",{pageNumber:t,page:$[t]}),k("/Contents "+(G+1)+" 0 R"),k(">>"),k("endobj"),e=$[t].join("\n"),p(),N){for(i=[],l=e.length;l--;)i[l]=e.charCodeAt(l);n=a.from(e),(r=new Deflater(6)).append(new Uint8Array(i)),e=r.flush(),(i=new Uint8Array(e.length+6)).set(new Uint8Array([120,156])),i.set(e,2),i.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),e.length+2),e=String.fromCharCode.apply(null,i),k("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else k("<</Length "+e.length+">>");d(e),k("endobj")}W[1]=rt,k("1 0 obj"),k("<</Type /Pages");for(var s="/Kids [",l=0;l<Q;l++)s+=o[l]+" 0 R ";k(s+"]"),k("/Count "+Q),k(">>"),k("endobj"),st.publish("postPutPages")}(),function(){st.publish("putAdditionalObjects");for(var t=0;t<et.length;t++){var e=et[t];W[e.objId]=rt,k(e.objId+" 0 obj"),k(e.content),k("endobj")}G+=et.length,st.publish("postPutAdditionalObjects")}(),ht(),st.publish("putResources"),W[2]=rt,k("2 0 obj"),k("<<"),r(),ft(),k(">>"),k("endobj"),st.publish("postPutResources"),p(),k("<<"),function(){for(var t in k("/Producer (jsPDF "+At.version+")"),ot)ot.hasOwnProperty(t)&&ot[t]&&k("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+S(ot[t])+")");var e=new Date,i=(r=e.getTimezoneOffset())<0?"+":"-",n=Math.floor(Math.abs(r/60)),r=Math.abs(r%60),r=[i,o(n),"'",o(r),"'"].join("");k(["/CreationDate (D:",e.getFullYear(),o(e.getMonth()+1),o(e.getDate()),o(e.getHours()),o(e.getMinutes()),o(e.getSeconds()),r,")"].join(""))}(),k(">>"),k("endobj"),p(),k("<<"),function(){switch(k("/Type /Catalog"),k("/Pages 1 0 R"),D=D||"fullwidth"){case"fullwidth":k("/OpenAction [3 0 R /FitH null]");break;case"fullheight":k("/OpenAction [3 0 R /FitV null]");break;case"fullpage":k("/OpenAction [3 0 R /Fit]");break;case"original":k("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+D;"number"==typeof(D="%"===t.substr(t.length-1)?parseInt(D)/100:D)&&k("/OpenAction [3 0 R /XYZ null null "+C(D)+"]")}switch(O=O||"continuous"){case"continuous":k("/PageLayout /OneColumn");break;case"single":k("/PageLayout /SinglePage");break;case"two":case"twoleft":k("/PageLayout /TwoColumnLeft");break;case"tworight":k("/PageLayout /TwoColumnRight")}P&&k("/PageMode /"+P),st.publish("putCatalog")}(),k(">>"),k("endobj");var t,e=rt,i="0000000000";for(k("xref"),k("0 "+(G+1)),k(i+" 65535 f "),t=1;t<=G;t++){var n=W[t];k("function"==typeof n?(i+W[t]()).slice(-10)+" 00000 n ":(i+W[t]).slice(-10)+" 00000 n ")}return k("trailer"),k("<<"),k("/Size "+(G+1)),k("/Root "+G+" 0 R"),k("/Info "+(G-1)+" 0 R"),k(">>"),k("startxref"),k(""+e),k("%%EOF"),U=!0,tt.join("\n")}function x(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e}function l(){for(var t=s(),e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i);e--;)n[e]=t.charCodeAt(e);return i}function c(){return new Blob([l()],{type:"application/pdf"})}function T(t,e){var i,n;!yt.hasOwnProperty(t)&&t&&(yt[t]=[]),t=void 0!==t?t:V[I].fontName,M=e=void 0!==e?e:V[I].fontStyle,n=t;try{!(i=J[t][e])&&J[t]&&(i=J[t].normal)}catch(t){}if(!i){switch(t=void 0!==t?t.toLowerCase():t){case"sans-serif":case"verdana":case"arial":case"helvetica":t="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":t="courier";break;case"serif":case"cursive":case"fantasy":default:t=n}try{i=J[t][e]}catch(t){}}return(i=!i&&J[t]?J[t].normal:i)||null==(i=J.times[e])&&(i=J.times.normal),gt(i),i}function f(t){for(var e=St.adler32cs||At.adler32cs,i=[],n=t.length;n--;)i[n]=t.charCodeAt(n);var r,o=e.from(t),a=(r=new Deflater(6)).append(new Uint8Array(i)),e=r.flush();return(r=new Uint8Array(a.length+e.length)).set(a,0),r.set(e,a.byteLength),(i=new Uint8Array(r.length+6)).set(new Uint8Array([120,156])),i.set(r,2),i.set(new Uint8Array([255&o,o>>8&255,o>>16&255,o>>24&255]),r.length+2),String.fromCharCode.apply(null,i)}function g(t){var e;return 0<=t&&t<=15?e="000"+t.toString(16):16<=t&&t<=255?e="00"+t.toString(16):256<=t&&t<=4095?e="0"+t.toString(16):4096<=t&&t<=65535&&(e=t.toString(16)),e}function u(t){return!0===Array.isArray(lt)&&-1<lt.indexOf(t)}var I,m,M,A,F,v,b,E,P,D,O,_,N=!!n&&"function"==typeof Uint8Array,L={x:1,y:1},R=y.textColor||"0 g",B=y.drawColor||"0 G",j=y.fontSize||16,H=y.charSpace||0,z=y.lineHeight||1.15,q=y.lineWidth||.200025,G=2,U=!1,W=[],V={},J={},Y={},X=[],Q=0,$=[],K=[],Z=[],tt=[],et=[],it=0,nt=0,rt=0,ot={title:"",subject:"",author:"",keywords:"",creator:""},at={},st=new Mt(at),lt=y.hotfixes||[],dt=[],ct=function(t){t.objectNumber=p(),k("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&k("/Encoding/"+t.encoding),k("/Subtype/Type1>>"),k("endobj")},ht=function(){for(var t in V)V.hasOwnProperty(t)&&ct(V[t])},ut=function(t,e,i,n){var r="F"+(Object.keys(V).length+1).toString(10),n=V[r]={id:r,PostScriptName:t,fontName:e,fontStyle:i,encoding:n,metadata:{}};return h(r,e,i),st.publish("addFont",n),r},pt=function(t){0<t&&t<=Q&&(b=Z[v=t].width,E=Z[t].height)},ht=function(){for(var t in V)V.hasOwnProperty(t)&&(V[t].fontDescriptor?(e=V[t],o=r=n=i=void 0,o=["",",Bold",",Italic",",BoldItalic"][parseInt(e.fontDescriptor.style)],14<=e.id.slice(1)&&0===e.encoding.indexOf("Uni")?(p(),r=p(),i="Korea1","UniJIS-UTF16-H"===e.encoding?i="Japan1":"UniGB-UTF16-H"===e.encoding&&(i="GB1"),k("<<"),k("/Type /FontDescriptor"),k("/FontName /"+e.fontName),k("/FontBBox "+e.fontDescriptor.bbox),k("/Flags "+e.fontDescriptor.flags),k("/StemV "+e.fontDescriptor.stemV),k("/ItalicAngle "+e.fontDescriptor.italicAngle),k("/Ascent "+e.fontDescriptor.ascent),k("/Descent "+e.fontDescriptor.descent),k("/CapHeight "+e.fontDescriptor.capHeight),k("/MissingWidth 500"),k(">>"),k("endobj"),n=p(),k("<</DW 1000/Subtype/CIDFontType0/CIDSystemInfo<</Supplement 4/Registry(Adobe)/Ordering("+i+")>>/Type/Font/BaseFont/"+e.fontName+o+"/FontDescriptor "+r+" 0 R /W "+e.fontDescriptor.fontWidth+" >>"),k("endobj"),e.objectNumber=p(),k("<</Subtype/Type0/Type/Font/BaseFont/"+e.fontName+o+"/Encoding/"+e.encoding+"/DescendantFonts["+n+" 0 R]>>")):14<=e.id.slice(1)&&"WinAnsiEncoding"===e.encoding?(r=p(),k("<<"),k("/Descent "+e.fontDescriptor.descent),k("/CapHeight "+e.fontDescriptor.capHeight),k("/StemV "+e.fontDescriptor.stemV),k("/Type /FontDescriptor"),k("/Flags 96"),k("/FontBBox "+e.fontDescriptor.bbox),k("/FontName /"+e.fontName),k("/ItalicAngle "+e.fontDescriptor.italicAngle),k("/Ascent "+e.fontDescriptor.ascent),k(">>"),k("endobj"),e.objectNumber=p(),k("<</Subtype/TrueType/Type/Font/BaseFont/"+e.fontName+"/FontDescriptor "+r+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths []>>")):(e.objectNumber=p(),k("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&k("/Encoding/WinAnsiEncoding"),k("/Subtype/Type1>>")),k("endobj")):ct(V[t]));var e,i,n,r,o},ft=function(){k("/ExtGState <<"),k("/GS0 <<"),k("/CA 1"),k("/ca 1"),k(">>"),k("/GS1 <<"),k("/CA .5"),k("/ca .5"),k(">>"),k("/GS2 <<"),k("/CA 0"),k("/ca 0"),k(">>"),k("/GS3 <<"),k("/CA 1"),k("/ca .5"),k(">>"),k("/GS4 <<"),k("/CA 1"),k("/ca 0"),k(">>"),k("/GS5 <<"),k("/CA .5"),k("/ca 1"),k(">>"),k("/GS6 <<"),k("/CA .5"),k("/ca 0"),k(">>"),k("/GS7 <<"),k("/CA 0"),k("/ca 1"),k(">>"),k("/GS8 <<"),k("/CA 0"),k("/ca .5"),k(">>"),k(">>")},ut=function(t,e,i,n,r,o,a){var s="F"+(Object.keys(V).length+1).toString(10),l=V[s]={id:s,PostScriptName:t,fontName:e,fontStyle:i,encoding:n,metadata:{},fontDescriptor:void 0,usedChars:""};return r&&(l.fontDescriptor=r),o&&(l.metadata=TTFFont.open(t,e,o,n),l.usedChars=a),l.metadata.glyf&&0==l.metadata.glyf.exists?null:(h(s,e,i),st.publish("addFont",l),s)},gt=function(t){m=V[t]?V[t].encoding:"StandardEncoding"},ct=function(t){if(14<=t.id.slice(1)&&"Identity-H"===t.encoding){for(var e={normal:"",bold:",Bold",italic:",Italic",bolditalic:",BoldItalic"}[t.fontStyle],i=t.metadata.rawData,n="",r=0;r<i.length;r++)n+=String.fromCharCode(i[r]);var o=p();(N=N&&void 0===(St.adler32cs||At.adler32cs)?!1:N)?(u=f(n),k("<<"),k("/Length "+u.length),k("/Filter /FlateDecode"),k(">>"),k("stream"),k(u)):(k("<<"),k("/Length "+n.length),k("/Length1 "+n.length),k(">>"),k("stream"),k(n)),k("endstream"),k("endobj");var a=p();k("<<"),k("/Type /FontDescriptor"),k("/FontName /"+t.fontName),k("/FontFile2 "+o+" 0 R"),k("/FontBBox "+PDFObject.convert(t.metadata.bbox)),k("/Flags "+t.metadata.flags),k("/StemV "+t.metadata.stemV),k("/ItalicAngle "+t.metadata.italicAngle),k("/Ascent "+t.metadata.ascender),k("/Descent "+t.metadata.decender),k("/CapHeight "+t.metadata.capHeight),k(">>"),k("endobj");var s=p();k("<</DW 1000/Subtype/CIDFontType2/CIDSystemInfo<</Supplement 0/Registry(Adobe)/Ordering("+t.encoding+")>>/Type/Font/BaseFont/"+t.fontName+e+"/FontDescriptor "+a+" 0 R/W"+PDFObject.convert(yt[t.fontName])+"/CIDToGIDMap/"+t.encoding+">>"),k("endobj"),t.usedChars||(t.usedChars="");for(var l=p(),d="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo\n<< /Registry (TTX+0)\n/Ordering (T42UV)\n/Supplement 0\n>> def\n/CMapName /TTX+0 def\n/CMapType 2 def\n1 begincodespacerange\n<0000><FFFF>\nendcodespacerange\n",c=0,h=0;h<t.usedChars.length;h++)0==c&&(0!=h&&(d+="endbfrange\n"),d+=(c=Math.min(100,t.usedChars.length-h))+" beginbfrange\n"),c--,d+="<"+g(t.metadata.cmap.unicode.codeMap[t.usedChars.charCodeAt(h)])+"><"+g(t.metadata.cmap.unicode.codeMap[t.usedChars.charCodeAt(h)])+"><"+g(t.usedChars.charCodeAt(h))+">\n";var u=f(d+="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end\n");k("<<"),k("/Length "+u.length),k("/Filter /FlateDecode"),k(">>"),k("stream"),k(u),k("endstream"),k("endobj"),t.objectNumber=p(),k("<</Subtype/Type0/Type/Font/BaseFont/"+t.fontName+e+"/Encoding/"+t.encoding+"/DescendantFonts["+s+" 0 R]/ToUnicode "+l+" 0 R>>"),k("endobj")}else if(14<=t.id.slice(1)&&"WinAnsiEncoding"===t.encoding){for(i=t.metadata.rawData,n="",r=0;r<i.length;r++)n+=String.fromCharCode(i[r]);o=p();k("<<"),k("/Length "+n.length),k("/Length1 "+n.length),k(">>"),k("stream"),k(n),k("endstream"),k("endobj");a=p();k("<<"),k("/Descent "+t.metadata.decender),k("/CapHeight "+t.metadata.capHeight),k("/StemV "+t.metadata.stemV),k("/Type /FontDescriptor"),k("/FontFile2 "+o+" 0 R"),k("/Flags 96"),k("/FontBBox "+PDFObject.convert(t.metadata.bbox)),k("/FontName /"+t.fontName),k("/ItalicAngle "+t.metadata.italicAngle),k("/Ascent "+t.metadata.ascender),k(">>"),k("endobj"),t.objectNumber=p();for(r=0;r<t.metadata.hmtx.widths.length;r++)t.metadata.hmtx.widths[r]=parseInt(t.metadata.hmtx.widths[r]*(1e3/t.metadata.head.unitsPerEm));k("<</Subtype/TrueType/Type/Font/BaseFont/"+t.fontName+"/FontDescriptor "+a+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+PDFObject.convert(t.metadata.hmtx.widths)+">>"),k("endobj")}else t.objectNumber=p(),k("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&k("/Encoding/WinAnsiEncoding"),k("/Subtype/Type1>>"),k("endobj")},mt=((_=function(t,e){var i="dataur"===(""+t).substr(0,6)?"data:application/pdf;base64,"+btoa(s()):0;switch(t){case void 0:return s();case"save":if(navigator.getUserMedia&&(void 0===St.URL||void 0===St.URL.createObjectURL))return at.output("dataurlnewwindow");saveAs(c(),e),"function"==typeof saveAs.unload&&St.setTimeout&&setTimeout(saveAs.unload,911);break;case"arraybuffer":return l();case"blob":return c();case"bloburi":case"bloburl":return St.URL&&St.URL.createObjectURL(c())||void 0;case"datauristring":case"dataurlstring":return i;case"dataurlnewwindow":var n=St.open(i);if(n||"undefined"==typeof safari)return n;case"datauri":case"dataurl":return St.document.location.href=i;default:throw new Error('Output type "'+t+'" is not supported.')}}).foo=function(){try{return _.apply(this,arguments)}catch(t){var e=t.stack||"",e="Error in function "+(e=~e.indexOf(" at ")?e.split(" at ")[1]:e).split("\n")[0].split("<")[0]+": "+t.message;if(!St.console)throw new Error(e);St.console.error(e,t),St.alert&&alert(e)}},(_.foo.bar=_).foo);switch(e){case"pt":A=1;break;case"mm":A=72/25.4000508;break;case"cm":A=72/2.54000508;break;case"in":A=72;break;case"px":A=1==u("px_scaling")?.75:96/72;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+e}function wt(t){for(var e="",i=0;i<t.length;i++)e+=""+t.charCodeAt(i).toString(16);return e}function xt(t,e,i,n,r,o,a,s,l){for(var d,c,h,u="",p="",f=0,g=new Array(t.length),m=o,w=o=0;w<t.length;w++){if(h=null,g[w]={key:null,words:null,widths:null,hexwords:null,encoding:null},i=l?T(l.font,l.fontStyle):I,h=V[i].metadata.hasOwnProperty("cmap")?V[i].metadata.cmap.unicode.codeMap[t[w].charCodeAt(0)]:h)d=V[i].metadata.widthOfString(t[w],e,r),u=t[w];else{for(var x in X)(h=V[X[x]].metadata.cmap.unicode.codeMap[t[w].charCodeAt(0)])&&(i=X[x],d=V[i].metadata.widthOfString(t[w],e,r),u=t[w]);h||(u="",d=0)}i==c?p=p.concat(u):""==p?p=u:(g[f].words=p,g[f].key=c,g[f].widths=o,g[f].encoding=V[c].encoding,p=u,o=0,f++),o+=d,c=i}for(g[f].words=p,g[f].key=c,g[f].widths=o,g[f].encoding=V[c].encoding,g.splice(f+1,t.length),w=0;w<f+1;w++){parseInt(g[w].key.slice(1))<14?(g[w].widths=at.getStringUnitWidth(g[w].words)*e+g[w].words.length*r,g[w].hexwords=wt(S(g[w].words,g[w].key))):"Identity-H"===g[w].encoding?g[w].hexwords=kt(g[w].words,g[w].key):"WinAnsiEncoding"===g[w].encoding&&(g[w].hexwords=wt(S(g[w].words,g[w].key)));var v="0 Tr\n",b=L.x+" 0 0 "+L.y+" "+C(a*A+m)+"  "+C((E-s)*A)+" Tm\n";M&&0<=M.indexOf("bold")&&(v="2 Tr\n"),M&&0<=M.indexOf("italic")&&(b=L.x+" 0 0.3 "+L.y+" "+C(a*A+m)+"  "+C((E-s)*A)+" Tm\n"),k("BT\n/"+g[w].key+" "+e+" Tf\n"+b+v+e*z+" TL\n"+r+" Tc\n"+n+"\n<"+g[w].hexwords+"> Tj\nET"),m+=g[w].widths}return[m,s]}at.internal={pdfEscape:S,getStyle:x,getFontSize:function(){return j},getLineHeight:function(){return j*z},write:function(t){k(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return C(t*A)},getVerticalCoordinateString:function(t){return C((E-t)*A)},collections:{},newObject:p,newAdditionalObject:function(){var t=2*$.length+1,t={objId:t+=et.length,content:""};return et.push(t),t},newObjectDeferred:function(){return W[++G]=function(){return rt},G},newObjectDeferredBegin:function(t){W[t]=rt},putStream:d,events:st,scaleFactor:A,pageSize:{width:function(){return b},height:function(){return E}},output:function(t,e){return mt(t,e)},getNumberOfPages:function(){return $.length-1},pages:$,out:k,f2:C,getPageInfo:function(t){return{objId:2*(t-1)+3,pageNumber:t,pageContext:K[t]}},getCurrentPageInfo:function(){return{objId:2*(v-1)+3,pageNumber:v,pageContext:K[v]}},getPDFVersion:function(){return Tt},hasHotfix:u,getFontNameTable:function(){return Y},setFontNameTable:function(t){Y=t},getFonts:function(){return V},getActiveFontKey:function(){return I},setActiveFontKey:function(t){I=t},setActiveFontEncoding:function(t){m=t},getFontName:function(t,e){return Y[t]||t},getWidthArr:function(){return dt},setWidthArr:function(t){dt=t},clearWidthArr:function(){dt.length=0},addFont:function(t,e,i,n,r,o,a){return ut(t,e,i,n,r,o,a)},getFont:function(){return V[T.apply(at,arguments)]},addDefaultFont:function(t,e){X[e]=t},getDefaultFontList:function(){return X}},at.addPage=function(){return a.apply(this,arguments),this},at.setPage=function(){return pt.apply(this,arguments),this},at.insertPage=function(t){return this.addPage(),this.movePage(v,t),this},at.movePage=function(t,e){if(e<t){for(var i=$[t],n=Z[t],r=K[t],o=t;e<o;o--)$[o]=$[o-1],Z[o]=Z[o-1],K[o]=K[o-1];$[e]=i,Z[e]=n,K[e]=r,this.setPage(e)}else if(t<e){for(i=$[t],n=Z[t],r=K[t],o=t;o<e;o++)$[o]=$[o+1],Z[o]=Z[o+1],K[o]=K[o+1];$[e]=i,Z[e]=n,K[e]=r,this.setPage(e)}return this},at.deletePage=function(){return function(t){0<t&&t<=Q&&($.splice(t,1),Z.splice(t,1),--Q<v&&(v=Q),this.setPage(v))}.apply(this,arguments),this},at.setDisplayMode=function(t,e,i){if(D=t,O=e,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P=i))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+i+'" is not recognized.');return this},at.text=function(t,e,i,n,r,o){function a(t){return t=t.split("\t").join(Array(y.TabLen||9).join(" ")),S(t,n)}"number"==typeof t&&(F=i,i=e,e=t,t=F),"string"==typeof t&&(t=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t]),"string"==typeof r&&(o=r,r=null),"string"==typeof n&&(o=n,n=null),"number"==typeof n&&(r=n,n=null);var s="",l="Td";r&&(r*=Math.PI/180,c=Math.cos(r),d=Math.sin(r),s=[C(c),C(d),C(-1*d),C(c),""].join(" "),l="Tm"),"noBOM"in(n=n||{})||(n.noBOM=!0),"autoencode"in n||(n.autoencode=!0);var d="",c=this.internal.getCurrentPageInfo().pageContext;if(!0===n.stroke?!0!==c.lastTextWasStroke&&(d="1 Tr\n",c.lastTextWasStroke=!0):(c.lastTextWasStroke&&(d="0 Tr\n"),c.lastTextWasStroke=!1),void 0===this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof t)t=a(t);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var h=t.concat(),u=[],p=h.length;p--;)u.push(a(h.shift()));c=Math.ceil((E-i-this._runningPageHeight)*A/(j*z));if(0<=c&&u.length,o){var f,g,m=j*z,w=t.map(function(t){return this.getStringUnitWidth(t)*j/A},this),x=Math.max.apply(Math,w);if("center"===o)f=e-x/2,e-=w[0]/2;else{if("right"!==o)throw new Error('Unrecognized alignment option, use "center" or "right".');f=e-x,e-=w[0]}g=e,t=u[0];for(var v=1,p=u.length;v<p;v++){var b=x-w[v];"center"===o&&(b/=2),t+=") Tj\n"+(f-g+b)+" -"+m+" Td ("+u[v],g=f+b}}else t=u.join(") Tj\nT* (")}return i=C((E-i)*A),k("BT\n/"+I+" "+j+" Tf\n"+j*z+" TL\n"+d+R+"\n"+s+C(e*A)+" "+i+" "+l+"\n"+L.x+" 0 0 "+L.y+" "+C(e*A)+" "+i+" Tm\n("+t+") Tj\nET"),this},at.lstext=function(t,e,i,n){console.warn("jsPDF.lstext is deprecated");for(var r=0,o=t.length;r<o;r++,e+=n)this.text(t[r],e,i);return this},at.line=function(t,e,i,n){return this.lines([[i-t,n-e]],t,e)},at.clip=function(){k("W")},at.clip_fixed=function(t){k("evenodd"===t?"W*":"W"),k("n")},at.lines=function(t,e,i,n,r,o){var a,s,l,d,c,h,u,p,f,g,m;for("number"==typeof t&&(F=i,i=e,e=t,t=F),n=n||[1,1],k(w(e*A)+" "+w((E-i)*A)+" m "),a=n[0],s=n[1],d=t.length,g=e,m=i,l=0;l<d;l++)3==(c=t[l]).length?(g=c[0]*a,m=c[1]*s,k(w(g*A)+" "+w((E-m)*A)+" m")):2===c.length?(g=c[0]*a+g,m=c[1]*s+m,k(w(g*A)+" "+w((E-m)*A)+" l")):(h=c[0]*a+g,u=c[1]*s+m,p=c[2]*a+g,f=c[3]*s+m,g=c[4]*a+g,m=c[5]*s+m,k(w(h*A)+" "+w((E-u)*A)+" "+w(p*A)+" "+w((E-f)*A)+" "+w(g*A)+" "+w((E-m)*A)+" c"));return o&&k(" h"),null!==r&&k(x(r)),this},at.rect=function(t,e,i,n,r){x(r);return k([C(t*A),C((E-e)*A),C(i*A),C(-n*A),"re"].join(" ")),null!==r&&k(x(r)),this},at.triangle=function(t,e,i,n,r,o,a){return this.lines([[i-t,n-e],[r-i,o-n],[t-r,e-o]],t,e,[1,1],a,!0),this},at.roundedRect=function(t,e,i,n,r,o,a){var s=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*s,0,r,o-o*s,r,o],[0,n-2*o],[0,o*s,-r*s,o,-r,o],[2*r-i,0],[-r*s,0,-r,-o*s,-r,-o],[0,2*o-n],[0,-o*s,r*s,-o,r,-o]],t+r,e,[1,1],a),this},at.ellipse=function(t,e,i,n,r){var o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*n;return k([C((t+i)*A),C((E-e)*A),"m",C((t+i)*A),C((E-(e-a))*A),C((t+o)*A),C((E-(e-n))*A),C(t*A),C((E-(e-n))*A),"c"].join(" ")),k([C((t-o)*A),C((E-(e-n))*A),C((t-i)*A),C((E-(e-a))*A),C((t-i)*A),C((E-e)*A),"c"].join(" ")),k([C((t-i)*A),C((E-(e+a))*A),C((t-o)*A),C((E-(e+n))*A),C(t*A),C((E-(e+n))*A),"c"].join(" ")),k([C((t+o)*A),C((E-(e+n))*A),C((t+i)*A),C((E-(e+a))*A),C((t+i)*A),C((E-e)*A),"c"].join(" ")),null!==r&&k(x(r)),this},at.circle=function(t,e,i,n){return this.ellipse(t,e,i,i,n)},at.setProperties=function(t){for(var e in ot)ot.hasOwnProperty(e)&&t[e]&&(ot[e]=t[e]);return this},at.setFontSize=function(t){return j=t,this},at.setFont=function(t,e){return I=T(t,e),this},at.setFontStyle=at.setFontType=function(t){return I=T(void 0,t),this},at.getFontList=function(){var t,e,i,n={};for(t in J)if(J.hasOwnProperty(t))for(e in n[t]=i=[],J[t])J[t].hasOwnProperty(e)&&i.push(e);return n},at.addFont=function(t,e,i){ut(t,e,i,"StandardEncoding")},at.setLineWidth=function(t){return k((t*A).toFixed(2)+" w"),this},at.setLineDash=function(t,e){function i(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(e)}if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return i(t,3)}).join(" "),e=i(e,3),k("["+t+"] "+e+" d"),this},at.setDrawColor=function(t,e,i,n){n=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" G":C(t/255)+" G":(void 0===n?"string"==typeof t?[t,e,i,"RG"]:[C(t/255),C(e/255),C(i/255),"RG"]:"string"==typeof t?[t,e,i,n,"K"]:[C(t),C(e),C(i),C(n),"K"]).join(" ");return k(n),this},at.setFillColor=function(t,e,i,n){var r;return void 0===e||void 0===n&&t===e===i?r="string"==typeof t?t+" g":C(t/255)+" g":void 0===n||"object"==typeof n?(r=("string"==typeof t?[t,e,i,"rg"]:[C(t/255),C(e/255),C(i/255),"rg"]).join(" "),n&&0===n.a&&(r=["255","255","255","rg"].join(" "))):r=("string"==typeof t?[t,e,i,n,"k"]:[C(t),C(e),C(i),C(n),"k"]).join(" "),k(r),this},at.setTextColor=function(t,e,i){var n;return"string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)&&(t=(n=parseInt(t.substr(1),16))>>16&255,e=n>>8&255,i=255&n),R=0===t&&0===e&&0===i||void 0===e?w(t/255)+" g":[w(t/255),w(e/255),w(i/255),"rg"].join(" "),this},at.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},at.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return k((it=e)+" J"),this},at.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return k((nt=e)+" j"),this},at.setTextScale=function(t){return L.x=t.x,L.y=t.y,this},at.drawText=function(t,e,i){var n,r,o,a,s,l,d,c,h=0;if("number"==typeof t&&(n=t,r=e,t=i,e=n,i=r),"string"==typeof(t="string"==typeof t&&t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):t))return xt(t,j,I,R,H,h,e,i),this;if(t instanceof Array){for(o=0;o<t.length;o++)i=(h="object"==typeof t[o]?(s=T(t[o].font,t[o].fontStyle),t[o].hasOwnProperty("fontSize")&&(l=t[o].fontSize),t[o].hasOwnProperty("charSpace")&&(a=t[o].charSpace),t[o].hasOwnProperty("TextColor")&&(d=this.setTextColor(t[o].TextColor[0],t[o].TextColor[1],t[o].TextColor[2],1)),(c=xt(t[o].text,l,s,d,a,h,e,i,t[o]))[0]):(l=j,a=H,d=strColor,(c=xt(t[o],l,s,d,a,h,e,i))[0]),c[1]);return this}throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.')};var vt,bt=["","0","00","000","0000"],yt={},Ct=[0],kt=function(t,e){!yt.hasOwnProperty(V[e].fontName)&&V[e].fontName&&(yt[V[e].fontName]=[]);for(var i,n=[""],r=0,o=t.length;r<o;++r){if(i=V[e].metadata.characterToGlyph(t.charCodeAt(r)),Ct.push(i),-1==yt[V[e].fontName].indexOf(i)&&(yt[V[e].fontName].push(i),yt[V[e].fontName].push([parseInt(V[e].metadata.widthOfGlyph(i),10)])),"0"==i)return n.join("");i=i.toString(16),n.push(bt[4-i.length],i)}return n.join("")};for(vt in at.setCharSpace=function(t){return H=t,this},at.output=mt,at.save=function(t){at.output("save",t)},At.API)At.API.hasOwnProperty(vt)&&("events"===vt&&At.API.events.length?function(t,e){for(var i,n,r=e.length-1;-1!==r;r--)i=e[r][0],n=e[r][1],t.subscribe.apply(t,[i].concat("function"==typeof n?[n]:n))}(st,At.API.events):at[vt]=At.API[vt]);return function(){for(var t="helvetica",e="times",i="courier",n="normal",r="italic",o="bolditalic",a=[["Helvetica",t,n],["Helvetica-Bold",t,"bold"],["Helvetica-Oblique",t,r],["Helvetica-BoldOblique",t,o],["Courier",i,n],["Courier-Bold",i,"bold"],["Courier-Oblique",i,r],["Courier-BoldOblique",i,o],["Times-Roman",e,n],["Times-Bold",e,"bold"],["Times-Italic",e,r],["Times-BoldItalic",e,o],["ZapfDingbats","zapfdingbats"]],s=0,l=a.length;s<l;s++){var d=ut(a[s][0],a[s][1],a[s][2],"StandardEncoding"),c=a[s][0].split("-");h(d,c[0],c[1]||"")}st.publish("addFonts",{fonts:V,dictionary:J})}(),I="F1",a(i,t),st.publish("initialized"),at}return At.API={events:[]},At.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return At}):"undefined"!=typeof module&&module.exports?module.exports=At:St.jsPDF=At,At}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(t){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,i,n,r,o=0,a=0,s="",l=[];if(!t)return t;for(;e=(r=t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++))>>18&63,i=r>>12&63,n=r>>6&63,r=63&r,l[a++]=c.charAt(e)+c.charAt(i)+c.charAt(n)+c.charAt(r),o<t.length;);var s=l.join(""),d=t.length%3;return(d?s.slice(0,d-3):s)+"===".slice(d||3)}),void 0===t.atob&&(t.atob=function(t){var e,i,n,r,o,a=0,s=0,l=[];if(!t)return t;for(t+="";e=(o=c.indexOf(t.charAt(a++))<<18|c.indexOf(t.charAt(a++))<<12|(n=c.indexOf(t.charAt(a++)))<<6|(r=c.indexOf(t.charAt(a++))))>>16&255,i=o>>8&255,o=255&o,l[s++]=64==n?String.fromCharCode(e):64==r?String.fromCharCode(e,i):String.fromCharCode(e,i,o),a<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,n=new Array(i),r=1<arguments.length?arguments[1]:void 0,o=0;o<i;o++)o in e&&(n[o]=t.call(r,e[o],o,e));return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){"use strict";if(null==this||"function"!=typeof t)throw new TypeError;for(var i=Object(this),n=i.length>>>0,r=0;r<n;r++)r in i&&t.call(e,i[r],r,i)}),Object.keys||(Object.keys=function(){"use strict";var r=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=a.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError;var e,i,n=[];for(e in t)r.call(t,e)&&n.push(e);if(o)for(i=0;i<s;i++)r.call(t,a[i])&&n.push(a[i]);return n}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),function(p){"use strict";function f(){var t,e=this.internal.collections[x+"images"];for(t in e)s.call(this,e[t])}function g(){var t,e,i=this.internal.collections[x+"images"],n=this.internal.write;for(e in i)n("/I"+(t=i[e]).i,t.n,"0","R")}function m(t){return"object"==typeof t&&1===t.nodeType}function w(t,e){var i;if(e)for(var n in e)if(t===e[n].alias){i=e[n];break}return i}var x="addImage_",v=["jpeg","jpg","png"],s=function(t){var e=this.internal.newObject(),i=this.internal.write,n=this.internal.putStream;if(t.n=e,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+t.w),i("/Height "+t.h),t.cs===this.color_spaces.INDEXED?i("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?e+2:e+1)+" 0 R]"):(i("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+t.bpc),"f"in t&&i("/Filter /"+t.f),"dp"in t&&i("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var r="",o=0,a=t.trns.length;o<a;o++)r+=t.trns[o]+" "+t.trns[o]+" ";i("/Mask ["+r+"]")}"smask"in t&&i("/SMask "+(e+1)+" 0 R"),i("/Length "+t.data.length+">>"),n(t.data),i("endobj"),"smask"in t&&(e="/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,e={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:e,data:t.smask},"f"in t&&(e.f=t.f),s.call(this,e)),t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),i("<< /Length "+t.pal.length+">>"),n(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),i("endobj"))};p.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},p.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},p.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t},0)},p.isString=function(t){return"string"==typeof t},p.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},p.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},p.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},p.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array))},p.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i},p.arrayBufferToBinaryString=function(t){for(var e="",i=(t=this.isArrayBuffer(t)?new Uint8Array(t):t).byteLength,n=0;n<i;n++)e+=String.fromCharCode(t[n]);return e},p.arrayBufferToBase64=function(t){for(var e,i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(t),o=r.byteLength,t=o%3,a=o-t,s=0;s<a;s+=3)i+=n[(16515072&(e=r[s]<<16|r[s+1]<<8|r[s+2]))>>18]+n[(258048&e)>>12]+n[(4032&e)>>6]+n[63&e];return 1==t?i+=n[(252&(e=r[a]))>>2]+n[(3&e)<<4]+"==":2==t&&(i+=n[(64512&(e=r[a]<<8|r[1+a]))>>10]+n[(1008&e)>>4]+n[(15&e)<<2]+"="),i},p.createImageInfo=function(t,e,i,n,r,o,a,s,l,d,c,h,u){t={alias:s,w:e,h:i,cs:n,bpc:r,i:a,data:t};return o&&(t.f=o),l&&(t.dp=l),d&&(t.trns=d),c&&(t.pal=c),h&&(t.smask=h),u&&(t.p=u),t},p.addImage=function(t,e,i,n,r,o,a,s,l){if("string"!=typeof e&&(u=o,o=r,r=n,n=i,i=e,e=u),"object"==typeof t&&!m(t)&&"imageData"in t&&(t=(d=t).imageData,e=d.format||e,i=d.x||i||0,n=d.y||n||0,r=d.w||r,o=d.h||o,a=d.alias||a,s=d.compression||s,l=d.rotation||d.angle||l),isNaN(i)||isNaN(n))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var d,c,h,u=function(){var t=this.internal.collections[x+"images"];return t||(this.internal.collections[x+"images"]=t={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",g)),t}.call(this);if(!(d=w(t,u))&&(m(t)&&(t=function(t,e,i){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(!i&&0===n.indexOf("data:image/"))return n;!e&&/\.png(?:[?#].*)?$/i.test(n)&&(e="png")}if("CANVAS"===t.nodeName)var r=t;else{(r=document.createElement("canvas")).width=t.clientWidth||t.width,r.height=t.clientHeight||t.height;var o,a,s,l,d,c,h=r.getContext("2d");if(!h)throw"addImage requires canvas to be supported by browser.";i?(d=Math.PI/180,"object"==typeof i&&(o=i.x,a=i.y,s=i.bg,i=i.angle),c=i*d,l=Math.abs(Math.cos(c)),n=Math.abs(Math.sin(c)),i=r.width,d=r.height,r.width=d*n+i*l,r.height=d*l+i*n,isNaN(o)&&(o=r.width/2),isNaN(a)&&(a=r.height/2),h.clearRect(0,0,r.width,r.height),h.fillStyle=s||"white",h.fillRect(0,0,r.width,r.height),h.save(),h.translate(o,a),h.rotate(c),h.drawImage(t,-i/2,-d/2),h.rotate(-c),h.translate(-o,-a),h.restore()):h.drawImage(t,0,0,r.width,r.height)}return r.toDataURL("png"==(""+e).toLowerCase()?"image/png":"image/jpeg")}(t,e,l)),null==a&&(a="string"==typeof(l=t)&&p.sHashCode(l)),!(d=w(a,u)))){if(this.isString(t)&&((h=this.extractInfoFromBase64DataURI(t))?(e=h[2],t=atob(h[3])):137===t.charCodeAt(0)&&80===t.charCodeAt(1)&&78===t.charCodeAt(2)&&71===t.charCodeAt(3)&&(e="png")),e=(e||"JPEG").toLowerCase(),h=e,-1===v.indexOf(h))throw new Error("addImage currently only supports formats "+v+", not '"+e+"'");if("function"!=typeof p["process"+e.toUpperCase()])throw new Error("please ensure that the plugin for '"+e+"' support is added");if(this.supportsArrayBuffer()&&(t instanceof Uint8Array||(c=t,t=this.binaryStringToUint8Array(t))),!(d=this["process"+e.toUpperCase()](t,(e=0,e=(t=u)?Object.keys?Object.keys(t).length:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(t):e),a,(s=(s=s)&&"string"==typeof s?s.toUpperCase():s)in p.image_compression?s:p.image_compression.NONE,c)))throw new Error("An unkwown error occurred whilst processing the image")}return function(t,e,i,n,r,o,a){var s=function(t,e,i){return t||e||(e=t=-96),t<0&&(t=-1*i.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.h*72/e/this.internal.scaleFactor),[t=0===t?e*i.w/i.h:t,e=0===e?t*i.h/i.w:e]}.call(this,i,n,r),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;i=s[0],n=s[1],a[o]=r,this.internal.write("q",l(i),"0 0",l(n),l(t),d(e+n),"cm /I"+r.i,"Do Q")}.call(this,i,n,r,o,d,d.i,u),this};var l=function(t,e){return t.subarray(e,e+5)};p.processJPEG=function(t,e,i,n,r){var o,a=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE;return this.isString(t)?(o=function(t){var e;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),n=4,r=t.length;n<r;){if(n+=i,255!==t.charCodeAt(n))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(n+1)||193===t.charCodeAt(n+1)||194===t.charCodeAt(n+1)||195===t.charCodeAt(n+1)||196===t.charCodeAt(n+1)||197===t.charCodeAt(n+1)||198===t.charCodeAt(n+1)||199===t.charCodeAt(n+1))return e=256*t.charCodeAt(n+5)+t.charCodeAt(n+6),[256*t.charCodeAt(n+7)+t.charCodeAt(n+8),e,t.charCodeAt(n+9)];n+=2,i=256*t.charCodeAt(n)+t.charCodeAt(n+1)}}(t),this.createImageInfo(t,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:a,8,s,e,i)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,i=t.length,n=(t[4]<<8)+t[5],r=4;r<i;){if(n=((e=l(t,r+=n))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<n)return{width:((e=l(t,r+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};r+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=r||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:a,8,s,e,i)):null)},p.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(jsPDF.API);var saveAs=saveAs||function(s){"use strict";if(!(void 0===s||"undefined"!=typeof navigator&&/(msie|trident)/i.test(navigator.userAgent)&&document.documentMode<10)){var t=s.document,l=function(){return s.URL||s.webkitURL||s},d=t.createElementNS("http://www.w3.org/1999/xhtml","a"),c="download"in d,h=/constructor/i.test(s.HTMLElement),u=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(t){setTimeout(function(){"string"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},f=function(t,e,i){for(var n=(e=[].concat(e)).length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(t){!function(t){(s.setImmediate||s.setTimeout)(function(){throw t},0)}(t)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},n=function(t,i,e){e||(t=g(t));function n(){f(o,"writestart progress write writeend".split(" "))}var r,o=this,a="application/octet-stream"===t.type;if(o.readyState=o.INIT,c)return r=l().createObjectURL(t),void setTimeout(function(){var t,e;d.href=r,d.download=i,t=d,e=new MouseEvent("click"),t.dispatchEvent(e),n(),p(r),o.readyState=o.DONE});!function(){if((u||a&&h)&&s.FileReader){var e=new FileReader;return e.onloadend=function(){var t=u?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");s.open(t,"_blank")||(s.location.href=t),t=void 0,o.readyState=o.DONE,n()},e.readAsDataURL(t),o.readyState=o.INIT}r=r||l().createObjectURL(t),!a&&s.open(r,"_blank")||(s.location.href=r),o.readyState=o.DONE,n(),p(r)}()},t=n.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=g(t)),navigator.msSaveOrOpenBlob(t,e)}:(t.abort=function(){},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(t,e,i){return new n(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs}),function(t){var e=function(){var d,e,i;function r(t){var e,i,n,r,o,a,s,l,d,c;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},n=null;;){switch(e=this.readUInt32(),o=function(){var t,e=[];for(t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":n&&this.animation.frames.push(n),this.pos+=4,n={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),r=this.readUInt16()||100,n.delay=1e3*s/r,n.disposeOp=this.data[this.pos++],n.blendOp=this.data[this.pos++],n.data=[];break;case"IDAT":case"fdAT":for("fdAT"===o&&(this.pos+=4,e-=4),t=(null!=n?n.data:void 0)||this.imgData,l=0;0<=e?l<e:e<l;0<=e?++l:--l)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if(0<(a=i-this.transparency.indexed.length))for(d=0;0<=a?d<a:a<d;0<=a?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":c=(s=this.read(e)).indexOf(0),r=String.fromCharCode.apply(String,s.slice(0,c)),this.text[r]=String.fromCharCode.apply(String,s.slice(c+1));break;case"IEND":return n&&this.animation.frames.push(n),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(c=this.colorType)||6===c,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(t,e,i){var n;return"function"==typeof e&&(i=e),(n=new XMLHttpRequest).open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t=new r(new Uint8Array(n.response||n.mozResponseArrayBuffer));return"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof i?i(t):void 0},n.send(null)},r.prototype.read=function(t){var e,i=[];for(e=0;0<=t?e<t:t<e;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e,i,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y;if(0===(t=null==t?this.imgData:t).length)return new Uint8Array(0);for(t=(t=new FlateStream(t)).getBytes(),f=(c=this.pixelBitlength/8)*this.width,h=new Uint8Array(f*this.height),a=t.length,i=u=p=0;u<a;){switch(t[u++]){case 0:for(r=w=0;w<f;r=w+=1)h[i++]=t[u++];break;case 1:for(r=x=0;x<f;r=x+=1)e=t[u++],o=r<c?0:h[i-c],h[i++]=(e+o)%256;break;case 2:for(r=v=0;v<f;r=v+=1)e=t[u++],n=(r-r%c)/c,g=p&&h[(p-1)*f+n*c+r%c],h[i++]=(g+e)%256;break;case 3:for(r=b=0;b<f;r=b+=1)e=t[u++],n=(r-r%c)/c,o=r<c?0:h[i-c],g=p&&h[(p-1)*f+n*c+r%c],h[i++]=(e+Math.floor((o+g)/2))%256;break;case 4:for(r=y=0;y<f;r=y+=1)e=t[u++],n=(r-r%c)/c,o=r<c?0:h[i-c],0===p?g=m=0:(g=h[(p-1)*f+n*c+r%c],m=n&&h[(p-1)*f+(n-1)*c+r%c]),d=o+g-m,s=Math.abs(d-o),l=Math.abs(d-g),d=Math.abs(d-m),d=s<=l&&s<=d?o:l<=d?g:m,h[i++]=(e+d)%256;break;default:throw new Error("Invalid filter algorithm: "+t[u-1])}p++}return h},r.prototype.decodePalette=function(){for(var t,e,i=this.palette,n=this.transparency.indexed||[],r=new Uint8Array((n.length||0)+i.length),o=0,a=(i.length,0),s=t=0,l=i.length;t<l;s=t+=3)r[o++]=i[s],r[o++]=i[s+1],r[o++]=i[s+2],r[o++]=null!=(e=n[a++])?e:255;return r},r.prototype.copyToImageData=function(t,e){var i,n,r,o,a,s,l,d,c=this.colors,h=null,u=this.hasAlphaChannel;if(this.palette.length&&(h=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),c=4,u=!0),s=(i=t.data||t).length,r=h||e,n=o=0,1===c)for(;n<s;)a=h?4*e[n/4]:o,l=r[a++],i[n++]=l,i[n++]=l,i[n++]=l,i[n++]=u?r[a++]:255,o=a;else for(;n<s;)a=h?4*e[n/4]:o,i[n++]=r[a++],i[n++]=r[a++],i[n++]=r[a++],i[n++]=u?r[a++]:255,o=a},r.prototype.decode=function(){var t=new Uint8Array(this.width*this.height*4);return this.copyToImageData(t,this.decodePixels()),t};try{e=t.document.createElement("canvas"),i=e.getContext("2d")}catch(t){return-1}return d=function(t){return i.width=t.width,i.height=t.height,i.clearRect(0,0,t.width,t.height),i.putImageData(t,0,0),(t=new Image).src=e.toDataURL(),t},r.prototype.decodeFrames=function(t){var e,i,n,r,o,a,s,l;if(this.animation){for(l=[],i=o=0,a=(s=this.animation.frames).length;o<a;i=++o)e=s[i],n=t.createImageData(e.width,e.height),r=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(n,r),e.imageData=n,l.push(e.image=d(n));return l}},r.prototype.renderFrame=function(t,e){var i=this.animation.frames,n=i[e],i=i[e-1];return 0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(i){var n,r=this,o=0,t=this.animation,a=t.numFrames,s=t.frames,l=t.numPlays;return(n=function(){var t=o++%a,e=s[t];if(r.renderFrame(i,t),1<a&&o/a<l)return r.animation._timeout=setTimeout(n,e.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(t=e.createImageData(this.width,this.height),this.copyToImageData(t,this.decodePixels()),e.putImageData(t,0,0))},r}();t.PNG=e}("undefined"!=typeof window&&window||this),function(I){"use strict";function M(t,e,i,n){var r=5,o=u;switch(n){case I.image_compression.FAST:r=3,o=h;break;case I.image_compression.MEDIUM:r=6,o=p;break;case I.image_compression.SLOW:r=9,o=f}t=c(t,e,i,o);var a=new Uint8Array(l(r)),s=d(t),e=(n=new Deflater(r)).append(t),i=n.flush(),t=a.length+e.length+i.length;return(n=new Uint8Array(t+4)).set(a),n.set(e,a.length),n.set(i,a.length+e.length),n[t++]=s>>>24&255,n[t++]=s>>>16&255,n[t++]=s>>>8&255,n[t++]=255&s,I.arrayBufferToBinaryString(n)}function t(t,e,i){return(t=Array.apply([],t)).unshift(0),t}var A=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},l=function(t,e){var i=Math.LOG2E*Math.log(32768)-8<<4|8,n=i<<8;return n|=Math.min(3,(e-1&255)>>1)<<6,n|=0,[i,255&(n+=31-n%31)]},d=function(t,e){for(var i,n=1,r=0,o=t.length,a=0;0<o;){for(i=e<o?e:o,o-=i;r+=n+=t[a++],--i;);n%=65521,r%=65521}return(r<<16|n)>>>0},c=function(t,e,i,n){for(var r,o,a,s=t.length/e,l=new Uint8Array(t.length+s),d=m(),c=0;c<s;c++){if(a=c*e,r=t.subarray(a,a+e),n)l.set(n(r,i,o),a+c);else{for(var h=0,u=d.length,p=[];h<u;h++)p[h]=d[h](r,i,o);var f=w(p.concat());l.set(p[f],a+c)}o=r}return l},h=function(t,e,i){var n,r=[],o=0,a=t.length;for(r[0]=1;o<a;o++)n=t[o-e]||0,r[o+1]=t[o]-n+256&255;return r},u=function(t,e,i){var n,r=[],o=0,a=t.length;for(r[0]=2;o<a;o++)n=i&&i[o]||0,r[o+1]=t[o]-n+256&255;return r},p=function(t,e,i){var n,r,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)n=t[a-e]||0,r=i&&i[a]||0,o[a+1]=t[a]+256-(n+r>>>1)&255;return o},f=function(t,e,i){var n,r,o,a=[],s=0,l=t.length;for(a[0]=4;s<l;s++)n=t[s-e]||0,r=i&&i[s]||0,o=i&&i[s-e]||0,o=g(n,r,o),a[s+1]=t[s]-o+256&255;return a},g=function(t,e,i){var n=t+e-i,r=Math.abs(n-t),o=Math.abs(n-e),n=Math.abs(n-i);return r<=o&&r<=n?t:o<=n?e:i},m=function(){return[t,h,u,p,f]},w=function(t){for(var e,i,n,r=0,o=t.length;r<o;)((e=a(t[r].slice(1)))<i||!i)&&(i=e,n=r),r++;return n},a=function(t){for(var e=0,i=t.length,n=0;e<i;)n+=Math.abs(t[e++]);return n};I.processPNG=function(t,e,i,n,r){var o,a,s,l,d=this.color_spaces.DEVICE_RGB,c=this.decode.FLATE_DECODE,h=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof FlateStream)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,h=o.bits,d=o.colorSpace,T=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var u,p=(S=new(32==o.pixelBitlength?Uint32Array:16==o.pixelBitlength?Uint16Array:Uint8Array)(o.decodePixels().buffer)).length,f=new Uint8Array(p*o.colors),g=new Uint8Array(p),m=o.pixelBitlength-o.bits,w=0,x=0;w<p;w++){for(v=S[w],u=0;u<m;)f[x++]=v>>>u&255,u+=o.bits;g[w]=v>>>u&255}if(16===o.bits){for(var v,p=(S=new Uint32Array(o.decodePixels().buffer)).length,f=new Uint8Array(p*(32/o.pixelBitlength)*o.colors),g=new Uint8Array(p*(32/o.pixelBitlength)),b=1<o.colors,w=0,x=0,y=0;w<p;)v=S[w++],f[x++]=v>>>0&255,b&&(f[x++]=v>>>16&255,v=S[w++],f[x++]=v>>>0&255),g[y++]=v>>>16&255;h=8}n!==I.image_compression.NONE&&A()?(t=M(f,o.width*o.colors,o.colors,n),l=M(g,o.width,1,n)):(t=f,l=g,c=null)}if(3===o.colorType&&(d=this.color_spaces.INDEXED,s=o.palette,o.transparency.indexed)){for(var C=o.transparency.indexed,k=0,w=0,p=C.length;w<p;++w)k+=C[w];if((k/=255)===p-1&&-1!==C.indexOf(0))a=[C.indexOf(0)];else if(k!==p){for(var S=o.decodePixels(),g=new Uint8Array(S.length),w=0,p=S.length;w<p;w++)g[w]=C[S[w]];l=M(g,o.width,1)}}var n=function(t){var e;switch(t){case I.image_compression.FAST:e=11;break;case I.image_compression.MEDIUM:e=13;break;case I.image_compression.SLOW:e=14;break;default:e=12}return e}(n),T=c===this.decode.FLATE_DECODE?"/Predictor "+n+" /Colors "+T+" /BitsPerComponent "+h+" /Columns "+o.width:"/Colors "+T+" /BitsPerComponent "+h+" /Columns "+o.width;return(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(l&&this.isArrayBuffer(l)||this.isArrayBufferView(l))&&(l=this.arrayBufferToBinaryString(l)),this.createImageInfo(t,o.width,o.height,d,h,c,e,i,T,a,s,l,n)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(jsPDF.API);var DecodeStream=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var n=512;n<t;)n<<=1;for(var r=new Uint8Array(n),o=0;o<i;++o)r[o]=e[o];return this.buffer=r},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var i=e+t;!this.eof&&this.bufferLength<i;)this.readBlock();t=this.bufferLength;t<i&&(i=t)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}return this.pos=i,this.buffer.subarray(e,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t=t||1,this.pos+=t},reset:function(){this.pos=0}},t}(),FlateStream=function(){if("undefined"!=typeof Uint32Array){var I=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),A=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),F=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],E=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(t.prototype=Object.create(DecodeStream.prototype)).getBits=function(t){for(var e,i=this.codeSize,n=this.codeBuf,r=this.bytes,o=this.bytesPos;i<t;)void 0===(e=r[o++])&&P("Bad encoding in flate stream"),n|=e<<i,i+=8;return e=n&(1<<t)-1,this.codeBuf=n>>t,this.codeSize=i-=t,this.bytesPos=o,e},t.prototype.getCode=function(t){for(var e,i=t[0],n=t[1],r=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;r<n;)void 0===(e=a[s++])&&P("Bad encoding in flate stream"),o|=e<<r,r+=8;t=i[o&(1<<n)-1],i=t>>16,t&=65535;return(0==r||r<i||0==i)&&P("Bad encoding in flate stream"),this.codeBuf=o>>i,this.codeSize=r-i,this.bytesPos=s,t},t.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,n=0;n<e;++n)t[n]>i&&(i=t[n]);for(var r=1<<i,o=new Uint32Array(r),a=1,s=0,l=2;a<=i;++a,s<<=1,l<<=1)for(var d=0;d<e;++d)if(t[d]==a){for(var c=0,h=s,n=0;n<a;++n)c=c<<1|1&h,h>>=1;for(n=c;n<r;n+=l)o[n]=a<<16|d;++s}return[o,i]},t.prototype.readBlock=function(){function t(t,e,i,n,r){for(var o=t.getBits(i)+n;0<o--;)e[l++]=r}var e,i,n=this.getBits(3);if(1&n&&(this.eof=!0),0!=(n>>=1)){if(1==n)e=F,i=E;else if(2==n){for(var r=this.getBits(5)+257,o=this.getBits(5)+1,a=this.getBits(4)+4,s=Array(I.length),l=0;l<a;)s[I[l++]]=this.getBits(3);for(var d=this.generateHuffmanTable(s),c=0,l=0,h=r+o,u=new Array(h);l<h;){var p=this.getCode(d);16==p?t(this,u,2,3,c):17==p?t(this,u,3,3,c=0):18==p?t(this,u,7,11,c=0):u[l++]=c=p}e=this.generateHuffmanTable(u.slice(0,r)),i=this.generateHuffmanTable(u.slice(r,h))}else P("Unknown block type in flate stream");for(var f=(k=this.buffer)?k.length:0,g=this.bufferLength;;)if((m=this.getCode(e))<256)f<=g+1&&(f=(k=this.ensureBuffer(g+1)).length),k[g++]=m;else{if(256==m)return void(this.bufferLength=g);var m,w=(m=M[m-=257])>>16,c=(65535&m)+(w=0<w?this.getBits(w):w);m=this.getCode(i);var x=(65535&(m=A[m]))+(w=0<(w=m>>16)?this.getBits(w):w);f<=g+c&&(f=(k=this.ensureBuffer(g+c)).length);for(var v=0;v<c;++v,++g)k[g]=k[g-x]}}else{var b,y=this.bytes,C=this.bytesPos;void 0===(b=y[C++])&&P("Bad block header in flate stream");o=b;void 0===(b=y[C++])&&P("Bad block header in flate stream"),o|=b<<8,void 0===(b=y[C++])&&P("Bad block header in flate stream");r=b;void 0===(b=y[C++])&&P("Bad block header in flate stream"),(r|=b<<8)!=(65535&~o)&&P("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var r=this.bufferLength,k=this.ensureBuffer(r+o),S=r+o;this.bufferLength=S;for(var T=r;T<S;++T){if(void 0===(b=y[C++])){this.eof=!0;break}k[T]=b}this.bytesPos=C}},t}function P(t){throw new Error(t)}function t(t){var e=0,i=t[e++],e=t[+e];-1!=i&&-1!=e||P("Invalid header in flate stream"),8!=(15&i)&&P("Unknown compression method in flate stream"),((i<<8)+e)%31!=0&&P("Bad FCHECK in flate stream"),32&e&&P("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}}();function PDFDocument(){return new jsPDF}!function(t){"use strict";function c(t){t=function(t,e,i){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if("none"===t)return[0,0,0,0];if(null===n)throw Error("[Crownix Viewer] Invalid Color Value("+t+")");"number"!=typeof e&&(e=0),"number"!=typeof i&&(i=1);e=[parseInt(n[1],16)+e,parseInt(n[2],16)+e,parseInt(n[3],16)+e];return 1!=i&&e.push(i),e}(t),this.setFillColor(t[0],t[1],t[2])}function g(t){return 1==t||2==t?[2,2]:3==t?[10,2,2,2]:4==t?[10,2,2,2,2,2]:null}function u(t,e){var i=!1,n=!1;return e.fc&&(i=!0),0<t.wd&&(n=!0),i&&n?"FD":i?"F":"S"}function n(t){return t=0<Number(t)&&Number(t)<1?"0.5":t,Number(t)}function h(t,e,i,n,r,o){var a,s=t,l=e,d=0,c=!0,h=Math.atan2(n-e,i-t),u=g(o);if(this.setLineCap("round"),u)for(var p=t<i,f=e<n;(p?s<i:i<s)||(f?l<n:n<l);)a=u[d]*r,s=p?Math.min(s+Math.cos(h)*a,i):Math.max(s+Math.cos(h)*a,i),l=f?Math.min(l+Math.sin(h)*a,n):Math.max(l+Math.sin(h)*a,n),c?this.line(t,e,s,l):(t=s,e=l),d=(d+1)%u.length,c=!c;else this.line(t,e,i,n)}function d(t,e,i,n,r,o){var a,s,l,d;r.ap&&0!=r.ap&&(a=parseInt(r.ap),s=r.at,l=r.as,d=r.wd,0!==a&&(r.lc&&c.call(this,r.lc),o=o||[n,i,e,t],1!==a&&3!==a&&4!==a&&6!==a&&7!==a&&9!==a||f.call(this,t,e,Math.atan2(e-o[0],t-o[1])+Math.PI,d,a,s,l),2!==a&&3!==a&&5!==a&&6!==a&&8!==a&&9!==a||f.call(this,i,n,Math.atan2(n-o[2],i-o[3])+Math.PI,d,a,s,l)))}function r(t,e,i){return[t+2/3*(i-t),e+2/3*(i-e)]}function l(t,e,i,n,r,o){return n=[t-a,e-s,i-a,n-s,r-a,o-s],v(r,o),n}function p(r,o,a,s,t,e){function i(){for(var t=1;t<s;t+=8)h.call(this,r,o+t,r+a,o+t,1)}function n(){for(var t=1;t<a;t+=8)h.call(this,r+t,o,r+t,o+s,1)}function l(){for(var t=1,e=0,i=0;a<t&&(i=t-a),!(a<(e=s<t?t-s:e)&&s<i);)h.call(this,a<t?r+a:r+t,o+i,r+e,s<t?o+s:o+t,1),t+=8}function d(){for(var t=1,e=0,i=0;a<t&&(i=t-a),!(a<(e=s<t?t-s:e)&&s<i);)h.call(this,a<t?r+a:r+t,o+s-i,r+e,s<t?o:o+s-t,1),t+=8}function c(t,e){e=e||1;for(var i=0;i<s;i+=t)for(var n=0;n<a;n+=t*e)h.call(this,r+n,o+i,r+n+.4,o+i+.4,1)}switch(this.setLineWidth(.5),e){case"1":i.call(this);break;case"2":n.call(this);break;case"3":l.call(this);break;case"4":d.call(this);break;case"5":i.call(this),n.call(this);break;case"6":l.call(this),d.call(this);break;case"7":c.call(this,8);break;case"8":c.call(this,4);break;case"9":c.call(this,2,3);break;case"10":c.call(this,2)}this.setLineWidth(t)}var a,s,f=function(t,e,i,n,r,o,a){var s,a=8*(1+n/5)*a,o=1==o?a/Math.sqrt(3):a/3;0!=n&&0!=r&&(1==r||2==r||3==r?(this.setLineCap("round"),s=m(t,e,t+a,e-o,-i),this.line(s[0],s[1],t,e),s=m(t,e,t+a,e+o,-i),this.line(t,e,s[0],s[1])):(s=m(t,e,t+a,e-o,-i),i=m(t,e,t+a,e+o,-i),4!=r&&5!=r&&6!=r||this.setFillColor(255,255,255),this.triangle(s[0],s[1],t,e,i[0],i[1],"FD")))},m=function(t,e,i,n,r){var o=Math.cos(r),r=Math.sin(r);return[o*(i-t)+r*(n-e)+t,o*(n-e)-r*(i-t)+e]},w=function(t,e){var i=[t-a,e-s];return v(t,e),i},x=function(t,e,i,n){t=r(a,i,t),e=r(s,n,e),e=[t[0]-a,e[0]-s,t[1]-a,e[1]-s,i-a,n-s];return v(i,n),e},v=function(t,e){return[a=t,s=e,"m"]};t.pushGraphicsState=function(){this.internal.out("q")},t.restoreGraphicsState=function(){this.internal.out("Q")},t.setAlpha=function(t,e){var i=this.internal.out;t=n(t),e=n(e),i("/"+(1===t?1===e?"GS0":.5===e?"GS3":"GS4":.5===t?1===e?"GS5":.5===e?"GS1":"GS6":1===e?"GS7":.5===e?"GS8":"GS2")+" gs")},t.drawLine=function(t,e,i,n,r){0!=r.wd&&(h.call(this,t,e,i,n,r.wd,r.st),d.call(this,t,e,i,n,r))},t.drawCurve=function(t,e,i,n,r,o,a,s,l){0!=l.wd&&(!function(t,e,i,n,r,o,a,s){this.setLineCap("round"),this.lines([[r-t,o-e,a-t,s-e,i-t,n-e]],t,e,[1,1],"S",!1)}.call(this,t,e,i,n,r,o,a,s),d.call(this,t,e,i,n,l,[o,r,s,a]))},t.drawPolyLine=function(t,e){0!=e.wd&&(!function(t,e,i){this.setLineCap("round");for(var n=1,r=t.length;n<r;n++)h.call(this,t[n-1][0],t[n-1][1],t[n][0],t[n][1],e,i)}.call(this,t,e.wd,e.st),d.call(this,t[0][0],t[0][1],t[t.length-1][0],t[t.length-1][1],e,[t[1][1],t[1][0],t[t.length-2][1],t[t.length-2][0]]))},t.drawScribble=function(t,e){0!=e.wd&&!function(t){this.setLineCap("round");var e,i,n=[],r=[];v(t[0][0],t[0][1]);for(var o=0,a=t.length-1;o<a;o++)e=t[o],i=t[o+1],r[0]=(e[0]+i[0])/2,r[1]=(e[1]+i[1])/2,0==o?n.push(w(r[0],r[1])):n.push(x(e[0],e[1],r[0],r[1])),o==a-1&&n.push(w(i[0],i[1]));this.lines(n,t[0][0],t[0][1],[1,1],"S",!1)}.call(this,t)},t.drawRect=function(t,e,i,n,r,o){!function(t,e,i,n,r,o){var a=i-t,s=n-e;this.setAlpha(1,o.al),this.rect(t,e,a,s,"F"),0!==o.pt&&p.call(this,t<i?t:i,e<n?e:n,Math.abs(a),Math.abs(s),r.wd,o.pt),this.setAlpha(1,1),this.setAlpha(r.al,1),this.drawLine(t,e,t+a,e,r),this.drawLine(t,e,t,e+s,r),this.drawLine(t+a,e,t+a,e+s,r),this.drawLine(t,e+s,t+a,e+s,r),this.setAlpha(1,1)}.call(this,t,e,i,n,r,o)},t.drawRoundRect=function(t,e,i,n,r,o,a){!function(t,e,i,n,r,o,a){var s=[],l=a.width,d=a.height,a=a.point,o=u(r,o);v(t,e+d),s.push(w(t,n-d)),a?(4&a?s.push(x(t,n,t+l,n)):s.push(w(t,n)),s.push(w(i-l,n)),8&a?s.push(x(i,n,i,n-d)):s.push(w(i,n)),s.push(w(i,e+d)),2&a?s.push(x(i,e,i-l,e)):s.push(w(i,e)),s.push(w(t+l,e)),1&a?s.push(x(t,e,t,e+d)):s.push(w(t,e))):(s.push(x(t,n,t+l,n)),s.push(w(i-l,n)),s.push(x(i,n,i,n-d)),s.push(w(i,e+d)),s.push(x(i,e,i-l,e)),s.push(w(t+l,e)),s.push(x(t,e,t,e+d))),r.wd&&this.setLineDash(g(r.st),r.wd),this.lines(s,t,e+d,[1,1],o,!0)}.call(this,t,e,i,n,r,o,a)},t.drawPolygon=function(t,e,i){!function(t,e,i){var n=[],i=u(e,i);v(t[0][0],t[0][1]);for(var r=1,o=t.length;r<o;r++)n.push(w(t[r][0],t[r][1]));e.wd&&this.setLineDash(g(e.st),e.wd),this.lines(n,t[0][0],t[0][1],[1,1],i,!0)}.call(this,t,e,i)},t.drawEllipse=function(t,e,i,n,r,o){!function(t,e,i,n,r,o){i-=t,n-=e,t+=i/2,e+=n/2,i/=2,n/=2,o=u(r,o);r.wd&&this.setLineDash(g(r.st),r.wd),this.ellipse(t,e,i,n,o)}.call(this,t,e,i,n,r,o)},t.drawDiamond=function(t,e,i,n,r,o){!function(t,e,i,n,r,o){var a=[],o=u(r,o);v((t+i)/2,e),a.push(w(i,(e+n)/2)),a.push(w((t+i)/2,n)),a.push(w(t,(e+n)/2)),a.push(w((t+i)/2,e)),r.wd&&this.setLineDash(g(r.st),r.wd),this.lines(a,(t+i)/2,e,[1,1],o,!0)}.call(this,t,e,i,n,r,o)},t.drawParallelogram=function(t,e,i,n,r,o,a){!function(t,e,i,n,r,o,a){var s=[],l=[t,n],n=[i+t-(r=t+r),n],i=[i,e],e=[r,e],a=u(o,a);v(l[0],l[1]),s.push(w(n[0],n[1])),s.push(w(i[0],i[1])),s.push(w(e[0],e[1])),s.push(w(l[0],l[1])),o.wd&&this.setLineDash(g(o.st),o.wd),this.lines(s,l[0],l[1],[1,1],a,!0)}.call(this,t,e,i,n,r,o,a)},t.drawHexahedron=function(t,e,i,n,r,o,a,s){!function(t,e,i,n,r,o,a,s){var l=[],d=u(a,s),c=[t,n],h=[t,o=e+o],s=[t+i-(r=t+r),e],t=[i,e],e=[i,n+e-o],n=[r,n];v(c[0],c[1]),l.push(w(h[0],h[1])),l.push(w(s[0],s[1])),l.push(w(t[0],t[1])),l.push(w(e[0],e[1])),l.push(w(n[0],n[1])),l.push(w(c[0],c[1])),a.wd&&this.setLineDash(g(a.st),a.wd),this.lines(l,c[0],c[1],[1,1],d,!0),this.line(n[0],n[1],r,o),this.line(r,o,t[0],t[1]),this.line(r,o,h[0],h[1])}.call(this,t,e,i,n,r,o,a,s)},t.drawCylinder=function(t,e,i,n,r,o,a){!function(t,e,i,n,r,o,a){var s=(n-e-r)/2,r=[],a=u(o,a);v(t,e+s),r.push(l(t,e-s/3,i,e-s/3,i,e+s)),r.push(w(i,n-s)),r.push(l(i,n+s/3,t,n+s/3,t,n-s)),r.push(w(t,e+s)),r.push(v(i,e+s)),r.push(l(i,e+7*s/3,t,e+7*s/3,t,e+s)),o.wd&&this.setLineDash(g(o.st),o.wd),this.lines(r,t,e+s,[1,1],a,!1)}.call(this,t,e,i,n,r,o,a)}}(jsPDF.API),function(t){"use strict";var u=["normal","bold","italic","bolditalic"];t.setFont=function(t,e){var i=this.internal.setActiveFontKey,n=this.internal.getFont,r=this.internal.getFontName,o=this.internal.clearWidthArr;return i(n(t=r(t,e),e).id),o(),this},t.setFontStyle=t.setFontType=function(t){this.internal.getFonts();var e=this.internal.setActiveFontKey,i=this.internal.getFont,n=this.internal.clearWidthArr;return e(i(void 0,t).id),n(),this},t.setFontNameTable=function(t){var e=this.internal.getFontNameTable,i=this.internal.setFontNameTable,n={};[e(),t].forEach(function(t){for(var e in t)n[e]=t[e]}),i(n)},t.isExistFont=function(t){return!!this.internal.getFontNameTable()[t]},t.measureText=function(t,e){var i=$("<canvas>")[0].getContext("2d");return"object"==typeof e&&(e=[e.fontStyle,e.fontWeight,e.fontSize,e.fontFamily],i.font=e.join(" ")),i.measureText(t).width},t.addFont=function(t,e,i){return function(t,e,i){var n,r,o=this.internal.addFont,a=this.internal.addDefaultFont,s=this.getFontList(),l={},d=!1;for(n in t)if(!s[t[n].familyname]){if(e){if(0<=Object.keys(l).map(function(t){return l[t]}).indexOf(t[n].familyname))continue;r=o(t[n].postScriptName,t[n].familyname,"normal","Identity-H",void 0,t[n].data,t[n].usedChars)}else for(var c=0;c<4;c++){t[n].style=c;var h=o(t[n].postScriptName,t[n].familyname,u[c],i,$.extend(!0,{},t[n]));0==c&&(r=h)}null!=r?(l[t[n].name]=t[n].familyname,0<t[n].defaultPriority&&a(r,t[n].defaultPriority)):d=!0}return this.setFontNameTable(l),!d}.call(this,t,e,i)},t.drawSVG=function(t,e,i,n,r,o){!function(e,i,t,n,r,o){var a=this,s=$("<canvas>")[0];s.width=t-e,s.height=n-i;n={ignoreClear:!0,ignoreDimensions:!0,ignoreMouse:!0,ignoreAnimation:!0,renderFinished:function(){var t=s.toDataURL("image/png");a.addImage(t,"png",e,i,s.width,s.height)}};canvg.Canvg.fromString(s.getContext("2d"),r,n).start()}.call(this,t,e,i,n,r,o)},t.setDefaultFont=function(){var t,e,i,n=this.internal.getDefaultFontList(),r=this.internal.getFonts();for(i in n){t=n[i];break}t&&(e=r[t].fontName),this.setFont(e,"normal")}}(jsPDF.API),function(){"use strict";jsPDF.API.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this}}(),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return new Blob}catch(t){}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){function s(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]}function e(){this.data=[]}function l(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i}function d(t){this.code=this[this.name=t]}var i=e.prototype,n=l.prototype,c=t.FileReaderSync,r="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),o=r.length,a=t.URL||t.webkitURL||t,h=a.createObjectURL,u=a.revokeObjectURL,p=a,f=t.btoa,g=t.atob,m=t.ArrayBuffer,w=t.Uint8Array,x=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=n.fake=!0;o--;)d.prototype[r[o]]=o+1;return(p=!a.createObjectURL?t.URL=function(t){var e=document.createElementNS("http://www.w3.org/1999/xhtml","a");return e.href=t,"origin"in e||("data:"===e.protocol.toLowerCase()?e.origin=null:(t=t.match(x),e.origin=t&&t[1])),e}:p).createObjectURL=function(t){var e=t.type;return null===e&&(e="application/octet-stream"),t instanceof l?(e="data:"+e,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):h?h.call(a,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&u&&u.call(a,t)},i.append=function(t){var e=this.data;if(w&&(t instanceof m||t instanceof w)){for(var i="",n=new w(t),r=0,o=n.length;r<o;r++)i+=String.fromCharCode(n[r]);e.push(i)}else if("Blob"===s(t)||"File"===s(t)){if(!c)throw new d("NOT_READABLE_ERR");var a=new c;e.push(a.readAsBinaryString(t))}else t instanceof l?"base64"===t.encoding&&g?e.push(g(t.data)):"URI"===t.encoding?e.push(decodeURIComponent(t.data)):"raw"===t.encoding&&e.push(t.data):("string"!=typeof t&&(t+=""),e.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new l(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},n.slice=function(t,e,i){var n=arguments.length;return n<3&&(i=null),new l(this.data.slice(t,1<n?e:this.data.length),i,this.encoding)},n.toString=function(){return"[object Blob]"},n.close=function(){this.size=0,delete this.data},e}(t);t.Blob=function(t,e){var e=e&&e.type||"",i=new o;if(t)for(var n=0,r=t.length;n<r;n++)Uint8Array&&t[n]instanceof Uint8Array?i.append(t[n].buffer):i.append(t[n]);e=i.getBlob(e);return!e.slice&&e.webkitSlice&&(e.slice=e.webkitSlice),e};var e=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=e(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(){var e="+".charCodeAt(0),i="/".charCodeAt(0),n="0".charCodeAt(0),r="a".charCodeAt(0),o="A".charCodeAt(0),a="-".charCodeAt(0),s="_".charCodeAt(0);function l(t,e,i){if(this.rawData=t,t=this.contents=new Y(t),this.contents.pos=4,"ttcf"===t.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}t.pos=0,this.parse(),this.subset=new W(this),this.registerTTF()}b64ToByteArray=function(t){var e,i;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.length,n="="===t.charAt(n-2)?2:"="===t.charAt(n-1)?1:0,r=new Uint8Array(3*t.length/4-n),o=0<n?t.length-4:t.length,a=0;function s(t){r[a++]=t}for(e=0;e<o;e+=4,0)s((16711680&(i=decode(t.charAt(e))<<18|decode(t.charAt(e+1))<<12|decode(t.charAt(e+2))<<6|decode(t.charAt(e+3))))>>16),s((65280&i)>>8),s(255&i);return 2==n?s(255&(i=decode(t.charAt(e))<<2|decode(t.charAt(e+1))>>4)):1==n&&(s((i=decode(t.charAt(e))<<10|decode(t.charAt(e+1))<<4|decode(t.charAt(e+2))>>2)>>8&255),s(255&i)),r},decode=function(t){t=t.charCodeAt(0);return t===e||t===a?62:t===i||t===s?63:t<n?-1:t<n+10?t-n+26+26:t<o+26?t-o:t<r+26?t-r+26:void 0},TTFFont=(l.open=function(t,e,i,n){return new l(b64ToByteArray(i),e)},l.prototype.parse=function(){return this.directory=new d(this.contents),this.head=new m(this),this.name=new F(this),this.cmap=new b(this),this.hhea=new C(this),this.maxp=new P(this),this.hmtx=new O(this),this.post=new I(this),this.os2=new S(this),this.loca=new q(this),this.glyf=new L(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},l.prototype.registerTTF=function(){var r,t,e;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){for(var t=this.bbox,e=[],i=0,n=t.length;i<n;i++)r=t[i],e.push(Math.round(r*this.scaleFactor));return e}.call(this),this.stemV=0,this.post.exists?(e=255&(t=this.post.italic_angle),!0&(t=t>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(e=this.familyClass)||2===e||3===e||4===e||5===e||7===e,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},l.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},l.prototype.widthOfGlyph=function(t){var e=1e3/this.head.unitsPerEm;return this.hmtx.forGlyph(t).advance*e},l.prototype.widthOfString=function(t,e,i){for(var n,r,o,a=o=r=0,s=(t=""+t).length;0<=s?o<s:s<o;a=0<=s?++o:--o)n=t.charCodeAt(a),r+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return r*(e/1e3)},l.prototype.lineHeight=function(t,e){e=(e=null==e?!1:e)?this.lineGap:0;return(this.ascender+e-this.decender)/1e3*t},l);var Y=(t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t=this.readUInt32();return 2147483648<=t?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t=this.readUInt16();return 32768<=t?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){for(var e,i=[],n=e=0;0<=t?e<t:t<e;n=0<=t?++e:--e)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(t){for(var e,i=[],n=e=0,r=t.length;0<=r?e<r:r<e;n=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte();return 128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^r)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*r+65536*o+256*a+s},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,i=[];for(e=0;0<=t?e<t:t<e;0<=t?++e:--e)i.push(this.readByte());return i},t.prototype.write=function(t){for(var e,i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t);function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}var h,d=(c.prototype.encode=function(t){var e,i,n,r,o,a=Object.keys(t).length,s=Math.log(2),l=16*Math.floor(Math.log(a)/s),d=Math.floor(l/s),s=16*a-l,c=new Y;for(o in c.writeInt(this.scalarType),c.writeShort(a),c.writeShort(l),c.writeShort(d),c.writeShort(s),a=16*a,i=c.pos+a,e=null,r=[],t)if(n=t[o])for(c.writeString(o),c.writeInt(h(n)),c.writeInt(i),c.writeInt(n.length),r=r.concat(n),"head"===o&&(e=i),i+=n.length;i%4;)r.push(0),i++;return c.write(r),a=2981146554-h(c.data),c.pos=e+8,c.writeUInt32(a),c.data},h=function(t){var e,i,n,r;for(t=N.call(t);t.length%4;)t.push(0);for(i=new Y(t),n=e=0,r=t.length;n<r;n+=4)e+=i.readUInt32();return 4294967295&e},c);function c(t){var e,i,n;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,n=this.tableCount;0<=n?i<n:n<i;0<=n?++i:--i)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}function u(t,e){for(var i in e)p.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t}var p={}.hasOwnProperty;function f(t){this.file=t,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}f.prototype.parse=function(){},f.prototype.encode=function(){},f.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null};var g,m=(u(w,g=f),w.prototype.tag="head",w.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},w);function w(){return w.__super__.constructor.apply(this,arguments)}var x=(v.encode=function(t,e){var i,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x,v,b,y,C,k,S,T,I,M,A,F,E,P,D,O,_,N,L,R,B,j,H,z,q,G,U,W,V=new Y,J=Object.keys(t).sort(function(t,e){return t-e});switch(e){case"macroman":for(p=0,f=function(){var t,e=[];for(u=t=0;t<256;u=++t)e.push(0);return e}(),m={0:0},r={},A=0,D=J.length;A<D;A++)null==m[q=t[n=J[A]]]&&(m[q]=++p),r[n]={old:t[n],new:m[t[n]]},f[n]=m[t[n]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(f),{charMap:r,subtable:V.data,maxGlyphID:p+1};case"unicode":for(I=[],d=[],m={},i={},g=s=null,F=w=0,O=J.length;F<O;F++)null==m[v=t[n=J[F]]]&&(m[v]=++w),i[n]={old:v,new:m[v]},o=m[v]-n,null!=g&&o===s||(g&&d.push(g),I.push(n),s=o),g=n;for(g&&d.push(g),d.push(65535),I.push(65535),S=2*(k=I.length),C=2*Math.pow(Math.log(k)/Math.LN2,2),c=Math.log(C/2)/Math.LN2,y=2*k-C,a=[],b=[],h=[],u=E=0,_=I.length;E<_;u=++E){if(T=I[u],l=d[u],65535===T){a.push(0),b.push(0);break}if(32768<=T-(M=i[T].new))for(a.push(0),b.push(2*(h.length+k-u)),n=P=T;T<=l?P<=l:l<=P;n=T<=l?++P:--P)h.push(i[n].new);else a.push(M-T),b.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*k+2*h.length),V.writeUInt16(0),V.writeUInt16(S),V.writeUInt16(C),V.writeUInt16(c),V.writeUInt16(y),H=0,N=d.length;H<N;H++)n=d[H],V.writeUInt16(n);for(V.writeUInt16(0),z=0,L=I.length;z<L;z++)n=I[z],V.writeUInt16(n);for(G=0,R=a.length;G<R;G++)o=a[G],V.writeUInt16(o);for(U=0,B=b.length;U<B;U++)x=b[U],V.writeUInt16(x);for(W=0,j=h.length;W<j;W++)p=h[W],V.writeUInt16(p);return{charMap:i,subtable:V.data,maxGlyphID:w+1}}},v);function v(i,t){var e,n,r,o,a,s,l,d,c,h,u,p,f,g,m,w,x;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=t+i.readInt(),t=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=g=0;g<256;s=++g)this.codeMap[s]=i.readByte();break;case 4:for(h=i.readUInt16(),c=h/2,i.pos+=6,r=function(){var t,e=[];for(s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(i.readUInt16());return e}(),i.pos+=2,p=function(){var t,e=[];for(s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(i.readUInt16());return e}(),l=function(){var t,e=[];for(s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(i.readUInt16());return e}(),d=function(){var t,e=[];for(s=t=0;0<=c?t<c:c<t;s=0<=c?++t:--t)e.push(i.readUInt16());return e}(),n=(this.length-i.pos+this.offset)/2,a=function(){var t,e=[];for(s=t=0;0<=n?t<n:n<t;s=0<=n?++t:--t)e.push(i.readUInt16());return e}(),s=m=0,x=r.length;m<x;s=++m)for(f=r[s],e=w=u=p[s];u<=f?w<=f:f<=w;e=u<=f?++w:--w)0===d[s]?o=e+l[s]:0!==(o=a[d[s]/2+(e-u)-(c-s)]||0)&&(o+=l[s]),this.codeMap[e]=65535&o}i.pos=t}var b=(u(y,g),y.prototype.tag="cmap",y.prototype.parse=function(t){var e,i,n;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:i<n;0<=i?++n:--n)e=new x(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},y.encode=function(t,e){return null==e&&(e="macroman"),t=x.encode(t,e),(e=new Y).writeUInt16(0),e.writeUInt16(1),t.table=e.data.concat(t.subtable),t},y);function y(){return y.__super__.constructor.apply(this,arguments)}var C=(u(k,g),k.prototype.tag="hhea",k.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},k);function k(){return k.__super__.constructor.apply(this,arguments)}var S=(u(T,g),T.prototype.tag="OS/2",T.prototype.parse=function(i){if(i.pos=this.offset,this.version=i.readUInt16(),this.averageCharWidth=i.readShort(),this.weightClass=i.readUInt16(),this.widthClass=i.readUInt16(),this.type=i.readShort(),this.ySubscriptXSize=i.readShort(),this.ySubscriptYSize=i.readShort(),this.ySubscriptXOffset=i.readShort(),this.ySubscriptYOffset=i.readShort(),this.ySuperscriptXSize=i.readShort(),this.ySuperscriptYSize=i.readShort(),this.ySuperscriptXOffset=i.readShort(),this.ySuperscriptYOffset=i.readShort(),this.yStrikeoutSize=i.readShort(),this.yStrikeoutPosition=i.readShort(),this.familyClass=i.readShort(),this.panose=function(){var t,e=[];for(t=0;t<10;++t)e.push(i.readByte());return e}(),this.charRange=function(){var t,e=[];for(t=0;t<4;++t)e.push(i.readInt());return e}(),this.vendorID=i.readString(4),this.selection=i.readShort(),this.firstCharIndex=i.readShort(),this.lastCharIndex=i.readShort(),0<this.version&&(this.ascent=i.readShort(),this.descent=i.readShort(),this.lineGap=i.readShort(),this.winAscent=i.readShort(),this.winDescent=i.readShort(),this.codePageRange=function(){var t,e=[];for(t=0;t<2;++t)e.push(i.readInt());return e}(),1<this.version))return this.xHeight=i.readShort(),this.capHeight=i.readShort(),this.defaultChar=i.readShort(),this.breakChar=i.readShort(),this.maxContext=i.readShort()},T);function T(){return T.__super__.constructor.apply(this,arguments)}var I=(u(M,g),M.prototype.tag="post",M.prototype.parse=function(n){var t,e,i,r;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:for(e=n.readUInt16(),this.glyphNameIndex=[],i=0;0<=e?i<e:e<i;0<=e?++i:--i)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],r=[];n.pos<this.offset+this.length;)t=n.readByte(),r.push(this.names.push(n.readString(t)));return r;case 151552:return e=n.readUInt16(),this.offsets=n.read(e);case 196608:break;case 262144:return this.map=function(){var t,e,i=[];for(t=0,e=this.file.maxp.numGlyphs;0<=e?t<e:e<t;0<=e?++t:--t)i.push(n.readUInt32());return i}.call(this)}},".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent\nampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash\nzero one two three four five six seven eight nine colon semicolon less equal greater\nquestion at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\nbracketleft backslash bracketright asciicircum underscore grave\na b c d e f g h i j k l m n o p q r s t u v w x y z\nbraceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis\nUdieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave\necircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve\nocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent\nsterling section bullet paragraph germandbls registered copyright trademark acute\ndieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu\npartialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash\nquestiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft\nguillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash\nquotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis\nfraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered\nquotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis\nEgrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute\nUcircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla\nhungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth\neth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior\nonehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla\nCacute cacute Ccaron ccaron dcroat".split(/\s+/g),M);function M(){return M.__super__.constructor.apply(this,arguments)}var A=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},F=(u(E,g),E.prototype.tag="name",E.prototype.parse=function(t){var e,i,n,r,o,a,s,l,d,c,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),i=[],r=l=0;0<=e?l<e:e<l;r=0<=e?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},r=d=0,c=i.length;d<c;r=++d)n=i[r],t.pos=n.offset,h=t.readString(n.length),o=new A(h,n),null==s[h=n.nameID]&&(s[h]=[]),s[n.nameID].push(o);return this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5],this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,""),this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},E);function E(){return E.__super__.constructor.apply(this,arguments)}var P=(u(D,g),D.prototype.tag="maxp",D.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},D);function D(){return D.__super__.constructor.apply(this,arguments)}var O=(u(_,g),_.prototype.tag="hmtx",_.prototype.parse=function(i){var t,n,r,e,o,a,s;for(i.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:a<e;0<=a?++e:--e)this.metrics.push({advance:i.readUInt16(),lsb:i.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,e=[];for(t=0;0<=n?t<n:n<t;0<=n?++t:--t)e.push(i.readInt16());return e}(),this.widths=function(){for(var t=this.metrics,e=[],i=0,n=t.length;i<n;i++)r=t[i],e.push(r.advance);return e}.call(this),t=this.widths[this.widths.length-1],s=[],o=0;0<=n?o<n:n<o;0<=n?++o:--o)s.push(this.widths.push(t));return s},_.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},_);function _(){return _.__super__.constructor.apply(this,arguments)}var N=[].slice,L=(u(R,g),R.prototype.tag="glyf",R.prototype.parse=function(t){return this.cache={}},R.prototype.glyphFor=function(t){var e,i,n,r,o,a;return t in this.cache?this.cache[t]:(r=this.file.loca,n=this.file.contents,a=r.indexOf(t),0===(o=r.lengthOf(t))?this.cache[t]=null:(n.pos=this.offset+a,e=(i=new Y(n.read(o))).readShort(),r=i.readShort(),a=i.readShort(),n=i.readShort(),o=i.readShort(),this.cache[t]=-1===e?new H(i,r,a,n,o):new B(i,e,r,a,n,o),this.cache[t]))},R.prototype.encode=function(t,e,i){for(var n,r=[],o=[],a=0,s=e.length;a<s;a++)n=t[e[a]],o.push(r.length),n&&(r=r.concat(n.encode(i)));return o.push(r.length),{table:r,offsets:o}},R);function R(){return R.__super__.constructor.apply(this,arguments)}var B=(j.prototype.encode=function(){return this.raw.data},j);function j(t,e,i,n,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!1}var H=(z.prototype.encode=function(t){for(var e,i=new Y(N.call(this.raw.data)),n=this.glyphIDs,r=e=0,o=n.length;e<o;r=++e)n[r],i.pos=this.glyphOffsets[r];return i.data},z);function z(t,e,i,n,r){var o,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}var q=(u(G,g),G.prototype.tag="loca",G.prototype.parse=function(n){var t;return n.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=(0===t?function(){var t,e,i=[];for(t=0,e=this.length;t<e;t+=2)i.push(2*n.readUInt16());return i}:function(){var t,e,i=[];for(t=0,e=this.length;t<e;t+=4)i.push(n.readUInt32());return i}).call(this)},G.prototype.indexOf=function(t){return this.offsets[t]},G.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},G.prototype.encode=function(t,e){for(var i,n=new Uint32Array(this.offsets.length),r=0,o=0,a=0;a<n.length;++a)n[a]=r,o<e.length&&e[o]==a&&(++o,n[a]=r,i=this.offsets[a],0<(i=this.offsets[a+1]-i)&&(r+=i));for(var s=new Array(4*n.length),l=0;l<n.length;++l)s[4*l+3]=255&n[l],s[4*l+2]=(65280&n[l])>>8,s[4*l+1]=(16711680&n[l])>>16,s[4*l]=(4278190080&n[l])>>24;return s},G);function G(){return G.__super__.constructor.apply(this,arguments)}var U,W=(V.prototype.generateCmap=function(){var t,e,i=this.font.cmap.tables[0].codeMap,n={},r=this.subset;for(t in r)e=r[t],n[t]=i[e];return n},V.prototype.glyphsFor=function(t){for(var e,i,n,r,o={},a=0,s=t.length;a<s;a++)o[n=t[a]]=this.font.glyf.glyphFor(n);for(n in e=[],o)null!=(i=o[n])&&i.compound&&e.push.apply(e,i.glyphIDs);if(0<e.length)for(n in r=this.glyphsFor(e))i=r[n],o[n]=i;return o},V.prototype.encode=function(t){var e,n,i,r,o,a,s,l=b.encode(this.generateCmap(),"unicode"),t=this.glyphsFor(t),d={0:0},c=l.charMap;for(e in c)d[(i=c[e]).old]=i.new;for(s in a=l.maxGlyphID,t)s in d||(d[s]=a++);return r=function(t){var e,i={};for(e in t)i[t[e]]=e;return i}(d),o=Object.keys(r).sort(function(t,e){return t-e}),l=function(){for(var t=[],e=0,i=o.length;e<i;e++)n=o[e],t.push(r[n]);return t}(),t=this.font.glyf.encode(t,l,d),l=this.font.loca.encode(t.offsets,l),l={cmap:this.font.cmap.raw(),glyf:t.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.raw()},this.font.os2.exists&&(l["OS/2"]=this.font.os2.raw()),this.font.directory.encode(l)},V);function V(t){this.font=t,this.subset={},this.unicodes={},this.next=33}function J(){}PDFObject=(U=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},J.convert=function(n){var r,t,e,i;if(Array.isArray(n))return"["+function(){for(var t=[],e=0,i=n.length;e<i;e++)r=n[e],t.push(J.convert(r));return t}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+U(n.getUTCFullYear(),4)+U(n.getUTCMonth(),2)+U(n.getUTCDate(),2)+U(n.getUTCHours(),2)+U(n.getUTCMinutes(),2)+U(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(t in e=["<<"],n)i=n[t],e.push("/"+t+" "+J.convert(i));return e.push(">>"),e.join("\n")},J)}(jsPDF.API),function(t){"use strict";function v(t){for(var e=t.length,i=0;e;)i+=t[--e];return i}var b=t.getCharWidthsArray=function(t,e){for(var i,n=(e=e||{}).widths||this.internal.getFont().metadata.Unicode.widths,r=n.fof||1,o=e.kerning||this.internal.getFont().metadata.Unicode.kerning,a=o.fof||1,s=0,l=n[0]||r,d=[],c=0,h=t.length;c<h;c++)i=t.charCodeAt(c),d.push((n[i]||l)/r+(o[i]&&o[i][s]||0)/a),s=i;return d},y=t.getStringUnitWidth=function(t,e){return v(b.call(this,t,e))};t.splitTextToSize=function(t,e,i){var n=(i=i||{}).fontSize||this.internal.getFontSize(),r=function(t){var e={0:1},i={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle),t="Unicode";return n.metadata[t]?{widths:n.metadata[t].widths||e,kerning:n.metadata[t].kerning||i}:{widths:e,kerning:i}}.call(this,i),o=Array.isArray(t)?t:t.split(/\r?\n/),a=+this.internal.scaleFactor*e/n;r.textIndent=i.textIndent?+i.textIndent*this.internal.scaleFactor/n:0,r.lineIndent=i.lineIndent;for(var s=[],l=0,d=o.length;l<d;l++)s=s.concat(function(t,e,i){var n,r,o,a,s,l,d=[],c=[d],h=(i=i||{}).textIndent||0,u=0,p=0,f=t.split(" "),g=b(" ",i)[0],m=-1===i.lineIndent?f[0].length+2:i.lineIndent||0;for(m&&(s=Array(m).join(" "),l=[],f.map(function(t){1<(t=t.split(/\s*\n/)).length?l=l.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):l.push(t[0])}),f=l,m=y(s,i)),r=0,o=f.length;r<o;r++){var w=0,x=f[r];if(m&&"\n"==x[0]&&(x=x.substr(1),w=1),n=b(x,i),e<h+u+(p=v(n))||w){if(e<p){for(a=function(t,e,i,n){for(var r=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<i;)s+=e[o],o++;r.push(t.slice(0,o));for(var l=o,s=0;o!==a;)s+e[o]>n&&(r.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&r.push(t.slice(l,o)),r}(x,n,e-(h+u),e),d.push(a.shift()),d=[a.pop()];a.length;)c.push([a.shift()]);p=v(n.slice(x.length-d[0].length))}else d=[x];c.push(d),h=p+m,u=g}else d.push(x),h+=u+p,u=g}return t=m?function(t,e){return(e?s:"")+t.join(" ")}:function(t){return t.join(" ")},c.map(t)}(o[l],a,r));return s}}(jsPDF.API),function(t){"use strict";function e(t){for(var e="klmnopqrstuvwxyz",i={},n=0;n<e.length;n++)i[e[n]]="0123456789abcdef"[n];for(var r,o,a,s,l,d={},c=1,h=d,u=[],p="",f="",g=t.length-1,n=1;n!=g;)l=t[n],n+=1,"'"==l?o=o?(s=o.join(""),r):[]:o?o.push(l):"{"==l?(u.push([h,s]),h={},s=r):"}"==l?((a=u.pop())[0][a[1]]=h,s=r,h=a[0]):"-"==l?c=-1:s===r?i.hasOwnProperty(l)?(p+=i[l],s=parseInt(p,16)*c,c=1,p=""):p+=l:i.hasOwnProperty(l)?(f+=i[l],h[s]=parseInt(f,16)*c,c=1,s=r,f=""):f+=l;return d}var i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},o={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e,i="Unicode",n=o[i][t.PostScriptName];n&&((e=t.metadata[i]||(t.metadata[i]={})).widths=n.widths,e.kerning=n.kerning),(n=r[i][t.PostScriptName])&&((e=t.metadata[i]||(t.metadata[i]={})).encoding=n).codePages&&n.codePages.length&&(t.encoding=n.codePages[0])}])}(jsPDF.API),function(t){"use strict";t.events.push(["initialized",function(){this.canvas.pdf=this}]),t.canvas={getContext:function(t){return(this.pdf.context2d._canvas=this).pdf.context2d},style:{}},Object.defineProperty(t.canvas,"width",{get:function(){return this._width},set:function(t){this._width=t,this.getContext("2d").pageWrapX=t+1}}),Object.defineProperty(t.canvas,"height",{get:function(){return this._height},set:function(t){this._height=t,this.getContext("2d").pageWrapY=t+1}})}(jsPDF.API),function(t){"use strict";t.events.push(["initialized",function(){((this.context2d.pdf=this).context2d.internal.pdf=this).context2d.ctx=new e,this.context2d.ctxStack=[],this.context2d.path=[]}]),t.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new e,f2:function(t){return t.toFixed(2)},fillRect:function(t,e,i,n){this._isFillTransparent()||(t=this._wrapX(t),e=this._wrapY(e),n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:n}),this.pdf.rect(n.x,n.y,n.w,n.h,"f"))},strokeRect:function(t,e,i,n){this._isStrokeTransparent()||(t=this._wrapX(t),e=this._wrapY(e),n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:n}),this.pdf.rect(n.x,n.y,n.w,n.h,"s"))},clearRect:function(t,e,i,n){this.ctx.ignoreClearRect||(t=this._wrapX(t),e=this._wrapY(e),n=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:i,h:n}),this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(n.x,n.y,n.w,n.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var t=new e;t.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=t},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(t){var e,i,n,r,o;return t?(this.internal.rxTransparent.test(t)?r=n=i=e=0:null!=(o=this.internal.rxRgb.exec(t))?(e=parseInt(o[1]),i=parseInt(o[2]),n=parseInt(o[3]),r=1):null!=(o=this.internal.rxRgba.exec(t))?(e=parseInt(o[1]),i=parseInt(o[2]),n=parseInt(o[3]),r=parseFloat(o[4])):(r=1,4===(t="#"!=t.charAt(0)?(t=CssColors.colorNameToHex(t))||"#000000":t).length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,n=t.substring(3,4),n+=n):(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),n=parseInt(n,16)),{r:e,g:i,b:n,a:r,style:t}):{r:0,g:0,b:0,a:0,style:t}},setFillStyle:function(t){var e=this._getRGBA(t);this.ctx.fillStyle=t,this.ctx._isFillTransparent=0===e.a,this.ctx._fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})},setStrokeStyle:function(t){t=this._getRGBA(t);this.ctx.strokeStyle=t.style,this.ctx._isStrokeTransparent=0===t.a,this.ctx._strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))},fillText:function(t,e,i,n){if(!this._isFillTransparent()){e=this._wrapX(e),i=this._wrapY(i);var r=this._matrix_map_point(this.ctx._transform,[e,i]);e=r[0],i=r[1];var o,r=57.2958*this._matrix_rotation(this.ctx._transform);0<this.ctx._clip_path.length&&((o=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q"),a=this.path,this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a);var a,s=1;try{s=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}s<.01?this.pdf.text(t,e,this._getBaseline(i),null,r):(a=this.pdf.internal.getFontSize(),this.pdf.setFontSize(a*s),this.pdf.text(t,e,this._getBaseline(i),null,r),this.pdf.setFontSize(a)),0<this.ctx._clip_path.length&&o.push("Q")}},strokeText:function(t,e,i,n){if(!this._isStrokeTransparent()){e=this._wrapX(e),i=this._wrapY(i);var r=this._matrix_map_point(this.ctx._transform,[e,i]);e=r[0],i=r[1];var o,r=57.2958*this._matrix_rotation(this.ctx._transform);0<this.ctx._clip_path.length&&((o=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q"),a=this.path,this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=a);var a,s=1;try{s=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}1===s?this.pdf.text(t,e,this._getBaseline(i),{stroke:!0},r):(a=this.pdf.internal.getFontSize(),this.pdf.setFontSize(a*s),this.pdf.text(t,e,this._getBaseline(i),{stroke:!0},r),this.pdf.setFontSize(a)),0<this.ctx._clip_path.length&&o.push("Q")}},setFont:function(t){this.ctx.font=t;var e,i,n,r,o,a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/.exec(t);null!=a?(r=a[1],a[2],o=a[3],i=a[4],e=a[5],n=a[6],i="px"!==e&&"em"===e?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i),"bold"===o||"700"===o?this.pdf.setFontStyle("bold"):"italic"===r?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal"),n=-1!=(n=(r=n).toLowerCase().split(/\s*,\s*/)).indexOf("arial")?"Arial":-1!=n.indexOf("verdana")?"Verdana":-1!=n.indexOf("helvetica")?"Helvetica":-1!=n.indexOf("sans-serif")?"sans-serif":-1!=n.indexOf("fixed")?"Fixed":-1!=n.indexOf("monospace")?"Monospace":-1!=n.indexOf("terminal")?"Terminal":-1!=n.indexOf("courier")?"Courier":-1!=n.indexOf("times")?"Times":-1!=n.indexOf("cursive")?"Cursive":-1!=n.indexOf("fantasy")?"Fantasy":(n.indexOf("serif"),"Serif"),o="bold"===o?"bold":"normal",this.pdf.setFont(n,o)):null!=(a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/.exec(t))&&(t=a[1],a[2],r=a[3],o=(o=a[4])||"normal",t="em"===e?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(t)),this.pdf.setFontSize(t),this.pdf.setFont(r,o))},setTextBaseline:function(t){this.ctx.textBaseline=t},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(t){this.ctx.textAlign=t},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(t){this.ctx.lineWidth=t,this.pdf.setLineWidth(t)},setLineCap:function(t){this.ctx.lineCap=t,this.pdf.setLineCap(t)},setLineJoin:function(t){this.ctx.lineJoin=t,this.pdf.setLineJoin(t)},moveTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_point(this.ctx._transform,[t,e]),e={type:"mt",x:t=i[0],y:e=i[1]};this.path.push(e)},_wrapX:function(t){return this.pageWrapXEnabled?t%this.pageWrapX:t},_wrapY:function(t){return this.pageWrapYEnabled?(this._gotoPage(this._page(t)),(t-this.lastBreak)%this.pageWrapY):t},transform:function(t,e,i,n,r,o){this.ctx._transform=[t,e,i,n,r,o]},setTransform:function(t,e,i,n,r,o){this.ctx._transform=[t,e,i,n,r,o]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(t){if(this.pageWrapYEnabled){for(var e,i=this.lastBreak=0,n=0,r=0;r<this.pageBreaks.length;r++)t>=this.pageBreaks[r]&&(i++,0===this.lastBreak&&n++,e=this.pageBreaks[r]-this.lastBreak,this.lastBreak=this.pageBreaks[r],n+=Math.floor(e/this.pageWrapY));return 0===this.lastBreak&&(n+=Math.floor(t/this.pageWrapY)+1),n+i}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(t){},lineTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_point(this.ctx._transform,[t,e]),e={type:"lt",x:t=i[0],y:e=i[1]};this.path.push(e)},bezierCurveTo:function(t,e,i,n,r,o){var a;t=this._wrapX(t),e=this._wrapY(e),i=this._wrapX(i),n=this._wrapY(n),r=this._wrapX(r),o=this._wrapY(o),r=(a=this._matrix_map_point(this.ctx._transform,[r,o]))[0],o=a[1];o={type:"bct",x1:t=(a=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=a[1],x2:i=(a=this._matrix_map_point(this.ctx._transform,[i,n]))[0],y2:n=a[1],x:r,y:o};this.path.push(o)},quadraticCurveTo:function(t,e,i,n){var r;t=this._wrapX(t),e=this._wrapY(e),i=this._wrapX(i),n=this._wrapY(n),i=(r=this._matrix_map_point(this.ctx._transform,[i,n]))[0],n=r[1];n={type:"qct",x1:t=(r=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=r[1],x:i,y:n};this.path.push(n)},arc:function(t,e,i,n,r,o){var a,s;t=this._wrapX(t),e=this._wrapY(e),this._matrix_is_identity(this.ctx._transform)||(t=(s=this._matrix_map_point(this.ctx._transform,[t,e]))[0],e=s[1],a=this._matrix_map_point(this.ctx._transform,[0,0]),s=this._matrix_map_point(this.ctx._transform,[0,i]),i=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)));o={type:"arc",x:t,y:e,radius:i,startAngle:n,endAngle:r,anticlockwise:o};this.path.push(o)},drawImage:function(t,e,i,n,r,o,a,s,l){void 0!==o&&(e=o,i=a,n=s,r=l),e=this._wrapX(e),i=this._wrapY(i);var r=this._matrix_map_rect(this.ctx._transform,{x:e,y:i,w:n,h:r}),l=(this._matrix_map_rect(this.ctx._transform,{x:o,y:a,w:s,h:l}),/data:image\/(\w+).*/i.exec(t)),l=null!=l?l[1]:"png";this.pdf.addImage(t,l,r.x,r.y,r.w,r.h)},_matrix_multiply:function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=i*t[0]+n*t[2],d=r*t[0]+o*t[2],e=a*t[0]+s*t[2]+t[4],n=i*t[1]+n*t[3],o=r*t[1]+o*t[3],s=a*t[1]+s*t[3]+t[5];return[i=l,n,r=d,o,a=e,s]},_matrix_rotation:function(t){return Math.atan2(t[2],t[0])},_matrix_decompose:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=Math.sqrt(e*e+i*i),a=(e/=o)*n+(i/=o)*r;n-=e*a,r-=i*a;var s=Math.sqrt(n*n+r*r);return a/=s,e*(r/=s)<i*(n/=s)&&(e=-e,i=-i,a=-a,o=-o),{scale:[o,0,0,s,0,0],translate:[1,0,0,1,t[4],t[5]],rotate:[e,i,-i,e,0,0],skew:[1,0,a,1,0,0]}},_matrix_map_point:function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],t=e[0],e=e[1];return[t*i+e*r+a,t*n+e*o+s]},_matrix_map_point_obj:function(t,e){e=this._matrix_map_point(t,[e.x,e.y]);return{x:e[0],y:e[1]}},_matrix_map_rect:function(t,e){var i=this._matrix_map_point(t,[e.x,e.y]),e=this._matrix_map_point(t,[e.x+e.w,e.y+e.h]);return{x:i[0],y:i[1],w:e[0]-i[0],h:e[1]-i[1]}},_matrix_is_identity:function(t){return 1==t[0]&&(0==t[1]&&(0==t[2]&&(1==t[3]&&(0==t[4]&&0==t[5]))))},rotate:function(t){t=[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,t)},scale:function(t,e){e=[t,0,0,e,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},translate:function(t,e){e=[1,0,0,1,t,e];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},stroke:function(){var t,e;0<this.ctx._clip_path.length?((t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q"),e=this.path,this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=e,this._stroke(!1),t.push("Q")):this._stroke(!1)},_stroke:function(t){if(t||!this._isStrokeTransparent()){for(var e=[],i=this.path,n=0;n<i.length;n++){var r=i[n];switch(r.type){case"mt":e.push({start:r,deltas:[],abs:[]});break;case"lt":var o=[r.x-i[n-1].x,r.y-i[n-1].y];e[e.length-1].deltas.push(o),e[e.length-1].abs.push(r);break;case"bct":o=[r.x1-i[n-1].x,r.y1-i[n-1].y,r.x2-i[n-1].x,r.y2-i[n-1].y,r.x-i[n-1].x,r.y-i[n-1].y];e[e.length-1].deltas.push(o);break;case"qct":var a=i[n-1].x+2/3*(r.x1-i[n-1].x),s=i[n-1].y+2/3*(r.y1-i[n-1].y),l=r.x+2/3*(r.x1-r.x),d=r.y+2/3*(r.y1-r.y),c=r.x,h=r.y,o=[a-i[n-1].x,s-i[n-1].y,l-i[n-1].x,d-i[n-1].y,c-i[n-1].x,h-i[n-1].y];e[e.length-1].deltas.push(o);break;case"arc":0==e.length&&e.push({start:{x:0,y:0},deltas:[],abs:[]}),e[e.length-1].arc=!0,e[e.length-1].abs.push(r)}}for(n=0;n<e.length;n++){var u=n==e.length-1?"s":null;if(e[n].arc)for(var p=e[n].abs,f=0;f<p.length;f++){var g=p[f],m=360*g.startAngle/(2*Math.PI),w=360*g.endAngle/(2*Math.PI),x=g.x,v=g.y;this.internal.arc2(this,x,v,g.radius,m,w,g.anticlockwise,u,t)}else{x=e[n].start.x,v=e[n].start.y;t?(this.pdf.lines(e[n].deltas,x,v,null,null),this.pdf.clip_fixed()):this.pdf.lines(e[n].deltas,x,v,null,u)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(t){var e,i;0<this.ctx._clip_path.length?((e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q"),i=this.path,this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(t,!0),this.ctx._clip_path=this.path,this.path=i,this._fill(t,!1),e.push("Q")):this._fill(t,!1)},_fill:function(t,e){if(!this._isFillTransparent()){var i="function"==typeof this.pdf.internal.newObject2,n=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage(),r=[],o=window.outIntercept;if(i)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var a=this.pdf.internal.newStreamObject(),s=this.pdf.internal.newObject2();s.push("<</Type /ExtGState"),s.push("/SMask <</S /Alpha /G "+a.objId+" 0 R>>"),s.push(">>");var l="MASK"+s.objId;this.pdf.internal.addGraphicsState(l,s.objId);s="/"+l+" gs";n.splice(0,0,"q"),n.splice(1,0,s),n.push("Q"),window.outIntercept=a;break;default:a="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];a&&this.pdf.internal.out(a+" gs")}var d=this.ctx.globalAlpha;this.ctx._fillOpacity<1&&(d=this.ctx._fillOpacity),i&&((i=this.pdf.internal.newObject2()).push("<</Type /ExtGState"),i.push("/CA "+d),i.push("/ca "+d),i.push(">>"),l="GS_O_"+i.objId,this.pdf.internal.addGraphicsState(l,i.objId),this.pdf.internal.out("/"+l+" gs"));for(var c=this.path,h=0;h<c.length;h++){var u=c[h];switch(u.type){case"mt":r.push({start:u,deltas:[],abs:[]});break;case"lt":var p=[u.x-c[h-1].x,u.y-c[h-1].y];r[r.length-1].deltas.push(p),r[r.length-1].abs.push(u);break;case"bct":p=[u.x1-c[h-1].x,u.y1-c[h-1].y,u.x2-c[h-1].x,u.y2-c[h-1].y,u.x-c[h-1].x,u.y-c[h-1].y];r[r.length-1].deltas.push(p);break;case"qct":var f=c[h-1].x+2/3*(u.x1-c[h-1].x),g=c[h-1].y+2/3*(u.y1-c[h-1].y),m=u.x+2/3*(u.x1-u.x),w=u.y+2/3*(u.y1-u.y),x=u.x,v=u.y,p=[f-c[h-1].x,g-c[h-1].y,m-c[h-1].x,w-c[h-1].y,x-c[h-1].x,v-c[h-1].y];r[r.length-1].deltas.push(p);break;case"arc":0===r.length&&r.push({deltas:[],abs:[]}),r[r.length-1].arc=!0,r[r.length-1].abs.push(u);break;case"close":r.push({close:!0})}}for(var b,h=0;h<r.length;h++)if(h==r.length-1?(b="f","evenodd"===t&&(b+="*")):b=null,r[h].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(r[h].arc){r[h].start&&this.internal.move2(this,r[h].start.x,r[h].start.y);for(var y=r[h].abs,C=0;C<y.length;C++){var k,S,T=y[C];void 0!==T.startAngle?(k=360*T.startAngle/(2*Math.PI),S=360*T.endAngle/(2*Math.PI),I=T.x,M=T.y,0===C&&this.internal.move2(this,I,M),this.internal.arc2(this,I,M,T.radius,k,S,T.anticlockwise,null,e),C===y.length-1&&r[h].start&&(I=r[h].start.x,M=r[h].start.y,this.internal.line2(A,I,M))):this.internal.line2(A,T.x,T.y)}}else{var I=r[h].start.x,M=r[h].start.y;e?(this.pdf.lines(r[h].deltas,I,M,null,null),this.pdf.clip_fixed()):this.pdf.lines(r[h].deltas,I,M,null,b)}window.outIntercept=o}},pushMask:function(){var t,e;"function"==typeof this.pdf.internal.newObject2?(e=this.pdf.internal.newStreamObject(),(t=this.pdf.internal.newObject2()).push("<</Type /ExtGState"),t.push("/SMask <</S /Alpha /G "+e.objId+" 0 R>>"),t.push(">>"),e="MASK"+t.objId,this.pdf.internal.addGraphicsState(e,t.objId),e="/"+e+" gs",this.pdf.internal.out(e)):console.log("jsPDF v2 not enabled")},clip:function(){if(0<this.ctx._clip_path.length)for(var t=0;t<this.path.length;t++)this.ctx._clip_path.push(this.path[t]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(e){var i=this.pdf;return{getWidth:function(){var t=i.internal.getFontSize(),t=i.getStringUnitWidth(e)*t/i.internal.scaleFactor;return t*=1.3333},get width(){return this.getWidth(e)}}},_getBaseline:function(t){var e=parseInt(this.pdf.internal.getFontSize()),i=.25*e;switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e;case"hanging":return t+e-i;case"middle":return t+e/2-i;case"ideographic":return t;case"alphabetic":default:return t}}};var A=t.context2d;function e(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(t){this._isStrokeTransparent=t._isStrokeTransparent,this._strokeOpacity=t._strokeOpacity,this.strokeStyle=t.strokeStyle,this._isFillTransparent=t._isFillTransparent,this._fillOpacity=t._fillOpacity,this.fillStyle=t.fillStyle,this.font=t.font,this.lineWidth=t.lineWidth,this.lineJoin=t.lineJoin,this.lineCap=t.lineCap,this.textBaseline=t.textBaseline,this.textAlign=t.textAlign,this._fontSize=t._fontSize,this._transform=t._transform.slice(0),this.globalCompositeOperation=t.globalCompositeOperation,this.globalAlpha=t.globalAlpha,this._clip_path=t._clip_path.slice(0),this.ignoreClearRect=t.ignoreClearRect}}Object.defineProperty(A,"fillStyle",{set:function(t){this.setFillStyle(t)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(A,"strokeStyle",{set:function(t){this.setStrokeStyle(t)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(A,"lineWidth",{set:function(t){this.setLineWidth(t)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(A,"lineCap",{set:function(t){this.setLineCap(t)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(A,"lineJoin",{set:function(t){this.setLineJoin(t)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(A,"miterLimit",{set:function(t){this.ctx.miterLimit=t},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(A,"textBaseline",{set:function(t){this.setTextBaseline(t)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(A,"textAlign",{set:function(t){this.setTextAlign(t)},get:function(){return this.getTextAlign()}}),Object.defineProperty(A,"font",{set:function(t){this.setFont(t)},get:function(){return this.ctx.font}}),Object.defineProperty(A,"globalCompositeOperation",{set:function(t){this.ctx.globalCompositeOperation=t},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(A,"globalAlpha",{set:function(t){this.ctx.globalAlpha=t},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(A,"ignoreClearRect",{set:function(t){this.ctx.ignoreClearRect=t},get:function(){return this.ctx.ignoreClearRect}}),A.internal={},A.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,A.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,A.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,A.internal.arc=function(t,e,i,n,r,o,a,s){for(var l=this.pdf.internal.scaleFactor,d=this.pdf.internal.pageSize.height(),c=this.pdf.internal.f2,r=r*(Math.PI/180),o=o*(Math.PI/180),h=this.createArc(n,r,o,a),u=0;u<h.length;u++){var p=h[u];0===u?this.pdf.internal.out([c((p.x1+e)*l),c((d-(p.y1+i))*l),"m",c((p.x2+e)*l),c((d-(p.y2+i))*l),c((p.x3+e)*l),c((d-(p.y3+i))*l),c((p.x4+e)*l),c((d-(p.y4+i))*l),"c"].join(" ")):this.pdf.internal.out([c((p.x2+e)*l),c((d-(p.y2+i))*l),c((p.x3+e)*l),c((d-(p.y3+i))*l),c((p.x4+e)*l),c((d-(p.y4+i))*l),"c"].join(" ")),t._lastPoint={x:e,y:i}}null!==s&&this.pdf.internal.out(this.pdf.internal.getStyle(s))},A.internal.arc2=function(t,e,i,n,r,o,a,s,l){l?(this.arc(t,e,i,n,r,o,a,null),this.pdf.clip_fixed()):this.arc(t,e,i,n,r,o,a,s)},A.internal.move2=function(t,e,i){var n=this.pdf.internal.scaleFactor,r=this.pdf.internal.pageSize.height(),o=this.pdf.internal.f2;this.pdf.internal.out([o(e*n),o((r-i)*n),"m"].join(" ")),t._lastPoint={x:e,y:i}},A.internal.line2=function(t,e,i){var n=this.pdf.internal.scaleFactor,r=this.pdf.internal.pageSize.height(),o=this.pdf.internal.f2,i={x:e,y:i};this.pdf.internal.out([o(i.x*n),o((r-i.y)*n),"l"].join(" ")),t._lastPoint=i},A.internal.createArc=function(t,e,i,n){var r=2*Math.PI,o=Math.PI/2,a=e;for((a<r||r<a)&&(a%=r),a<0&&(a=r+a);i<e;)e-=r;var s=Math.abs(i-e);s<r&&n&&(s=r-s);for(var l=[],d=n?-1:1,c=a;1e-5<s;){var h=c+d*Math.min(s,o);l.push(this.createSmallArc(t,c,h)),s-=Math.abs(h-c),c=h}return l},A.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},A.internal.createSmallArc=function(t,e,i){var n=(i-e)/2,r=t*Math.cos(n),o=t*Math.sin(n),a=r,s=-o,l=a*a+s*s,d=l+a*r+s*o,d=4/3*(Math.sqrt(2*l*d)-d)/(a*o-s*r),o=a-d*s,r=s+d*a,s=o,d=-r,a=n+e,n=Math.cos(a),a=Math.sin(a);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:o*n-r*a,y2:o*a+r*n,x3:s*n-d*a,y3:s*a+d*n,x4:t*Math.cos(i),y4:t*Math.sin(i)}}}(jsPDF.API),function(t,e){"object"==typeof module?module.exports=e():"function"==typeof define?define(e):t.adler32cs=e()}(this,function(){function e(t,e){for(var i=65535&t,n=t>>>16,r=0,o=e.length;r<o;r++)n=(n+(i=(i+(255&e.charCodeAt(r)))%65521))%65521;return(n<<16|i)>>>0}function i(t,e){for(var i=65535&t,n=t>>>16,r=0,o=e.length;r<o;r++)n=(n+(i=(i+e[r])%65521))%65521;return(n<<16|i)>>>0}var t,n,r,o="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,a=null,s=function(){if(!o)return function(){return!1};try{var t=require("buffer");"function"==typeof t.Buffer&&(a=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==a&&t instanceof a}}(),l=null!==a?function(t){return new a(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},d={},c=d.Adler32=(((r=(n=function(t){if(!(this instanceof n))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=n).from=((t=function(t){if(!(this instanceof n))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=e(1,t.toString())}).prototype=r,t),n.fromUtf8=((t=function(t){if(!(this instanceof n))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");t=l(t.toString());this.checksum=e(1,t)}).prototype=r,t),o&&(n.fromBuffer=((t=function(t){if(!(this instanceof n))throw new TypeError("Constructor cannot called be as a function.");if(!s(t))throw new Error("First argument needs to be ArrayBuffer.");t=new Uint8Array(t);return this.checksum=i(1,t)}).prototype=r,t)),r.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=e(this.checksum,t)},r.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");t=l(t.toString());return this.checksum=e(this.checksum,t)},o&&(r.updateBuffer=function(t){if(!s(t))throw new Error("First argument needs to be ArrayBuffer.");t=new Uint8Array(t);return this.checksum=i(this.checksum,t)}),r.clone=function(){return new c(this.checksum)},n);return d.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return e(1,t.toString())},d.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");t=l(t.toString());return e(1,t)},o&&(d.fromBuffer=function(t){if(!s(t))throw new Error("First argument need to be ArrayBuffer.");t=new Uint8Array(t);return i(1,t)}),d});var Deflater=function(){var f=15,g=573,e=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function ct(){var p=this;function l(t,e,i){for(var n,r,o=[],a=0,s=1;s<=f;s++)o[s]=a=a+i[s-1]<<1;for(n=0;n<=e;n++)0!==(r=t[2*n+1])&&(t[2*n]=function(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}(o[r]++,r))}p.build_tree=function(t){var e,i,n,r=p.dyn_tree,o=p.stat_desc.static_tree,a=p.stat_desc.elems,s=-1;for(t.heap_len=0,t.heap_max=g,e=0;e<a;e++)0!==r[2*e]?(t.heap[++t.heap_len]=s=e,t.depth[e]=0):r[2*e+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=s<2?++s:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=o[2*n+1]);for(p.max_code=s,e=Math.floor(t.heap_len/2);1<=e;e--)t.pqdownheap(r,e);for(n=a;e=t.heap[1],t.heap[1]=t.heap[t.heap_len--],t.pqdownheap(r,1),i=t.heap[1],t.heap[--t.heap_max]=e,t.heap[--t.heap_max]=i,r[2*n]=r[2*e]+r[2*i],t.depth[n]=Math.max(t.depth[e],t.depth[i])+1,r[2*e+1]=r[2*i+1]=n,t.heap[1]=n++,t.pqdownheap(r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t){for(var e,i,n,r,o,a=p.dyn_tree,s=p.stat_desc.static_tree,l=p.stat_desc.extra_bits,d=p.stat_desc.extra_base,c=p.stat_desc.max_length,h=0,u=0;u<=f;u++)t.bl_count[u]=0;for(a[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<g;e++)c<(u=a[2*a[2*(i=t.heap[e])+1]+1]+1)&&(u=c,h++),a[2*i+1]=u,i>p.max_code||(t.bl_count[u]++,r=0,d<=i&&(r=l[i-d]),o=a[2*i],t.opt_len+=o*(u+r),s&&(t.static_len+=o*(s[2*i+1]+r)));if(0!==h){do{for(u=c-1;0===t.bl_count[u];)u--}while(t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[c]--,0<(h-=2));for(u=c;0!==u;u--)for(i=t.bl_count[u];0!==i;)(n=t.heap[--e])>p.max_code||(a[2*n+1]!=u&&(t.opt_len+=(u-a[2*n+1])*a[2*n],a[2*n+1]=u),i--)}}(t),l(r,p.max_code,t.bl_count)}}function ht(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r}ct._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],ct.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],ct.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],ct.d_code=function(t){return t<256?e[t]:e[256+(t>>>7)]},ct.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ct.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ct.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ct.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ht.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],ht.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],ht.static_l_desc=new ht(ht.static_ltree,ct.extra_lbits,257,286,f),ht.static_d_desc=new ht(ht.static_dtree,ct.extra_dbits,0,30,f),ht.static_bl_desc=new ht(null,ct.extra_blbits,0,19,7);function t(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}var ut=[new t(0,0,0,0,0),new t(4,4,8,4,1),new t(4,5,16,8,1),new t(4,6,32,32,1),new t(4,4,16,16,2),new t(8,16,32,32,2),new t(8,16,128,128,2),new t(8,32,128,256,2),new t(32,128,258,1024,2),new t(32,258,258,4096,2)],pt=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function ft(t,e,i,n){var r=t[2*e],t=t[2*i];return r<t||r==t&&n[e]<=n[i]}function i(){var s,l,d,c,u,h,p,f,r,g,m,w,x,a,v,b,y,C,k,S,T,I,M,A,F,E,P,D,O,_,N,L,R,B,j,H,z,o,q,n,G,U=this,W=new ct,V=new ct,J=new ct;function Y(){for(var t=0;t<286;t++)N[2*t]=0;for(t=0;t<30;t++)L[2*t]=0;for(t=0;t<19;t++)R[2*t]=0;N[512]=1,U.opt_len=U.static_len=0,H=o=0}function X(t,e){var i,n,r=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)n=o,o=t[2*(i+1)+1],++a<s&&n==o||(a<l?R[2*n]+=a:0!==n?(n!=r&&R[2*n]++,R[32]++):a<=10?R[34]++:R[36]++,r=n,l=(a=0)===o?(s=138,3):n==o?(s=6,3):(s=7,4))}function Q(t){U.pending_buf[U.pending++]=t}function $(t){Q(255&t),Q(t>>>8&255)}function K(t,e){var i=e;16-i<G?($(n|=(e=t)<<G&65535),n=e>>>16-G,G+=i-16):(n|=t<<G&65535,G+=i)}function Z(t,e){t*=2;K(65535&e[t],65535&e[1+t])}function tt(t,e){var i,n,r=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),i=0;i<=e;i++)if(n=o,o=t[2*(i+1)+1],!(++a<s&&n==o)){if(a<l)for(;Z(n,R),0!=--a;);else 0!==n?(n!=r&&(Z(n,R),a--),Z(16,R),K(a-3,2)):a<=10?(Z(17,R),K(a-3,3)):(Z(18,R),K(a-11,7));r=n,l=(a=0)===o?(s=138,3):n==o?(s=6,3):(s=7,4)}}function et(){16==G?($(n),G=n=0):8<=G&&(Q(255&n),n>>>=8,G-=8)}function it(t,e){var i,n;if(U.pending_buf[z+2*H]=t>>>8&255,U.pending_buf[z+2*H+1]=255&t,U.pending_buf[B+H]=255&e,H++,0===t?N[2*e]++:(o++,t--,N[2*(ct._length_code[e]+256+1)]++,L[2*ct.d_code(t)]++),0==(8191&H)&&2<P){for(i=8*H,t=T-y,n=0;n<30;n++)i+=L[2*n]*(5+ct.extra_dbits[n]);if(i>>>=3,o<Math.floor(H/2)&&i<Math.floor(t/2))return!0}return H==j-1}function nt(t,e){var i,n,r,o,a=0;if(0!==H)for(;i=U.pending_buf[z+2*a]<<8&65280|255&U.pending_buf[z+2*a+1],n=255&U.pending_buf[B+a],a++,0==i?Z(n,t):(Z((r=ct._length_code[n])+256+1,t),0!==(o=ct.extra_lbits[r])&&K(n-=ct.base_length[r],o),Z(r=ct.d_code(--i),e),0!==(o=ct.extra_dbits[r])&&K(i-=ct.base_dist[r],o)),a<H;);Z(256,t),q=t[513]}function rt(){8<G?$(n):0<G&&Q(255&n),G=n=0}function ot(t,e,i){K(0+(i?1:0),3),i=t,t=e,e=!0,rt(),q=8,e&&($(t),$(~t)),U.pending_buf.set(f.subarray(i,i+t),U.pending),U.pending+=t}function e(t,e,i){var n,r,o=0;0<P?(W.build_tree(U),V.build_tree(U),o=function(){var t;for(X(N,W.max_code),X(L,V.max_code),J.build_tree(U),t=18;3<=t&&0===R[2*ct.bl_order[t]+1];t--);return U.opt_len+=3*(t+1)+5+5+4,t}(),n=U.opt_len+3+7>>>3,(r=U.static_len+3+7>>>3)<=n&&(n=r)):n=r=e+5,e+4<=n&&-1!=t?ot(t,e,i):r==n?(K(2+(i?1:0),3),nt(ht.static_ltree,ht.static_dtree)):(K(4+(i?1:0),3),function(t,e,i){var n;for(K(t-257,5),K(e-1,5),K(i-4,4),n=0;n<i;n++)K(R[2*ct.bl_order[n]+1],3);tt(N,t-1),tt(L,e-1)}(W.max_code+1,V.max_code+1,o+1),nt(N,L)),Y(),i&&rt()}function at(t){e(0<=y?y:-1,T-y,t),y=T,s.flush_pending()}function st(){var t,e,i,n;do{if(0===(n=r-M-T)&&0===T&&0===M)n=u;else if(-1==n)n--;else if(u+u-262<=T){for(f.set(f.subarray(u,u+u),0),I-=u,T-=u,y-=u,t=x,i=t;e=65535&m[--i],m[i]=u<=e?e-u:0,0!=--t;);for(t=u,i=t;e=65535&g[--i],g[i]=u<=e?e-u:0,0!=--t;);n+=u}if(0===s.avail_in)return}while(t=s.read_buf(f,T+M,n),3<=(M+=t)&&(w=((w=255&f[T])<<b^255&f[T+1])&v),M<262&&0!==s.avail_in)}function lt(t){var e,i,n=F,r=T,o=A,a=u-262<T?T-(u-262):0,s=_,l=p,d=T+258,c=f[r+o-1],h=f[r+o];O<=A&&(n>>=2),M<s&&(s=M);do{if(f[(e=t)+o]==h&&f[e+o-1]==c&&f[e]==f[r]&&f[++e]==f[r+1]){for(r+=2,e++;f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&f[++r]==f[++e]&&r<d;);if(i=258-(d-r),r=d-258,o<i){if(I=t,s<=(o=i))break;c=f[r+o-1],h=f[r+o]}}}while((t=65535&g[t&l])>a&&0!=--n);return o<=M?o:M}function dt(t){return t.total_in=t.total_out=0,t.msg=null,U.pending=0,U.pending_out=0,l=113,c=0,W.dyn_tree=N,W.stat_desc=ht.static_l_desc,V.dyn_tree=L,V.stat_desc=ht.static_d_desc,J.dyn_tree=R,J.stat_desc=ht.static_bl_desc,G=n=0,q=8,Y(),function(){var t;for(r=2*u,t=m[x-1]=0;t<x-1;t++)m[t]=0;E=ut[P].max_lazy,O=ut[P].good_length,_=ut[P].nice_length,F=ut[P].max_chain,C=A=2,w=S=M=y=T=0}(),0}U.depth=[],U.bl_count=[],U.heap=[],N=[],L=[],R=[],U.pqdownheap=function(t,e){for(var i=U.heap,n=i[e],r=e<<1;r<=U.heap_len&&(r<U.heap_len&&ft(t,i[r+1],i[r],U.depth)&&r++,!ft(t,n,i[r],U.depth));)i[e]=i[r],e=r,r<<=1;i[e]=n},U.deflateInit=function(t,e,i,n,r,o){return n=n||8,r=r||8,o=o||0,t.msg=null,-1==e&&(e=6),r<1||9<r||8!=n||i<9||15<i||e<0||9<e||o<0||2<o?-2:(t.dstate=U,p=(u=1<<(h=i))-1,v=(x=1<<(a=r+7))-1,b=Math.floor((a+3-1)/3),f=new Uint8Array(2*u),g=[],m=[],j=1<<r+6,U.pending_buf=new Uint8Array(4*j),d=4*j,z=Math.floor(j/2),B=3*j,P=e,D=o,dt(t))},U.deflateEnd=function(){return 42!=l&&113!=l&&666!=l?-2:(U.pending_buf=null,f=g=m=null,U.dstate=null,113==l?-3:0)},U.deflateParams=function(t,e,i){var n=0;return(e=-1==e?6:e)<0||9<e||i<0||2<i?-2:(ut[P].func!=ut[e].func&&0!==t.total_in&&(n=t.deflate(1)),P!=e&&(E=ut[P=e].max_lazy,O=ut[P].good_length,_=ut[P].nice_length,F=ut[P].max_chain),D=i,n)},U.deflateSetDictionary=function(t,e,i){var n,r=i,o=0;if(!e||42!=l)return-2;if(r<3)return 0;for(u-262<r&&(o=i-(r=u-262)),f.set(e.subarray(o,o+r),0),y=T=r,w=((w=255&f[0])<<b^255&f[1])&v,n=0;n<=r-3;n++)w=(w<<b^255&f[n+2])&v,g[n&p]=m[w],m[w]=n;return 0},U.deflate=function(t,e){var i,n,r,o,a;if(4<e||e<0)return-2;if(!t.next_out||!t.next_in&&0!==t.avail_in||666==l&&4!=e)return t.msg=pt[4],-2;if(0===t.avail_out)return t.msg=pt[7],-5;if(s=t,r=c,c=e,42==l&&(a=8+(h-8<<4)<<8,a|=(n=3<(n=(P-1&255)>>1)?3:n)<<6,0!==T&&(a|=32),l=113,Q((a=a+=31-a%31)>>8&255),Q(255&a)),0!==U.pending){if(s.flush_pending(),0===s.avail_out)return c=-1,0}else if(0===s.avail_in&&e<=r&&4!=e)return s.msg=pt[7],-5;if(666==l&&0!==s.avail_in)return t.msg=pt[7],-5;if(0!==s.avail_in||0!==M||0!=e&&666!=l){switch(o=-1,ut[P].func){case 0:o=function(t){var e,i=65535;for(d-5<i&&(i=d-5);;){if(M<=1){if(st(),0===M&&0==t)return 0;if(0===M)break}if(T+=M,M=0,e=y+i,(0===T||e<=T)&&(M=T-e,T=e,at(!1),0===s.avail_out))return 0;if(u-262<=T-y&&(at(!1),0===s.avail_out))return 0}return at(4==t),0===s.avail_out?4==t?2:0:4==t?3:1}(e);break;case 1:o=function(t){for(var e,i=0;;){if(M<262){if(st(),M<262&&0==t)return 0;if(0===M)break}if(3<=M&&(w=(w<<b^255&f[T+2])&v,i=65535&m[w],g[T&p]=m[w],m[w]=T),3<=(C=0!==i&&(T-i&65535)<=u-262&&2!=D?lt(i):C))if(e=it(T-I,C-3),M-=C,C<=E&&3<=M){for(C--;w=(w<<b^255&f[++T+2])&v,i=65535&m[w],g[T&p]=m[w],m[w]=T,0!=--C;);T++}else T+=C,C=0,w=((w=255&f[T])<<b^255&f[T+1])&v;else e=it(0,255&f[T]),M--,T++;if(e&&(at(!1),0===s.avail_out))return 0}return at(4==t),0===s.avail_out?4==t?2:0:4==t?3:1}(e);break;case 2:o=function(t){for(var e,i,n=0;;){if(M<262){if(st(),M<262&&0==t)return 0;if(0===M)break}if(3<=M&&(w=(w<<b^255&f[T+2])&v,n=65535&m[w],g[T&p]=m[w],m[w]=T),A=C,k=I,C=2,0!==n&&A<E&&(T-n&65535)<=u-262&&(C=2!=D?lt(n):C)<=5&&(1==D||3==C&&4096<T-I)&&(C=2),3<=A&&C<=A){for(i=T+M-3,e=it(T-1-k,A-3),M-=A-1,A-=2;++T<=i&&(w=(w<<b^255&f[T+2])&v,n=65535&m[w],g[T&p]=m[w],m[w]=T),0!=--A;);if(S=0,C=2,T++,e&&(at(!1),0===s.avail_out))return 0}else if(0!==S){if((e=it(0,255&f[T-1]))&&at(!1),T++,M--,0===s.avail_out)return 0}else S=1,T++,M--}return 0!==S&&(e=it(0,255&f[T-1]),S=0),at(4==t),0===s.avail_out?4==t?2:0:4==t?3:1}(e)}if(2!=o&&3!=o||(l=666),0==o||2==o)return 0===s.avail_out&&(c=-1),0;if(1==o){if(1==e)K(2,3),Z(256,ht.static_ltree),et(),1+q+10-G<9&&(K(2,3),Z(256,ht.static_ltree),et()),q=7;else if(ot(0,0,!1),3==e)for(i=0;i<x;i++)m[i]=0;if(s.flush_pending(),0===s.avail_out)return c=-1,0}}return 4!=e?0:1}}function n(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}return n.prototype={deflateInit:function(t,e){return this.dstate=new i,e=e||f,this.dstate.deflateInit(this,t,e)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,i){var n=this.avail_in;return 0===(n=i<n?i:n)?0:(this.avail_in-=n,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+n),e),this.next_in_index+=n,this.total_in+=n,n)},flush_pending:function(){var t=this,e=t.dstate.pending;0!==(e=e>t.avail_out?t.avail_out:e)&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var s=new n,l=new Uint8Array(512);void 0===t&&(t=-1),s.deflateInit(t),s.next_out=l,this.append=function(t,e){var i,n=[],r=0,o=0,a=0;if(t.length){s.next_in_index=0,s.next_in=t,s.avail_in=t.length;do{if(s.next_out_index=0,s.avail_out=512,0!=s.deflate(0))throw"deflating: "+s.msg}while(s.next_out_index&&(512==s.next_out_index?n.push(new Uint8Array(l)):n.push(new Uint8Array(l.subarray(0,s.next_out_index)))),a+=s.next_out_index,e&&0<s.next_in_index&&s.next_in_index!=r&&(e(s.next_in_index),r=s.next_in_index),0<s.avail_in||0===s.avail_out);return i=new Uint8Array(a),n.forEach(function(t){i.set(t,o),o+=t.length}),i}},this.flush=function(){var t,e,i=[],n=0,r=0;do{if(s.next_out_index=0,s.avail_out=512,1!=(t=s.deflate(4))&&0!=t)throw"deflating: "+s.msg}while(0<512-s.avail_out&&i.push(new Uint8Array(l.subarray(0,s.next_out_index))),r+=s.next_out_index,0<s.avail_in||0===s.avail_out);return s.deflateEnd(),e=new Uint8Array(r),i.forEach(function(t){e.set(t,n),n+=t.length}),e}}}();function X2JS(c){"use strict";function t(t){t=String(t);return t=1===t.length?"0"+t:t}void 0===(c=c||{}).escapeMode&&(c.escapeMode=!0),c.attributePrefix=c.attributePrefix||"_",c.arrayAccessForm=c.arrayAccessForm||"none",c.emptyNodeForm=c.emptyNodeForm||"text",void 0===c.enableToStringFunc&&(c.enableToStringFunc=!0),c.arrayAccessFormPaths=c.arrayAccessFormPaths||[],void 0===c.skipEmptyTextNodesForObj&&(c.skipEmptyTextNodesForObj=!0),void 0===c.stripWhitespaces&&(c.stripWhitespaces=!0),c.datetimeAccessFormPaths=c.datetimeAccessFormPaths||[],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});var h={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function u(t){var e=t.localName;return e=null==(e=null==e?t.baseName:e)||""==e?t.nodeName:e}function l(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):t}function p(t,e,i){if("property"===c.arrayAccessForm&&(t[e]instanceof Array?t[e+"_asArray"]=t[e]:t[e+"_asArray"]=[t[e]]),!(t[e]instanceof Array)&&0<c.arrayAccessFormPaths.length){for(var n=0;n<c.arrayAccessFormPaths.length;n++){var r=c.arrayAccessFormPaths[n];if("string"==typeof r){if(r==i)break}else if(r instanceof RegExp){if(r.test(i))break}else if("function"==typeof r&&r(t,e,i))break}n!=c.arrayAccessFormPaths.length&&(t[e]=[t[e]])}}function f(t){var e=t.split(/[-T:+Z]/g),i=new Date(e[0],e[1]-1,e[2]),n=e[5].split(".");return i.setHours(e[3],e[4],n[0]),1<n.length&&i.setMilliseconds(n[1]),e[6]&&e[7]?(e=60*e[6]+Number(e[7]),e=0+("-"==(/\d\d-\d\d:\d\d$/.test(t)?"-":"+")?-1*e:e),i.setMinutes(i.getMinutes()-e-i.getTimezoneOffset())):-1!==t.indexOf("Z",t.length-1)&&(i=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))),i}function g(t,e){if(t.nodeType==h.DOCUMENT_NODE){for(var i=new Object,n=t.childNodes,r=0;r<n.length;r++)(o=n.item(r)).nodeType==h.ELEMENT_NODE&&(i[a=u(o)]=g(o,a));return i}if(t.nodeType==h.ELEMENT_NODE){(i=new Object).__cnt=0;for(n=t.childNodes,r=0;r<n.length;r++){var o,a=u(o=n.item(r));o.nodeType!=h.COMMENT_NODE&&(i.__cnt++,null==i[a]?(i[a]=g(o,e+"."+a),p(i,a,e+"."+a)):(null!=i[a]&&(i[a]instanceof Array||(i[a]=[i[a]],p(i,a,e+"."+a))),i[a][i[a].length]=g(o,e+"."+a)))}for(var s=0;s<t.attributes.length;s++){var l=t.attributes.item(s);i.__cnt++,i[c.attributePrefix+l.name]=l.value}var d=t.prefix;return null!=d&&""!=d&&(i.__cnt++,i.__prefix=d),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),c.escapeMode&&(i.__text=i.__text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")),c.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==c.arrayAccessForm&&delete i["#text_asArray"],i.__text=function(t,e,i){if(0<c.datetimeAccessFormPaths.length){for(var n=i.split(".#")[0],r=0;r<c.datetimeAccessFormPaths.length;r++){var o=c.datetimeAccessFormPaths[r];if("string"==typeof o){if(o==n)break}else if(o instanceof RegExp){if(o.test(n))break}else if("function"==typeof o&&o(obj,e,n))break}return r!=c.datetimeAccessFormPaths.length?f(t):t}return t}(i.__text,a,e+"."+a)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==c.arrayAccessForm&&delete i["#cdata-section_asArray"]),1==i.__cnt&&null!=i.__text?i=i.__text:0==i.__cnt&&"text"==c.emptyNodeForm?i="":1<i.__cnt&&null!=i.__text&&c.skipEmptyTextNodesForObj&&(c.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text,delete i.__cnt,!c.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(t.nodeType==h.TEXT_NODE||t.nodeType==h.CDATA_SECTION_NODE)return t.nodeValue}function o(t,e,i,n){var r="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+e;if(null!=i)for(var o=0;o<i.length;o++){var a=i[o],s=t[a];c.escapeMode&&(s=l(s)),r+=" "+a.substr(c.attributePrefix.length)+"='"+s+"'"}return r+=n?"/>":">"}function a(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function s(t,e){return"property"==c.arrayAccessForm&&(i=e.toString(),n="_asArray",-1!==i.indexOf(n,i.length-n.length))||0==e.toString().indexOf(c.attributePrefix)||0==e.toString().indexOf("__")||t[e]instanceof Function;var i,n}function d(t){var e=0;if(t instanceof Object)for(var i in t)s(t,i)||e++;return e}function m(t){var e=[];if(t instanceof Object)for(var i in t)-1==i.toString().indexOf("__")&&0==i.toString().indexOf(c.attributePrefix)&&e.push(i);return e}function w(t){var e,i,n="";return t instanceof Object?n+=(i="",null!=(e=t).__cdata&&(i+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(c.escapeMode?i+=l(e.__text):i+=e.__text),i):null!=t&&(c.escapeMode?n+=l(t):n+=t),n}function x(t){var e,i,n="";if(0<d(t))for(var r in t)s(t,r)||(i=m(e=t[r]),null==e||null==e?n+=o(e,r,i,!0):e instanceof Object?e instanceof Array?n+=function(t,e,i){var n="";if(0==t.length)n+=o(t,e,i,!0);else for(var r=0;r<t.length;r++)n+=o(t[r],e,m(t[r]),!1),n+=x(t[r]),n+=a(t[r],e);return n}(e,r,i):e instanceof Date?(n+=o(e,r,i,!1),n+=e.toISOString(),n+=a(e,r)):0<d(e)||null!=e.__text||null!=e.__cdata?(n+=o(e,r,i,!1),n+=x(e),n+=a(e,r)):n+=o(e,r,i,!0):(n+=o(e,r,i,!1),n+=w(e),n+=a(e,r)));return n+=w(t)}this.parseXmlString=function(t){var e,i=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;if(window.DOMParser){var n=new window.DOMParser,r=null;if(!i)try{r=n.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(t){r=null}try{e=n.parseFromString(t,"text/xml"),null!=r&&0<e.getElementsByTagNameNS(r,"parsererror").length&&(e=null)}catch(t){e=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t);return e},this.asArray=function(t){return t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?f(t):t},this.xml2json=function(t){return g(t)},this.xml_str2json=function(t){t=this.parseXmlString(t);return null!=t?this.xml2json(t):null},this.json2xml_str=x,this.json2xml=function(t){t=this.json2xml_str(t);return this.parseXmlString(t)},this.getVersion=function(){return"1.1.5"}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;var r,o,e=0|e,a=Math.max(0<=e?e:n-Math.abs(e),0);for(;a<n;){if((r=i[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=e[r];if(t.call(n,o,r,e))return o;r++}}}),m2soft.ns("m2soft.crownix.KoreanAutomata.Word"),m2soft.crownix.KoreanAutomata.Word=function(){function t(t){var e;this.Status=Object.freeze({Init:0,Medial:1,CombineMedial:2,Final:3,CombineFinal:4,Complete:5}),this.initial=new m2soft.crownix.KoreanAutomata.InitialConsonant,this.medial=new m2soft.crownix.KoreanAutomata.Medial,this.finalConsonant=new m2soft.crownix.KoreanAutomata.FinalConsonant,this.nonKoreanChar=null,this.status=this.Status.Init,t&&(this.isKorean(t)?(e=t.charCodeAt(0)-44032,this.initial.addChar(parseInt(e/588)),e%=588,this.medial.addChar(parseInt(e/28)),e%=28,this.finalConsonant.addChar(parseInt(e))):this.isKoreanSound(t)?this.initial.contains(t)?this.initial.value=t:this.medial.contains(t)?this.medial.value=t:this.finalConsonant.value=t:(this.status=this.Status.Complete,this.nonKoreanChar=t))}return t.prototype.addChar=function(t){if(this.status===this.Status.Complete)return!1;if(!this.isKoreanSound(t))return this.status=this.Status.Complete,this.nonKoreanChar=t,!0;if(this.status===this.Status.Init&&(this.initial.addChar(t)||this.status++),this.status===this.Status.Medial&&!this.medial.addChar(t))return!!this.finalConsonant.contains(this.initial.value+t)&&(this.finalConsonant.value=this.initial.value,this.initial.value=null,this.finalConsonant.combineChar(t),this.status=this.Status.Complete,!0);if(this.status===this.Status.CombineMedial&&!this.medial.combineChar(t)){if(null==this.initial.value)return this.status=this.Status.Complete,!1;this.status++}return this.status!==this.Status.Final||this.finalConsonant.addChar(t)?this.status===this.Status.CombineFinal?!!this.finalConsonant.combineChar(t)||(this.status++,!1):(this.status++,!0):(this.status=this.Status.Complete,!1)},t.prototype.toString=function(){if(this.nonKoreanChar)return this.nonKoreanChar;if(this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty())return"";if(!this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty())return this.initial.value;if(this.initial.isEmpty()&&!this.medial.isEmpty()&&this.finalConsonant.isEmpty())return this.medial.value;if(this.initial.isEmpty()&&this.medial.isEmpty()&&!this.finalConsonant.isEmpty())return this.finalConsonant.value;var t=this.initial.getValueIndex()*this.medial.getCount()*this.finalConsonant.getCount()+this.medial.getValueIndex()*this.finalConsonant.getCount()+this.finalConsonant.getValueIndex()+44032;return String.fromCharCode(t)},t.prototype.toSoundString=function(){return null!=this.nonKoreanChar?this.nonKoreanChar:this.initial.toString()+this.medial.toString()+this.finalConsonant.toString()},t.prototype.hasInitial=function(){return null!=this.initial.value},t.prototype.hasMedial=function(){return null!=this.medial.value},t.prototype.hasFinal=function(){return 0!==this.finalConsonant.getValueIndex()},t.prototype.popFinal=function(){return this.finalConsonant.pop()},t.prototype.toComplete=function(){this.status=this.Status.Complete},t.prototype.isComplete=function(){return this.status===this.Status.Complete},t.prototype.getStatus=function(){return this.status},t.prototype.isKoreanSound=function(t){return 12593<=t.charCodeAt()&&t.charCodeAt()<=12702},t.prototype.isKorean=function(t){return 44032<=t.charCodeAt()&&t.charCodeAt()<=55199},t.prototype.isMedial=function(t){return this.medial.contains(t)},t.prototype.remove=function(){this.finalConsonant.isEmpty()?this.medial.isEmpty()?this.initial.isEmpty()||this.initial.remove():this.medial.remove():this.finalConsonant.remove()},t.prototype.isEmpty=function(){return this.initial.isEmpty()&&this.medial.isEmpty()&&this.finalConsonant.isEmpty()},t}(),m2soft.ns("m2soft.crownix.KoreanAutomata"),m2soft.crownix.KoreanAutomata=function(){function t(t){this.words=[],t&&(this.words=this.getWordsFromString(t))}var r=m2soft.crownix.KoreanAutomata.Word;return t.prototype.add=function(t){if(1<t.length)for(var e=0;e<t.length;e++)this.addChar(this.words,t.charAt(e));else this.addChar(this.words,t)},t.prototype.remove=function(){this.words[this.words.length-1].isComplete()||this.words[this.words.length-1].remove(),(this.words[this.words.length-1].isComplete()||this.words[this.words.length-1].isEmpty())&&("\n"===this.words[this.words.length-1].toString()&&this.words.splice(this.words.length-1,1),this.words.splice(this.words.length-1,1)),0===this.words.length&&this.words.push(new r)},t.prototype.addNonKorean=function(t,e){t[t.length-1].getStatus()===(new r).Status.Init?(t[t.length-1].addChar(e),t.push(new r)):(t[t.length-1].toComplete(),t.push(new r),t[t.length-1].addChar(e))},t.prototype.addKorean=function(t,e){!t[t.length-1].hasInitial()&&t[t.length-1].isMedial(e)&&1<t.length&&t[t.length-2].hasFinal()?(t[t.length-1].addChar(t[t.length-2].popFinal()),t[t.length-1].addChar(e)):t[t.length-1].addChar(e)||(t[t.length-1].toComplete(),t.push(new r),this.addKorean(t,e))},t.prototype.addChar=function(t,e){(new r).isKoreanSound(e)?this.addKorean(t,e):this.addNonKorean(t,e)},t.prototype.getWordsFromString=function(t){var e=[],i=(t=this.disassemble(t)).split("");e.push(new r);for(var n=0;n<i.length;n++)this.addChar(e,i[n]);return e},t.prototype.assemble=function(t){var e,i="",n=this.getWordsFromString(t);for(e in n)i+=n[e].toString();return i},t.prototype.disassemble=function(t){for(var e="",i=0;i<t.length;i++)e+=new r(t[i]).toSoundString();return e},t.prototype.toString=function(){var t,e="";for(t in this.words)e+=this.words[t].toString();return e},t}(),m2soft.ns("m2soft.crownix.KoreanAutomata.Sound"),m2soft.crownix.KoreanAutomata.Sound=function(){function t(){this.SOUNDS=[],this.COMBINATIONS={},this.value=null}return t.prototype.contains=function(t){return t.length<=1?this.SOUNDS.includes(t):void 0!==this.COMBINATIONS[t]},t.prototype.addChar=function(t){return isNaN(t)?!!this.contains(t)&&(this.value=t,!0):0<=t&&t<this.SOUNDS.length&&(this.value=this.SOUNDS[t],!0)},t.prototype.getValueIndex=function(){return this.SOUNDS.indexOf(this.value)},t.prototype.getCount=function(){return this.SOUNDS.length},t.prototype.isEmpty=function(){return null==this.value},t.prototype.combineChar=function(t){if(null==this.value)return!1;t=this.value+t;return!!this.COMBINATIONS[t]&&(this.value=this.COMBINATIONS[t],!0)},t.prototype.toString=function(){if(0!==Object.keys(this.COMBINATIONS).length){var e=this,t=Object.keys(this.COMBINATIONS).find(function(t){if(e.COMBINATIONS[t]===e.value)return t});if(t)return t}return null==this.value?"":this.value},t.prototype.remove=function(){if(0!==Object.keys(this.COMBINATIONS).length){var e=this,t=Object.keys(this.COMBINATIONS).find(function(t){if(e.COMBINATIONS[t]===e.value)return t});if(t)return void(this.value=t.charAt(0))}this.value=null},t}(),m2soft.ns("m2soft.crownix.KoreanAutomata.Medial"),m2soft.crownix.KoreanAutomata.Medial=function(){function t(){this.SOUNDS=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],this.COMBINATIONS={"ㅗㅏ":"ㅘ","ㅗㅐ":"ㅙ","ㅗㅣ":"ㅚ","ㅜㅓ":"ㅝ","ㅜㅔ":"ㅞ","ㅜㅣ":"ㅟ","ㅡㅣ":"ㅢ"}}return t.prototype=new m2soft.crownix.KoreanAutomata.Sound,t}(),m2soft.ns("m2soft.crownix.KoreanAutomata.FinalConsonant"),m2soft.crownix.KoreanAutomata.FinalConsonant=function(){function t(){this.SOUNDS=[null,"ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],this.COMBINATIONS={"ㄱㅅ":"ㄳ","ㄴㅈ":"ㄵ","ㄴㅎ":"ㄶ","ㄹㄱ":"ㄺ","ㄹㅁ":"ㄻ","ㄹㅂ":"ㄼ","ㄹㅅ":"ㄽ","ㄹㅎ":"ㅀ","ㅂㅅ":"ㅄ"}}return(t.prototype=new m2soft.crownix.KoreanAutomata.Sound).pop=function(){var t=null,e=this,i=Object.keys(this.COMBINATIONS).some(function(t){if(e.COMBINATIONS[t]===e.value)return t});return i?(this.value=i.charAt(0),t=i.charAt(1)):(t=this.value,this.value=null),t},t}(),m2soft.ns("m2soft.crownix.KoreanAutomata.InitialConsonant"),m2soft.crownix.KoreanAutomata.InitialConsonant=function(){function t(){this.SOUNDS=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]}return t.prototype=new m2soft.crownix.KoreanAutomata.Sound,t}(),function(a){var s=["setTimeout","setInterval","XMLHttpRequest","navigator","location","clearTimeout","clearInterval","applicationCache","importScripts","Worker","console","btoa","atob","unescape","encodeURIComponent","crypto","Uint8Array"];a.FakeWorker=function(t){var e=this,i=!1,n={};this.addEventListener=function(t,e){n[t]||(n[t]=[]),n[t].push(e)},this.addEventListener("message",function(t){void 0!==e.onmessage&&e.onmessage(t)});var r=new function(){var i={};this.addEventListener=function(t,e){i[t]||(i[t]=[]),i[t].push(e)},this.addEventListener("message",function(t){void 0!==e.onmessage&&e.onmessage(t)}),this.postMessage=function(t){o(n,"message",t)},this.__processPostMessage=function(t){o(i,"message",t)},this.close=function(){}};function o(t,e,i){var n={data:i};if(t[e])for(var r=0;r<t[e].length;r++)t[e][r](n)}this.postMessage=function(t){var e;e=function(){r.__processPostMessage(t)},function t(){i?e():setTimeout(t,50)}()},this.terminate=function(){},function(t){var e={},i={};for(p in s)i[s[p]]=!0;for(p in a)i[p]||(e[p]="[[ Can't use window context in web worker! ]]");for(p in this)e[p]=this[p];e.self=this,e.doEvents=function(t){setTimeout(function(){t&&t()},0)},new Function("with(this) { (function(){"+t+"})(); }").call(e)}.call(r,t),i=!0}}(window);var JSEncryptExports={};!function(t){function w(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function x(){return new w(null)}H="Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function(t,e,i,n,r,o){for(var a=32767&e,s=e>>15;0<=--o;){var l=32767&this[t],d=this[t++]>>15,c=s*l+d*a;r=((l=a*l+((32767&c)<<15)+i[n]+(1073741823&r))>>>30)+(c>>>15)+s*d+(r>>>30),i[n++]=1073741823&l}return r},30):"Netscape"!=navigator.appName?(w.prototype.am=function(t,e,i,n,r,o){for(;0<=--o;){var a=e*this[t++]+i[n]+r;r=Math.floor(a/67108864),i[n++]=67108863&a}return r},26):(w.prototype.am=function(t,e,i,n,r,o){for(var a=16383&e,s=e>>14;0<=--o;){var l=16383&this[t],d=this[t++]>>14,c=s*l+d*a;r=((l=a*l+((16383&c)<<14)+i[n]+r)>>28)+(c>>14)+s*d,i[n++]=268435455&l}return r},28),w.prototype.DB=H,w.prototype.DM=(1<<H)-1,w.prototype.DV=1<<H,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-H,w.prototype.F2=2*H-52;for(var e="0123456789abcdefghijklmnopqrstuvwxyz",i=new Array,n="0".charCodeAt(0),r=0;r<=9;++r)i[n++]=r;for(n="a".charCodeAt(0),r=10;r<36;++r)i[n++]=r;for(n="A".charCodeAt(0),r=10;r<36;++r)i[n++]=r;function l(t){return e.charAt(t)}function d(t,e){e=i[t.charCodeAt(e)];return null==e?-1:e}function m(t){var e=x();return e.fromInt(t),e}function b(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function y(t){this.m=t}function C(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function o(t,e){return t&e}function s(t,e){return t|e}function a(t,e){return t^e}function c(t,e){return t&~e}function h(){}function u(t){return t}function k(t){this.r2=x(),this.q3=x(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}y.prototype.convert=function(t){return t.s<0||0<=t.compareTo(this.m)?t.mod(this.m):t},y.prototype.revert=function(t){return t},y.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},y.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},y.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},C.prototype.convert=function(t){var e=x();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&0<e.compareTo(w.ZERO)&&this.m.subTo(e,e),e},C.prototype.revert=function(t){var e=x();return t.copyTo(e),this.reduce(e),e},C.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],n=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},C.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},C.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},w.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},w.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+DV:this.t=0},w.prototype.fromString=function(t,e){var i;if(16==e)i=4;else if(8==e)i=3;else if(256==e)i=8;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return void this.fromRadix(t,e);i=2}this.t=0,this.s=0;for(var n=t.length,r=!1,o=0;0<=--n;){var a=8==i?255&t[n]:d(t,n);a<0?"-"==t.charAt(n)&&(r=!0):(r=!1,0==o?this[this.t++]=a:o+i>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=i)>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,0<o&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},w.prototype.dlShiftTo=function(t,e){for(var i=this.t-1;0<=i;--i)e[i+t]=this[i];for(i=t-1;0<=i;--i)e[i]=0;e.t=this.t+t,e.s=this.s},w.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s},w.prototype.lShiftTo=function(t,e){for(var i=t%this.DB,n=this.DB-i,r=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<i&this.DM,s=this.t-1;0<=s;--s)e[s+o+1]=this[s]>>n|a,a=(this[s]&r)<<i;for(s=o-1;0<=s;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},w.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var n=t%this.DB,r=this.DB-n,o=(1<<n)-1;e[0]=this[i]>>n;for(var a=i+1;a<this.t;++a)e[a-i-1]|=(this[a]&o)<<r,e[a-i]=this[a]>>n;0<n&&(e[this.t-i-1]|=(this.s&o)<<r),e.t=this.t-i,e.clamp()}},w.prototype.subTo=function(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);i<r;)n+=this[i]-t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n-=t[i],e[i++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[i++]=this.DV+n:0<n&&(e[i++]=n),e.t=i,e.clamp()},w.prototype.multiplyTo=function(t,e){var i=this.abs(),n=t.abs(),r=i.t;for(e.t=r+n.t;0<=--r;)e[r]=0;for(r=0;r<n.t;++r)e[r+i.t]=i.am(0,n[r],e,r,0,i.t);e.s=0,e.clamp(),this.s!=t.s&&w.ZERO.subTo(e,e)},w.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;0<=--i;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()},w.prototype.divRemTo=function(t,e,i){var n=t.abs();if(!(n.t<=0)){var r=this.abs();if(r.t<n.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=x());var o=x(),a=this.s,s=t.s,t=this.DB-b(n[n.t-1]);0<t?(n.lShiftTo(t,o),r.lShiftTo(t,i)):(n.copyTo(o),r.copyTo(i));var l=o.t,d=o[l-1];if(0!=d){var r=d*(1<<this.F1)+(1<l?o[l-2]>>this.F2:0),c=this.FV/r,h=(1<<this.F1)/r,u=1<<this.F2,p=i.t,f=p-l,g=null==e?x():e;for(o.dlShiftTo(f,g),0<=i.compareTo(g)&&(i[i.t++]=1,i.subTo(g,i)),w.ONE.dlShiftTo(l,g),g.subTo(o,o);o.t<l;)o[o.t++]=0;for(;0<=--f;){var m=i[--p]==d?this.DM:Math.floor(i[p]*c+(i[p-1]+u)*h);if((i[p]+=o.am(0,m,i,f,0,l))<m)for(o.dlShiftTo(f,g),i.subTo(g,i);i[p]<--m;)i.subTo(g,i)}null!=e&&(i.drShiftTo(l,e),a!=s&&w.ZERO.subTo(e,e)),i.t=l,i.clamp(),0<t&&i.rShiftTo(t,i),a<0&&w.ZERO.subTo(i,i)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},w.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},w.prototype.exp=function(t,e){if(4294967295<t||t<1)return w.ONE;var i,n=x(),r=x(),o=e.convert(this),a=b(t)-1;for(o.copyTo(n);0<=--a;)e.sqrTo(n,r),0<(t&1<<a)?e.mulTo(r,o,n):(i=n,n=r,r=i);return e.revert(n)},w.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,n=(1<<e)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(0<a--)for(s<this.DB&&0<(i=this[a]>>s)&&(r=!0,o=l(i));0<=a;)s<e?(i=(this[a]&(1<<s)-1)<<e-s,i|=this[--a]>>(s+=this.DB-e)):(i=this[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),(r=0<i?!0:r)&&(o+=l(i));return r?o:"0"},w.prototype.negate=function(){var t=x();return w.ZERO.subTo(this,t),t},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;0<=--i;)if(0!=(e=this[i]-t[i]))return e;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(t){var e=x();return this.abs().divRemTo(t,null,e),this.s<0&&0<e.compareTo(w.ZERO)&&t.subTo(e,e),e},w.prototype.modPowInt=function(t,e){return e=new(t<256||e.isEven()?y:C)(e),this.exp(t,e)},w.ZERO=m(0),w.ONE=m(1),h.prototype.convert=u,h.prototype.revert=u,h.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i)},h.prototype.sqrTo=function(t,e){t.squareTo(e)},k.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=x();return t.copyTo(e),this.reduce(e),e},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)},k.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var p=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],f=(1<<26)/p[p.length-1];function g(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},w.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||36<t)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),n=m(i),r=x(),o=x(),a="";for(this.divRemTo(n,r,o);0<r.signum();)a=(i+o.intValue()).toString(t).substr(1)+a,r.divRemTo(n,r,o);return o.intValue().toString(t)+a},w.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var i=this.chunkSize(e),n=Math.pow(e,i),r=!1,o=0,a=0,s=0;s<t.length;++s){var l=d(t,s);l<0?"-"==t.charAt(s)&&0==this.signum()&&(r=!0):(a=e*a+l,++o>=i&&(this.dMultiply(n),this.dAddOffset(a,0),a=o=0))}0<o&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),r&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(t,e,i){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),s,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(w.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),0<i?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},w.prototype.bitwiseTo=function(t,e,i){for(var n,r=Math.min(t.t,this.t),o=0;o<r;++o)i[o]=e(this[o],t[o]);if(t.t<this.t){for(n=t.s&this.DM,o=r;o<this.t;++o)i[o]=e(this[o],n);i.t=this.t}else{for(n=this.s&this.DM,o=r;o<t.t;++o)i[o]=e(n,t[o]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()},w.prototype.changeBit=function(t,e){return t=w.ONE.shiftLeft(t),this.bitwiseTo(t,e,t),t},w.prototype.addTo=function(t,e){for(var i=0,n=0,r=Math.min(t.t,this.t);i<r;)n+=this[i]+t[i],e[i++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;i<this.t;)n+=this[i],e[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<t.t;)n+=t[i],e[i++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,0<n?e[i++]=n:n<-1&&(e[i++]=this.DV+n),e.t=i,e.clamp()},w.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},w.prototype.multiplyLowerTo=function(t,e,i){var n,r=Math.min(this.t+t.t,e);for(i.s=0,i.t=r;0<r;)i[--r]=0;for(n=i.t-this.t;r<n;++r)i[r+this.t]=this.am(0,t[r],i,r,0,this.t);for(n=Math.min(t.t,e);r<n;++r)this.am(0,t[r],i,r,0,e-r);i.clamp()},w.prototype.multiplyUpperTo=function(t,e,i){--e;var n=i.t=this.t+t.t-e;for(i.s=0;0<=--n;)i[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)i[this.t+n-e]=this.am(e-n,t[n],i,0,0,this.t+n-e);i.clamp(),i.drShiftTo(1,i)},w.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(0<this.t)if(0==e)i=this[0]%t;else for(var n=this.t-1;0<=n;--n)i=(e*i+this[n])%t;return i},w.prototype.millerRabin=function(t){var e=this.subtract(w.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var n=e.shiftRight(i);p.length<(t=t+1>>1)&&(t=p.length);for(var r=x(),o=0;o<t;++o){r.fromInt(p[Math.floor(Math.random()*p.length)]);var a=r.modPow(n,this);if(0!=a.compareTo(w.ONE)&&0!=a.compareTo(e)){for(var s=1;s++<i&&0!=a.compareTo(e);)if(0==(a=a.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0},w.prototype.clone=function(){var t=x();return this.copyTo(t),t},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var i,n=this.DB-t*this.DB%8,r=0;if(0<t--)for(n<this.DB&&(i=this[t]>>n)!=(this.s&this.DM)>>n&&(e[r++]=i|this.s<<this.DB-n);0<=t;)n<8?(i=(this[t]&(1<<n)-1)<<8-n,i|=this[--t]>>(n+=this.DB-8)):(i=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(0<r||i!=this.s)&&(e[r++]=i);return e},w.prototype.equals=function(t){return 0==this.compareTo(t)},w.prototype.min=function(t){return this.compareTo(t)<0?this:t},w.prototype.max=function(t){return 0<this.compareTo(t)?this:t},w.prototype.and=function(t){var e=x();return this.bitwiseTo(t,o,e),e},w.prototype.or=function(t){var e=x();return this.bitwiseTo(t,s,e),e},w.prototype.xor=function(t){var e=x();return this.bitwiseTo(t,a,e),e},w.prototype.andNot=function(t){var e=x();return this.bitwiseTo(t,c,e),e},w.prototype.not=function(){for(var t=x(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},w.prototype.shiftLeft=function(t){var e=x();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},w.prototype.shiftRight=function(t){var e=x();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},w.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+function(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}(this[t]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=function(t){for(var e=0;0!=t;)t&=t-1,++e;return e}(this[i]^e);return t},w.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},w.prototype.setBit=function(t){return this.changeBit(t,s)},w.prototype.clearBit=function(t){return this.changeBit(t,c)},w.prototype.flipBit=function(t){return this.changeBit(t,a)},w.prototype.add=function(t){var e=x();return this.addTo(t,e),e},w.prototype.subtract=function(t){var e=x();return this.subTo(t,e),e},w.prototype.multiply=function(t){var e=x();return this.multiplyTo(t,e),e},w.prototype.divide=function(t){var e=x();return this.divRemTo(t,e,null),e},w.prototype.remainder=function(t){var e=x();return this.divRemTo(t,null,e),e},w.prototype.divideAndRemainder=function(t){var e=x(),i=x();return this.divRemTo(t,e,i),new Array(e,i)},w.prototype.modPow=function(t,e){var i=t.bitLength(),n=m(1);if(i<=0)return n;var r=i<18?1:i<48?3:i<144?4:i<768?5:6,o=new(i<8?y:e.isEven()?k:C)(e),a=new Array,s=3,l=r-1,d=(1<<r)-1;if(a[1]=o.convert(this),1<r){var c=x();for(o.sqrTo(a[1],c);s<=d;)a[s]=x(),o.mulTo(c,a[s-2],a[s]),s+=2}for(var h,u,p=t.t-1,f=!0,g=x(),i=b(t[p])-1;0<=p;){for(l<=i?h=t[p]>>i-l&d:(h=(t[p]&(1<<i+1)-1)<<l-i,0<p&&(h|=t[p-1]>>this.DB+i-l)),s=r;0==(1&h);)h>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),f)a[h].copyTo(n),f=!1;else{for(;1<s;)o.sqrTo(n,g),o.sqrTo(g,n),s-=2;0<s?o.sqrTo(n,g):(u=n,n=g,g=u),o.mulTo(g,a[h],n)}for(;0<=p&&0==(t[p]&1<<i);)o.sqrTo(n,g),u=n,n=g,g=u,--i<0&&(i=this.DB-1,--p)}return o.revert(n)},w.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return w.ZERO;for(var i=t.clone(),n=this.clone(),r=m(1),o=m(0),a=m(0),s=m(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),e?(r.isEven()&&o.isEven()||(r.addTo(this,r),o.subTo(t,o)),r.rShiftTo(1,r)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);0<=i.compareTo(n)?(i.subTo(n,i),e&&r.subTo(a,r),o.subTo(s,o)):(n.subTo(i,n),e&&a.subTo(r,a),s.subTo(o,s))}return 0!=n.compareTo(w.ONE)?w.ZERO:0<=s.compareTo(t)?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s},w.prototype.pow=function(t){return this.exp(t,new h)},w.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();e.compareTo(i)<0&&(r=e,e=i,i=r);var n=e.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return e;for(0<(r=n<r?n:r)&&(e.rShiftTo(r,e),i.rShiftTo(r,i));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=i.getLowestSetBit())&&i.rShiftTo(n,i),0<=e.compareTo(i)?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return 0<r&&i.lShiftTo(r,i),i},w.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=p[p.length-1]){for(e=0;e<p.length;++e)if(i[0]==p[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<p.length;){for(var n=p[e],r=e+1;r<p.length&&n<f;)n*=p[r++];for(n=i.modInt(n);e<r;)if(n%p[e++]==0)return!1}return i.millerRabin(t)},w.prototype.square=function(){var t=x();return this.squareTo(t),t},g.prototype.init=function(t){for(var e,i,n=0;n<256;++n)this.S[n]=n;for(n=e=0;n<256;++n)e=e+this.S[n]+t[n%t.length]&255,i=this.S[n],this.S[n]=this.S[e],this.S[e]=i;this.i=0,this.j=0},g.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var S,T=256;if(null==M){var I,M=new Array,A=0;if(window.crypto&&window.crypto.getRandomValues){var F=new Uint32Array(256);for(window.crypto.getRandomValues(F),I=0;I<F.length;++I)M[A++]=255&F[I]}var E=function(t){this.count=this.count||0,256<=this.count||T<=A?window.removeEventListener?window.removeEventListener("mousemove",E):window.detachEvent&&window.detachEvent("onmousemove",E):(this.count+=1,t=t.x+t.y,M[A++]=255&t)};window.addEventListener?window.addEventListener("mousemove",E):window.attachEvent&&window.attachEvent("onmousemove",E)}function P(){if(null==S){for(S=new g;A<T;){var t=Math.floor(65536*Math.random());M[A++]=255&t}for(S.init(M),A=0;A<M.length;++A)M[A]=0;A=0}return S.next()}function D(){}function O(t,e){return new w(t,e)}function _(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}D.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=P()},_.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},_.prototype.setPublic=function(t,e){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=O(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},_.prototype.encrypt=function(t){return null==(t=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var i=new Array,n=t.length-1;0<=n&&0<e;){var r=t.charCodeAt(n--);r<128?i[--e]=r:127<r&&r<2048?(i[--e]=63&r|128,i[--e]=r>>6|192):(i[--e]=63&r|128,i[--e]=r>>6&63|128,i[--e]=r>>12|224)}i[--e]=0;for(var o=new D,a=new Array;2<e;){for(a[0]=0;0==a[0];)o.nextBytes(a);i[--e]=a[0]}return i[--e]=2,i[--e]=0,new w(i)}(t,this.n.bitLength()+7>>3))||null==(t=this.doPublic(t))?null:0==(1&(t=t.toString(16)).length)?t:"0"+t},_.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},_.prototype.setPrivate=function(t,e,i){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=O(t,16),this.e=parseInt(e,16),this.d=O(i,16)):console.error("Invalid RSA private key")},_.prototype.setPrivateEx=function(t,e,i,n,r,o,a,s){null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=O(t,16),this.e=parseInt(e,16),this.d=O(i,16),this.p=O(n,16),this.q=O(r,16),this.dmp1=O(o,16),this.dmq1=O(a,16),this.coeff=O(s,16)):console.error("Invalid RSA private key")},_.prototype.generate=function(t,e){var i=new D,n=t>>1;this.e=parseInt(e,16);for(var r=new w(e,16);;){for(;this.p=new w(t-n,1,i),0!=this.p.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(n,1,i),0!=this.q.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.q.isProbablePrime(10););this.p.compareTo(this.q)<=0&&(s=this.p,this.p=this.q,this.q=s);var o=this.p.subtract(w.ONE),a=this.q.subtract(w.ONE),s=o.multiply(a);if(0==s.gcd(r).compareTo(w.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(s),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},_.prototype.decrypt=function(t){return t=O(t,16),null==(t=this.doPrivate(t))?null:function(t,e){for(var i=t.toByteArray(),n=0;n<i.length&&0==i[n];)++n;if(i.length-n!=e-1||2!=i[n])return null;for(++n;0!=i[n];)if(++n>=i.length)return null;for(var r="";++n<i.length;){var o=255&i[n];o<128?r+=String.fromCharCode(o):191<o&&o<224?(r+=String.fromCharCode((31&o)<<6|63&i[n+1]),++n):(r+=String.fromCharCode((15&o)<<12|(63&i[n+1])<<6|63&i[n+2]),n+=2)}return r}(t,this.n.bitLength()+7>>3)},_.prototype.generateAsync=function(t,e,r){var o=new D,a=t>>1;this.e=parseInt(e,16);var s=new w(e,16),l=this,d=function(){function e(){l.p.compareTo(l.q)<=0&&(i=l.p,l.p=l.q,l.q=i);var t=l.p.subtract(w.ONE),e=l.q.subtract(w.ONE),i=t.multiply(e);0==i.gcd(s).compareTo(w.ONE)?(l.n=l.p.multiply(l.q),l.d=s.modInverse(i),l.dmp1=l.d.mod(t),l.dmq1=l.d.mod(e),l.coeff=l.q.modInverse(l.p),setTimeout(function(){r()},0)):setTimeout(d,0)}var i=function(){l.q=x(),l.q.fromNumberAsync(a,1,o,function(){l.q.subtract(w.ONE).gcda(s,function(t){0==t.compareTo(w.ONE)&&l.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(i,0)})})},n=function(){l.p=x(),l.p.fromNumberAsync(t-a,1,o,function(){l.p.subtract(w.ONE).gcda(s,function(t){0==t.compareTo(w.ONE)&&l.p.isProbablePrime(10)?setTimeout(i,0):setTimeout(n,0)})})};setTimeout(n,0)};setTimeout(d,0)},w.prototype.gcda=function(t,e){var i=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();i.compareTo(n)<0&&(t=i,i=n,n=t);var r,o=i.getLowestSetBit(),a=n.getLowestSetBit();a<0?e(i):(0<(a=o<a?o:a)&&(i.rShiftTo(a,i),n.rShiftTo(a,n)),r=function(){0<(o=i.getLowestSetBit())&&i.rShiftTo(o,i),0<(o=n.getLowestSetBit())&&n.rShiftTo(o,n),0<=i.compareTo(n)?(i.subTo(n,i),i.rShiftTo(1,i)):(n.subTo(i,n),n.rShiftTo(1,n)),0<i.signum()?setTimeout(r,0):(0<a&&n.lShiftTo(a,n),setTimeout(function(){e(n)},0))},setTimeout(r,10))},w.prototype.fromNumberAsync=function(t,e,i,n){var r,o,a;"number"==typeof e?t<2?this.fromInt(1):(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),s,this),this.isEven()&&this.dAddOffset(1,0),r=this,o=function(){r.dAddOffset(2,0),r.bitLength()>t&&r.subTo(w.ONE.shiftLeft(t-1),r),r.isProbablePrime(e)?setTimeout(function(){n()},0):setTimeout(o,0)},setTimeout(o,0)):(a=new Array,i=7&t,a.length=1+(t>>3),e.nextBytes(a),0<i?a[0]&=(1<<i)-1:a[0]=0,this.fromString(a,256))};var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="=";function R(t){for(var e,i="",n=0;n+3<=t.length;n+=3)e=parseInt(t.substring(n,n+3),16),i+=N.charAt(e>>6)+N.charAt(63&e);for(n+1==t.length?(e=parseInt(t.substring(n,n+1),16),i+=N.charAt(e<<2)):n+2==t.length&&(e=parseInt(t.substring(n,n+2),16),i+=N.charAt(e>>2)+N.charAt((3&e)<<4));0<(3&i.length);)i+=L;return i}function B(t){for(var e,i="",n=0,r=0;r<t.length&&t.charAt(r)!=L;++r)v=N.indexOf(t.charAt(r)),v<0||(n=0==n?(i+=l(v>>2),e=3&v,1):1==n?(i+=l(e<<2|v>>4),e=15&v,2):2==n?(i+=l(e),i+=l(v>>2),e=3&v,3):(i+=l(e<<2|v>>4),i+=l(15&v),0));return 1==n&&(i+=l(e<<2)),i}function j(t){_.call(this),t&&("string"==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&&this.parsePropertiesFrom(t))}!function(){"use strict";var l,t={decode:function(t){if(void 0===l){var e="0123456789ABCDEF",i=" \f\n\r\t \u2028\u2029";for(l=[],a=0;a<16;++a)l[e.charAt(a)]=a;for(e=e.toLowerCase(),a=10;a<16;++a)l[e.charAt(a)]=a;for(a=0;a<i.length;++a)l[i.charAt(a)]=-1}for(var n=[],r=0,o=0,a=0;a<t.length;++a){var s=t.charAt(a);if("="==s)break;if(-1!=(s=l[s])){if(void 0===s)throw"Illegal character at offset "+a;r|=s,2<=++o?(n[n.length]=r,o=r=0):r<<=4}}if(o)throw"Hex encoding incomplete: 4 bits missing";return n}};window.Hex=t}(),function(){"use strict";var s,i={decode:function(t){if(void 0===s){var e="= \f\n\r\t \u2028\u2029";for(s=[],o=0;o<64;++o)s["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o)]=o;for(o=0;o<e.length;++o)s[e.charAt(o)]=-1}for(var i=[],n=0,r=0,o=0;o<t.length;++o){var a=t.charAt(o);if("="==a)break;if(-1!=(a=s[a])){if(void 0===a)throw"Illegal character at offset "+o;n|=a,4<=++r?(i[i.length]=n>>16,i[i.length]=n>>8&255,i[i.length]=255&n,r=n=0):n<<=6}}switch(r){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:i[i.length]=n>>10;break;case 3:i[i.length]=n>>16,i[i.length]=n>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=i.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw"RegExp out of sync";t=e[2]}return i.decode(t)}};window.Base64=i}(),function(a){"use strict";var l=function(t,e){t=document.createElement(t);return t.className=e,t},d=function(t){return document.createTextNode(t)};function c(t,e){t instanceof c?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=e)}function h(t,e,i,n,r){this.stream=t,this.header=e,this.length=i,this.tag=n,this.sub=r}c.prototype.get=function(t){if((t=t===a?this.pos++:t)>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},c.prototype.hexDigits="0123456789ABCDEF",c.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},c.prototype.hexDump=function(t,e,i){for(var n="",r=t;r<e;++r)if(n+=this.hexByte(this.get(r)),!0!==i)switch(15&r){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},c.prototype.parseStringISO=function(t,e){for(var i="",n=t;n<e;++n)i+=String.fromCharCode(this.get(n));return i},c.prototype.parseStringUTF=function(t,e){for(var i="",n=t;n<e;){var r=this.get(n++);i+=r<128?String.fromCharCode(r):191<r&&r<224?String.fromCharCode((31&r)<<6|63&this.get(n++)):String.fromCharCode((15&r)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return i},c.prototype.parseStringBMP=function(t,e){for(var i="",n=t;n<e;n+=2){var r=this.get(n),o=this.get(n+1);i+=String.fromCharCode((r<<8)+o)}return i},c.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,c.prototype.parseTime=function(t,e){t=this.parseStringISO(t,e),e=this.reTime.exec(t);return e?(t=e[1]+"-"+e[2]+"-"+e[3]+" "+e[4],e[5]&&(t+=":"+e[5],e[6]&&(t+=":"+e[6],e[7]&&(t+="."+e[7]))),e[8]&&(t+=" UTC","Z"!=e[8]&&(t+=e[8],e[9]&&(t+=":"+e[9]))),t):"Unrecognized time: "+t},c.prototype.parseInteger=function(t,e){var i=e-t;if(4<i){i<<=3;var n=this.get(t);if(0===n)i-=8;else for(;n<128;)n<<=1,--i;return"("+i+" bit)"}for(var r=0,o=t;o<e;++o)r=r<<8|this.get(o);return r},c.prototype.parseBitString=function(t,e){var i=this.get(t),n=(e-t-1<<3)-i,r="("+n+" bit)";if(n<=20){var o=i;r+=" ";for(var a=e-1;t<a;--a){for(var s=this.get(a),l=o;l<8;++l)r+=s>>l&1?"1":"0";o=0}}return r},c.prototype.parseOctetString=function(t,e){var i=e-t,n="("+i+" byte) ";100<i&&(e=t+100);for(var r=t;r<e;++r)n+=this.hexByte(this.get(r));return 100<i&&(n+="…"),n},c.prototype.parseOID=function(t,e){for(var i="",n=0,r=0,o=t;o<e;++o){var a=this.get(o),n=n<<7|127&a;r+=7,128&a||(""===i?i=(a=n<80?n<40?0:1:2)+"."+(n-40*a):i+="."+(31<=r?"bigint":n),n=r=0)}return i},h.prototype.typeName=function(){if(this.tag===a)return"unknown";var t=this.tag>>6,e=(this.tag,31&this.tag);switch(t){case 0:switch(e){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+e.toString(16)}case 1:return"Application_"+e.toString(16);case 2:return"["+e+"]";case 3:return"Private_"+e.toString(16)}},h.prototype.reSeemsASCII=/^[ -~]+$/,h.prototype.content=function(){if(this.tag===a)return null;var t=this.tag>>6,e=31&this.tag,i=this.posContent(),n=Math.abs(this.length);if(0!=t){if(null!==this.sub)return"("+this.sub.length+" elem)";t=this.stream.parseStringISO(i,i+Math.min(n,100));return this.reSeemsASCII.test(t)?t.substring(0,200)+(200<t.length?"…":""):this.stream.parseOctetString(i,i+n)}switch(e){case 1:return 0===this.stream.get(i)?"false":"true";case 2:return this.stream.parseInteger(i,i+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(i,i+n);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(i,i+n);case 6:return this.stream.parseOID(i,i+n);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(i,i+n);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(i,i+n);case 30:return this.stream.parseStringBMP(i,i+n);case 23:case 24:return this.stream.parseTime(i,i+n)}return null},h.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},h.prototype.print=function(t){if(t===a&&(t=""),document.writeln(t+this),null!==this.sub){t+="  ";for(var e=0,i=this.sub.length;e<i;++e)this.sub[e].print(t)}},h.prototype.toPrettyString=function(t){var e=(t=t===a?"":t)+this.typeName()+" @"+this.stream.pos;if(0<=this.length&&(e+="+"),e+=this.length,32&this.tag?e+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var i=0,n=this.sub.length;i<n;++i)e+=this.sub[i].toPrettyString(t)}return e},h.prototype.toDOM=function(){var t=l("div","node");t.asn1=this;var e=l("div","head"),i=this.typeName().replace(/_/g," ");e.innerHTML=i;var n=this.content();null!==n&&(n=String(n).replace(/</g,"&lt;"),(r=l("span","preview")).appendChild(d(n)),e.appendChild(r)),t.appendChild(e),this.node=t,this.head=e;var r=l("div","value"),i="Offset: "+this.stream.pos+"<br/>";i+="Length: "+this.header+"+",0<=this.length?i+=this.length:i+=-this.length+" (undefined)",32&this.tag?i+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(i+="<br/>(encapsulates)"),null!==n&&(i+="<br/>Value:<br/><b>"+n+"</b>","object"!=typeof oids||6!=this.tag||(n=oids[n])&&(n.d&&(i+="<br/>"+n.d),n.c&&(i+="<br/>"+n.c),n.w&&(i+="<br/>(warning!)"))),r.innerHTML=i,t.appendChild(r);var o=l("div","sub");if(null!==this.sub)for(var a=0,s=this.sub.length;a<s;++a)o.appendChild(this.sub[a].toDOM());return t.appendChild(o),e.onclick=function(){t.className="node collapsed"==t.className?"node":"node collapsed"},t},h.prototype.posStart=function(){return this.stream.pos},h.prototype.posContent=function(){return this.stream.pos+this.header},h.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},h.prototype.fakeHover=function(t){this.node.className+=" hover",t&&(this.head.className+=" hover")},h.prototype.fakeOut=function(t){var e=/ ?hover/;this.node.className=this.node.className.replace(e,""),t&&(this.head.className=this.head.className.replace(e,""))},h.prototype.toHexDOM_sub=function(t,e,i,n,r){r<=n||((e=l("span",e)).appendChild(d(i.hexDump(n,r))),t.appendChild(e))},h.prototype.toHexDOM=function(e){var t=l("span","hex");if(e===a&&(e=t),this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},t.asn1=this,t.onmouseover=function(){var t=!e.selected;t&&(e.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(t)},t.onmouseout=function(){var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&&(e.selected=null,this.className="hex")},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,0<=this.length?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)t.appendChild(d(this.stream.hexDump(this.posContent(),this.posEnd())));else if(0<this.sub.length){var i=this.sub[0],n=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),i.posStart());for(var r=0,o=this.sub.length;r<o;++r)t.appendChild(this.sub[r].toHexDOM(e));this.toHexDOM_sub(t,"outro",this.stream,n.posEnd(),this.posEnd())}return t},h.prototype.toHexString=function(t){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},h.decodeLength=function(t){var e=127&(i=t.get());if(e==i)return e;if(3<e)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==e)return-1;for(var i=0,n=0;n<e;++n)i=i<<8|t.get();return i},h.hasContent=function(t,e,i){if(32&t)return!0;if(t<3||4<t)return!1;var n=new c(i);if(3==t&&n.get(),n.get()>>6&1)return!1;try{var r=h.decodeLength(n);return n.pos-i.pos+r==e}catch(t){return!1}},h.decode=function(t){t instanceof c||(t=new c(t,0));var e=new c(t),i=t.get(),n=h.decodeLength(t),r=t.pos-e.pos,o=null;if(h.hasContent(i,n,t)){var a=t.pos;if(3==i&&t.get(),o=[],0<=n){for(var s=a+n;t.pos<s;)o[o.length]=h.decode(t);if(t.pos!=s)throw"Content size is not correct for container starting at offset "+a}else try{for(;;){var l=h.decode(t);if(0===l.tag)break;o[o.length]=l}n=a-t.pos}catch(t){throw"Exception while decoding undefined length content: "+t}}else t.pos+=n;return new h(e,r,n,i,o)},h.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],e=0,i=t.length;e<i;++e){var n=new c(t[e].value,0),n=h.decodeLength(n);n!=t[e].expected&&document.write("In test["+e+"] expected "+t[e].expected+" got "+n+"\n")}},window.ASN1=h}(),ASN1.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,i=2*this.length;return t.substr(e,i)},_.prototype.parseKey=function(t){try{var e=0,i=0,n=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?Hex.decode(t):Base64.unarmor(t),r=ASN1.decode(n);if(9===r.sub.length){e=r.sub[1].getHexStringValue(),this.n=O(e,16),i=r.sub[2].getHexStringValue(),this.e=parseInt(i,16);n=r.sub[3].getHexStringValue();this.d=O(n,16);n=r.sub[4].getHexStringValue();this.p=O(n,16);n=r.sub[5].getHexStringValue();this.q=O(n,16);n=r.sub[6].getHexStringValue();this.dmp1=O(n,16);n=r.sub[7].getHexStringValue();this.dmq1=O(n,16);n=r.sub[8].getHexStringValue();this.coeff=O(n,16)}else{if(2!==r.sub.length)return!1;r=r.sub[1].sub[0],e=r.sub[0].getHexStringValue();this.n=O(e,16),i=r.sub[1].getHexStringValue(),this.e=parseInt(i,16)}return!0}catch(t){return!1}},_.prototype.getPrivateBaseKey=function(){var t={array:[new KJUR.asn1.DERInteger({int:0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({int:this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]};return new KJUR.asn1.DERSequence(t).getEncodedHex()},_.prototype.getPrivateBaseKeyB64=function(){return R(this.getPrivateBaseKey())},_.prototype.getPublicBaseKey=function(){var t={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},e=new KJUR.asn1.DERSequence(t),t={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({int:this.e})]};return t={hex:"00"+new KJUR.asn1.DERSequence(t).getEncodedHex()},t={array:[e,new KJUR.asn1.DERBitString(t)]},new KJUR.asn1.DERSequence(t).getEncodedHex()},_.prototype.getPublicBaseKeyB64=function(){return R(this.getPublicBaseKey())},_.prototype.wordwrap=function(t,e){if(!t)return t;e="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(e,"g")).join("\n")},_.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},_.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},_.prototype.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},_.prototype.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},_.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},(j.prototype=new _).constructor=j;var H=function(t){t=t||{},this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null};H.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new j(t)},H.prototype.setPrivateKey=function(t){this.setKey(t)},H.prototype.setPublicKey=function(t){this.setKey(t)},H.prototype.decrypt=function(t){try{return this.getKey().decrypt(B(t))}catch(t){return!1}},H.prototype.encrypt=function(t){try{return R(this.getKey().encrypt(t))}catch(t){return!1}},H.prototype.getKey=function(t){if(!this.key){if(this.key=new j,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},H.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},H.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},H.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},H.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.JSEncrypt=H}(JSEncryptExports);var JSEncrypt=JSEncryptExports.JSEncrypt,JSONreq={map:{},counter:0,getJSON:function(t,e,i){var n=t+(t.indexOf("?")+1?"&":"?"),r=document.getElementsByTagName("head")[0],o=document.createElement("script"),a=[],s="",t="json-"+this.counter;for(s in this.counter++,e.script_name=t,e._rand=Math.random(),this.map[t]=i,e.callback="JSONreq.success",e)a.push(s+"="+encodeURIComponent(e[s]));n+=a.join("&"),o.type="text/javascript",o.src=n,o.id=t,r.appendChild(o)},success:function(t){var e=t.script_name;delete t.script_name,this.map[e](t);t=document.getElementsByTagName("head")[0],e=document.getElementById(e);t.removeChild(e),delete this.map.script_name}};function WacomGSS_SignatureSDK(e,t){this.running=!1,this.session=null,this.service_detected=!1;var p=this,f="https://localhost:";function i(t){0==t.status?(p.session=t.session,p.running=!0,e()):console.log("Signature SDK local server error: "+t.status)}function n(t){0==t.status?(p.service_detected=!0,f+=t.port+"/",JSONreq.getJSON(f+"wacom.js",{CreateSession:1},i)):console.log("Signature SDK Service error: "+t.status)}function g(t){return void 0===t||null==t?"":t}this.RBFlags={RenderOutputPicture:2097152,RenderOutputBase64:8192,RenderBackgroundTransparent:65536,RenderColor1BPP:131072,RenderColor24BPP:262144,RenderColor32BPP:524288,RenderColorAntiAlias:1048576,RenderEncodeData:4194304,RenderWatermark:8388608,RenderClipped:16777216,RenderRelative:33554432},this.IntegrityStatus={IntegrityOK:0,IntegrityFail:1,IntegrityMissing:2,IntegrityWrongType:3,IntegrityInsufficientData:4,IntegrityUncertain:5,IntegrityUnsupported:6},this.HashType={HashNone:0,HashMD5:1,HashSHA1:2,HashSHA224:3,HashSHA256:4,HashSHA384:5,HashSHA512:6},this.KeyType={KeyNone:0,KeyMD5:1,KeyMD5MAC:2,KeySHA1:3,KeySHA224:4,KeySHA256:5,KeySHA384:6,KeySHA512:7,KeyCAPICOM:8},this.SignedData={DataGood:0,DataNoHash:1,DataBadType:2,DataBadHash:3,DataError:4,DataUncertain:5,DataSigMoved:6},this.CaptData={CaptDigitizer:26,CaptDigitizerDriver:27,CaptMachineOS:28,CaptNetworkCard:29},this.DynamicCaptureResult={DynCaptOK:0,DynCaptCancel:1,DynCaptPadError:100,DynCaptError:101,DynCaptNotLicensed:103,DynCaptAbort:200,DynCaptIntegrityKeyInvalid:102},this.TimeZone={TimeLocal:0,TimeGMT:1,TimeUTC:1},this.DisplayMode={DspForceFit:0,DspUseZoom:1,DspBestFit:2},this.ShowText={TxtDontShow:0,TxtShowLeft:1,TxtShowCenter:2,TxtShowRight:4},this.ObjectType={ObjectText:0,ObjectButton:1,ObjectCheckbox:2,ObjectSignature:3,ObjectInput:4,ObjectInputEcho:5,ObjectHash:6,ObjectImage:7,ObjectDisplayAtShutdown:8,ObjectInking:9,ObjectRadioButton:10},this.TextOptions={TextAlignLeft:0,TextAlignRight:1,TextAlignCentre:2,TextAlignJustify:3},this.ButtonOptions={BtnAlignCentre:0,BtnAlignMiddle:0,BtnAlignLeft:1,BtnAlignRight:2,BtnAlignTop:4,BtnAlignBottom:8},this.CheckBoxOptions={CheckboxUnchecked:0,CheckboxChecked:1,CheckboxDisplayTick:2,CheckboxDisplayCross:4},this.ObjectOptionType={OBJECTOPTION_STRING:0,OBJECTOPTION_INT:1,OBJECTOPTION_BOOL:2},this.VariantType={VARIANT_EMPTY:0,VARIANT_TEXT:1,VARIANT_NUM:2,VARIANT_OBJECTOPTIONS:3,VARIANT_SIGOBJ:4,VARIANT_SIGCTL:5,VARIANT_INPUTOBJ:6,VARIANT_HASH:7,VARIANT_IMGURL:8,VARIANT_BASE64:9,VARIANT_DYNCAP:10,VARIANT_WIZCTL:11,VARIANT_FONT:12,VARIANT_KEY:13},this.PrimitiveType={PrimitiveLine:0,PrimitiveRectangle:1,PrimitiveEllipse:2},this.PrimitiveOptions={PrimitiveLineSolid:1,PrimitiveLineDashed:2,PrimitiveOutline:4,PrimitiveFill:8,PrimitiveFillXOR:16},this.EventType={EvTextClicked:0,EvButtonClicked:1,EvCheckboxChecked:2,EvCheckboxUnchecked:3,EvInputMinReached:4,EvInputMaxReached:5,EvInputExceeded:6},this.EncryptAlg={EncryptNone:0,EncryptTripleDES:1},this.ResponseStatus={OK:0,FAILED:1,INVALID_SESSION:3},this.FontWeight={FW_DONTCARE:0,FW_THIN:100,FW_EXTRALIGHT:200,FW_LIGHT:300,FW_NORMAL:400,FW_MEDIUM:500,FW_SEMIBOLD:600,FW_BOLD:700,FW_EXTRABOLD:800,FW_HEAVY:900,FW_ULTRALIGHT:200,FW_REGULAR:400,FW_DEMIBOLD:600,FW_ULTRABOLD:800,FW_BLACK:900},this.FontCharset={ANSI_CHARSET:0,DEFAULT_CHARSET:1,SYMBOL_CHARSET:2,SHIFTJIS_CHARSET:128,HANGEUL_CHARSET:129,HANGUL_CHARSET:129,GB2312_CHARSET:134,CHINESEBIG5_CHARSET:136,OEM_CHARSET:255,JOHAB_CHARSET:130,HEBREW_CHARSET:177,ARABIC_CHARSET:178,GREEK_CHARSET:161,TURKISH_CHARSET:162,VIETNAMESE_CHARSET:163,THAI_CHARSET:222,EASTEUROPE_CHARSET:238,RUSSIAN_CHARSET:204,MAC_CHARSET:77,BALTIC_CHARSET:186,FS_LATIN1:1,FS_LATIN2:2,FS_CYRILLIC:4,FS_GREEK:8,FS_TURKISH:16,FS_HEBREW:32,FS_ARABIC:64,FS_BALTIC:128,FS_VIETNAMESE:256,FS_THAI:65536,FS_JISJAPAN:131072,FS_CHINESESIMP:262144,FS_WANSUNG:524288,FS_CHINESETRAD:1048576,FS_JOHAB:2097152,FS_SYMBOL:2147483648},this.Font=function(t,e,i,n,r,o,a){this.type=p.VariantType.VARIANT_FONT,this.fontName=void 0===t?"Arial":t,this.fontSize=void 0===e?8:e,this.sWeight=void 0===i?p.FontWeight.FW_NORMAL:i,this.sCharset=void 0===n?p.FontCharset.ANSI_CHARSET:n,this.fItalic="undefined"==typeof fItalic?0:fItalic,this.fUnderline=void 0===o?0:fUnderline,this.fStrikethrough=void 0===a?0:a},JSONreq.getJSON(f+t+"/wacom.js",{GetPort:1},n),this.getVersion=function(e){var t={GetVersion:1,session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){e(t.version,parseInt(t.status))})},this.Hash=function(e){var n=this;this.handle=null,this.type=p.VariantType.VARIANT_HASH;var t={Hash:"Constructor",session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){n.handle=t.handle,e(n,parseInt(t.status))}),this.Add=function(t,e){var i={Hash:"Add",session:p.session,handle:n.handle};t.Stringify(i,"hData"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(n,parseInt(t.status))})},this.Clear=function(e){var t={Hash:"Clear",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.status))})},this.GetType=function(e){var t={Hash:"GetType",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.hashType),parseInt(t.status))})},this.PutType=function(t,e){t={Hash:"PutType",session:p.session,handle:n.handle,type:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.status))})}},this.Key=function(e){var n=this;this.handle=null,this.type=p.VariantType.VARIANT_KEY;var t={Key:"Constructor",session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){n.handle=t.handle,e(n,parseInt(t.status))}),this.GetType=function(e){var t={Key:"GetType",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.type),parseInt(t.status))})},this.Set=function(t,e,i){t={Key:"Set",session:p.session,handle:n.handle,type:g(t)};e.Stringify(t,"value"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(n,parseInt(t.status))})}},this.Bitmap=function(){this.handle=null,this.isBase64=!1,this.mime_type=null,this.image=new Image},this.SigObj=function(){var c=this;this.handle=null,this.type=p.VariantType.VARIANT_SIGOBJ,this.CheckIntegrity=function(t,e){var i={SigObj:"CheckIntegrity",session:p.session,handle:c.handle},n=new p.Variant;n.Set(t),n.Stringify(i,"key"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(c,parseInt(t.status))})},this.CheckSignedData=function(t,e){t={SigObj:"CheckSignedData",session:p.session,handle:c.handle,HashHandle:g(t.handle)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.status))})},this.Clear=function(e){var t={SigObj:"Clear",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.status))})},this.GetAdditionalData=function(t,e){t={SigObj:"GetAdditionalData",session:p.session,handle:c.handle,captData:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.additionalData,parseInt(t.status))})},this.GetCrossedOut=function(e){var t={SigObj:"GetCrossedOut",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,Boolean(1==parseInt(t.crossedOut)),parseInt(t.status))})},this.GetExtraData=function(t,e){t={SigObj:"GetExtraData",session:p.session,handle:c.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.extraData,parseInt(t.status))})},this.GetHeight=function(e){var t={SigObj:"GetHeight",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.height),parseInt(t.status))})},this.GetInk=function(e){var t={SigObj:"GetInk",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.ink,parseInt(t.status))})},this.GetIsCaptured=function(e){var t={SigObj:"GetIsCaptured",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,Boolean(1==parseInt(t.isCaptured)),parseInt(t.status))})},this.GetProperty=function(t,i){t={SigObj:"GetProperty",session:p.session,handle:c.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"property"),i(c,e,parseInt(t.status))})},this.GetSigData=function(i){var t={SigObj:"GetSigData",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"sigData"),i(c,e,parseInt(t.status))})},this.GetSigText=function(e){var t={SigObj:"GetSigText",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.sigText,parseInt(t.status))})},this.GetWhen=function(t,i){t={SigObj:"GetWhen",session:p.session,handle:c.handle,timeZone:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new Date(parseFloat(t.year),parseFloat(t.month)-1,parseFloat(t.day),parseFloat(t.hour),parseFloat(t.minute),parseFloat(t.second));e.dayOfWeek=parseFloat(t.dayOfWeek),i(c,e,parseInt(t.status))})},this.GetWho=function(e){var t={SigObj:"GetWho",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.who,parseInt(t.status))})},this.GetWhy=function(e){var t={SigObj:"GetWhy",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.why,parseInt(t.status))})},this.GetWidth=function(e){var t={SigObj:"GetWidth",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.width),parseInt(t.status))})},this.PutExtraData=function(t,e,i){e={SigObj:"PutExtraData",session:p.session,handle:c.handle,key:g(t),value:g(e)};JSONreq.getJSON(f+"wacom.js",e,function(t){i(c,parseInt(t.status))})},this.PutInk=function(t,e){t={SigObj:"PutInk",session:p.session,handle:c.handle,ink:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.status))})},this.PutSigData=function(t,e){var i={SigObj:"PutSigData",session:p.session,handle:c.handle};t.Stringify(i,"sigData"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(c,parseInt(t.status))})},this.PutSigText=function(t,e){t={SigObj:"PutSigText",session:p.session,handle:c.handle,sigText:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.status))})},this.ReadEncodedBitmap=function(t,e){var i={SigObj:"ReadEncodedBitmap",session:p.session,handle:c.handle},n=new p.Variant;n.type=p.VariantType.VARIANT_IMGURL,n.url=t,n.Stringify(i,"bitmapURL"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(c,parseInt(t.status))})},this.RenderBitmap=function(n,t,e,i,r,o,a,s,l,d){l={SigObj:"RenderBitmap",session:p.session,handle:c.handle,mimetype:g(n),width:g(t),height:g(e),ink_width:g(i),ink_color:g(r),bg_color:g(o),flags:g(a),paddingX:g(s),paddingY:g(l)};JSONreq.getJSON(f+"wacom.js",l,function(t){var e,i=parseInt(t.status);0==i?a&p.RBFlags.RenderOutputPicture?((e=new p.Bitmap).handle=t.bitmapHandle,e.isBase64=1==t.isBase64,e.image.onload=function(){d(c,e,i)},e.isBase64?e.image.src="data:image/"+n+";base64,"+t.base64:e.image.src=f+t.bitmapHandle+"?session="+p.session):1==t.isBase64&&d(c,t.base64,i):d(c,null,i)})},this.SetProperty=function(t,e,i){t={SigObj:"SetProperty",session:p.session,handle:c.handle,key:g(t)};e.Stringify(t,"value"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(c,parseInt(t.status))})}},this.DynamicCapture=function(e){var c=this;this.handle=null;var t={DynamicCapture:"Constructor",session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){c.handle=t.handle,e(c,parseInt(t.status))}),this.Capture=function(t,e,i,n,r,o){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=window.screenLeft||window.screenX,d=window.screenTop||window.screenY,d={DynamicCapture:"Capture",session:p.session,who:g(e),why:g(i),width:g(a),height:g(s),left:g(l),top:g(d),SigCtlHandle:g(t.handle),handle:c.handle},t=new p.Variant;t.Set(n),t.Stringify(d,"what");t=new p.Variant;t.Set(r),t.Stringify(d,"key"),JSONreq.getJSON(f+"wacom.js",d,function(t){var e=new p.SigObj;e.handle=t.handle,o(c,e,parseInt(t.status))})},this.GetLicence=function(e){var t={DynamicCapture:"GetLicence",session:p.session,handle:c.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,t.licence,parseInt(t.status))})},this.GetProperty=function(t,i){t={DynamicCapture:"GetProperty",session:p.session,handle:c.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"property"),i(c,e,parseInt(t.status))})},this.PutLicence=function(t,e){t={DynamicCapture:"PutLicence",session:p.session,handle:c.handle,licence:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(c,parseInt(t.status))})},this.SetProperty=function(t,e,i){t={DynamicCapture:"SetProperty",session:p.session,handle:c.handle,key:g(t)};e.Stringify(t,"value"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(c,parseInt(t.status))})}},this.SigCtl=function(e){var o=this;this.handle=null,this.type=p.VariantType.VARIANT_SIGCTL;var t={SigCtl:"Constructor",session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){o.handle=t.handle,e(o,parseInt(t.status))}),this.AboutBox=function(e){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=window.screenLeft||window.screenX,r=window.screenTop||window.screenY,r={SigCtl:"AboutBox",session:p.session,width:g(t),height:g(i),left:g(n),top:g(r),handle:o.handle};JSONreq.getJSON(f+"wacom.js",r,function(t){e(o,parseInt(t.status))})},this.GetAppData=function(t,i){t={SigCtl:"GetAppData",session:p.session,handle:o.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"appData"),i(o,e,parseInt(t.status))})},this.GetInputData=function(e){var t={SigCtl:"GetInputData",session:p.session,handle:o.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,t.inputData,parseInt(t.status))})},this.GetLicence=function(e){var t={SigCtl:"GetLicence",session:p.session,handle:o.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,t.licence,parseInt(t.status))})},this.GetProperty=function(t,i){t={SigCtl:"GetProperty",session:p.session,handle:o.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"property"),i(o,e,parseInt(t.status))})},this.GetSignature=function(i){var t={SigCtl:"GetSignature",session:p.session,handle:o.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.SigObj;e.handle=t.signatureHandle,i(o,e,parseInt(t.status))})},this.PutAppData=function(t,e,i){t={SigCtl:"PutAppData",session:p.session,handle:o.handle,key:g(t)};e.Stringify(t,"val"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(o,parseInt(t.status))})},this.PutInputData=function(t,e){t={SigCtl:"PutInputData",session:p.session,handle:o.handle,inputData:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,parseInt(t.status))})},this.PutLicence=function(t,e){t={SigCtl:"PutLicence",session:p.session,handle:o.handle,licence:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,parseInt(t.status))})},this.PutProperties=function(t,e){t={SigCtl:"PutProperties",session:p.session,handle:o.handle,properties:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,parseInt(t.status))})},this.PutSignature=function(t,e){t={SigCtl:"PutSignature",session:p.session,handle:o.handle,signatureHandle:g(t.handle)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(o,parseInt(t.status))})},this.SetProperty=function(t,e,i){t={SigCtl:"SetProperty",session:p.session,handle:o.handle,key:g(t)};e.Stringify(t,"value"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(o,parseInt(t.status))})}},this.InputObj=function(e){var n=this;this.handle=null,this.type=p.VariantType.VARIANT_INPUTOBJ;var t={InputObj:"Constructor",session:p.session};JSONreq.getJSON(f+"wacom.js",t,function(t){n.handle=t.handle,e(n,parseInt(t.status))}),this.Clear=function(e){var t={InputObj:"Clear",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.status))})},this.GetData=function(e){var t={InputObj:"GetData",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,t.data,parseInt(t.status))})},this.GetEncryptionType=function(e){var t={InputObj:"GetEncryptionType",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.encryptionType),parseInt(t.status))})},this.GetMaxLength=function(e){var t={InputObj:"GetMaxLength",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.maxLength),parseInt(t.status))})},this.GetMinLength=function(e){var t={InputObj:"GetMinLength",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.minLength),parseInt(t.status))})},this.GetProperty=function(t,e){t={InputObj:"GetProperty",session:p.session,handle:n.handle,name:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){(new p.Variant).Parse(t,"property"),e(n,t.property,parseInt(t.status))})},this.GetText=function(e){var t={InputObj:"GetText",session:p.session,handle:n.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,t.text,parseInt(t.status))})},this.PutMaxLength=function(t,e){t={InputObj:"PutMaxLength",session:p.session,handle:n.handle,maxLength:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.status))})},this.PutMinLength=function(t,e){t={InputObj:"PutMinLength",session:p.session,handle:n.handle,minLength:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(n,parseInt(t.status))})},this.SetEncryption=function(t,e,i){t={InputObj:"SetEncryption",session:p.session,handle:n.handle,type:g(t)};e.Stringify(t,"key"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(n,parseInt(t.status))})},this.SetProperty=function(t,e,i){e={InputObj:"SetProperty",session:p.session,handle:n.handle,name:g(t),value:g(e)};JSONreq.getJSON(f+"wacom.js",e,function(t){i(n,parseInt(t.status))})}},this.ObjectOptions=function(){var i=this;this.type=p.VariantType.VARIANT_OBJECTOPTIONS,this.AddOption=function(t,e){i[t]=e}},this.Variant=function(){var n=this;this.type=p.VariantType.VARIANT_EMPTY,this.Parse=function(t,e){var i=parseInt(t[e+".type"]);switch(i){case p.VariantType.VARIANT_TEXT:n.type=i,n.text=t[e+".text"];break;case p.VariantType.VARIANT_NUM:n.type=i,n.num=parseFloat(t[e+".num"]);break;case p.VariantType.VARIANT_OBJECTOPTIONS:n.type=i;break;case p.VariantType.VARIANT_SIGOBJ:case p.VariantType.VARIANT_SIGCTL:case p.VariantType.VARIANT_INPUTOBJ:case p.VariantType.VARIANT_HASH:case p.VariantType.VARIANT_KEY:case p.VariantType.VARIANT_DYNCAP:case p.VariantType.VARIANT_WIZCTL:n.type=i,n.handle=t[e+".handle"];break;case p.VariantType.VARIANT_BASE64:n.type=i,n.base64=t[e+".base64"];break;case p.VariantType.VARIANT_IMGURL:n.type=i,n.url=t[e+".url"];break;case p.VariantType.VARIANT_FONT:n.type=i,n.fontName=t[e+".fontName"],n.fontSize=t[e+".fontSize"],n.sWeight=t[e+".sWeight"],n.sCharset=t[e+".sCharset"],n.fItalic=t[e+".fItalic"],n.fUnderline=t[e+".fUnderline"],n.fStrikethrough=t[e+".fStrikethrough"];break;case p.VariantType.VARIANT_EMPTY:default:n.type=p.VariantType.VARIANT_EMPTY}},this.Set=function(t){if("string"==typeof t)n.type=p.VariantType.VARIANT_TEXT,n.text=t;else if("number"==typeof t)n.type=p.VariantType.VARIANT_NUM,n.num=t;else if(null!=t&&"object"==typeof t&&void 0!==t.type&&null!=t.type)switch(t.type){case p.VariantType.VARIANT_OBJECTOPTIONS:for(o in n.type=p.VariantType.VARIANT_OBJECTOPTIONS,t)"type"!=o&&("string"==typeof t[o]?(n[o]=t[o],n[o+".type"]=p.ObjectOptionType.OBJECTOPTION_STRING):"number"==typeof t[o]?(n[o]=0<t[o]?Math.floor(t[o]):Math.ceil(t[o]),n[o+".type"]=p.ObjectOptionType.OBJECTOPTION_INT):"boolean"==typeof t[o]&&(n[o]=1==t[o]?1:0,n[o+".type"]=p.ObjectOptionType.OBJECTOPTION_BOOL));break;case p.VariantType.VARIANT_SIGOBJ:case p.VariantType.VARIANT_SIGCTL:case p.VariantType.VARIANT_INPUTOBJ:case p.VariantType.VARIANT_HASH:case p.VariantType.VARIANT_KEY:case p.VariantType.VARIANT_DYNCAP:case p.VariantType.VARIANT_WIZCTL:n.type=t.type,n.handle=t.handle;break;case p.VariantType.VARIANT_IMGURL:n.type=p.VariantType.VARIANT_IMGURL,n.url=t.url;break;case p.VariantType.VARIANT_BASE64:n.type=p.VariantType.VARIANT_BASE64,n.base64=t.base64;break;case p.VariantType.VARIANT_FONT:n.type=p.VariantType.VARIANT_FONT,n.fontName=t.fontName,n.fontSize=t.fontSize,n.sWeight=t.sWeight,n.sCharset=t.sCharset,n.fItalic=t.fItalic,n.fUnderline=t.fUnderline,n.fStrikethrough=t.fStrikethrough;break;case p.VariantType.VARIANT_EMPTY:default:n.type=p.VariantType.VARIANT_EMPTY}},this.Stringify=function(t,e){for(var i in n)"string"!=typeof i||"function"==typeof n[i]||"symbol"==typeof n[i]||"object"!=typeof n[i]&&"string"!=typeof n[i]&&"number"!=typeof n[i]||(t[e+"."+i]=n[i.toString()])}},this.WizCtl=function(e){var u=this;this.handle=null;var n,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=window.screenLeft||window.screenX,o=window.screenTop||window.screenY,o={WizCtl:"Constructor",session:p.session,width:t,height:i,left:r,top:o};JSONreq.getJSON(f+"wacom.js",o,function(t){u.handle=t.handle,e(u,parseInt(t.status))}),this.AddObject=function(t,e,i,n,r,o,a){e={WizCtl:"AddObject",session:p.session,handle:u.handle,objType:g(t),id:g(e)};i.Stringify(e,"X"),n.Stringify(e,"Y"),r.Stringify(e,"objData"),o.Stringify(e,"options"),JSONreq.getJSON(f+"wacom.js",e,function(t){a(u,parseInt(t.status))})},this.AddPrimitive=function(t,e,i,n,r,o,a,s){var l={WizCtl:"AddPrimitive",session:p.session,handle:u.handle,primType:g(t)},d=new p.Variant,c=new p.Variant,h=new p.Variant,t=new p.Variant;d.Set(e),c.Set(i),h.Set(n),t.Set(r),d.Stringify(l,"X1"),c.Stringify(l,"Y1"),h.Stringify(l,"X2"),t.Stringify(l,"Y2"),o.Stringify(l,"primData"),a.Stringify(l,"options"),JSONreq.getJSON(f+"wacom.js",l,function(t){s(u,parseInt(t.status))})},this.Close=function(e){var t={WizCtl:"Close",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.Display=function(e){var t={WizCtl:"Display",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.FireClick=function(t,e){t={WizCtl:"FireClick",session:p.session,handle:u.handle,fireClickId:t};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.GetBackColor=function(e){var t={WizCtl:"GetBackColor",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.backColor),parseInt(t.status))})},this.GetBorderColor=function(e){var t={WizCtl:"GetBorderColor",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.borderColor),parseInt(t.status))})},this.GetBorderStyle=function(e){var t={WizCtl:"GetBorderStyle",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.borderStyle),parseInt(t.status))})},this.GetBorderVisible=function(e){var t={WizCtl:"GetBorderVisible",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,Boolean(1==parseInt(t.borderVisible)),parseInt(t.status))})},this.GetBorderWidth=function(e){var t={WizCtl:"GetBorderWidth",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.borderWidth),parseInt(t.status))})},this.GetEnableWizardDisplay=function(e){var t={WizCtl:"GetEnableWizardDisplay",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,Boolean(1==parseInt(t.enableWD)),parseInt(t.status))})},this.GetFont=function(i){var t={WizCtl:"GetFont",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"font"),i(u,e,parseInt(t.status))})},this.GetInkingPad=function(e){var t={WizCtl:"GetInkingPad",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,Boolean(1==parseInt(t.inkingPad)),parseInt(t.status))})},this.GetLicence=function(e){var t={WizCtl:"GetLicence",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,t.licence,parseInt(t.status))})},this.GetObjectState=function(t,i){t={WizCtl:"GetObjectState",session:p.session,handle:u.handle,objectId:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"objState"),i(u,e,parseInt(t.status))})},this.GetPadHeight=function(e){var t={WizCtl:"GetPadHeight",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseFloat(t.height),parseInt(t.status))})},this.GetPadWidth=function(e){var t={WizCtl:"GetPadWidth",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseFloat(t.width),parseInt(t.status))})},this.GetProperty=function(t,i){t={WizCtl:"GetProperty",session:p.session,handle:u.handle,key:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){var e=new p.Variant;e.Parse(t,"property"),i(u,e,parseInt(t.status))})},this.GetVisibleWindow=function(e){var t={WizCtl:"GetVisibleWindow",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,Boolean(1==parseInt(t.visible)),parseInt(t.status))})},this.GetZoom=function(e){var t={WizCtl:"GetZoom",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseFloat(t.zoom),parseInt(t.status))})},this.PadConnect=function(e){var t={WizCtl:"PadConnect",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,Boolean(1==parseInt(t.padConnect)),parseInt(t.status))})},this.PadDisconnect=function(e){var t={WizCtl:"PadDisconnect",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutBackColor=function(t,e){t={WizCtl:"PutBackColor",session:p.session,handle:u.handle,backColor:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutBorderColor=function(t,e){t={WizCtl:"PutBorderColor",session:p.session,handle:u.handle,borderColor:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutBorderStyle=function(t,e){t={WizCtl:"PutBorderStyle",session:p.session,handle:u.handle,borderStyle:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutBorderVisible=function(t,e){t={WizCtl:"PutBorderVisible",session:p.session,handle:u.handle,borderVisible:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutBorderWidth=function(t,e){t={WizCtl:"PutBorderWidth",session:p.session,handle:u.handle,borderWidth:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutEnableWizardDisplay=function(t,e){t={WizCtl:"PutEnableWizardDisplay",session:p.session,handle:u.handle,enableWD:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutFont=function(t,e){var i={WizCtl:"PutFont",session:p.session,handle:u.handle};t.Stringify(i,"font"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(u,parseInt(t.status))})},this.PutLicence=function(t,e){t={WizCtl:"PutLicence",session:p.session,handle:u.handle,licence:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutPadHeight=function(t,e){t={WizCtl:"PutPadHeight",session:p.session,handle:u.handle,height:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutPadWidth=function(t,e){t={WizCtl:"PutPadWidth",session:p.session,handle:u.handle,width:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutProperties=function(t,e){t={WizCtl:"PutProperties",session:p.session,handle:u.handle,properties:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutRefFont=function(t,e){var i={WizCtl:"PutRefFont",session:p.session,handle:u.handle};t.Stringify(i,"font"),JSONreq.getJSON(f+"wacom.js",i,function(t){e(u,parseInt(t.status))})},this.PutVisibleWindow=function(t,e){t={WizCtl:"PutVisibleWindow",session:p.session,handle:u.handle,visible:Number(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.PutZoom=function(t,e){t={WizCtl:"PutZoom",session:p.session,handle:u.handle,zoom:g(t)};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.Reset=function(e){var t={WizCtl:"Reset",session:p.session,handle:u.handle};JSONreq.getJSON(f+"wacom.js",t,function(t){e(u,parseInt(t.status))})},this.SetProperty=function(t,e,i){t={WizCtl:"SetProperty",session:p.session,handle:u.handle,key:t};e.Stringify(t,"value"),JSONreq.getJSON(f+"wacom.js",t,function(t){i(u,parseInt(t.status))})},this.SetEventHandler=function(t){var e={WizCtl:"SetEventHandler",session:p.session,handle:u.handle};n=t,JSONreq.getJSON(f+"wacom.js",e,function t(e){var i={WizCtl:"UpdateEventHandler",session:p.session,handle:u.handle};if(0==parseInt(e.status))JSONreq.getJSON(f+"wacom.js",i,t);else if(void 0===e.status)return;setTimeout(function(){n(u.handle,e["event-id"],parseInt(e["event-type"]),parseInt(e.status))},0)})}}}
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).canvg={})}(this,function(t){"use strict";var e=Function.prototype,r=e.bind,n=e.call,i=r&&r.bind(n),o=r?function(t){return t&&i(n,t)}:function(t){return t&&function(){return n.apply(t,arguments)}},a=o({}.isPrototypeOf),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var c,l,h=function(t){return t&&t.Math==Math&&t},f=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof s&&s)||function(){return this}()||Function("return this")(),p=Function.prototype,g=p.apply,d=p.bind,y=p.call,v="object"==typeof Reflect&&Reflect.apply||(d?y.bind(g):function(){return y.apply(g,arguments)}),m=function(t){return"function"==typeof t},b=function(t){try{return!!t()}catch(t){return!0}},x=!b(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),w=Function.prototype.call,S=w.bind?w.bind(w):function(){return w.apply(w,arguments)},A={}.propertyIsEnumerable,T=Object.getOwnPropertyDescriptor,E={f:T&&!A.call({1:2},1)?function(t){var e=T(this,t);return!!e&&e.enumerable}:A},C=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=o({}.toString),P=o("".slice),M=function(t){return P(O(t),8,-1)},N=f.Object,V=o("".split),_=b(function(){return!N("z").propertyIsEnumerable(0)})?function(t){return"String"==M(t)?V(t,""):N(t)}:N,R=f.TypeError,k=function(t){if(null==t)throw R("Can't call method on "+t);return t},I=function(t){return _(k(t))},D=function(t){return"object"==typeof t?null!==t:m(t)},L={},B=function(t){return m(t)?t:void 0},F=function(t,e){return arguments.length<2?B(L[t])||B(f[t]):L[t]&&L[t][e]||f[t]&&f[t][e]},z=F("navigator","userAgent")||"",j=f.process,H=f.Deno,U=j&&j.versions||H&&H.version,X=U&&U.v8;X&&(l=(c=X.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!l&&z&&(!(c=z.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=z.match(/Chrome\/(\d+)/))&&(l=+c[1]);var Y=l,G=!!Object.getOwnPropertySymbols&&!b(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Y&&Y<41}),q=G&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,W=f.Object,Q=q?function(t){return"symbol"==typeof t}:function(t){var e=F("Symbol");return m(e)&&a(e.prototype,W(t))},$=f.String,Z=function(t){try{return $(t)}catch(t){return"Object"}},K=f.TypeError,J=function(t){if(m(t))return t;throw K(Z(t)+" is not a function")},tt=function(t,e){var r=t[e];return null==r?void 0:J(r)},et=f.TypeError,rt=Object.defineProperty,nt=f["__core-js_shared__"]||function(t,e){try{rt(f,t,{value:e,configurable:!0,writable:!0})}catch(r){f[t]=e}return e}("__core-js_shared__",{}),it=u(function(t){(t.exports=function(t,e){return nt[t]||(nt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),ot=f.Object,at=function(t){return ot(k(t))},st=o({}.hasOwnProperty),ut=Object.hasOwn||function(t,e){return st(at(t),e)},ct=0,lt=Math.random(),ht=o(1..toString),ft=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ht(++ct+lt,36)},pt=it("wks"),gt=f.Symbol,dt=gt&&gt.for,yt=q?gt:gt&&gt.withoutSetter||ft,vt=function(t){if(!ut(pt,t)||!G&&"string"!=typeof pt[t]){var e="Symbol."+t;G&&ut(gt,t)?pt[t]=gt[t]:pt[t]=q&&dt?dt(e):yt(e)}return pt[t]},mt=f.TypeError,bt=vt("toPrimitive"),xt=function(t,e){if(!D(t)||Q(t))return t;var r,n=tt(t,bt);if(n){if(void 0===e&&(e="default"),r=S(n,t,e),!D(r)||Q(r))return r;throw mt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&m(r=t.toString)&&!D(n=S(r,t)))return n;if(m(r=t.valueOf)&&!D(n=S(r,t)))return n;if("string"!==e&&m(r=t.toString)&&!D(n=S(r,t)))return n;throw et("Can't convert object to primitive value")}(t,e)},wt=function(t){var e=xt(t,"string");return Q(e)?e:e+""},St=f.document,At=D(St)&&D(St.createElement),Tt=function(t){return At?St.createElement(t):{}},Et=!x&&!b(function(){return 7!=Object.defineProperty(Tt("div"),"a",{get:function(){return 7}}).a}),Ct=Object.getOwnPropertyDescriptor,Ot={f:x?Ct:function(t,e){if(t=I(t),e=wt(e),Et)try{return Ct(t,e)}catch(t){}if(ut(t,e))return C(!S(E.f,t,e),t[e])}},Pt=/#|\.prototype\./,Mt=function(t,e){var r=Vt[Nt(t)];return r==Rt||r!=_t&&(m(e)?b(e):!!e)},Nt=Mt.normalize=function(t){return String(t).replace(Pt,".").toLowerCase()},Vt=Mt.data={},_t=Mt.NATIVE="N",Rt=Mt.POLYFILL="P",kt=Mt,It=o(o.bind),Dt=function(t,e){return J(t),void 0===e?t:It?It(t,e):function(){return t.apply(e,arguments)}},Lt=f.String,Bt=f.TypeError,Ft=function(t){if(D(t))return t;throw Bt(Lt(t)+" is not an object")},zt=f.TypeError,jt=Object.defineProperty,Ht={f:x?jt:function(t,e,r){if(Ft(t),e=wt(e),Ft(r),Et)try{return jt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw zt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Ut=x?function(t,e,r){return Ht.f(t,e,C(1,r))}:function(t,e,r){return t[e]=r,t},Xt=Ot.f,Yt=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return v(t,this,arguments)};return e.prototype=t.prototype,e},Gt=function(t,e){var r,n,i,a,s,u,c,l,h=t.target,p=t.global,g=t.stat,d=t.proto,y=p?f:g?f[h]:(f[h]||{}).prototype,v=p?L:L[h]||Ut(L,h,{})[h],b=v.prototype;for(i in e)r=!kt(p?i:h+(g?".":"#")+i,t.forced)&&y&&ut(y,i),s=v[i],r&&(u=t.noTargetGet?(l=Xt(y,i))&&l.value:y[i]),a=r&&u?u:e[i],r&&typeof s==typeof a||(c=t.bind&&r?Dt(a,f):t.wrap&&r?Yt(a):d&&m(a)?o(a):a,(t.sham||a&&a.sham||s&&s.sham)&&Ut(c,"sham",!0),Ut(v,i,c),d&&(ut(L,n=h+"Prototype")||Ut(L,n,{}),Ut(L[n],i,a),t.real&&b&&!b[i]&&Ut(b,i,a)))},qt=Math.ceil,Wt=Math.floor,Qt=function(t){var e=+t;return e!=e||0===e?0:(e>0?Wt:qt)(e)},$t=Math.min,Zt=function(t){return t>0?$t(Qt(t),9007199254740991):0},Kt=function(t){return Zt(t.length)},Jt=Array.isArray||function(t){return"Array"==M(t)},te={};te[vt("toStringTag")]="z";var ee="[object z]"===String(te),re=vt("toStringTag"),ne=f.Object,ie="Arguments"==M(function(){return arguments}()),oe=ee?M:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=ne(t),re))?r:ie?M(e):"Object"==(n=M(e))&&m(e.callee)?"Arguments":n},ae=o(Function.toString);m(nt.inspectSource)||(nt.inspectSource=function(t){return ae(t)});var se,ue=nt.inspectSource,ce=function(){},le=[],he=F("Reflect","construct"),fe=/^\s*(?:class|function)\b/,pe=o(fe.exec),ge=!fe.exec(ce),de=function(t){if(!m(t))return!1;try{return he(ce,le,t),!0}catch(t){return!1}},ye=!he||b(function(){var t;return de(de.call)||!de(Object)||!de(function(){t=!0})||t})?function(t){if(!m(t))return!1;switch(oe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ge||!!pe(fe,ue(t))}:de,ve=vt("species"),me=f.Array,be=function(t,e){return new(function(t){var e;return Jt(t)&&(e=t.constructor,ye(e)&&(e===me||Jt(e.prototype))?e=void 0:D(e)&&null===(e=e[ve])&&(e=void 0)),void 0===e?me:e}(t))(0===e?0:e)},xe=o([].push),we=function(t){var e=1==t,r=2==t,n=3==t,i=4==t,o=6==t,a=7==t,s=5==t||o;return function(u,c,l,h){for(var f,p,g=at(u),d=_(g),y=Dt(c,l),v=Kt(d),m=0,b=h||be,x=e?b(u,v):r||a?b(u,0):void 0;v>m;m++)if((s||m in d)&&(p=y(f=d[m],m,g),t))if(e)x[m]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:xe(x,f)}else switch(t){case 4:return!1;case 7:xe(x,f)}return o?-1:n||i?i:x}},Se={forEach:we(0),map:we(1),filter:we(2),some:we(3),every:we(4),find:we(5),findIndex:we(6),filterReject:we(7)},Ae=vt("species"),Te=Se.map,Ee=(se="map",Y>=51||!b(function(){var t=[];return(t.constructor={})[Ae]=function(){return{foo:1}},1!==t[se](Boolean).foo}));Gt({target:"Array",proto:!0,forced:!Ee},{map:function(t){return Te(this,t,arguments.length>1?arguments[1]:void 0)}});var Ce=function(t){return L[t+"Prototype"]},Oe=Ce("Array").map,Pe=Array.prototype,Me=function(t){var e=t.map;return t===Pe||a(Pe,t)&&e===Pe.map?Oe:e},Ne=f.String,Ve=function(t){if("Symbol"===oe(t))throw TypeError("Cannot convert a Symbol value to a string");return Ne(t)},_e="\t\n\v\f\r                　\u2028\u2029\ufeff",Re=o("".replace),ke="["+_e+"]",Ie=RegExp("^"+ke+ke+"*"),De=RegExp(ke+ke+"*$"),Le=function(t){return function(e){var r=Ve(k(e));return 1&t&&(r=Re(r,Ie,"")),2&t&&(r=Re(r,De,"")),r}},Be={start:Le(1),end:Le(2),trim:Le(3)},Fe=Be.trim,ze=o("".charAt),je=f.parseFloat,He=f.Symbol,Ue=He&&He.iterator,Xe=1/je(_e+"-0")!=-1/0||Ue&&!b(function(){je(Object(Ue))})?function(t){var e=Fe(Ve(t)),r=je(e);return 0===r&&"-"==ze(e,0)?-0:r}:je;Gt({global:!0,forced:parseFloat!=Xe},{parseFloat:Xe});var Ye=L.parseFloat,Ge=vt("match"),qe=f.TypeError,We=function(t){if(function(t){var e;return D(t)&&(void 0!==(e=t[Ge])?!!e:"RegExp"==M(t))}(t))throw qe("The method doesn't accept regular expressions");return t},Qe=vt("match"),$e=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Qe]=!1,"/./"[t](e)}catch(t){}}return!1},Ze=o("".startsWith),Ke=o("".slice),Je=Math.min,tr=$e("startsWith");Gt({target:"String",proto:!0,forced:!tr},{startsWith:function(t){var e=Ve(k(this));We(t);var r=Zt(Je(arguments.length>1?arguments[1]:void 0,e.length)),n=Ve(t);return Ze?Ze(e,n,r):Ke(e,r,r+n.length)===n}});var er=Ce("String").startsWith,rr=String.prototype,nr=function(t){var e=t.startsWith;return"string"==typeof t||t===rr||a(rr,t)&&e===rr.startsWith?er:e};function ir(t){return t.replace(/(?!\u3000)\s+/gm," ")}function or(t){return t.replace(/^[\n \t]+/,"")}function ar(t){return t.replace(/[\n \t]+$/,"")}function sr(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return Me(e).call(e,Ye)}var ur=/^[A-Z-]+$/;function cr(t){return ur.test(t)?t.toLowerCase():t}function lr(t){var e=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return e[2]||e[3]||e[4]}function hr(t){if(!nr(t).call(t,"rgb"))return t;var e=3;return t.replace(/\d+(\.\d+)?/g,function(t,r){return e--&&r?String(Math.round(Ye(t))):t})}var fr=/(\[[^\]]+\])/g,pr=/(#[^\s\+>~\.\[:]+)/g,gr=/(\.[^\s\+>~\.\[:]+)/g,dr=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,yr=/(:[\w-]+\([^\)]*\))/gi,vr=/(:[^\s\+>~\.\[:]+)/g,mr=/([^\s\+>~\.\[:]+)/g;function br(t,e){var r=t.match(e);return r?[t.replace(e," "),r.length]:[t,0]}function xr(t){var e,r,n,i,o,a,s,u=[0,0,0],c=t.replace(/:not\(([^\)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),l=0;return c=(e=br(c,fr))[0],l=e[1],u[1]+=l,c=(r=br(c,pr))[0],l=r[1],u[0]+=l,c=(n=br(c,gr))[0],l=n[1],u[1]+=l,c=(i=br(c,dr))[0],l=i[1],u[2]+=l,c=(o=br(c,yr))[0],l=o[1],u[1]+=l,c=(a=br(c,vr))[0],l=a[1],u[1]+=l,c=(s=br(c=c.replace(/[\*\s\+>~]/g," ").replace(/[#\.]/g," "),mr))[0],l=s[1],u[2]+=l,u.join("")}var wr=1e-8;function Sr(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Ar(t,e){return(t[0]*e[0]+t[1]*e[1])/(Sr(t)*Sr(e))}function Tr(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ar(t,e))}var Er=function(t,e){return(Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function Cr(t,e){function r(){this.constructor=t}Er(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Or=function(){return(Or=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Pr(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}function Mr(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Nr,Vr=it("keys"),_r=function(t){return Vr[t]||(Vr[t]=ft(t))},Rr=!b(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),kr=_r("IE_PROTO"),Ir=f.Object,Dr=Ir.prototype,Lr=Rr?Ir.getPrototypeOf:function(t){var e=at(t);if(ut(e,kr))return e[kr];var r=e.constructor;return m(r)&&e instanceof r?r.prototype:e instanceof Ir?Dr:null},Br=f.String,Fr=f.TypeError,zr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Ft(r),function(t){if("object"==typeof t||m(t))return t;throw Fr("Can't set "+Br(t)+" as a prototype")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),jr=Math.max,Hr=Math.min,Ur=function(t,e){var r=Qt(t);return r<0?jr(r+e,0):Hr(r,e)},Xr=function(t){return function(e,r,n){var i,o=I(e),a=Kt(o),s=Ur(n,a);if(t&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},Yr={includes:Xr(!0),indexOf:Xr(!1)},Gr={},qr=Yr.indexOf,Wr=o([].push),Qr=function(t,e){var r,n=I(t),i=0,o=[];for(r in n)!ut(Gr,r)&&ut(n,r)&&Wr(o,r);for(;e.length>i;)ut(n,r=e[i++])&&(~qr(o,r)||Wr(o,r));return o},$r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zr=$r.concat("length","prototype"),Kr={f:Object.getOwnPropertyNames||function(t){return Qr(t,Zr)}},Jr={f:Object.getOwnPropertySymbols},tn=o([].concat),en=F("Reflect","ownKeys")||function(t){var e=Kr.f(Ft(t)),r=Jr.f;return r?tn(e,r(t)):e},rn=Object.keys||function(t){return Qr(t,$r)},nn=x?Object.defineProperties:function(t,e){Ft(t);for(var r,n=I(e),i=rn(e),o=i.length,a=0;o>a;)Ht.f(t,r=i[a++],n[r]);return t},on=F("document","documentElement"),an=_r("IE_PROTO"),sn=function(){},un=function(t){return"<script>"+t+"<\/script>"},cn=function(t){t.write(un("")),t.close();var e=t.parentWindow.Object;return t=null,e},ln=function(){try{Nr=new ActiveXObject("htmlfile")}catch(t){}var t,e;ln="undefined"!=typeof document?document.domain&&Nr?cn(Nr):((e=Tt("iframe")).style.display="none",on.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(un("document.F=Object")),t.close(),t.F):cn(Nr);for(var r=$r.length;r--;)delete ln.prototype[$r[r]];return ln()};Gr[an]=!0;var hn=Object.create||function(t,e){var r;return null!==t?(sn.prototype=Ft(t),r=new sn,sn.prototype=null,r[an]=t):r=ln(),void 0===e?r:nn(r,e)},fn=function(t,e,r){var n=wt(e);n in t?Ht.f(t,n,C(0,r)):t[n]=r},pn=f.Array,gn=Math.max,dn=o("".replace),yn=o("".split),vn=o([].join),mn=String(Error("zxcasd").stack),bn=/\n\s*at [^:]*:[^\n]*/,xn=bn.test(mn),wn=/@[^\n]*\n/.test(mn)&&!/zxcasd/.test(mn),Sn=function(t,e){if("string"!=typeof t)return t;if(xn)for(;e--;)t=dn(t,bn,"");else if(wn)return vn(function(t,e,r){for(var n=Kt(t),i=Ur(e,n),o=Ur(void 0===r?n:r,n),a=pn(gn(o-i,0)),s=0;i<o;i++,s++)fn(a,s,t[i]);return a.length=s,a}(yn(t,"\n"),e),"\n");return t},An={},Tn=vt("iterator"),En=Array.prototype,Cn=function(t){return void 0!==t&&(An.Array===t||En[Tn]===t)},On=vt("iterator"),Pn=function(t){if(null!=t)return tt(t,On)||tt(t,"@@iterator")||An[oe(t)]},Mn=f.TypeError,Nn=function(t,e){var r=arguments.length<2?Pn(t):e;if(J(r))return Ft(S(r,t));throw Mn(Z(t)+" is not iterable")},Vn=function(t,e,r){var n,i;Ft(t);try{if(!(n=tt(t,"return"))){if("throw"===e)throw r;return r}n=S(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return Ft(n),r},_n=f.TypeError,Rn=function(t,e){this.stopped=t,this.result=e},kn=Rn.prototype,In=function(t,e,r){var n,i,o,s,u,c,l,h=r&&r.that,f=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),g=!(!r||!r.INTERRUPTED),d=Dt(e,h),y=function(t){return n&&Vn(n,"normal",t),new Rn(!0,t)},v=function(t){return f?(Ft(t),g?d(t[0],t[1],y):d(t[0],t[1])):g?d(t,y):d(t)};if(p)n=t;else{if(!(i=Pn(t)))throw _n(Z(t)+" is not iterable");if(Cn(i)){for(o=0,s=Kt(t);s>o;o++)if((u=v(t[o]))&&a(kn,u))return u;return new Rn(!1)}n=Nn(t,i)}for(c=n.next;!(l=S(c,n)).done;){try{u=v(l.value)}catch(t){Vn(n,"throw",t)}if("object"==typeof u&&u&&a(kn,u))return u}return new Rn(!1)},Dn=!b(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",C(1,7)),7!==t.stack)}),Ln=vt("toStringTag"),Bn=f.Error,Fn=[].push,zn=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,i=a(jn,this);zr?r=zr(new Bn(void 0),i?Lr(this):jn):(r=i?this:hn(jn),Ut(r,Ln,"Error")),Ut(r,"message",function(t,e){return void 0===t?arguments.length<2?"":e:Ve(t)}(e,"")),Dn&&Ut(r,"stack",Sn(r.stack,1)),function(t,e){D(e)&&"cause"in e&&Ut(t,"cause",e.cause)}(r,n);var o=[];return In(t,Fn,{that:o}),Ut(r,"errors",o),r};zr?zr(zn,Bn):function(t,e){for(var r=en(e),n=Ht.f,i=Ot.f,o=0;o<r.length;o++){var a=r[o];ut(t,a)||n(t,a,i(e,a))}}(zn,Bn);var jn=zn.prototype=hn(Bn.prototype,{constructor:C(1,zn),message:C(1,""),name:C(1,"AggregateError")});Gt({global:!0},{AggregateError:zn});var Hn,Un,Xn,Yn=f.WeakMap,Gn=m(Yn)&&/native code/.test(ue(Yn)),qn=f.TypeError,Wn=f.WeakMap;if(Gn||nt.state){var Qn=nt.state||(nt.state=new Wn),$n=o(Qn.get),Zn=o(Qn.has),Kn=o(Qn.set);Hn=function(t,e){if(Zn(Qn,t))throw new qn("Object already initialized");return e.facade=t,Kn(Qn,t,e),e},Un=function(t){return $n(Qn,t)||{}},Xn=function(t){return Zn(Qn,t)}}else{var Jn=_r("state");Gr[Jn]=!0,Hn=function(t,e){if(ut(t,Jn))throw new qn("Object already initialized");return e.facade=t,Ut(t,Jn,e),e},Un=function(t){return ut(t,Jn)?t[Jn]:{}},Xn=function(t){return ut(t,Jn)}}var ti,ei,ri,ni={set:Hn,get:Un,has:Xn,enforce:function(t){return Xn(t)?Un(t):Hn(t,{})},getterFor:function(t){return function(e){var r;if(!D(e)||(r=Un(e)).type!==t)throw qn("Incompatible receiver, "+t+" required");return r}}},ii=Function.prototype,oi=x&&Object.getOwnPropertyDescriptor,ai=ut(ii,"name"),si={EXISTS:ai,PROPER:ai&&"something"===function(){}.name,CONFIGURABLE:ai&&(!x||x&&oi(ii,"name").configurable)},ui=function(t,e,r,n){n&&n.enumerable?t[e]=r:Ut(t,e,r)},ci=vt("iterator"),li=!1;[].keys&&("next"in(ri=[].keys())?(ei=Lr(Lr(ri)))!==Object.prototype&&(ti=ei):li=!0);var hi=null==ti||b(function(){var t={};return ti[ci].call(t)!==t});ti=hi?{}:hn(ti),m(ti[ci])||ui(ti,ci,function(){return this});var fi={IteratorPrototype:ti,BUGGY_SAFARI_ITERATORS:li},pi=ee?{}.toString:function(){return"[object "+oe(this)+"]"},gi=Ht.f,di=vt("toStringTag"),yi=function(t,e,r,n){if(t){var i=r?t:t.prototype;ut(i,di)||gi(i,di,{configurable:!0,value:e}),n&&!ee&&Ut(i,"toString",pi)}},vi=fi.IteratorPrototype,mi=function(){return this},bi=si.PROPER,xi=fi.BUGGY_SAFARI_ITERATORS,wi=vt("iterator"),Si=function(){return this},Ai=function(t,e,r,n,i,o,a){!function(t,e,r,n){var i=e+" Iterator";t.prototype=hn(vi,{next:C(+!n,r)}),yi(t,i,!1,!0),An[i]=mi}(r,e,n);var s,u,c,l=function(t){if(t===i&&d)return d;if(!xi&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},h=e+" Iterator",f=!1,p=t.prototype,g=p[wi]||p["@@iterator"]||i&&p[i],d=!xi&&g||l(i),y="Array"==e&&p.entries||g;if(y&&(s=Lr(y.call(new t)))!==Object.prototype&&s.next&&(yi(s,h,!0,!0),An[h]=Si),bi&&"values"==i&&g&&"values"!==g.name&&(f=!0,d=function(){return S(g,this)}),i)if(u={values:l("values"),keys:o?d:l("keys"),entries:l("entries")},a)for(c in u)!xi&&!f&&c in p||ui(p,c,u[c]);else Gt({target:e,proto:!0,forced:xi||f},u);return a&&p[wi]!==d&&ui(p,wi,d,{name:i}),An[e]=d,u},Ti=ni.set,Ei=ni.getterFor("Array Iterator");Ai(Array,"Array",function(t,e){Ti(this,{type:"Array Iterator",target:I(t),index:0,kind:e})},function(){var t=Ei(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),An.Arguments=An.Array;var Ci=f.Promise,Oi=vt("species"),Pi=f.TypeError,Mi=vt("iterator"),Ni=!1;try{var Vi=0,_i={next:function(){return{done:!!Vi++}},return:function(){Ni=!0}};_i[Mi]=function(){return this},Array.from(_i,function(){throw 2})}catch(t){}var Ri,ki,Ii,Di,Li=function(t,e){if(!e&&!Ni)return!1;var r=!1;try{var n={};n[Mi]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Bi=f.TypeError,Fi=vt("species"),zi=function(t,e){var r,n=Ft(t).constructor;return void 0===n||null==(r=Ft(n)[Fi])?e:function(t){if(ye(t))return t;throw Bi(Z(t)+" is not a constructor")}(r)},ji=o([].slice),Hi=/(?:ipad|iphone|ipod).*applewebkit/i.test(z),Ui="process"==M(f.process),Xi=f.setImmediate,Yi=f.clearImmediate,Gi=f.process,qi=f.Dispatch,Wi=f.Function,Qi=f.MessageChannel,$i=f.String,Zi=0,Ki={};try{Ri=f.location}catch(t){}var Ji=function(t){if(ut(Ki,t)){var e=Ki[t];delete Ki[t],e()}},to=function(t){return function(){Ji(t)}},eo=function(t){Ji(t.data)},ro=function(t){f.postMessage($i(t),Ri.protocol+"//"+Ri.host)};Xi&&Yi||(Xi=function(t){var e=ji(arguments,1);return Ki[++Zi]=function(){v(m(t)?t:Wi(t),void 0,e)},ki(Zi),Zi},Yi=function(t){delete Ki[t]},Ui?ki=function(t){Gi.nextTick(to(t))}:qi&&qi.now?ki=function(t){qi.now(to(t))}:Qi&&!Hi?(Di=(Ii=new Qi).port2,Ii.port1.onmessage=eo,ki=Dt(Di.postMessage,Di)):f.addEventListener&&m(f.postMessage)&&!f.importScripts&&Ri&&"file:"!==Ri.protocol&&!b(ro)?(ki=ro,f.addEventListener("message",eo,!1)):ki="onreadystatechange"in Tt("script")?function(t){on.appendChild(Tt("script")).onreadystatechange=function(){on.removeChild(this),Ji(t)}}:function(t){setTimeout(to(t),0)});var no,io,oo,ao,so,uo,co,lo,ho={set:Xi,clear:Yi},fo=/ipad|iphone|ipod/i.test(z)&&void 0!==f.Pebble,po=/web0s(?!.*chrome)/i.test(z),go=Ot.f,yo=ho.set,vo=f.MutationObserver||f.WebKitMutationObserver,mo=f.document,bo=f.process,xo=f.Promise,wo=go(f,"queueMicrotask"),So=wo&&wo.value;So||(no=function(){var t,e;for(Ui&&(t=bo.domain)&&t.exit();io;){e=io.fn,io=io.next;try{e()}catch(t){throw io?ao():oo=void 0,t}}oo=void 0,t&&t.enter()},Hi||Ui||po||!vo||!mo?!fo&&xo&&xo.resolve?((co=xo.resolve(void 0)).constructor=xo,lo=Dt(co.then,co),ao=function(){lo(no)}):Ui?ao=function(){bo.nextTick(no)}:(yo=Dt(yo,f),ao=function(){yo(no)}):(so=!0,uo=mo.createTextNode(""),new vo(no).observe(uo,{characterData:!0}),ao=function(){uo.data=so=!so}));var Ao,To,Eo,Co=So||function(t){var e={fn:t,next:void 0};oo&&(oo.next=e),io||(io=e,ao()),oo=e},Oo=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=J(e),this.reject=J(r)},Po={f:function(t){return new Oo(t)}},Mo=function(t,e){if(Ft(t),D(e)&&e.constructor===t)return e;var r=Po.f(t);return(0,r.resolve)(e),r.promise},No=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Vo="object"==typeof window,_o=ho.set,Ro=vt("species"),ko="Promise",Io=ni.getterFor(ko),Do=ni.set,Lo=ni.getterFor(ko),Bo=Ci&&Ci.prototype,Fo=Ci,zo=Bo,jo=f.TypeError,Ho=f.document,Uo=f.process,Xo=Po.f,Yo=Xo,Go=!!(Ho&&Ho.createEvent&&f.dispatchEvent),qo=m(f.PromiseRejectionEvent),Wo=kt(ko,function(){var t=ue(Fo),e=t!==String(Fo);if(!e&&66===Y)return!0;if(!zo.finally)return!0;if(Y>=51&&/native code/.test(t))return!1;var r=new Fo(function(t){t(1)}),n=function(t){t(function(){},function(){})};return(r.constructor={})[Ro]=n,!(r.then(function(){})instanceof n)||!e&&Vo&&!qo}),Qo=Wo||!Li(function(t){Fo.all(t).catch(function(){})}),$o=function(t){var e;return!(!D(t)||!m(e=t.then))&&e},Zo=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;Co(function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,u,c=r[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{l?(i||(2===t.rejection&&ea(t),t.rejection=1),!0===l?a=n:(p&&p.enter(),a=l(n),p&&(p.exit(),u=!0)),a===c.promise?f(jo("Promise-chain cycle")):(s=$o(a))?S(s,a,h,f):h(a)):f(n)}catch(t){p&&!u&&p.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Jo(t)})}},Ko=function(t,e,r){var n,i;Go?((n=Ho.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),f.dispatchEvent(n)):n={promise:e,reason:r},!qo&&(i=f["on"+t])?i(n):"unhandledrejection"===t&&function(t,e){var r=f.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},Jo=function(t){S(_o,f,function(){var e,r=t.facade,n=t.value;if(ta(t)&&(e=No(function(){Ui?Uo.emit("unhandledRejection",n,r):Ko("unhandledrejection",r,n)}),t.rejection=Ui||ta(t)?2:1,e.error))throw e.value})},ta=function(t){return 1!==t.rejection&&!t.parent},ea=function(t){S(_o,f,function(){var e=t.facade;Ui?Uo.emit("rejectionHandled",e):Ko("rejectionhandled",e,t.value)})},ra=function(t,e,r){return function(n){t(e,n,r)}},na=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Zo(t,!0))},ia=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw jo("Promise can't be resolved itself");var n=$o(e);n?Co(function(){var r={done:!1};try{S(n,e,ra(ia,r,t),ra(na,r,t))}catch(e){na(r,e,t)}}):(t.value=e,t.state=1,Zo(t,!1))}catch(e){na({done:!1},e,t)}}};Wo&&(zo=(Fo=function(t){!function(t,e){if(a(e,t))return t;throw Pi("Incorrect invocation")}(this,zo),J(t),S(Ao,this);var e=Io(this);try{t(ra(ia,e),ra(na,e))}catch(t){na(e,t)}}).prototype,(Ao=function(t){Do(this,{type:ko,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:ui(t,n,e[n],r);return t}(zo,{then:function(t,e){var r=Lo(this),n=r.reactions,i=Xo(zi(this,Fo));return i.ok=!m(t)||t,i.fail=m(e)&&e,i.domain=Ui?Uo.domain:void 0,r.parent=!0,n[n.length]=i,0!=r.state&&Zo(r,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),To=function(){var t=new Ao,e=Io(t);this.promise=t,this.resolve=ra(ia,e),this.reject=ra(na,e)},Po.f=Xo=function(t){return t===Fo||t===Eo?new To(t):Yo(t)}),Gt({global:!0,wrap:!0,forced:Wo},{Promise:Fo}),yi(Fo,ko,!1,!0),function(t){var e=F(t),r=Ht.f;x&&e&&!e[Oi]&&r(e,Oi,{configurable:!0,get:function(){return this}})}(ko),Eo=F(ko),Gt({target:ko,stat:!0,forced:Wo},{reject:function(t){var e=Xo(this);return S(e.reject,void 0,t),e.promise}}),Gt({target:ko,stat:!0,forced:!0},{resolve:function(t){return Mo(this===Eo?Fo:this,t)}}),Gt({target:ko,stat:!0,forced:Qo},{all:function(t){var e=this,r=Xo(e),n=r.resolve,i=r.reject,o=No(function(){var r=J(e.resolve),o=[],a=0,s=1;In(t,function(t){var u=a++,c=!1;s++,S(r,e,t).then(function(t){c||(c=!0,o[u]=t,--s||n(o))},i)}),--s||n(o)});return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=Xo(e),n=r.reject,i=No(function(){var i=J(e.resolve);In(t,function(t){S(i,e,t).then(r.resolve,n)})});return i.error&&n(i.value),r.promise}}),Gt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=Po.f(e),n=r.resolve,i=r.reject,o=No(function(){var r=J(e.resolve),i=[],o=0,a=1;In(t,function(t){var s=o++,u=!1;a++,S(r,e,t).then(function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||n(i))},function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||n(i))})}),--a||n(i)});return o.error&&i(o.value),r.promise}});Gt({target:"Promise",stat:!0},{any:function(t){var e=this,r=F("AggregateError"),n=Po.f(e),i=n.resolve,o=n.reject,a=No(function(){var n=J(e.resolve),a=[],s=0,u=1,c=!1;In(t,function(t){var l=s++,h=!1;u++,S(n,e,t).then(function(t){h||c||(c=!0,i(t))},function(t){h||c||(h=!0,a[l]=t,--u||o(new r(a,"No one promise resolved")))})}),--u||o(new r(a,"No one promise resolved"))});return a.error&&o(a.value),n.promise}});var oa=!!Ci&&b(function(){Ci.prototype.finally.call({then:function(){}},function(){})});Gt({target:"Promise",proto:!0,real:!0,forced:oa},{finally:function(t){var e=zi(this,F("Promise")),r=m(t);return this.then(r?function(r){return Mo(e,t()).then(function(){return r})}:t,r?function(r){return Mo(e,t()).then(function(){throw r})}:t)}});var aa=o("".charAt),sa=o("".charCodeAt),ua=o("".slice),ca=function(t){return function(e,r){var n,i,o=Ve(k(e)),a=Qt(r),s=o.length;return a<0||a>=s?t?"":void 0:(n=sa(o,a))<55296||n>56319||a+1===s||(i=sa(o,a+1))<56320||i>57343?t?aa(o,a):n:t?ua(o,a,a+2):i-56320+(n-55296<<10)+65536}},la={codeAt:ca(!1),charAt:ca(!0)}.charAt,ha=ni.set,fa=ni.getterFor("String Iterator");Ai(String,"String",function(t){ha(this,{type:"String Iterator",string:Ve(t),index:0})},function(){var t,e=fa(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=la(r,n),e.index+=t.length,{value:t,done:!1})});var pa=L.Promise,ga=vt("toStringTag");for(var da in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var ya=f[da],va=ya&&ya.prototype;va&&oe(va)!==ga&&Ut(va,ga,da),An[da]=An.Array}var ma=pa,ba=f.TypeError,xa=function(t){return function(e,r,n,i){J(r);var o=at(e),a=_(o),s=Kt(o),u=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw ba("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(i=r(i,a[u],u,o));return i}},wa=function(t,e){var r=[][t];return!!r&&b(function(){r.call(null,e||function(){throw 1},1)})},Sa={left:xa(!1),right:xa(!0)}.left,Aa=wa("reduce");Gt({target:"Array",proto:!0,forced:!Aa||!Ui&&Y>79&&Y<83},{reduce:function(t){var e=arguments.length;return Sa(this,t,e,e>1?arguments[1]:void 0)}});var Ta=Ce("Array").reduce,Ea=Array.prototype,Ca=function(t){var e=t.reduce;return t===Ea||a(Ea,t)&&e===Ea.reduce?Ta:e},Oa="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Pa(){throw new Error("setTimeout has not been defined")}function Ma(){throw new Error("clearTimeout has not been defined")}var Na=Pa,Va=Ma;function _a(t){if(Na===setTimeout)return setTimeout(t,0);if((Na===Pa||!Na)&&setTimeout)return Na=setTimeout,setTimeout(t,0);try{return Na(t,0)}catch(e){try{return Na.call(null,t,0)}catch(e){return Na.call(this,t,0)}}}"function"==typeof Oa.setTimeout&&(Na=setTimeout),"function"==typeof Oa.clearTimeout&&(Va=clearTimeout);var Ra,ka=[],Ia=!1,Da=-1;function La(){Ia&&Ra&&(Ia=!1,Ra.length?ka=Ra.concat(ka):Da=-1,ka.length&&Ba())}function Ba(){if(!Ia){var t=_a(La);Ia=!0;for(var e=ka.length;e;){for(Ra=ka,ka=[];++Da<e;)Ra&&Ra[Da].run();Da=-1,e=ka.length}Ra=null,Ia=!1,function(t){if(Va===clearTimeout)return clearTimeout(t);if((Va===Ma||!Va)&&clearTimeout)return Va=clearTimeout,clearTimeout(t);try{Va(t)}catch(e){try{return Va.call(null,t)}catch(e){return Va.call(this,t)}}}(t)}}function Fa(t,e){this.fun=t,this.array=e}Fa.prototype.run=function(){this.fun.apply(null,this.array)};function za(){}var ja=za,Ha=za,Ua=za,Xa=za,Ya=za,Ga=za,qa=za;var Wa=Oa.performance||{},Qa=Wa.now||Wa.mozNow||Wa.msNow||Wa.oNow||Wa.webkitNow||function(){return(new Date).getTime()};var $a=new Date;for(var Za={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ka.push(new Fa(t,e)),1!==ka.length||Ia||_a(Ba)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ja,addListener:Ha,once:Ua,off:Xa,removeListener:Ya,removeAllListeners:Ga,emit:qa,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Qa.call(Wa),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-$a)/1e3}},Ka=u(function(t){(function(){var e,r,n,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=Za&&Za.hrtime?(t.exports=function(){return(e()-o)/1e6},r=Za.hrtime,i=(e=function(){var t;return 1e9*(t=r())[0]+t[1]})(),a=1e9*Za.uptime(),o=i-a):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(s)}),Ja="undefined"==typeof window?s:window,ts=["moz","webkit"],es="AnimationFrame",rs=Ja["request"+es],ns=Ja["cancel"+es]||Ja["cancelRequest"+es],is=0;!rs&&is<ts.length;is++)rs=Ja[ts[is]+"Request"+es],ns=Ja[ts[is]+"Cancel"+es]||Ja[ts[is]+"CancelRequest"+es];if(!rs||!ns){var os=0,as=0,ss=[];rs=function(t){if(0===ss.length){var e=Ka(),r=Math.max(0,1e3/60-(e-os));os=r+e,setTimeout(function(){var t=ss.slice(0);ss.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(os)}catch(t){setTimeout(function(){throw t},0)}},Math.round(r))}return ss.push({handle:++as,callback:t,cancelled:!1}),as},ns=function(t){for(var e=0;e<ss.length;e++)ss[e].handle===t&&(ss[e].cancelled=!0)}}var us=function(t){return rs.call(Ja,t)};us.cancel=function(){ns.apply(Ja,arguments)},us.polyfill=function(t){t||(t=Ja),t.requestAnimationFrame=rs,t.cancelAnimationFrame=ns};var cs=si.PROPER,ls=Be.trim;Gt({target:"String",proto:!0,forced:function(t){return b(function(){return!!_e[t]()||"​᠎"!=="​᠎"[t]()||cs&&_e[t].name!==t})}("trim")},{trim:function(){return ls(this)}});var hs=Ce("String").trim,fs=String.prototype,ps=function(t){var e=t.trim;return"string"==typeof t||t===fs||a(fs,t)&&e===fs.trim?hs:e},gs=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,a=i.exec(t);if(a){var s=o(a);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(n=0;n<t.length;n++)try{var u=document.createElement("li"),c=new RGBColor(t[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),l.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+c.toRGB()+" -> "+c.toHex());u.appendChild(l),u.appendChild(h),s.appendChild(u)}catch(t){}return s}},ds=function(){function t(t,e,r){this.document=t,this.name=e,this.value=r,this.isNormalizedColor=!1}return t.empty=function(e){return new t(e,"EMPTY","")},t.prototype.split=function(e){var r,n;void 0===e&&(e=" ");var i=this.document,o=this.name;return Me(r=ps(n=ir(this.getString())).call(n).split(e)).call(r,function(e){return new t(i,o,e)})},t.prototype.hasValue=function(t){var e=this.value;return null!==e&&""!==e&&(t||0!==e)&&void 0!==e},t.prototype.isString=function(t){var e=this.value,r="string"==typeof e;return r&&t?t.test(e):r},t.prototype.isUrlDefinition=function(){return this.isString(/^url\(/)},t.prototype.isPixels=function(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case/px$/.test(t):case/^[0-9]+$/.test(t):return!0;default:return!1}},t.prototype.setValue=function(t){return this.value=t,this},t.prototype.getValue=function(t){return void 0===t||this.hasValue()?this.value:t},t.prototype.getNumber=function(t){if(!this.hasValue())return void 0===t?0:Ye(t);var e=this.value,r=Ye(e);return this.isString(/%$/)&&(r/=100),r},t.prototype.getString=function(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)},t.prototype.getColor=function(t){var e=this.getString(t);return this.isNormalizedColor?e:(this.isNormalizedColor=!0,e=hr(e),this.value=e,e)},t.prototype.getDpi=function(){return 96},t.prototype.getRem=function(){return this.document.rootEmSize},t.prototype.getEm=function(){return this.document.emSize},t.prototype.getUnits=function(){return this.getString().replace(/[0-9\.\-]/g,"")},t.prototype.getPixels=function(t,e){if(void 0===e&&(e=!1),!this.hasValue())return 0;var r="boolean"==typeof t?[void 0,t]:[t],n=r[0],i=r[1],o=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&i:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(n);default:var a=this.getNumber();return e&&a<1?a*o.computeSize(n):a}},t.prototype.getMilliseconds=function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0},t.prototype.getRadians=function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}},t.prototype.getDefinition=function(){var t=this.getString(),e=t.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]},t.prototype.getFillStyleDefinition=function(t,e){var r=this.getDefinition();if(!r)return null;if("function"==typeof r.createGradient)return r.createGradient(this.document.ctx,t,e);if("function"==typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var n=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)}return r.createPattern(this.document.ctx,t,e)}return null},t.prototype.getTextBaseline=function(){return this.hasValue()?t.textBaselineMapping[this.getString()]:null},t.prototype.addOpacity=function(e){for(var r=this.getColor(),n=r.length,i=0,o=0;o<n&&(","===r[o]&&i++,3!==i);o++);if(e.hasValue()&&this.isString()&&3!==i){var a=new gs(r);a.ok&&(a.alpha=e.getNumber(),r=a.toRGBA())}return new t(this.document,this.name,r)},t.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"},t}(),ys=function(){function t(){this.viewPorts=[]}return t.prototype.clear=function(){this.viewPorts=[]},t.prototype.setCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},t.prototype.removeCurrent=function(){this.viewPorts.pop()},t.prototype.getCurrent=function(){var t=this.viewPorts;return t[t.length-1]},Object.defineProperty(t.prototype,"width",{get:function(){return this.getCurrent().width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getCurrent().height},enumerable:!1,configurable:!0}),t.prototype.computeSize=function(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)},t}(),vs=function(){function t(t,e){this.x=t,this.y=e}return t.parse=function(e,r){void 0===r&&(r=0);var n=sr(e),i=n[0],o=void 0===i?r:i,a=n[1];return new t(o,void 0===a?r:a)},t.parseScale=function(e,r){void 0===r&&(r=1);var n=sr(e),i=n[0],o=void 0===i?r:i,a=n[1];return new t(o,void 0===a?o:a)},t.parsePath=function(e){for(var r=sr(e),n=r.length,i=[],o=0;o<n;o+=2)i.push(new t(r[o],r[o+1]));return i},t.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.prototype.applyTransform=function(t){var e=this.x,r=this.y,n=e*t[0]+r*t[2]+t[4],i=e*t[1]+r*t[3]+t[5];this.x=n,this.y=i},t}(),ms=function(){function t(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return t.prototype.isWorking=function(){return this.working},t.prototype.start=function(){if(!this.working){var t=this.screen,e=this.onClick,r=this.onMouseMove,n=t.ctx.canvas;n.onclick=e,n.onmousemove=r,this.working=!0}},t.prototype.stop=function(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}},t.prototype.hasEvents=function(){return this.working&&this.events.length>0},t.prototype.runEvents=function(){if(this.working){var t=this.screen,e=this.events,r=this.eventElements,n=t.ctx.canvas.style;n&&(n.cursor=""),e.forEach(function(t,e){for(var n=t.run,i=r[e];i;)n(i),i=i.parent}),this.events=[],this.eventElements=[]}},t.prototype.checkPath=function(t,e){if(this.working&&e){var r=this.events,n=this.eventElements;r.forEach(function(r,i){var o=r.x,a=r.y;!n[i]&&e.isPointInPath&&e.isPointInPath(o,a)&&(n[i]=t)})}},t.prototype.checkBoundingBox=function(t,e){if(this.working&&e){var r=this.events,n=this.eventElements;r.forEach(function(r,i){var o=r.x,a=r.y;!n[i]&&e.isPointInBox(o,a)&&(n[i]=t)})}},t.prototype.mapXY=function(t,e){for(var r=this.screen,n=r.window,i=r.ctx,o=new vs(t,e),a=i.canvas;a;)o.x-=a.offsetLeft,o.y-=a.offsetTop,a=a.offsetParent;return n.scrollX&&(o.x+=n.scrollX),n.scrollY&&(o.y+=n.scrollY),o},t.prototype.onClick=function(t){var e=this.mapXY((t||event).clientX,(t||event).clientY),r=e.x,n=e.y;this.events.push({type:"onclick",x:r,y:n,run:function(t){t.onClick&&t.onClick()}})},t.prototype.onMouseMove=function(t){var e=this.mapXY((t||event).clientX,(t||event).clientY),r=e.x,n=e.y;this.events.push({type:"onmousemove",x:r,y:n,run:function(t){t.onMouseMove&&t.onMouseMove()}})},t}(),bs="undefined"!=typeof window?window:null,xs="undefined"!=typeof fetch?fetch.bind(void 0):null,ws=function(){function t(t,e){var r=void 0===e?{}:e,n=r.fetch,i=void 0===n?xs:n,o=r.window,a=void 0===o?bs:o;this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ys,this.mouse=new ms(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=a,this.fetch=i}return t.prototype.wait=function(t){this.waits.push(t)},t.prototype.ready=function(){return this.readyPromise?this.readyPromise:ma.resolve()},t.prototype.isReady=function(){if(this.isReadyLock)return!0;var t=this.waits.every(function(t){return t()});return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t},t.prototype.setDefaults=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4},t.prototype.setViewBox=function(t){var e=t.document,r=t.ctx,n=t.aspectRatio,i=t.width,o=t.desiredWidth,a=t.height,s=t.desiredHeight,u=t.minX,c=void 0===u?0:u,l=t.minY,h=void 0===l?0:l,f=t.refX,p=t.refY,g=t.clip,d=void 0!==g&&g,y=t.clipX,v=void 0===y?0:y,m=t.clipY,b=void 0===m?0:m,x=ir(n).replace(/^defer\s/,"").split(" "),w=x[0]||"xMidYMid",S=x[1]||"meet",A=i/o,T=a/s,E=Math.min(A,T),C=Math.max(A,T),O=o,P=s;"meet"===S&&(O*=E,P*=E),"slice"===S&&(O*=C,P*=C);var M=new ds(e,"refX",f),N=new ds(e,"refY",p),V=M.hasValue()&&N.hasValue();if(V&&r.translate(-E*M.getPixels("x"),-E*N.getPixels("y")),d){var _=E*v,R=E*b;r.beginPath(),r.moveTo(_,R),r.lineTo(i,R),r.lineTo(i,a),r.lineTo(_,a),r.closePath(),r.clip()}if(!V){var k="meet"===S&&E===T,I="slice"===S&&C===T,D="meet"===S&&E===A,L="slice"===S&&C===A;/^xMid/.test(w)&&(k||I)&&r.translate(i/2-O/2,0),/YMid$/.test(w)&&(D||L)&&r.translate(0,a/2-P/2),/^xMax/.test(w)&&(k||I)&&r.translate(i-O,0),/YMax$/.test(w)&&(D||L)&&r.translate(0,a-P)}switch(!0){case"none"===w:r.scale(A,T);break;case"meet"===S:r.scale(E,E);break;case"slice"===S:r.scale(C,C)}r.translate(-c,-h)},t.prototype.start=function(t,e){var r=this,n=void 0===e?{}:e,i=n.enableRedraw,o=void 0!==i&&i,a=n.ignoreMouse,s=void 0!==a&&a,u=n.ignoreAnimation,c=void 0!==u&&u,l=n.ignoreDimensions,h=void 0!==l&&l,f=n.ignoreClear,p=void 0!==f&&f,g=n.forceRedraw,d=n.scaleWidth,y=n.scaleHeight,v=n.offsetX,m=n.offsetY,b=this.FRAMERATE,x=this.mouse,w=1e3/b;if(this.frameDuration=w,this.readyPromise=new ma(function(t){r.resolveReady=t}),this.isReady()&&this.render(t,h,p,d,y,v,m),o){var S=Date.now(),A=S,T=0;s||x.start(),this.intervalId=us(function e(){S=Date.now(),(T=S-A)>=w&&(A=S-T%w,r.shouldUpdate(c,g)&&(r.render(t,h,p,d,y,v,m),n.renderFinished&&n.renderFinished(),x.runEvents())),r.intervalId=us(e)})}},t.prototype.stop=function(){this.intervalId&&(us.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()},t.prototype.shouldUpdate=function(t,e){if(!t){var r,n=this.frameDuration;if(Ca(r=this.animations).call(r,function(t,e){return e.update(n)||t},!1))return!0}return!("function"!=typeof e||!e())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())},t.prototype.render=function(t,e,r,n,i,o,a){var s=this,u=s.CLIENT_WIDTH,c=s.CLIENT_HEIGHT,l=s.viewPort,h=s.ctx,f=s.isFirstRender,p=h.canvas;l.clear(),p.width&&p.height?l.setCurrent(p.width,p.height):l.setCurrent(u,c);var g=t.getStyle("width"),d=t.getStyle("height");!e&&(f||"number"!=typeof n&&"number"!=typeof i)&&(g.hasValue()&&(p.width=g.getPixels("x"),p.style&&(p.style.width=p.width+"px")),d.hasValue()&&(p.height=d.getPixels("y"),p.style&&(p.style.height=p.height+"px")));var y=p.clientWidth||p.width,v=p.clientHeight||p.height;if(e&&g.hasValue()&&d.hasValue()&&(y=g.getPixels("x"),v=d.getPixels("y")),l.setCurrent(y,v),"number"==typeof o&&t.getAttribute("x",!0).setValue(o),"number"==typeof a&&t.getAttribute("y",!0).setValue(a),"number"==typeof n||"number"==typeof i){var m=sr(t.getAttribute("viewBox").getString()),b=0,x=0;if("number"==typeof n){var w=t.getStyle("width");w.hasValue()?b=w.getPixels("x")/n:isNaN(m[2])||(b=m[2]/n)}if("number"==typeof i){var S=t.getStyle("height");S.hasValue()?x=S.getPixels("y")/i:isNaN(m[3])||(x=m[3]/i)}b||(b=x),x||(x=b),t.getAttribute("width",!0).setValue(n),t.getAttribute("height",!0).setValue(i);var A=t.getStyle("transform",!0,!0);A.setValue(A.getString()+" scale("+1/b+", "+1/x+")")}r||h.clearRect(0,0,y,v),t.render(h),f&&(this.isFirstRender=!1)},t.defaultWindow=bs,t.defaultFetch=xs,t}(),Ss=ws.defaultFetch,As="undefined"!=typeof DOMParser?DOMParser:null,Ts=function(){function t(t){var e=void 0===t?{}:t,r=e.fetch,n=void 0===r?Ss:r,i=e.DOMParser,o=void 0===i?As:i;this.fetch=n,this.DOMParser=o}return t.prototype.parse=function(t){return Pr(this,void 0,void 0,function(){return Mr(this,function(e){return/^</.test(t)?[2,this.parseFromString(t)]:[2,this.load(t)]})})},t.prototype.parseFromString=function(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(r){return this.checkDocument(e.parseFromString(t,"text/xml"))}},t.prototype.checkDocument=function(t){var e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent);return t},t.prototype.load=function(t){return Pr(this,void 0,void 0,function(){var e;return Mr(this,function(r){switch(r.label){case 0:return[4,this.fetch(t)];case 1:return[4,r.sent().text()];case 2:return e=r.sent(),[2,this.parseFromString(e)]}})})},t}(),Es=function(t,e,r,n){try{return n?e(Ft(r)[0],r[1]):e(r)}catch(e){Vn(t,"throw",e)}},Cs=f.Array,Os=!Li(function(t){Array.from(t)});Gt({target:"Array",stat:!0,forced:Os},{from:function(t){var e=at(t),r=ye(this),n=arguments.length,i=n>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Dt(i,n>2?arguments[2]:void 0));var a,s,u,c,l,h,f=Pn(e),p=0;if(!f||this==Cs&&Cn(f))for(a=Kt(e),s=r?new this(a):Cs(a);a>p;p++)h=o?i(e[p],p):e[p],fn(s,p,h);else for(l=(c=Nn(e,f)).next,s=r?new this:[];!(u=S(l,c)).done;p++)h=o?Es(c,i,[u.value,p],!0):u.value,fn(s,p,h);return s.length=p,s}});var Ps=L.Array.from,Ms=Yr.includes;Gt({target:"Array",proto:!0},{includes:function(t){return Ms(this,t,arguments.length>1?arguments[1]:void 0)}});var Ns=Ce("Array").includes,Vs=o("".indexOf);Gt({target:"String",proto:!0,forced:!$e("includes")},{includes:function(t){return!!~Vs(Ve(k(this)),Ve(We(t)),arguments.length>1?arguments[1]:void 0)}});var _s=Ce("String").includes,Rs=Array.prototype,ks=String.prototype,Is=function(t){var e=t.includes;return t===Rs||a(Rs,t)&&e===Rs.includes?Ns:"string"==typeof t||t===ks||a(ks,t)&&e===ks.includes?_s:e},Ds=function(){function t(t,e){this.type="translate",this.point=null,this.point=vs.parse(e)}return t.prototype.apply=function(t){var e=this.point,r=e.x,n=e.y;t.translate(r||0,n||0)},t.prototype.unapply=function(t){var e=this.point,r=e.x,n=e.y;t.translate(-1*r||0,-1*n||0)},t.prototype.applyToPoint=function(t){var e=this.point,r=e.x,n=e.y;t.applyTransform([1,0,0,1,r||0,n||0])},t}(),Ls=function(){function t(t,e,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=sr(e);this.angle=new ds(t,"angle",n[0]),this.originX=r[0],this.originY=r[1],this.cx=n[1]||0,this.cy=n[2]||0}return t.prototype.apply=function(t){var e=this,r=e.cx,n=e.cy,i=e.originX,o=e.originY,a=e.angle,s=r+i.getPixels("x"),u=n+o.getPixels("y");t.translate(s,u),t.rotate(a.getRadians()),t.translate(-s,-u)},t.prototype.unapply=function(t){var e=this.cx,r=this.cy,n=this.angle;t.translate(e,r),t.rotate(-1*n.getRadians()),t.translate(-e,-r)},t.prototype.applyToPoint=function(t){var e=this.cx,r=this.cy,n=this.angle.getRadians();t.applyTransform([1,0,0,1,e||0,r||0]),t.applyTransform([Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n),0,0]),t.applyTransform([1,0,0,1,-e||0,-r||0])},t}(),Bs=function(){function t(t,e){this.type="scale",this.scale=null;var r=vs.parseScale(e);0!==r.x&&0!==r.y||(r.x=wr,r.y=wr),this.scale=r}return t.prototype.apply=function(t){var e=this.scale,r=e.x,n=e.y;t.scale(r,n||r)},t.prototype.unapply=function(t){var e=this.scale,r=e.x,n=e.y;t.scale(1/r,1/n||r)},t.prototype.applyToPoint=function(t){var e=this.scale,r=e.x,n=e.y;t.applyTransform([r||0,0,0,n||0,0,0])},t}(),Fs=function(){function t(t,e){this.type="matrix",this.matrix=[],this.matrix=sr(e)}return t.prototype.apply=function(t){var e=this.matrix;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},t.prototype.unapply=function(t){var e=this.matrix,r=e[0],n=e[2],i=e[4],o=e[1],a=e[3],s=e[5],u=1/(r*(1*a-0*s)-n*(1*o-0*s)+i*(0*o-0*a));t.transform(u*(1*a-0*s),u*(0*s-1*o),u*(0*i-1*n),u*(1*r-0*i),u*(n*s-i*a),u*(i*o-r*s))},t.prototype.applyToPoint=function(t){t.applyTransform(this.matrix)},t}(),zs=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.type="skew",n.angle=null,n.angle=new ds(e,"angle",r),n}return Cr(e,t),e}(Fs),js=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.type="skewX",n.matrix=[1,0,Math.tan(n.angle.getRadians()),1,0,0],n}return Cr(e,t),e}(zs),Hs=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.type="skewY",n.matrix=[1,Math.tan(n.angle.getRadians()),0,1,0,0],n}return Cr(e,t),e}(zs);var Us=function(){function t(e,r,n){var i=this;this.document=e,this.transforms=[],function(t){var e;return ps(e=ir(t)).call(e).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(r).forEach(function(e){if("none"!==e){var r=function(t){var e=t.split("("),r=e[0],n=e[1];return[ps(r).call(r),ps(n).call(n).replace(")","")]}(e),o=r[0],a=r[1],s=t.transformTypes[o];void 0!==s&&i.transforms.push(new s(i.document,a,n))}})}return t.fromElement=function(e,r){var n=r.getStyle("transform",!1,!0),i=r.getStyle("transform-origin",!1,!0).split(),o=i[0],a=i[1],s=[o,void 0===a?o:a];return n.hasValue()?new t(e,n.getString(),s):null},t.prototype.apply=function(t){for(var e=this.transforms,r=e.length,n=0;n<r;n++)e[n].apply(t)},t.prototype.unapply=function(t){for(var e=this.transforms,r=e.length-1;r>=0;r--)e[r].unapply(t)},t.prototype.applyToPoint=function(t){for(var e=this.transforms,r=e.length,n=0;n<r;n++)e[n].applyToPoint(t)},t.transformTypes={translate:Ds,rotate:Ls,scale:Bs,matrix:Fs,skewX:js,skewY:Hs},t}(),Xs=function(){function t(t,e,r){var n=this;if(void 0===r&&(r=!1),this.document=t,this.node=e,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],e&&1===e.nodeType){var i;if(Ps(e.attributes).forEach(function(e){var r=cr(e.nodeName);n.attributes[r]=new ds(t,r,e.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue())Me(i=this.getAttribute("style").getString().split(";")).call(i,function(t){return ps(t).call(t)}).forEach(function(e){var r;if(e){var i=Me(r=e.split(":")).call(r,function(t){return ps(t).call(t)}),o=i[0],a=i[1];n.styles[o]=new ds(t,o,a)}});var o=t.definitions,a=this.getAttribute("id");a.hasValue()&&(o[a.getValue()]||(o[a.getValue()]=this)),Ps(e.childNodes).forEach(function(e){if(1===e.nodeType)n.addChild(e);else if(r&&(3===e.nodeType||4===e.nodeType)){var i=t.createTextNode(e);i.getText().length>0&&n.addChild(i)}})}}return t.prototype.getAttribute=function(t,e){void 0===e&&(e=!1);var r=this.attributes[t];if(!r&&e){var n=new ds(this.document,t,"");return this.attributes[t]=n,n}return r||ds.empty(this.document)},t.prototype.getHrefAttribute=function(){for(var t in this.attributes)if("href"===t||/:href$/.test(t))return this.attributes[t];return ds.empty(this.document)},t.prototype.getStyle=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var n=this.styles[t];if(n)return n;var i=this.getAttribute(t);if(i&&i.hasValue())return this.styles[t]=i,i;if(!r){var o=this.parent;if(o){var a=o.getStyle(t);if(a&&a.hasValue())return a}}if(e){var s=new ds(this.document,t,"");return this.styles[t]=s,s}return n||ds.empty(this.document)},t.prototype.render=function(t){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){var e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if("none"!==this.getStyle("filter").getValue("none")){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(t),r.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},t.prototype.setContext=function(t){},t.prototype.applyEffects=function(t){var e=Us.fromElement(this.document,this);e&&e.apply(t);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var n=r.getDefinition();n&&n.apply(t)}},t.prototype.clearContext=function(t){},t.prototype.renderChildren=function(t){this.children.forEach(function(e){e.render(t)})},t.prototype.addChild=function(e){var r,n=e instanceof t?e:this.document.createElement(e);n.parent=this,Is(r=t.ignoreChildTypes).call(r,n.type)||this.children.push(n)},t.prototype.matchesSelector=function(t){var e=this.node;if("function"==typeof e.matches)return e.matches(t);var r=e.getAttribute("class");return!(!r||""===r)&&r.split(" ").some(function(e){if("."+e===t)return!0})},t.prototype.addStylesFromStyleDefinition=function(){var t=this.document,e=t.styles,r=t.stylesSpecificity;for(var n in e)if("@"!==n[0]&&this.matchesSelector(n)){var i=e[n],o=r[n];if(i)for(var a in i){var s=this.stylesSpecificity[a];void 0===s&&(s="000"),o>=s&&(this.styles[a]=i[a],this.stylesSpecificity[a]=o)}}},t.prototype.removeStyles=function(t,e){return Ca(e).call(e,function(e,r){var n=t.getStyle(r);if(!n.hasValue())return e;var i=n.getString();return n.setValue(""),function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(e,[[r,i]])},[])},t.prototype.restoreStyles=function(t,e){e.forEach(function(e){var r=e[0],n=e[1];t.getStyle(r,!0).setValue(n)})},t.ignoreChildTypes=["title"],t}(),Ys=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return Cr(e,t),e}(Xs),Gs=Yr.indexOf,qs=o([].indexOf),Ws=!!qs&&1/qs([1],1,-0)<0,Qs=wa("indexOf");Gt({target:"Array",proto:!0,forced:Ws||!Qs},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Ws?qs(this,t,e)||0:Gs(this,t,e)}});var $s=Ce("Array").indexOf,Zs=Array.prototype,Ks=function(t){var e=t.indexOf;return t===Zs||a(Zs,t)&&e===Zs.indexOf?$s:e},Js=o([].reverse),tu=[1,2];Gt({target:"Array",proto:!0,forced:String(tu)===String(tu.reverse())},{reverse:function(){return Jt(this)&&(this.length=this.length),Js(this)}});var eu=Ce("Array").reverse,ru=Array.prototype,nu=function(t){var e=t.reverse;return t===ru||a(ru,t)&&e===ru.reverse?eu:e};function iu(t){var e=ps(t).call(t);return/^('|")/.test(e)?e:'"'+e+'"'}function ou(t){if(!t)return"";var e=ps(t).call(t).toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function au(t){if(!t)return"";var e=ps(t).call(t).toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}var su=function(){function t(e,r,n,i,o,a){var s=a?"string"==typeof a?t.parse(a):a:{};this.fontFamily=o||s.fontFamily,this.fontSize=i||s.fontSize,this.fontStyle=e||s.fontStyle,this.fontWeight=n||s.fontWeight,this.fontVariant=r||s.fontVariant}return t.parse=function(e,r){var n;void 0===e&&(e="");var i="",o="",a="",s="",u="",c=ps(n=ir(e)).call(n).split(" "),l={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return c.forEach(function(e){var r,n,c;switch(!0){case!l.fontStyle&&Is(r=t.styles).call(r,e):"inherit"!==e&&(i=e),l.fontStyle=!0;break;case!l.fontVariant&&Is(n=t.variants).call(n,e):"inherit"!==e&&(o=e),l.fontStyle=!0,l.fontVariant=!0;break;case!l.fontWeight&&Is(c=t.weights).call(c,e):"inherit"!==e&&(a=e),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0;break;case!l.fontSize:"inherit"!==e&&(s=e.split("/")[0]),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0,l.fontSize=!0;break;default:"inherit"!==e&&(u+=e)}}),new t(i,o,a,s,u,r)},t.prototype.toString=function(){var t,e,r;return ps(t=[ou(this.fontStyle),this.fontVariant,au(this.fontWeight),this.fontSize,(e=this.fontFamily,"undefined"==typeof process?e:Me(r=ps(e).call(e).split(",")).call(r,iu).join(","))].join(" ")).call(t)},t.styles="normal|italic|oblique|inherit",t.variants="normal|small-caps|inherit",t.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",t}(),uu=function(){function t(t,e,r,n){void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===r&&(r=Number.NaN),void 0===n&&(n=Number.NaN),this.x1=t,this.y1=e,this.x2=r,this.y2=n,this.addPoint(t,e),this.addPoint(r,n)}return Object.defineProperty(t.prototype,"x",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.x2-this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.y2-this.y1},enumerable:!1,configurable:!0}),t.prototype.addPoint=function(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},t.prototype.addX=function(t){this.addPoint(t,null)},t.prototype.addY=function(t){this.addPoint(null,t)},t.prototype.addBoundingBox=function(t){if(t){var e=t.x1,r=t.y1,n=t.x2,i=t.y2;this.addPoint(e,r),this.addPoint(n,i)}},t.prototype.sumCubic=function(t,e,r,n,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*n+Math.pow(t,3)*i},t.prototype.bezierCurveAdd=function(t,e,r,n,i){var o=6*e-12*r+6*n,a=-3*e+9*r-9*n+3*i,s=3*r-3*e;if(0!==a){var u=Math.pow(o,2)-4*s*a;if(!(u<0)){var c=(-o+Math.sqrt(u))/(2*a);0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,r,n,i)):this.addY(this.sumCubic(c,e,r,n,i)));var l=(-o-Math.sqrt(u))/(2*a);0<l&&l<1&&(t?this.addX(this.sumCubic(l,e,r,n,i)):this.addY(this.sumCubic(l,e,r,n,i)))}}else{if(0===o)return;var h=-s/o;0<h&&h<1&&(t?this.addX(this.sumCubic(h,e,r,n,i)):this.addY(this.sumCubic(h,e,r,n,i)))}},t.prototype.addBezierCurve=function(t,e,r,n,i,o,a,s){this.addPoint(t,e),this.addPoint(a,s),this.bezierCurveAdd(!0,t,r,i,a),this.bezierCurveAdd(!1,e,n,o,s)},t.prototype.addQuadraticCurve=function(t,e,r,n,i,o){var a=t+2/3*(r-t),s=e+2/3*(n-e),u=a+1/3*(i-t),c=s+1/3*(o-e);this.addBezierCurve(t,e,a,u,s,c,i,o)},t.prototype.isPointInBox=function(t,e){var r=this.x1,n=this.y1,i=this.x2,o=this.y2;return r<=t&&t<=i&&n<=e&&e<=o},t}(),cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.modifiedEmSizeStack=!1,e}return Cr(e,t),e.prototype.calculateOpacity=function(){for(var t=1,e=this;e;){var r=e.getStyle("opacity",!1,!0);r.hasValue(!0)&&(t*=r.getNumber()),e=e.parent}return t},e.prototype.setContext=function(t,e){if(void 0===e&&(e=!1),!e){var r=this.getStyle("fill"),n=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),o=this.getStyle("stroke-opacity");if(r.isUrlDefinition())(a=r.getFillStyleDefinition(this,n))&&(t.fillStyle=a);else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor()),"inherit"!==(a=r.getColor())&&(t.fillStyle="none"===a?"rgba(0,0,0,0)":a)}if(n.hasValue()){var a=new ds(this.document,"fill",t.fillStyle).addOpacity(n).getColor();t.fillStyle=a}if(i.isUrlDefinition())(s=i.getFillStyleDefinition(this,o))&&(t.strokeStyle=s);else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor()),"inherit"!==(s=i.getString())&&(t.strokeStyle="none"===s?"rgba(0,0,0,0)":s)}if(o.hasValue()){var s=new ds(this.document,"stroke",t.strokeStyle).addOpacity(o).getString();t.strokeStyle=s}var u=this.getStyle("stroke-width");if(u.hasValue()){var c=u.getPixels();t.lineWidth=c||wr}var l=this.getStyle("stroke-linecap"),h=this.getStyle("stroke-linejoin"),f=this.getStyle("stroke-miterlimit"),p=this.getStyle("paint-order"),g=this.getStyle("stroke-dasharray"),d=this.getStyle("stroke-dashoffset");if(l.hasValue()&&(t.lineCap=l.getString()),h.hasValue()&&(t.lineJoin=h.getString()),f.hasValue()&&(t.miterLimit=f.getNumber()),p.hasValue()&&(t.paintOrder=p.getValue()),g.hasValue()&&"none"!==g.getString()){var y=sr(g.getString());void 0!==t.setLineDash?t.setLineDash(y):void 0!==t.webkitLineDash?t.webkitLineDash=y:void 0===t.mozDash||1===y.length&&0===y[0]||(t.mozDash=y);var v=d.getPixels();void 0!==t.lineDashOffset?t.lineDashOffset=v:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=v:void 0!==t.mozDashOffset&&(t.mozDashOffset=v)}}if(this.modifiedEmSizeStack=!1,void 0!==t.font){var m=this.getStyle("font"),b=this.getStyle("font-style"),x=this.getStyle("font-variant"),w=this.getStyle("font-weight"),S=this.getStyle("font-size"),A=this.getStyle("font-family"),T=new su(b.getString(),x.getString(),w.getString(),S.hasValue()?S.getPixels(!0)+"px":"",A.getString(),su.parse(m.getString(),t.font));b.setValue(T.fontStyle),x.setValue(T.fontVariant),w.setValue(T.fontWeight),S.setValue(T.fontSize),A.setValue(T.fontFamily),t.font=T.toString(),S.isPixels()&&(this.document.emSize=S.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())},e.prototype.clearContext=function(e){t.prototype.clearContext.call(this,e),this.modifiedEmSizeStack&&this.document.popEmSize()},e}(Xs),lu=function(t){function e(r,n,i){var o=this.constructor,a=t.call(this,r,n,o===e||i)||this;return a.type="text",a.x=0,a.y=0,a.measureCache=-1,a}return Cr(e,t),e.prototype.setContext=function(e,r){void 0===r&&(r=!1),t.prototype.setContext.call(this,e,r);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)},e.prototype.initializeCoordinates=function(t){this.x=this.getAttribute("x").getPixels("x"),this.y=this.getAttribute("y").getPixels("y");var e=this.getAttribute("dx"),r=this.getAttribute("dy");e.hasValue()&&(this.x+=e.getPixels("x")),r.hasValue()&&(this.y+=r.getPixels("y")),this.x+=this.getAnchorDelta(t,this,0)},e.prototype.getBoundingBox=function(t){var e=this;if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(t);var r=null;return this.children.forEach(function(n,i){var o=e.getChildBoundingBox(t,e,e,i);r?r.addBoundingBox(o):r=o}),r},e.prototype.getFontSize=function(){var t=this.document,e=this.parent,r=su.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(r)},e.prototype.getTElementBoundingBox=function(t){var e=this.getFontSize();return new uu(this.x,this.y-e,this.x+this.measureText(t),this.y)},e.prototype.getGlyph=function(t,e,r){var n=e[r],i=null;if(t.isArabic){var o=e.length,a=e[r-1],s=e[r+1],u="isolated";(0===r||" "===a)&&r<o-2&&" "!==s&&(u="terminal"),r>0&&" "!==a&&r<o-2&&" "!==s&&(u="medial"),r>0&&" "!==a&&(r===o-1||" "===s)&&(u="initial"),void 0!==t.glyphs[n]&&((i=t.glyphs[n][u])||"glyph"!==t.glyphs[n].type||(i=t.glyphs[n]))}else i=t.glyphs[n];return i||(i=t.missingGlyph),i},e.prototype.getText=function(){return""},e.prototype.getTextFromNode=function(t){var e=t||this.node,r=Ps(e.parentNode.childNodes),n=Ks(r).call(r,e),i=r.length-1,o=ir(e.value||e.text||e.textContent||"");return 0===n&&(o=or(o)),n===i&&(o=ar(o)),o},e.prototype.renderChildren=function(t){var e=this;if("text"===this.type){this.initializeCoordinates(t),this.children.forEach(function(r,n){e.renderChild(t,e,e,n)});var r=this.document.screen.mouse;r.isWorking()&&r.checkBoundingBox(this,this.getBoundingBox(t))}else this.renderTElementChildren(t)},e.prototype.renderTElementChildren=function(t){var e=this.document,r=this.parent,n=this.getText(),i=r.getStyle("font-family").getDefinition();if(i)for(var o,a=i.fontFace.unitsPerEm,s=su.parse(e.ctx.font),u=r.getStyle("font-size").getNumber(s.fontSize),c=r.getStyle("font-style").getString(s.fontStyle),l=u/a,h=i.isRTL?nu(o=n.split("")).call(o).join(""):n,f=sr(r.getAttribute("dx").getString()),p=h.length,g=0;g<p;g++){var d=this.getGlyph(i,h,g);t.translate(this.x,this.y),t.scale(l,-l);var y=t.lineWidth;t.lineWidth=t.lineWidth*a/u,"italic"===c&&t.transform(1,0,.4,1,0,0),d.render(t),"italic"===c&&t.transform(1,0,-.4,1,0,0),t.lineWidth=y,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=u*(d.horizAdvX||i.horizAdvX)/a,void 0===f[g]||isNaN(f[g])||(this.x+=f[g])}else{var v=this.x,m=this.y;"stroke"===t.paintOrder?(t.strokeStyle&&t.strokeText(n,v,m),t.fillStyle&&t.fillText(n,v,m)):(t.fillStyle&&t.fillText(n,v,m),t.strokeStyle&&t.strokeText(n,v,m))}},e.prototype.getAnchorDelta=function(t,e,r){var n=this.getStyle("text-anchor").getString("start");if("start"!==n){for(var i=e.children,o=i.length,a=null,s=0,u=r;u<o&&(a=i[u],!(u>r&&a.getAttribute("x").hasValue()||a.getAttribute("text-anchor").hasValue()));u++)s+=a.measureTextRecursive(t);return-1*("end"===n?s:s/2)}return 0},e.prototype.adjustChildCoordinates=function(t,e,r,n){var i=r.children[n];if("function"!=typeof i.measureText)return i;t.save(),i.setContext(t,!0);var o=i.getAttribute("x"),a=i.getAttribute("y"),s=i.getAttribute("dx"),u=i.getAttribute("dy"),c=i.getAttribute("text-anchor").getString("start");if(0===n&&"textNode"!==i.type&&(o.hasValue()||o.setValue(e.getAttribute("x").getValue("0")),a.hasValue()||a.setValue(e.getAttribute("y").getValue("0")),s.hasValue()||s.setValue(e.getAttribute("dx").getValue("0")),u.hasValue()||u.setValue(e.getAttribute("dy").getValue("0"))),o.hasValue()){if(i.x=o.getPixels("x")+e.getAnchorDelta(t,r,n),"start"!==c){var l=i.measureTextRecursive(t);i.x+=-1*("end"===c?l:l/2)}s.hasValue()&&(i.x+=s.getPixels("x"))}else{if("start"!==c){l=i.measureTextRecursive(t);e.x+=-1*("end"===c?l:l/2)}s.hasValue()&&(e.x+=s.getPixels("x")),i.x=e.x}return e.x=i.x+i.measureText(t),a.hasValue()?(i.y=a.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(e.y+=u.getPixels("y")),i.y=e.y),e.y=i.y,i.clearContext(t),t.restore(),i},e.prototype.getChildBoundingBox=function(t,e,r,n){var i=this.adjustChildCoordinates(t,e,r,n);if("function"!=typeof i.getBoundingBox)return null;var o=i.getBoundingBox(t);return o?(i.children.forEach(function(r,n){var a=e.getChildBoundingBox(t,e,i,n);o.addBoundingBox(a)}),o):null},e.prototype.renderChild=function(t,e,r,n){var i=this.adjustChildCoordinates(t,e,r,n);i.render(t),i.children.forEach(function(r,n){e.renderChild(t,e,i,n)})},e.prototype.measureTextRecursive=function(t){var e;return Ca(e=this.children).call(e,function(e,r){return e+r.measureTextRecursive(t)},this.measureText(t))},e.prototype.measureText=function(t){var e=this.measureCache;if(~e)return e;var r=this.getText(),n=this.measureTargetText(t,r);return this.measureCache=n,n},e.prototype.measureTargetText=function(t,e){if(!e.length)return 0;var r=this.parent,n=r.getStyle("font-family").getDefinition();if(n){for(var i,o=this.getFontSize(),a=n.isRTL?nu(i=e.split("")).call(i).join(""):e,s=sr(r.getAttribute("dx").getString()),u=a.length,c=0,l=0;l<u;l++){c+=(this.getGlyph(n,a,l).horizAdvX||n.horizAdvX)*o/n.fontFace.unitsPerEm,void 0===s[l]||isNaN(s[l])||(c+=s[l])}return c}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var h=t.measureText(e).width;return this.clearContext(t),t.restore(),h},e}(cu),hu=function(t){function e(r,n,i){var o=this.constructor,a=t.call(this,r,n,o===e||i)||this;return a.type="tspan",a.text=a.children.length>0?"":a.getTextFromNode(),a}return Cr(e,t),e.prototype.getText=function(){return this.text},e}(lu),fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="textNode",e}return Cr(e,t),e}(hu);Gt({target:"Array",proto:!0},{fill:function(t){for(var e=at(this),r=Kt(e),n=arguments.length,i=Ur(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,a=void 0===o?r:Ur(o,r);a>i;)e[i++]=t;return e}});var pu=Ce("Array").fill,gu=Array.prototype,du=function(t){var e=t.fill;return t===gu||a(gu,t)&&e===gu.fill?pu:e},yu=function(t,e){return(yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function vu(t,e){function r(){this.constructor=t}yu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function mu(t,e){var r=t[0],n=t[1];return[r*Math.cos(e)-n*Math.sin(e),r*Math.sin(e)+n*Math.cos(e)]}function bu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if("number"!=typeof t[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+typeof t[r]+" == typeof "+t[r]);return!0}var xu=Math.PI;function wu(t,e,r){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var n=t.rX,i=t.rY,o=t.x,a=t.y;n=Math.abs(t.rX),i=Math.abs(t.rY);var s=mu([(e-o)/2,(r-a)/2],-t.xRot/180*xu),u=s[0],c=s[1],l=Math.pow(u,2)/Math.pow(n,2)+Math.pow(c,2)/Math.pow(i,2);1<l&&(n*=Math.sqrt(l),i*=Math.sqrt(l)),t.rX=n,t.rY=i;var h=Math.pow(n,2)*Math.pow(c,2)+Math.pow(i,2)*Math.pow(u,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-h)/h)),p=n*c/i*f,g=-i*u/n*f,d=mu([p,g],t.xRot/180*xu);t.cX=d[0]+(e+o)/2,t.cY=d[1]+(r+a)/2,t.phi1=Math.atan2((c-g)/i,(u-p)/n),t.phi2=Math.atan2((-c-g)/i,(-u-p)/n),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*xu),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*xu),t.phi1*=180/xu,t.phi2*=180/xu}function Su(t,e,r){bu(t,e,r);var n=t*t+e*e-r*r;if(0>n)return[];if(0===n)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var i=Math.sqrt(n);return[[(t*r+e*i)/(t*t+e*e),(e*r-t*i)/(t*t+e*e)],[(t*r-e*i)/(t*t+e*e),(e*r+t*i)/(t*t+e*e)]]}var Au,Tu=Math.PI/180;function Eu(t,e,r){return(1-r)*t+r*e}function Cu(t,e,r,n){return t+Math.cos(n/180*xu)*e+Math.sin(n/180*xu)*r}function Ou(t,e,r,n){var i=e-t,o=r-e,a=3*i+3*(n-r)-6*o,s=6*(o-i),u=3*i;return Math.abs(a)<1e-6?[-u/s]:function(t,e,r){void 0===r&&(r=1e-6);var n=t*t/4-u/a;if(n<-r)return[];if(n<=r)return[-t/2];var i=Math.sqrt(n);return[-t/2-i,-t/2+i]}(s/a,0,1e-6)}function Pu(t,e,r,n,i){var o=1-i;return t*(o*o*o)+e*(3*o*o*i)+r*(3*o*i*i)+n*(i*i*i)}!function(t){function e(){return i(function(t,e,r){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=r),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=r),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=r),t.relative=!1),t})}function r(){var t=NaN,e=NaN,r=NaN,n=NaN;return i(function(i,o,a){return i.type&ku.SMOOTH_CURVE_TO&&(i.type=ku.CURVE_TO,t=isNaN(t)?o:t,e=isNaN(e)?a:e,i.x1=i.relative?o-t:2*o-t,i.y1=i.relative?a-e:2*a-e),i.type&ku.CURVE_TO?(t=i.relative?o+i.x2:i.x2,e=i.relative?a+i.y2:i.y2):(t=NaN,e=NaN),i.type&ku.SMOOTH_QUAD_TO&&(i.type=ku.QUAD_TO,r=isNaN(r)?o:r,n=isNaN(n)?a:n,i.x1=i.relative?o-r:2*o-r,i.y1=i.relative?a-n:2*a-n),i.type&ku.QUAD_TO?(r=i.relative?o+i.x1:i.x1,n=i.relative?a+i.y1:i.y1):(r=NaN,n=NaN),i})}function n(){var t=NaN,e=NaN;return i(function(r,n,i){if(r.type&ku.SMOOTH_QUAD_TO&&(r.type=ku.QUAD_TO,t=isNaN(t)?n:t,e=isNaN(e)?i:e,r.x1=r.relative?n-t:2*n-t,r.y1=r.relative?i-e:2*i-e),r.type&ku.QUAD_TO){t=r.relative?n+r.x1:r.x1,e=r.relative?i+r.y1:r.y1;var o=r.x1,a=r.y1;r.type=ku.CURVE_TO,r.x1=((r.relative?0:n)+2*o)/3,r.y1=((r.relative?0:i)+2*a)/3,r.x2=(r.x+2*o)/3,r.y2=(r.y+2*a)/3}else t=NaN,e=NaN;return r})}function i(t){var e=0,r=0,n=NaN,i=NaN;return function(o){if(isNaN(n)&&!(o.type&ku.MOVE_TO))throw new Error("path must start with moveto");var a=t(o,e,r,n,i);return o.type&ku.CLOSE_PATH&&(e=n,r=i),void 0!==o.x&&(e=o.relative?e+o.x:o.x),void 0!==o.y&&(r=o.relative?r+o.y:o.y),o.type&ku.MOVE_TO&&(n=e,i=r),a}}function o(t,e,r,n,o,a){return bu(t,e,r,n,o,a),i(function(i,s,u,c){var l=i.x1,h=i.x2,f=i.relative&&!isNaN(c),p=void 0!==i.x?i.x:f?0:s,g=void 0!==i.y?i.y:f?0:u;function d(t){return t*t}i.type&ku.HORIZ_LINE_TO&&0!==e&&(i.type=ku.LINE_TO,i.y=i.relative?0:u),i.type&ku.VERT_LINE_TO&&0!==r&&(i.type=ku.LINE_TO,i.x=i.relative?0:s),void 0!==i.x&&(i.x=i.x*t+g*r+(f?0:o)),void 0!==i.y&&(i.y=p*e+i.y*n+(f?0:a)),void 0!==i.x1&&(i.x1=i.x1*t+i.y1*r+(f?0:o)),void 0!==i.y1&&(i.y1=l*e+i.y1*n+(f?0:a)),void 0!==i.x2&&(i.x2=i.x2*t+i.y2*r+(f?0:o)),void 0!==i.y2&&(i.y2=h*e+i.y2*n+(f?0:a));var y=t*n-e*r;if(void 0!==i.xRot&&(1!==t||0!==e||0!==r||1!==n))if(0===y)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=ku.LINE_TO;else{var v=i.xRot*Math.PI/180,m=Math.sin(v),b=Math.cos(v),x=1/d(i.rX),w=1/d(i.rY),S=d(b)*x+d(m)*w,A=2*m*b*(x-w),T=d(m)*x+d(b)*w,E=S*n*n-A*e*n+T*e*e,C=A*(t*n+e*r)-2*(S*r*n+T*t*e),O=S*r*r-A*t*r+T*t*t,P=(Math.atan2(C,E-O)+Math.PI)%Math.PI/2,M=Math.sin(P),N=Math.cos(P);i.rX=Math.abs(y)/Math.sqrt(E*d(N)+C*M*N+O*d(M)),i.rY=Math.abs(y)/Math.sqrt(E*d(M)-C*M*N+O*d(N)),i.xRot=180*P/Math.PI}return void 0!==i.sweepFlag&&0>y&&(i.sweepFlag=+!i.sweepFlag),i})}t.ROUND=function(t){function e(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),bu(t),function(t){return void 0!==t.x1&&(t.x1=e(t.x1)),void 0!==t.y1&&(t.y1=e(t.y1)),void 0!==t.x2&&(t.x2=e(t.x2)),void 0!==t.y2&&(t.y2=e(t.y2)),void 0!==t.x&&(t.x=e(t.x)),void 0!==t.y&&(t.y=e(t.y)),void 0!==t.rX&&(t.rX=e(t.rX)),void 0!==t.rY&&(t.rY=e(t.rY)),t}},t.TO_ABS=e,t.TO_REL=function(){return i(function(t,e,r){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=r),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=r),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=r),t.relative=!0),t})},t.NORMALIZE_HVZ=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),i(function(n,i,o,a,s){if(isNaN(a)&&!(n.type&ku.MOVE_TO))throw new Error("path must start with moveto");return e&&n.type&ku.HORIZ_LINE_TO&&(n.type=ku.LINE_TO,n.y=n.relative?0:o),r&&n.type&ku.VERT_LINE_TO&&(n.type=ku.LINE_TO,n.x=n.relative?0:i),t&&n.type&ku.CLOSE_PATH&&(n.type=ku.LINE_TO,n.x=n.relative?a-i:a,n.y=n.relative?s-o:s),n.type&ku.ARC&&(0===n.rX||0===n.rY)&&(n.type=ku.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n})},t.NORMALIZE_ST=r,t.QT_TO_C=n,t.INFO=i,t.SANITIZE=function(t){void 0===t&&(t=0),bu(t);var e=NaN,r=NaN,n=NaN,o=NaN;return i(function(i,a,s,u,c){var l=Math.abs,h=!1,f=0,p=0;if(i.type&ku.SMOOTH_CURVE_TO&&(f=isNaN(e)?0:a-e,p=isNaN(r)?0:s-r),i.type&(ku.CURVE_TO|ku.SMOOTH_CURVE_TO)?(e=i.relative?a+i.x2:i.x2,r=i.relative?s+i.y2:i.y2):(e=NaN,r=NaN),i.type&ku.SMOOTH_QUAD_TO?(n=isNaN(n)?a:2*a-n,o=isNaN(o)?s:2*s-o):i.type&ku.QUAD_TO?(n=i.relative?a+i.x1:i.x1,o=i.relative?s+i.y1:i.y2):(n=NaN,o=NaN),i.type&ku.LINE_COMMANDS||i.type&ku.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&ku.CURVE_TO||i.type&ku.SMOOTH_CURVE_TO||i.type&ku.QUAD_TO||i.type&ku.SMOOTH_QUAD_TO){var g=void 0===i.x?0:i.relative?i.x:i.x-a,d=void 0===i.y?0:i.relative?i.y:i.y-s;f=isNaN(n)?void 0===i.x1?f:i.relative?i.x:i.x1-a:n-a,p=isNaN(o)?void 0===i.y1?p:i.relative?i.y:i.y1-s:o-s;var y=void 0===i.x2?0:i.relative?i.x:i.x2-a,v=void 0===i.y2?0:i.relative?i.y:i.y2-s;l(g)<=t&&l(d)<=t&&l(f)<=t&&l(p)<=t&&l(y)<=t&&l(v)<=t&&(h=!0)}return i.type&ku.CLOSE_PATH&&l(a-u)<=t&&l(s-c)<=t&&(h=!0),h?[]:i})},t.MATRIX=o,t.ROTATE=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),bu(t,e,r);var n=Math.sin(t),i=Math.cos(t);return o(i,n,-n,i,e-e*i+r*n,r-e*n-r*i)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),bu(t,e),o(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),bu(t,e),o(t,0,0,e,0,0)},t.SKEW_X=function(t){return bu(t),o(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return bu(t),o(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),bu(t),o(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),bu(t),o(1,0,0,-1,0,t)},t.A_TO_C=function(){return i(function(t,e,r){return ku.ARC===t.type?function(t,e,r){var n,i,o,a;t.cX||wu(t,e,r);for(var s=Math.min(t.phi1,t.phi2),u=Math.max(t.phi1,t.phi2)-s,c=Math.ceil(u/90),l=new Array(c),h=e,f=r,p=0;p<c;p++){var g=Eu(t.phi1,t.phi2,p/c),d=Eu(t.phi1,t.phi2,(p+1)/c),y=d-g,v=4/3*Math.tan(y*Tu/4),m=[Math.cos(g*Tu)-v*Math.sin(g*Tu),Math.sin(g*Tu)+v*Math.cos(g*Tu)],b=m[0],x=m[1],w=[Math.cos(d*Tu),Math.sin(d*Tu)],S=w[0],A=w[1],T=[S+v*Math.sin(d*Tu),A-v*Math.cos(d*Tu)],E=T[0],C=T[1];l[p]={relative:t.relative,type:ku.CURVE_TO};var O=function(e,r){var n=mu([e*t.rX,r*t.rY],t.xRot),i=n[0],o=n[1];return[t.cX+i,t.cY+o]};n=O(b,x),l[p].x1=n[0],l[p].y1=n[1],i=O(E,C),l[p].x2=i[0],l[p].y2=i[1],o=O(S,A),l[p].x=o[0],l[p].y=o[1],t.relative&&(l[p].x1-=h,l[p].y1-=f,l[p].x2-=h,l[p].y2-=f,l[p].x-=h,l[p].y-=f),h=(a=[l[p].x,l[p].y])[0],f=a[1]}return l}(t,t.relative?0:e,t.relative?0:r):t})},t.ANNOTATE_ARCS=function(){return i(function(t,e,r){return t.relative&&(e=0,r=0),ku.ARC===t.type&&wu(t,e,r),t})},t.CLONE=function(){return function(t){var e={};for(var r in t)e[r]=t[r];return e}},t.CALCULATE_BOUNDS=function(){var t=e(),o=n(),a=r(),s=i(function(e,r,n){var i=a(o(t(function(t){var e={};for(var r in t)e[r]=t[r];return e}(e))));function u(t){t>s.maxX&&(s.maxX=t),t<s.minX&&(s.minX=t)}function c(t){t>s.maxY&&(s.maxY=t),t<s.minY&&(s.minY=t)}if(i.type&ku.DRAWING_COMMANDS&&(u(r),c(n)),i.type&ku.HORIZ_LINE_TO&&u(i.x),i.type&ku.VERT_LINE_TO&&c(i.y),i.type&ku.LINE_TO&&(u(i.x),c(i.y)),i.type&ku.CURVE_TO){u(i.x),c(i.y);for(var l=0,h=Ou(r,i.x1,i.x2,i.x);l<h.length;l++)0<(O=h[l])&&1>O&&u(Pu(r,i.x1,i.x2,i.x,O));for(var f=0,p=Ou(n,i.y1,i.y2,i.y);f<p.length;f++)0<(O=p[f])&&1>O&&c(Pu(n,i.y1,i.y2,i.y,O))}if(i.type&ku.ARC){u(i.x),c(i.y),wu(i,r,n);for(var g=i.xRot/180*Math.PI,d=Math.cos(g)*i.rX,y=Math.sin(g)*i.rX,v=-Math.sin(g)*i.rY,m=Math.cos(g)*i.rY,b=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],x=b[0],w=b[1],S=function(t){var e=t[0],r=t[1],n=180*Math.atan2(r,e)/Math.PI;return n<x?n+360:n},A=0,T=Su(v,-d,0).map(S);A<T.length;A++)(O=T[A])>x&&O<w&&u(Cu(i.cX,d,v,O));for(var E=0,C=Su(m,-y,0).map(S);E<C.length;E++){var O;(O=C[E])>x&&O<w&&c(Cu(i.cY,y,m,O))}}return e});return s.minX=1/0,s.maxX=-1/0,s.minY=1/0,s.maxY=-1/0,s}}(Au||(Au={}));var Mu,Nu=function(){function t(){}return t.prototype.round=function(t){return this.transform(Au.ROUND(t))},t.prototype.toAbs=function(){return this.transform(Au.TO_ABS())},t.prototype.toRel=function(){return this.transform(Au.TO_REL())},t.prototype.normalizeHVZ=function(t,e,r){return this.transform(Au.NORMALIZE_HVZ(t,e,r))},t.prototype.normalizeST=function(){return this.transform(Au.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(Au.QT_TO_C())},t.prototype.aToC=function(){return this.transform(Au.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(Au.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(Au.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(Au.SCALE(t,e))},t.prototype.rotate=function(t,e,r){return this.transform(Au.ROTATE(t,e,r))},t.prototype.matrix=function(t,e,r,n,i,o){return this.transform(Au.MATRIX(t,e,r,n,i,o))},t.prototype.skewX=function(t){return this.transform(Au.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(Au.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(Au.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(Au.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(Au.ANNOTATE_ARCS())},t}(),Vu=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},_u=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},Ru=function(t){function e(){var e=t.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return vu(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,e){var r=this;void 0===e&&(e=[]);for(var n=function(t){e.push(t),r.curArgs.length=0,r.canParseCommandOrComma=!0},i=0;i<t.length;i++){var o=t[i],a=!(this.curCommandType!==ku.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),s=_u(o)&&("0"===this.curNumber&&"0"===o||a);if(!_u(o)||s)if("e"!==o&&"E"!==o)if("-"!==o&&"+"!==o||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==o||this.curNumberHasExp||this.curNumberHasDecimal||a){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===ku.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(u),this.curArgs.length===Iu[this.curCommandType]&&(ku.HORIZ_LINE_TO===this.curCommandType?n({type:ku.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):ku.VERT_LINE_TO===this.curCommandType?n({type:ku.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===ku.MOVE_TO||this.curCommandType===ku.LINE_TO||this.curCommandType===ku.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ku.MOVE_TO===this.curCommandType&&(this.curCommandType=ku.LINE_TO)):this.curCommandType===ku.CURVE_TO?n({type:ku.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ku.SMOOTH_CURVE_TO?n({type:ku.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ku.QUAD_TO?n({type:ku.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ku.ARC&&n({type:ku.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Vu(o))if(","===o&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==o&&"-"!==o&&"."!==o)if(s)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==o&&"Z"!==o)if("h"===o||"H"===o)this.curCommandType=ku.HORIZ_LINE_TO,this.curCommandRelative="h"===o;else if("v"===o||"V"===o)this.curCommandType=ku.VERT_LINE_TO,this.curCommandRelative="v"===o;else if("m"===o||"M"===o)this.curCommandType=ku.MOVE_TO,this.curCommandRelative="m"===o;else if("l"===o||"L"===o)this.curCommandType=ku.LINE_TO,this.curCommandRelative="l"===o;else if("c"===o||"C"===o)this.curCommandType=ku.CURVE_TO,this.curCommandRelative="c"===o;else if("s"===o||"S"===o)this.curCommandType=ku.SMOOTH_CURVE_TO,this.curCommandRelative="s"===o;else if("q"===o||"Q"===o)this.curCommandType=ku.QUAD_TO,this.curCommandRelative="q"===o;else if("t"===o||"T"===o)this.curCommandType=ku.SMOOTH_QUAD_TO,this.curCommandRelative="t"===o;else{if("a"!==o&&"A"!==o)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+".");this.curCommandType=ku.ARC,this.curCommandRelative="a"===o}else e.push({type:ku.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal="."===o}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return e},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(e,r){void 0===r&&(r=[]);for(var n=0,i=Object.getPrototypeOf(this).parse.call(this,e);n<i.length;n++){var o=i[n],a=t(o);Array.isArray(a)?r.push.apply(r,a):r.push(a)}return r}}})},e}(Nu),ku=function(t){function e(r){var n=t.call(this)||this;return n.commands="string"==typeof r?e.parse(r):r,n}return vu(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=Au.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var e=[],r=0,n=this.commands;r<n.length;r++){var i=t(n[r]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return this.commands=e,this},e.encode=function(t){return function(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var n=t[r];if(n.type===ku.CLOSE_PATH)e+="z";else if(n.type===ku.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===ku.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===ku.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===ku.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===ku.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ku.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ku.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===ku.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==ku.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}(t)},e.parse=function(t){var e=new Ru,r=[];return e.parse(t,r),e.finish(r),r},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(Nu),Iu=((Mu={})[ku.MOVE_TO]=2,Mu[ku.LINE_TO]=2,Mu[ku.HORIZ_LINE_TO]=1,Mu[ku.VERT_LINE_TO]=1,Mu[ku.CLOSE_PATH]=0,Mu[ku.QUAD_TO]=4,Mu[ku.SMOOTH_QUAD_TO]=2,Mu[ku.CURVE_TO]=6,Mu[ku.SMOOTH_CURVE_TO]=4,Mu[ku.ARC]=7,Mu),Du=function(t){function e(e){var r=t.call(this,e.replace(/[+-.]\s+/g,"-").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,""))||this;return r.control=null,r.start=null,r.current=null,r.command=null,r.commands=r.commands,r.i=-1,r.previousCommand=null,r.points=[],r.angles=[],r}return Cr(e,t),e.prototype.reset=function(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new vs(0,0),this.control=new vs(0,0),this.current=new vs(0,0),this.points=[],this.angles=[]},e.prototype.isEnd=function(){return this.i>=this.commands.length-1},e.prototype.next=function(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t},e.prototype.getPoint=function(t,e){void 0===t&&(t="x"),void 0===e&&(e="y");var r=new vs(this.command[t],this.command[e]);return this.makeAbsolute(r)},e.prototype.getAsControlPoint=function(t,e){var r=this.getPoint(t,e);return this.control=r,r},e.prototype.getAsCurrentPoint=function(t,e){var r=this.getPoint(t,e);return this.current=r,r},e.prototype.getReflectedControlPoint=function(){var t=this.previousCommand.type;if(t!==ku.CURVE_TO&&t!==ku.SMOOTH_CURVE_TO&&t!==ku.QUAD_TO&&t!==ku.SMOOTH_QUAD_TO)return this.current;var e=this.current,r=e.x,n=e.y,i=this.control,o=i.x,a=i.y;return new vs(2*r-o,2*n-a)},e.prototype.makeAbsolute=function(t){if(this.command.relative){var e=this.current,r=e.x,n=e.y;t.x+=r,t.y+=n}return t},e.prototype.addMarker=function(t,e,r){var n=this.points,i=this.angles;r&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=n[n.length-1].angleTo(r)),this.addMarkerAngle(t,e?e.angleTo(t):null)},e.prototype.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},e.prototype.getMarkerPoints=function(){return this.points},e.prototype.getMarkerAngles=function(){for(var t=this.angles,e=t.length,r=0;r<e;r++)if(!t[r])for(var n=r+1;n<e;n++)if(t[n]){t[r]=t[n];break}return t},e}(ku),Lu=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="path",i.pathParser=null,i.pathParser=new Du(i.getAttribute("d").getString()),i}return Cr(e,t),e.prototype.path=function(t){var e=this.pathParser,r=new uu;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case Du.MOVE_TO:this.pathM(t,r);break;case Du.LINE_TO:this.pathL(t,r);break;case Du.HORIZ_LINE_TO:this.pathH(t,r);break;case Du.VERT_LINE_TO:this.pathV(t,r);break;case Du.CURVE_TO:this.pathC(t,r);break;case Du.SMOOTH_CURVE_TO:this.pathS(t,r);break;case Du.QUAD_TO:this.pathQ(t,r);break;case Du.SMOOTH_QUAD_TO:this.pathT(t,r);break;case Du.ARC:this.pathA(t,r);break;case Du.CLOSE_PATH:this.pathZ(t,r)}return r},e.prototype.getBoundingBox=function(t){return this.path()},e.prototype.getMarkers=function(){var t=this.pathParser,e=t.getMarkerPoints(),r=t.getMarkerAngles();return Me(e).call(e,function(t,e){return[t,r[e]]})},e.prototype.renderChildren=function(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==e.getString("inherit")?du(t).call(t,e.getString()):du(t).call(t)),""!==t.strokeStyle&&t.stroke();var r=this.getMarkers();if(r){var n=r.length-1,i=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),a=this.getStyle("marker-end");if(i.isUrlDefinition()){var s=i.getDefinition(),u=r[0],c=u[0],l=u[1];s.render(t,c,l)}if(o.isUrlDefinition()){s=o.getDefinition();for(var h=1;h<n;h++){var f=r[h];c=f[0],l=f[1];s.render(t,c,l)}}if(a.isUrlDefinition()){s=a.getDefinition();var p=r[n];c=p[0],l=p[1];s.render(t,c,l)}}},e.pathM=function(t){var e=t.getAsCurrentPoint();return t.start=t.current,{point:e}},e.prototype.pathM=function(t,r){var n=this.pathParser,i=e.pathM(n).point,o=i.x,a=i.y;n.addMarker(i),r.addPoint(o,a),t&&t.moveTo(o,a)},e.pathL=function(t){return{current:t.current,point:t.getAsCurrentPoint()}},e.prototype.pathL=function(t,r){var n=this.pathParser,i=e.pathL(n),o=i.current,a=i.point,s=a.x,u=a.y;n.addMarker(a,o),r.addPoint(s,u),t&&t.lineTo(s,u)},e.pathH=function(t){var e=t.current,r=t.command,n=new vs((r.relative?e.x:0)+r.x,e.y);return t.current=n,{current:e,point:n}},e.prototype.pathH=function(t,r){var n=this.pathParser,i=e.pathH(n),o=i.current,a=i.point,s=a.x,u=a.y;n.addMarker(a,o),r.addPoint(s,u),t&&t.lineTo(s,u)},e.pathV=function(t){var e=t.current,r=t.command,n=new vs(e.x,(r.relative?e.y:0)+r.y);return t.current=n,{current:e,point:n}},e.prototype.pathV=function(t,r){var n=this.pathParser,i=e.pathV(n),o=i.current,a=i.point,s=a.x,u=a.y;n.addMarker(a,o),r.addPoint(s,u),t&&t.lineTo(s,u)},e.pathC=function(t){return{current:t.current,point:t.getPoint("x1","y1"),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}},e.prototype.pathC=function(t,r){var n=this.pathParser,i=e.pathC(n),o=i.current,a=i.point,s=i.controlPoint,u=i.currentPoint;n.addMarker(u,s,a),r.addBezierCurve(o.x,o.y,a.x,a.y,s.x,s.y,u.x,u.y),t&&t.bezierCurveTo(a.x,a.y,s.x,s.y,u.x,u.y)},e.pathS=function(t){return{current:t.current,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}},e.prototype.pathS=function(t,r){var n=this.pathParser,i=e.pathS(n),o=i.current,a=i.point,s=i.controlPoint,u=i.currentPoint;n.addMarker(u,s,a),r.addBezierCurve(o.x,o.y,a.x,a.y,s.x,s.y,u.x,u.y),t&&t.bezierCurveTo(a.x,a.y,s.x,s.y,u.x,u.y)},e.pathQ=function(t){return{current:t.current,controlPoint:t.getAsControlPoint("x1","y1"),currentPoint:t.getAsCurrentPoint()}},e.prototype.pathQ=function(t,r){var n=this.pathParser,i=e.pathQ(n),o=i.current,a=i.controlPoint,s=i.currentPoint;n.addMarker(s,a,a),r.addQuadraticCurve(o.x,o.y,a.x,a.y,s.x,s.y),t&&t.quadraticCurveTo(a.x,a.y,s.x,s.y)},e.pathT=function(t){var e=t.current,r=t.getReflectedControlPoint();return t.control=r,{current:e,controlPoint:r,currentPoint:t.getAsCurrentPoint()}},e.prototype.pathT=function(t,r){var n=this.pathParser,i=e.pathT(n),o=i.current,a=i.controlPoint,s=i.currentPoint;n.addMarker(s,a,a),r.addQuadraticCurve(o.x,o.y,a.x,a.y,s.x,s.y),t&&t.quadraticCurveTo(a.x,a.y,s.x,s.y)},e.pathA=function(t){var e=t.current,r=t.command,n=r.rX,i=r.rY,o=r.xRot,a=r.lArcFlag,s=r.sweepFlag,u=o*(Math.PI/180),c=t.getAsCurrentPoint(),l=new vs(Math.cos(u)*(e.x-c.x)/2+Math.sin(u)*(e.y-c.y)/2,-Math.sin(u)*(e.x-c.x)/2+Math.cos(u)*(e.y-c.y)/2),h=Math.pow(l.x,2)/Math.pow(n,2)+Math.pow(l.y,2)/Math.pow(i,2);h>1&&(n*=Math.sqrt(h),i*=Math.sqrt(h));var f=(a===s?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(i,2)-Math.pow(n,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(n,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(f)&&(f=0);var p=new vs(f*n*l.y/i,f*-i*l.x/n),g=new vs((e.x+c.x)/2+Math.cos(u)*p.x-Math.sin(u)*p.y,(e.y+c.y)/2+Math.sin(u)*p.x+Math.cos(u)*p.y),d=Tr([1,0],[(l.x-p.x)/n,(l.y-p.y)/i]),y=[(l.x-p.x)/n,(l.y-p.y)/i],v=[(-l.x-p.x)/n,(-l.y-p.y)/i],m=Tr(y,v);return Ar(y,v)<=-1&&(m=Math.PI),Ar(y,v)>=1&&(m=0),{currentPoint:c,rX:n,rY:i,sweepFlag:s,xAxisRotation:u,centp:g,a1:d,ad:m}},e.prototype.pathA=function(t,r){var n=this.pathParser,i=e.pathA(n),o=i.currentPoint,a=i.rX,s=i.rY,u=i.sweepFlag,c=i.xAxisRotation,l=i.centp,h=i.a1,f=i.ad,p=1-u?1:-1,g=h+p*(f/2),d=new vs(l.x+a*Math.cos(g),l.y+s*Math.sin(g));if(n.addMarkerAngle(d,g-p*Math.PI/2),n.addMarkerAngle(o,g-p*Math.PI),r.addPoint(o.x,o.y),t&&!isNaN(h)&&!isNaN(f)){var y=a>s?a:s,v=a>s?1:a/s,m=a>s?s/a:1;t.translate(l.x,l.y),t.rotate(c),t.scale(v,m),t.arc(0,0,y,h,h+f,Boolean(1-u)),t.scale(1/v,1/m),t.rotate(-c),t.translate(-l.x,-l.y)}},e.pathZ=function(t){t.current=t.start},e.prototype.pathZ=function(t,r){e.pathZ(this.pathParser),t&&r.x1!==r.x2&&r.y1!==r.y2&&t.closePath()},e}(cu),Bu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.root=!1,e}return Cr(e,t),e.prototype.setContext=function(e){var r=this.document,n=r.screen,i=r.window,o=e.canvas;if(n.setDefaults(e),o.style&&void 0!==e.font&&i&&void 0!==i.getComputedStyle){e.font=i.getComputedStyle(o).getPropertyValue("font");var a=new ds(r,"fontSize",su.parse(e.font).fontSize);a.hasValue()&&(r.rootEmSize=a.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var s=n.viewPort,u=s.width,c=s.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var l=this.getAttribute("refX"),h=this.getAttribute("refY"),f=this.getAttribute("viewBox"),p=f.hasValue()?sr(f.getString()):null,g=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),d=0,y=0,v=0,m=0;p&&(d=p[0],y=p[1]),this.root||(u=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y"),"marker"===this.type&&(v=d,m=y,d=0,y=0)),n.viewPort.setCurrent(u,c),this.node&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),t.prototype.setContext.call(this,e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),p&&(u=p[2],c=p[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:u,height:n.viewPort.height,desiredHeight:c,minX:d,minY:y,refX:l.getValue(),refY:h.getValue(),clip:g,clipX:v,clipY:m}),p&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(u,c))},e.prototype.clearContext=function(e){t.prototype.clearContext.call(this,e),this.document.screen.viewPort.removeCurrent()},e.prototype.resize=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=!1);var n=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),a=this.getAttribute("style"),s=n.getNumber(0),u=i.getNumber(0);if(r)if("string"==typeof r)this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(t),i.setValue(e),o.hasValue()||o.setValue("0 0 "+(s||t)+" "+(u||e)),a.hasValue()){var l=this.getStyle("width"),h=this.getStyle("height");l.hasValue()&&l.setValue(t+"px"),h.hasValue()&&h.setValue(e+"px")}},e}(cu),Fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e}return Cr(e,t),e.prototype.path=function(t){var e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),a=this.getAttribute("ry"),s=o.getPixels("x"),u=a.getPixels("y");if(o.hasValue()&&!a.hasValue()&&(u=s),a.hasValue()&&!o.hasValue()&&(s=u),s=Math.min(s,n/2),u=Math.min(u,i/2),t){var c=(Math.sqrt(2)-1)/3*4;t.beginPath(),i>0&&n>0&&(t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.bezierCurveTo(e+n-s+c*s,r,e+n,r+u-c*u,e+n,r+u),t.lineTo(e+n,r+i-u),t.bezierCurveTo(e+n,r+i-u+c*u,e+n-s+c*s,r+i,e+n-s,r+i),t.lineTo(e+s,r+i),t.bezierCurveTo(e+s-c*s,r+i,e,r+i-u+c*u,e,r+i-u),t.lineTo(e,r+u),t.bezierCurveTo(e,r+u-c*u,e+s-c*s,r,e+s,r),t.closePath())}return new uu(e,r,e+n,r+i)},e.prototype.getMarkers=function(){return null},e}(Lu),zu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return Cr(e,t),e.prototype.path=function(t){var e=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return t&&n>0&&(t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()),new uu(e-n,r-n,e+n,r+n)},e.prototype.getMarkers=function(){return null},e}(Lu),ju=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e}return Cr(e,t),e.prototype.path=function(t){var e=(Math.sqrt(2)-1)/3*4,r=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return t&&r>0&&n>0&&(t.beginPath(),t.moveTo(i+r,o),t.bezierCurveTo(i+r,o+e*n,i+e*r,o+n,i,o+n),t.bezierCurveTo(i-e*r,o+n,i-r,o+e*n,i-r,o),t.bezierCurveTo(i-r,o-e*n,i-e*r,o-n,i,o-n),t.bezierCurveTo(i+e*r,o-n,i+r,o-e*n,i+r,o),t.closePath()),new uu(i-r,o-n,i+r,o+n)},e.prototype.getMarkers=function(){return null},e}(Lu),Hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e}return Cr(e,t),e.prototype.getPoints=function(){return[new vs(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new vs(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]},e.prototype.path=function(t){var e=this.getPoints(),r=e[0],n=r.x,i=r.y,o=e[1],a=o.x,s=o.y;return t&&(t.beginPath(),t.moveTo(n,i),t.lineTo(a,s)),new uu(n,i,a,s)},e.prototype.getMarkers=function(){var t=this.getPoints(),e=t[0],r=t[1],n=e.angleTo(r);return[[e,n],[r,n]]},e}(Lu),Uu=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="polyline",i.points=[],i.points=vs.parsePath(i.getAttribute("points").getString()),i}return Cr(e,t),e.prototype.path=function(t){var e=this.points,r=e[0],n=r.x,i=r.y,o=new uu(n,i);return t&&(t.beginPath(),t.moveTo(n,i)),e.forEach(function(e){var r=e.x,n=e.y;o.addPoint(r,n),t&&t.lineTo(r,n)}),o},e.prototype.getMarkers=function(){var t=this.points,e=t.length-1,r=[];return t.forEach(function(n,i){i!==e&&r.push([n,n.angleTo(t[i+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r},e}(Lu),Xu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e}return Cr(e,t),e.prototype.path=function(e){var r=t.prototype.path.call(this,e),n=this.points[0],i=n.x,o=n.y;return e&&(e.lineTo(i,o),e.closePath()),r},e}(Uu),Yu=Ot.f;Gt({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=Yu(Ft(t),e);return!(r&&!r.configurable)&&delete t[e]}});var Gu=L.Reflect.deleteProperty,qu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pattern",e}return Cr(e,t),e.prototype.createPattern=function(t,e,r){var n=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new Bu(this.document,null);o.attributes.viewBox=new ds(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new ds(this.document,"width",n+"px"),o.attributes.height=new ds(this.document,"height",i+"px"),o.attributes.transform=new ds(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;var a=this.document.createCanvas(t.canvas.width,t.canvas.height),s=a.getContext("2d"),u=this.getAttribute("x"),c=this.getAttribute("y");u.hasValue()&&c.hasValue()&&s.translate(u.getPixels("x",!0),c.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Gu(this.styles,"fill-opacity");var l,h,f=JSON.parse(this.getAttribute("inverted").getValue()),p=this.getAttribute("scale").getValue();f?(l=-parseInt(a.width/(n*p)),h=0):(l=0,h=parseInt(a.height/(i*p)));for(var g=l;g<=h;g++)s.save(),f?o.attributes.x=new ds(this.document,"x",g*n):o.attributes.y=new ds(this.document,"y",g*i),o.render(s),s.restore();return t.createPattern(a,"repeat")},e}(Xs),Wu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e}return Cr(e,t),e.prototype.render=function(t,e,r){if(e){var n=e.x,i=e.y,o=this.getAttribute("orient").getValue("auto"),a=this.getAttribute("markerUnits").getValue("strokeWidth");t.translate(n,i),"auto"===o&&t.rotate(r),"strokeWidth"===a&&t.scale(t.lineWidth,t.lineWidth),t.save();var s=new Bu(this.document,null);s.type=this.type,s.attributes.viewBox=new ds(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.refX=new ds(this.document,"refX",this.getAttribute("refX").getValue()),s.attributes.refY=new ds(this.document,"refY",this.getAttribute("refY").getValue()),s.attributes.width=new ds(this.document,"width",this.getAttribute("markerWidth").getValue()),s.attributes.height=new ds(this.document,"height",this.getAttribute("markerHeight").getValue()),s.attributes.overflow=new ds(this.document,"overflow",this.getAttribute("overflow").getValue()),s.attributes.fill=new ds(this.document,"fill",this.getAttribute("fill").getColor("black")),s.attributes.stroke=new ds(this.document,"stroke",this.getAttribute("stroke").getValue("none")),s.children=this.children,s.render(t),t.restore(),"strokeWidth"===a&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===o&&t.rotate(-r),t.translate(-n,-i)}},e}(Xs),Qu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="defs",e}return Cr(e,t),e.prototype.render=function(){},e}(Xs),$u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="g",e}return Cr(e,t),e.prototype.getBoundingBox=function(t){var e=new uu;return this.children.forEach(function(r){e.addBoundingBox(r.getBoundingBox(t))}),e},e}(cu),Zu=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.attributesToInherit=["gradientUnits"],i.stops=[];var o=i,a=o.stops;return o.children.forEach(function(t){"stop"===t.type&&a.push(t)}),i}return Cr(e,t),e.prototype.getGradientUnits=function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")},e.prototype.createGradient=function(t,e,r){var n=this,i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var o=i.stops,a=this.getGradient(t,e);if(!a)return this.addParentOpacity(r,o[o.length-1].color);if(o.forEach(function(t){a.addColorStop(t.offset,n.addParentOpacity(r,t.color))}),this.getAttribute("gradientTransform").hasValue()){var s=this.document,u=s.screen,c=u.MAX_VIRTUAL_PIXELS,l=u.viewPort.viewPorts[0],h=new Fu(s,null);h.attributes.x=new ds(s,"x",-c/3),h.attributes.y=new ds(s,"y",-c/3),h.attributes.width=new ds(s,"width",c),h.attributes.height=new ds(s,"height",c);var f=new $u(s,null);f.attributes.transform=new ds(s,"transform",this.getAttribute("gradientTransform").getValue()),f.children=[h];var p=new Bu(s,null);p.attributes.x=new ds(s,"x",0),p.attributes.y=new ds(s,"y",0),p.attributes.width=new ds(s,"width",l.width),p.attributes.height=new ds(s,"height",l.height),p.children=[f];var g=s.createCanvas(l.width,l.height).getContext("2d");g.fillStyle=a,p.render(g)}return a},e.prototype.inheritStopContainer=function(t){var e=this;this.attributesToInherit.forEach(function(r){!e.getAttribute(r).hasValue()&&t.getAttribute(r).hasValue()&&e.getAttribute(r,!0).setValue(t.getAttribute(r).getValue())})},e.prototype.addParentOpacity=function(t,e){return t.hasValue()?new ds(this.document,"color",e).addOpacity(t).getColor():e},e}(Xs),Ku=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="linearGradient",i.attributesToInherit.push("x1","y1","x2","y2"),i}return Cr(e,t),e.prototype.getGradient=function(t,e){var r="objectBoundingBox"===this.getGradientUnits(),n=r?e.getBoundingBox(t):null;if(r&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=r?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=r?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=r?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),s=r?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===a&&o===s?null:t.createLinearGradient(i,o,a,s)},e}(Zu),Ju=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="radialGradient",i.attributesToInherit.push("cx","cy","r","fx","fy","fr"),i}return Cr(e,t),e.prototype.getGradient=function(t,e){var r="objectBoundingBox"===this.getGradientUnits(),n=e.getBoundingBox(t);if(r&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=r?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=r?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),a=i,s=o;this.getAttribute("fx").hasValue()&&(a=r?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(s=r?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=r?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return t.createRadialGradient(a,s,c,i,o,u)},e}(Zu),tc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.type="stop";var o=Math.max(0,Math.min(1,i.getAttribute("offset").getNumber())),a=i.getStyle("stop-opacity"),s=i.getStyle("stop-color",!0);return""===s.getString()&&s.setValue("#000"),a.hasValue()&&(s=s.addOpacity(a)),i.offset=o,i.color=s.getColor(),i}return Cr(e,t),e}(Xs),ec=Ce("Array").values,rc=Array.prototype,nc={DOMTokenList:!0,NodeList:!0},ic=function(t){var e=t.values;return t===rc||a(rc,t)&&e===rc.values||ut(nc,oe(t))?ec:e},oc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="animate",i.duration=0,i.initialValue=null,i.initialUnits="",i.removed=!1,i.frozen=!1,e.screen.animations.push(i),i.begin=i.getAttribute("begin").getMilliseconds(),i.maxDuration=i.begin+i.getAttribute("dur").getMilliseconds(),i.from=i.getAttribute("from"),i.to=i.getAttribute("to"),i.values=i.getAttribute("values"),ic(i).hasValue()&&ic(i).setValue(ic(i).getString().split(";")),i}return Cr(e,t),e.prototype.getProperty=function(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)},e.prototype.calcValue=function(){var t=this.initialUnits,e=this.getProgress(),r=e.progress,n=e.from,i=e.to,o=n.getNumber()+(i.getNumber()-n.getNumber())*r;return"%"===t&&(o*=100),""+o+t},e.prototype.update=function(t){var e=this.parent,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=r.getString();return!1}this.duration+=t;var i=!1;if(this.begin<this.duration){var o=this.calcValue(),a=this.getAttribute("type");if(a.hasValue())o=a.getString()+"("+o+")";r.setValue(o),i=!0}return i},e.prototype.getProgress=function(){var t=this.document,e=ic(this),r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var n=r.progress*(e.getValue().length-1),i=Math.floor(n),o=Math.ceil(n);r.from=new ds(t,"from",Ye(e.getValue()[i])),r.to=new ds(t,"to",Ye(e.getValue()[o])),r.progress=(n-i)/(o-i)}else r.from=this.from,r.to=this.to;return r},e}(Xs),ac=Be.trim,sc=f.parseInt,uc=f.Symbol,cc=uc&&uc.iterator,lc=/^[+-]?0x/i,hc=o(lc.exec),fc=8!==sc(_e+"08")||22!==sc(_e+"0x16")||cc&&!b(function(){sc(Object(cc))})?function(t,e){var r=ac(Ve(t));return sc(r,e>>>0||(hc(lc,r)?16:10))}:sc;Gt({global:!0,forced:parseInt!=fc},{parseInt:fc});var pc=L.parseInt,gc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="animateColor",e}return Cr(e,t),e.prototype.calcValue=function(){var t=this.getProgress(),e=t.progress,r=t.from,n=t.to,i=new gs(r.getColor()),o=new gs(n.getColor());if(i.ok&&o.ok){var a=i.r+(o.r-i.r)*e,s=i.g+(o.g-i.g)*e,u=i.b+(o.b-i.b)*e;return"rgb("+pc(a,10)+", "+pc(s,10)+", "+pc(u,10)+")"}return this.getAttribute("from").getColor()},e}(oc),dc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="animateTransform",e}return Cr(e,t),e.prototype.calcValue=function(){var t=this.getProgress(),e=t.progress,r=t.from,n=t.to,i=sr(r.getString()),o=sr(n.getString());return Me(i).call(i,function(t,r){return t+(o[r]-t)*e}).join(" ")},e}(oc),yc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.type="font",i.glyphs={},i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber();for(var o=e.definitions,a=0,s=i.children;a<s.length;a++){var u=s[a];switch(u.type){case"font-face":i.fontFace=u;var c=u.getStyle("font-family");c.hasValue()&&(o[c.getString()]=i);break;case"missing-glyph":i.missingGlyph=u;break;case"glyph":var l=u;l.arabicForm?(i.isRTL=!0,i.isArabic=!0,void 0===i.glyphs[l.unicode]&&(i.glyphs[l.unicode]={}),i.glyphs[l.unicode][l.arabicForm]=l):i.glyphs[l.unicode]=l}}return i}return Cr(e,t),e.prototype.render=function(){},e}(Xs),vc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="font-face",i.ascent=i.getAttribute("ascent").getNumber(),i.descent=i.getAttribute("descent").getNumber(),i.unitsPerEm=i.getAttribute("units-per-em").getNumber(),i}return Cr(e,t),e}(Xs),mc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="missing-glyph",e.horizAdvX=0,e}return Cr(e,t),e}(Lu),bc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="glyph",i.horizAdvX=i.getAttribute("horiz-adv-x").getNumber(),i.unicode=i.getAttribute("unicode").getString(),i.arabicForm=i.getAttribute("arabic-form").getString(),i}return Cr(e,t),e}(Lu),xc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tref",e}return Cr(e,t),e.prototype.getText=function(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return""},e}(lu),wc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.type="a";var o=r.childNodes,a=o[0],s=o.length>0&&Ps(o).every(function(t){return 3===t.nodeType});return i.hasText=s,i.text=s?i.getTextFromNode(a):"",i}return Cr(e,t),e.prototype.getText=function(){return this.text},e.prototype.renderChildren=function(e){if(this.hasText){t.prototype.renderChildren.call(this,e);var r=this.document,n=this.x,i=this.y,o=r.screen.mouse,a=new ds(r,"fontSize",su.parse(r.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new uu(n,i-a.getPixels("y"),n+this.measureText(e),i))}else if(this.children.length>0){var s=new $u(this.document,null);s.children=this.children,s.parent=this,s.render(e)}},e.prototype.onClick=function(){var t=this.document.window;t&&t.open(this.getHrefAttribute().getString())},e.prototype.onMouseMove=function(){this.document.ctx.canvas.style.cursor="pointer"},e}(lu),Sc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.type="image",i.loaded=!1;var o=i.getHrefAttribute().getString();if(!o)return i;var a=/\.svg$/.test(o);return e.images.push(i),a?i.loadSvg(o):i.loadImage(o),i.isSvg=a,i}return Cr(e,t),e.prototype.loadImage=function(t){return Pr(this,void 0,void 0,function(){var e,r;return Mr(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.document.createImage(t)];case 1:return e=n.sent(),this.image=e,[3,3];case 2:return r=n.sent(),console.error('Error while loading image "'+t+'":',r),[3,3];case 3:return this.loaded=!0,[2]}})})},e.prototype.loadSvg=function(t){return Pr(this,void 0,void 0,function(){var e,r;return Mr(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.document.fetch(t)];case 1:return[4,n.sent().text()];case 2:return e=n.sent(),this.image=e,[3,4];case 3:return r=n.sent(),console.error('Error while loading image "'+t+'":',r),[3,4];case 4:return this.loaded=!0,[2]}})})},e.prototype.renderChildren=function(t){var e=this.document,r=this.image,n=this.loaded,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(n&&r&&a&&s){if(t.save(),this.isSvg)e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:i,offsetY:o,scaleWidth:a,scaleHeight:s}).render();else{var u=this.image;t.translate(i,o),e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:u.width,height:s,desiredHeight:u.height}),this.loaded&&(void 0===u.complete||u.complete)&&t.drawImage(u,0,0)}t.restore()}},e.prototype.getBoundingBox=function(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new uu(t,e,t+r,e+n)},e}(cu),Ac=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="symbol",e}return Cr(e,t),e.prototype.render=function(t){},e}(cu),Tc=function(){function t(t){this.document=t,this.loaded=!1,t.fonts.push(this)}return t.prototype.load=function(t,e){return Pr(this,void 0,void 0,function(){var r,n,i,o;return Mr(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(r=this.document).canvg.parser.load(e)];case 1:return n=a.sent(),i=n.getElementsByTagName("font"),Ps(i).forEach(function(e){var n=r.createElement(e);r.definitions[t]=n}),[3,3];case 2:return o=a.sent(),console.error('Error while loading font "'+e+'":',o),[3,3];case 3:return this.loaded=!0,[2]}})})},t}(),Ec=function(t){function e(e,r,n){var i,o=t.call(this,e,r,n)||this;return o.type="style",ir(Me(i=Ps(r.childNodes)).call(i,function(t){return t.data}).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(function(t){var r=ps(t).call(t);if(r){var n=r.split("{"),i=n[0].split(","),o=n[1].split(";");i.forEach(function(t){var r=ps(t).call(t);if(r){var n=e.styles[r]||{};if(o.forEach(function(t){var r,i,o=Ks(t).call(t,":"),a=ps(r=t.substr(0,o)).call(r),s=ps(i=t.substr(o+1,t.length-o)).call(i);a&&s&&(n[a]=new ds(e,a,s))}),e.styles[r]=n,e.stylesSpecificity[r]=xr(r),"@font-face"===r){var i=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach(function(t){if(Ks(t).call(t,'format("svg")')>0){var r=lr(t);r&&new Tc(e).load(i,r)}})}}})}}),o}return Cr(e,t),e.parseExternalUrl=lr,e}(Xs),Cc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="use",e}return Cr(e,t),e.prototype.setContext=function(e){t.prototype.setContext.call(this,e);var r=this.getAttribute("x"),n=this.getAttribute("y");r.hasValue()&&e.translate(r.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))},e.prototype.path=function(t){var e=this.element;e&&e.path(t)},e.prototype.renderChildren=function(t){var e=this.document,r=this.element;if(r){var n=r;if("symbol"===r.type&&((n=new Bu(e,null)).attributes.viewBox=new ds(e,"viewBox",r.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new ds(e,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new ds(e,"overflow",r.getAttribute("overflow").getString()),n.children=r.children,r.styles.opacity=new ds(e,"opacity",this.calculateOpacity())),"svg"===n.type){var i=this.getStyle("width",!1,!0),o=this.getStyle("height",!1,!0);i.hasValue()&&(n.attributes.width=new ds(e,"width",i.getString())),o.hasValue()&&(n.attributes.height=new ds(e,"height",o.getString()))}var a=n.parent;n.parent=this,n.render(t),n.parent=a}},e.prototype.getBoundingBox=function(t){var e=this.element;return e?e.getBoundingBox(t):null},e.prototype.elementTransform=function(){var t=this.document,e=this.element;return Us.fromElement(t,e)},Object.defineProperty(e.prototype,"element",{get:function(){return this._element||(this._element=this.getHrefAttribute().getDefinition()),this._element},enumerable:!1,configurable:!0}),e}(cu);function Oc(t,e,r,n,i,o){return t[r*n*4+4*e+o]}function Pc(t,e,r,n,i,o,a){t[r*n*4+4*e+o]=a}function Mc(t,e,r){return t[e]*r}function Nc(t,e,r,n){return e+Math.cos(t)*r+Math.sin(t)*n}var Vc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;i.type="feColorMatrix";var o=sr(i.getAttribute("values").getString());switch(i.getAttribute("type").getString("matrix")){case"saturate":var a=o[0];o=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var s=o[0]*Math.PI/180;o=[Nc(s,.213,.787,-.213),Nc(s,.715,-.715,-.715),Nc(s,.072,-.072,.928),0,0,Nc(s,.213,-.213,.143),Nc(s,.715,.285,.14),Nc(s,.072,-.072,-.283),0,0,Nc(s,.213,-.213,-.787),Nc(s,.715,-.715,.715),Nc(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}return i.matrix=o,i.includeOpacity=i.getAttribute("includeOpacity").hasValue(),i}return Cr(e,t),e.prototype.apply=function(t,e,r,n,i){for(var o=this.includeOpacity,a=this.matrix,s=t.getImageData(0,0,n,i),u=0;u<i;u++)for(var c=0;c<n;c++){var l=Oc(s.data,c,u,n,0,0),h=Oc(s.data,c,u,n,0,1),f=Oc(s.data,c,u,n,0,2),p=Oc(s.data,c,u,n,0,3),g=Mc(a,0,l)+Mc(a,1,h)+Mc(a,2,f)+Mc(a,3,p)+Mc(a,4,1),d=Mc(a,5,l)+Mc(a,6,h)+Mc(a,7,f)+Mc(a,8,p)+Mc(a,9,1),y=Mc(a,10,l)+Mc(a,11,h)+Mc(a,12,f)+Mc(a,13,p)+Mc(a,14,1),v=Mc(a,15,l)+Mc(a,16,h)+Mc(a,17,f)+Mc(a,18,p)+Mc(a,19,1);o&&(g=d=y=0,v*=p/255),Pc(s.data,c,u,n,0,0,g),Pc(s.data,c,u,n,0,1,d),Pc(s.data,c,u,n,0,2,y),Pc(s.data,c,u,n,0,3,v)}t.clearRect(0,0,n,i),t.putImageData(s,0,0)},e}(Xs),_c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="mask",e}return Cr(e,t),e.prototype.apply=function(t,r){var n=this.document,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!a&&!s){var u=new uu;this.children.forEach(function(e){u.addBoundingBox(e.getBoundingBox(t))}),i=Math.floor(u.x1),o=Math.floor(u.y1),a=Math.floor(u.width),s=Math.floor(u.height)}var c=this.removeStyles(r,e.ignoreStyles),l=n.createCanvas(i+a,o+s),h=l.getContext("2d");n.screen.setDefaults(h),this.renderChildren(h),new Vc(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,i+a,o+s);var f=n.createCanvas(i+a,o+s),p=f.getContext("2d");n.screen.setDefaults(p),r.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=h.createPattern(l,"no-repeat"),p.fillRect(0,0,i+a,o+s),t.fillStyle=p.createPattern(f,"no-repeat"),t.fillRect(0,0,i+a,o+s),this.restoreStyles(r,c)},e.prototype.render=function(t){},e.ignoreStyles=["mask","transform","clip-path"],e}(Xs);Gt({target:"Reflect",stat:!0,sham:!Rr},{getPrototypeOf:function(t){return Lr(Ft(t))}});var Rc=L.Reflect.getPrototypeOf,kc=!b(function(){Reflect.apply(function(){})});Gt({target:"Reflect",stat:!0,forced:kc},{apply:function(t,e,r){return v(J(t),e,Ft(r))}});var Ic=L.Reflect.apply,Dc=function(){},Lc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="clipPath",e}return Cr(e,t),e.prototype.apply=function(t){var e=this.document,r=Rc(t),n=t.beginPath,i=t.closePath;r&&(r.beginPath=Dc,r.closePath=Dc),Ic(n,t,[]),this.children.forEach(function(n){if(void 0!==n.path){var o=void 0!==n.elementTransform?n.elementTransform():null;o||(o=Us.fromElement(e,n)),o&&o.apply(t),n.path(t),r&&(r.closePath=i),o&&o.unapply(t)}}),Ic(i,t,[]),t.clip(),r&&(r.beginPath=n,r.closePath=i)},e.prototype.render=function(t){},e}(Xs),Bc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="filter",e}return Cr(e,t),e.prototype.apply=function(t,r){var n=this.document,i=this.children,o=r.getBoundingBox(t);if(o){var a=0,s=0;i.forEach(function(t){var e=t.extraFilterDistance||0;a=Math.max(a,e),s=Math.max(s,e)});var u=Math.floor(o.width),c=Math.floor(o.height),l=u+2*a,h=c+2*s;if(!(l<1||h<1)){var f=Math.floor(o.x),p=Math.floor(o.y),g=this.removeStyles(r,e.ignoreStyles),d=n.createCanvas(l,h),y=d.getContext("2d");n.screen.setDefaults(y),y.translate(-f+a,-p+s),r.render(y),i.forEach(function(t){"function"==typeof t.apply&&t.apply(y,0,0,l,h)}),t.drawImage(d,0,0,l,h,f-a,p-s,l,h),this.restoreStyles(r,g)}}},e.prototype.render=function(t){},e.ignoreStyles=["filter","transform","clip-path"],e}(Xs),Fc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="feDropShadow",i.addStylesFromStyleDefinition(),i}return Cr(e,t),e.prototype.apply=function(t,e,r,n,i){},e}(Xs),zc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="feMorphology",e}return Cr(e,t),e.prototype.apply=function(t,e,r,n,i){},e}(Xs),jc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="feComposite",e}return Cr(e,t),e.prototype.apply=function(t,e,r,n,i){},e}(Xs);function Hc(t){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Uc=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Xc=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Yc(t,e,r,n,i,o){if(!(isNaN(o)||o<1)){o|=0;var a=function(t,e,r,n,i){if("string"==typeof t&&(t=document.getElementById(t)),!(t&&"object"===Hc(t)&&"getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=t.getContext("2d");try{return o.getImageData(e,r,n,i)}catch(t){throw new Error("unable to access image data: "+t)}}(t,e,r,n,i);a=function(t,e,r,n,i,o){for(var a,s=t.data,u=2*o+1,c=n-1,l=i-1,h=o+1,f=h*(h+1)/2,p=new Gc,g=p,d=1;d<u;d++)g=g.next=new Gc,d===h&&(a=g);g.next=p;for(var y=null,v=null,m=0,b=0,x=Uc[o],w=Xc[o],S=0;S<i;S++){g=p;for(var A=s[b],T=s[b+1],E=s[b+2],C=s[b+3],O=0;O<h;O++)g.r=A,g.g=T,g.b=E,g.a=C,g=g.next;for(var P=0,M=0,N=0,V=0,_=h*A,R=h*T,k=h*E,I=h*C,D=f*A,L=f*T,B=f*E,F=f*C,z=1;z<h;z++){var j=b+((c<z?c:z)<<2),H=s[j],U=s[j+1],X=s[j+2],Y=s[j+3],G=h-z;D+=(g.r=H)*G,L+=(g.g=U)*G,B+=(g.b=X)*G,F+=(g.a=Y)*G,P+=H,M+=U,N+=X,V+=Y,g=g.next}y=p,v=a;for(var q=0;q<n;q++){var W=F*x>>w;if(s[b+3]=W,0!==W){var Q=255/W;s[b]=(D*x>>w)*Q,s[b+1]=(L*x>>w)*Q,s[b+2]=(B*x>>w)*Q}else s[b]=s[b+1]=s[b+2]=0;D-=_,L-=R,B-=k,F-=I,_-=y.r,R-=y.g,k-=y.b,I-=y.a;var $=q+o+1;$=m+($<c?$:c)<<2,P+=y.r=s[$],M+=y.g=s[$+1],N+=y.b=s[$+2],V+=y.a=s[$+3],D+=P,L+=M,B+=N,F+=V,y=y.next;var Z=v,K=Z.r,J=Z.g,tt=Z.b,et=Z.a;_+=K,R+=J,k+=tt,I+=et,P-=K,M-=J,N-=tt,V-=et,v=v.next,b+=4}m+=n}for(var rt=0;rt<n;rt++){var nt=s[b=rt<<2],it=s[b+1],ot=s[b+2],at=s[b+3],st=h*nt,ut=h*it,ct=h*ot,lt=h*at,ht=f*nt,ft=f*it,pt=f*ot,gt=f*at;g=p;for(var dt=0;dt<h;dt++)g.r=nt,g.g=it,g.b=ot,g.a=at,g=g.next;for(var yt=n,vt=0,mt=0,bt=0,xt=0,wt=1;wt<=o;wt++){b=yt+rt<<2;var St=h-wt;ht+=(g.r=nt=s[b])*St,ft+=(g.g=it=s[b+1])*St,pt+=(g.b=ot=s[b+2])*St,gt+=(g.a=at=s[b+3])*St,xt+=nt,vt+=it,mt+=ot,bt+=at,g=g.next,wt<l&&(yt+=n)}b=rt,y=p,v=a;for(var At=0;At<i;At++){var Tt=b<<2;s[Tt+3]=at=gt*x>>w,at>0?(at=255/at,s[Tt]=(ht*x>>w)*at,s[Tt+1]=(ft*x>>w)*at,s[Tt+2]=(pt*x>>w)*at):s[Tt]=s[Tt+1]=s[Tt+2]=0,ht-=st,ft-=ut,pt-=ct,gt-=lt,st-=y.r,ut-=y.g,ct-=y.b,lt-=y.a,Tt=rt+((Tt=At+h)<l?Tt:l)*n<<2,ht+=xt+=y.r=s[Tt],ft+=vt+=y.g=s[Tt+1],pt+=mt+=y.b=s[Tt+2],gt+=bt+=y.a=s[Tt+3],y=y.next,st+=nt=v.r,ut+=it=v.g,ct+=ot=v.b,lt+=at=v.a,xt-=nt,vt-=it,mt-=ot,bt-=at,v=v.next,b+=n}}return t}(a,0,0,n,i,o),t.getContext("2d").putImageData(a,e,r)}}var Gc=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},qc=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.type="feGaussianBlur",i.blurRadius=Math.floor(i.getAttribute("stdDeviation").getNumber()),i.extraFilterDistance=i.blurRadius,i}return Cr(e,t),e.prototype.apply=function(t,e,r,n,i){var o=this.document,a=this.blurRadius,s=o.window?o.window.document.body:null,u=t.canvas;u.id=o.getUniqueId(),s&&(u.style.display="none",s.appendChild(u)),Yc(u,e,r,n,i,a),s&&s.removeChild(u)},e}(Xs),Wc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="title",e}return Cr(e,t),e}(Xs),Qc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="desc",e}return Cr(e,t),e}(Xs),$c={svg:Bu,rect:Fu,circle:zu,ellipse:ju,line:Hu,polyline:Uu,polygon:Xu,path:Lu,pattern:qu,marker:Wu,defs:Qu,linearGradient:Ku,radialGradient:Ju,stop:tc,animate:oc,animateColor:gc,animateTransform:dc,font:yc,"font-face":vc,"missing-glyph":mc,glyph:bc,text:lu,tspan:hu,tref:xc,a:wc,image:Sc,g:$u,symbol:Ac,style:Ec,use:Cc,mask:_c,clipPath:Lc,filter:Bc,feDropShadow:Fc,feMorphology:zc,feComposite:jc,feColorMatrix:Vc,feGaussianBlur:qc,title:Wc,desc:Qc};function Zc(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r}function Kc(t,e){return void 0===e&&(e=!1),Pr(this,void 0,void 0,function(){var r;return Mr(this,function(n){return r=document.createElement("img"),e&&(r.crossOrigin="Anonymous"),[2,new ma(function(e,n){r.onload=function(){e(r)},r.onerror=function(){n()},r.src=t})]})})}var Jc=function(){function t(e,r){var n=void 0===r?{}:r,i=n.rootEmSize,o=void 0===i?12:i,a=n.emSize,s=void 0===a?12:a,u=n.createCanvas,c=void 0===u?t.createCanvas:u,l=n.createImage,h=void 0===l?t.createImage:l,f=n.anonymousCrossOrigin;this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=o,this.emSize=s,this.createCanvas=c,this.createImage=this.bindCreateImage(h,f),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return t.prototype.bindCreateImage=function(t,e){return"boolean"==typeof e?function(r,n){return t(r,"boolean"==typeof n?n:e)}:t},Object.defineProperty(t.prototype,"window",{get:function(){return this.screen.window},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fetch",{get:function(){return this.screen.fetch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ctx",{get:function(){return this.screen.ctx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emSize",{get:function(){var t=this.emSizeStack;return t[t.length-1]},set:function(t){this.emSizeStack.push(t)},enumerable:!1,configurable:!0}),t.prototype.popEmSize=function(){this.emSizeStack.pop()},t.prototype.getUniqueId=function(){return"canvg"+ ++this.uniqueId},t.prototype.isImagesLoaded=function(){return this.images.every(function(t){return t.loaded})},t.prototype.isFontsLoaded=function(){return this.fonts.every(function(t){return t.loaded})},t.prototype.createDocumentElement=function(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e},t.prototype.createElement=function(e){var r=e.nodeName.replace(/^[^:]+:/,""),n=t.elementTypes[r];return"image"==r&&(this.hasImage=!0),void 0!==n?new n(this,e):new Ys(this,e)},t.prototype.createTextNode=function(t){return new fu(this,t)},t.prototype.setViewBox=function(t){this.screen.setViewBox(Or({document:this},t))},t.createCanvas=Zc,t.createImage=Kc,t.elementTypes=$c,t}(),tl=function(){function t(t,e,r){void 0===r&&(r={}),this.parser=new Ts(r),this.screen=new ws(t,r),this.options=r;var n=new Jc(this,r),i=n.createDocumentElement(e);this.document=n,this.documentElement=i}return t.from=function(e,r,n){return void 0===n&&(n={}),Pr(this,void 0,void 0,function(){var i;return Mr(this,function(o){switch(o.label){case 0:return[4,new Ts(n).parse(r)];case 1:return i=o.sent(),[2,new t(e,i,n)]}})})},t.fromString=function(e,r,n){return void 0===n&&(n={}),new t(e,new Ts(n).parseFromString(r),n)},t.prototype.fork=function(e,r,n){return void 0===n&&(n={}),t.from(e,r,Or(Or({},this.options),n))},t.prototype.forkString=function(e,r,n){return void 0===n&&(n={}),t.fromString(e,r,Or(Or({},this.options),n))},t.prototype.ready=function(){return this.screen.ready()},t.prototype.isReady=function(){return this.screen.isReady()},t.prototype.render=function(t){return void 0===t&&(t={}),Pr(this,void 0,void 0,function(){return Mr(this,function(e){switch(e.label){case 0:return this.start(Or({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},t)),[4,this.ready()];case 1:return e.sent(),this.stop(),[2]}})})},t.prototype.start=function(t){void 0===t&&(t={});var e=this.documentElement,r=this.screen,n=this.options;r.start(e,Or(Or({enableRedraw:!0},n),t)),e.document.hasImage||n.renderFinished&&n.renderFinished()},t.prototype.stop=function(){this.screen.stop()},t.prototype.resize=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=!1),this.documentElement.resize(t,e,r)},t}();var el=Object.freeze({__proto__:null,offscreen:function(t){var e=(void 0===t?{}:t).DOMParser,r={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas:function(t,e){return new OffscreenCanvas(t,e)},createImage:function(t){return Pr(this,void 0,void 0,function(){var e;return Mr(this,function(r){switch(r.label){case 0:return[4,fetch(t)];case 1:return[4,r.sent().blob()];case 2:return e=r.sent(),[4,createImageBitmap(e)];case 3:return[2,r.sent()]}})})}};return"undefined"==typeof DOMParser&&void 0!==e||Gu(r,"DOMParser"),r},node:function(t){var e=t.DOMParser,r=t.canvas;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:t.fetch,createCanvas:r.createCanvas,createImage:r.loadImage}}});t.AElement=wc,t.AnimateColorElement=gc,t.AnimateElement=oc,t.AnimateTransformElement=dc,t.BoundingBox=uu,t.CB1=function(t){return t*t*t},t.CB2=function(t){return 3*t*t*(1-t)},t.CB3=function(t){return 3*t*(1-t)*(1-t)},t.CB4=function(t){return(1-t)*(1-t)*(1-t)},t.Canvg=tl,t.CircleElement=zu,t.ClipPathElement=Lc,t.DefsElement=Qu,t.DescElement=Qc,t.Document=Jc,t.Element=Xs,t.EllipseElement=ju,t.FeColorMatrixElement=Vc,t.FeCompositeElement=jc,t.FeDropShadowElement=Fc,t.FeGaussianBlurElement=qc,t.FeMorphologyElement=zc,t.FilterElement=Bc,t.Font=su,t.FontElement=yc,t.FontFaceElement=vc,t.GElement=$u,t.GlyphElement=bc,t.GradientElement=Zu,t.ImageElement=Sc,t.LineElement=Hu,t.LinearGradientElement=Ku,t.MarkerElement=Wu,t.MaskElement=_c,t.Matrix=Fs,t.MissingGlyphElement=mc,t.Mouse=ms,t.PSEUDO_ZERO=wr,t.Parser=Ts,t.PathElement=Lu,t.PathParser=Du,t.PatternElement=qu,t.Point=vs,t.PolygonElement=Xu,t.PolylineElement=Uu,t.Property=ds,t.QB1=function(t){return t*t},t.QB2=function(t){return 2*t*(1-t)},t.QB3=function(t){return(1-t)*(1-t)},t.RadialGradientElement=Ju,t.RectElement=Fu,t.RenderedElement=cu,t.Rotate=Ls,t.SVGElement=Bu,t.SVGFontLoader=Tc,t.Scale=Bs,t.Screen=ws,t.Skew=zs,t.SkewX=js,t.SkewY=Hs,t.StopElement=tc,t.StyleElement=Ec,t.SymbolElement=Ac,t.TRefElement=xc,t.TSpanElement=hu,t.TextElement=lu,t.TitleElement=Wc,t.Transform=Us,t.Translate=Ds,t.UnknownElement=Ys,t.UseElement=Cc,t.ViewPort=ys,t.compressSpaces=ir,t.default=tl,t.getSelectorSpecificity=xr,t.normalizeAttributeName=cr,t.normalizeColor=hr,t.parseExternalUrl=lr,t.presets=el,t.toNumbers=sr,t.trimLeft=or,t.trimRight=ar,t.vectorMagnitude=Sr,t.vectorsAngle=Tr,t.vectorsRatio=Ar,Object.defineProperty(t,"__esModule",{value:!0})});m2soft.crownix.Viewer.version='8.1.0.166';